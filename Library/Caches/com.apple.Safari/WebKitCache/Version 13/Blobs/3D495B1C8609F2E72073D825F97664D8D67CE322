function dean_addEvent(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else{n.$$guid||(n.$$guid=dean_addEvent.guid++),t.events||(t.events={});var i=t.events[e];i||(i=t.events[e]={},t["on"+e]&&(i[0]=t["on"+e])),i[n.$$guid]=n,t["on"+e]=handleEvent}}function removeEvent(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.events&&t.events[e]&&delete t.events[e][n.$$guid]}function handleEvent(t){var e=!0;t=t||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var n=this.events[t.type];for(var i in n)this.$$handleEvent=n[i],!1===this.$$handleEvent(t)&&(e=!1);return e}function fixEvent(t){return t.preventDefault=fixEvent.preventDefault,t.stopPropagation=fixEvent.stopPropagation,t}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(k,t){function s(t){var e=!!t&&"length"in t&&t.length,n=pt.type(t);return"function"!==n&&!pt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,i){if(pt.isFunction(n))return pt.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return pt.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(kt.test(n))return pt.filter(n,t,i);n=pt.filter(n,t)}return pt.grep(t,function(t){return-1<pt.inArray(t,n)!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var n={};return pt.each(t.match(Dt)||[],function(t,e){n[e]=!0}),n}function r(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",o),k.removeEventListener("load",o)):(it.detachEvent("onreadystatechange",o),k.detachEvent("onload",o))}function o(){(it.addEventListener||"load"===k.event.type||"complete"===it.readyState)&&(r(),pt.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Lt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:It.test(n)?pt.parseJSON(n):n)}catch(r){}pt.data(t,e,n)}else n=undefined}return n}function u(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function i(t,e,n,i){if(Pt(t)){var r,o,a=pt.expando,s=t.nodeType,l=s?pt.cache:t,u=s?t[a]:t[a]&&a;if(u&&l[u]&&(i||l[u].data)||n!==undefined||"string"!=typeof e)return u||(u=s?t[a]=nt.pop()||pt.guid++:a),l[u]||(l[u]=s?{}:{toJSON:pt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[u]=pt.extend(l[u],e):l[u].data=pt.extend(l[u].data,e)),o=l[u],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[pt.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[pt.camelCase(e)]):r=o,r}}function a(t,e,n){if(Pt(t)){var i,r,o=t.nodeType,a=o?pt.cache:t,s=o?t[pt.expando]:pt.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){r=(e=pt.isArray(e)?e.concat(pt.map(e,pt.camelCase)):e in i?[e]:(e=pt.camelCase(e))in i?[e]:e.split(" ")).length;for(;r--;)delete i[e[r]];if(n?!u(i):!pt.isEmptyObject(i))return}(n||(delete a[s].data,u(a[s])))&&(o?pt.cleanData([t],!0):dt.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function d(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return pt.css(t,e,"")},l=s(),u=n&&n[3]||(pt.cssNumber[e]?"":"px"),c=(pt.cssNumber[e]||"px"!==u&&+l)&&jt.exec(pt.css(t,e));if(c&&c[3]!==u)for(u=u||c[3],n=n||[],c=+l||1;c/=o=o||".5",pt.style(t,e,c+u),o!==(o=s()/l)&&1!==o&&--a;);return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function g(t){var e=Yt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||pt.nodeName(i,e)?o.push(i):pt.merge(o,v(i,e));return e===undefined||e&&pt.nodeName(t,e)?pt.merge([t],o):o}function y(t,e){for(var n,i=0;null!=(n=t[i]);i++)pt._data(n,"globalEval",!e||pt._data(e[i],"globalEval"))}function b(t){Ut.test(t.type)&&(t.defaultChecked=t.checked)}function m(t,e,n,i,r){for(var o,a,s,l,u,c,d,h=t.length,p=g(e),f=[],m=0;m<h;m++)if((a=t[m])||0===a)if("object"===pt.type(a))pt.merge(f,a.nodeType?[a]:a);else if(Kt.test(a)){for(l=l||p.appendChild(e.createElement("div")),u=(Ht.exec(a)||["",""])[1].toLowerCase(),d=Gt[u]||Gt._default,l.innerHTML=d[1]+pt.htmlPrefilter(a)+d[2],o=d[0];o--;)l=l.lastChild;if(!dt.leadingWhitespace&&Vt.test(a)&&f.push(e.createTextNode(Vt.exec(a)[0])),!dt.tbody)for(o=(a="table"!==u||Xt.test(a)?"<table>"!==d[1]||Xt.test(a)?0:l:l.firstChild)&&a.childNodes.length;o--;)pt.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(pt.merge(f,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=p.lastChild}else f.push(e.createTextNode(a));for(l&&p.removeChild(l),dt.appendChecked||pt.grep(v(f,"input"),b),m=0;a=f[m++];)if(i&&-1<pt.inArray(a,i))r&&r.push(a);else if(s=pt.contains(a.ownerDocument,a),l=v(p.appendChild(a),"script"),s&&y(l),n)for(o=0;a=l[o++];)Wt.test(a.type||"")&&n.push(a);return l=null,p}function h(){return!0}function p(){return!1}function f(){try{return it.activeElement}catch(t){}}function w(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)w(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=p;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return pt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,i,n)})}function _(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function x(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function C(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function S(t,e){if(1===e.nodeType&&pt.hasData(t)){var n,i,r,o=pt._data(t),a=pt._data(e,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,r=s[n].length;i<r;i++)pt.event.add(e,n,s[n][i]);a.data&&(a.data=pt.extend({},a.data))}}function T(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[pt.expando]){for(i in(r=pt._data(e)).events)pt.removeEvent(e,i,r.handle);e.removeAttribute(pt.expando)}"script"===n&&e.text!==t.text?(x(e).text=t.text,C(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ut.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function $(n,i,r,o){i=ot.apply([],i);var t,e,a,s,l,u,c=0,d=n.length,h=d-1,p=i[0],f=pt.isFunction(p);if(f||1<d&&"string"==typeof p&&!dt.checkClone&&ae.test(p))return n.each(function(t){var e=n.eq(t);f&&(i[0]=p.call(this,t,e.html())),$(e,i,r,o)});if(d&&(t=(u=m(i,n[0].ownerDocument,!1,n,o)).firstChild,1===u.childNodes.length&&(u=t),t||o)){for(a=(s=pt.map(v(u,"script"),x)).length;c<d;c++)e=u,c!==h&&(e=pt.clone(e,!0,!0),a&&pt.merge(s,v(e,"script"))),r.call(n[c],e,c);if(a)for(l=s[s.length-1].ownerDocument,pt.map(s,C),c=0;c<a;c++)e=s[c],Wt.test(e.type||"")&&!pt._data(e,"globalEval")&&pt.contains(l,e)&&(e.src?pt._evalUrl&&pt._evalUrl(e.src):pt.globalEval((e.text||e.textContent||e.innerHTML||"").replace(le,"")));u=t=null}return n}function E(t,e,n){for(var i,r=e?pt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pt.cleanData(v(i)),i.parentNode&&(n&&pt.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return t}function A(t,e){var n=pt(e.createElement(t)).appendTo(e.body),i=pt.css(n[0],"display");return n.detach(),i}function D(t){var e=it,n=de[t];return n||("none"!==(n=A(t,e))&&n||((e=((ce=(ce||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ce[0].contentDocument).document).write(),e.close(),n=A(t,e),ce.detach()),de[t]=n),n}function M(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function P(t){if(t in Te)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Se.length;n--;)if((t=Se[n]+e)in Te)return t}function I(t,e){for(var n,i,r,o=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(o[a]=pt._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&qt(i)&&(o[a]=pt._data(i,"olddisplay",D(i.nodeName)))):(r=qt(i),(n&&"none"!==n||!r)&&pt._data(i,"olddisplay",r?n:pt.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function L(t,e,n){var i=xe.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function O(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=pt.css(t,n+zt[o],!0,r)),i?("content"===n&&(a-=pt.css(t,"padding"+zt[o],!0,r)),"margin"!==n&&(a-=pt.css(t,"border"+zt[o]+"Width",!0,r))):(a+=pt.css(t,"padding"+zt[o],!0,r),"padding"!==n&&(a+=pt.css(t,"border"+zt[o]+"Width",!0,r)));return a}function F(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ge(t),a=dt.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=ve(t,e,o))<0||null==r)&&(r=t.style[e]),pe.test(r))return r;i=a&&(dt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+O(t,e,n||(a?"border":"content"),i,o)+"px"}function N(t,e,n,i,r){return new N.prototype.init(t,e,n,i,r)}function R(){return k.setTimeout(function(){$e=undefined}),$e=pt.now()}function j(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=zt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function z(t,e,n){for(var i,r=(U.tweeners[e]||[]).concat(U.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function q(e,t,n){var i,r,o,a,s,l,u,c=this,d={},h=e.style,p=e.nodeType&&qt(e),f=pt._data(e,"fxshow");for(i in n.queue||(null==(s=pt._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,pt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(u=pt.css(e,"display"))?pt._data(e,"olddisplay")||D(e.nodeName):u)&&"none"===pt.css(e,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",dt.shrinkWrapBlocks()||c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(r=t[i],Le.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||f[i]===undefined)continue;p=!0}d[i]=f&&f[i]||pt.style(e,i)}else u=undefined;if(pt.isEmptyObject(d))"inline"===("none"===u?D(e.nodeName):u)&&(h.display=u);else for(i in f?"hidden"in f&&(p=f.hidden):f=pt._data(e,"fxshow",{}),o&&(f.hidden=!p),p?pt(e).show():c.done(function(){pt(e).hide()}),c.done(function(){var t;for(t in pt._removeData(e,"fxshow"),d)pt.style(e,t,d[t])}),d)a=z(p?f[i]:0,i,c),i in f||(f[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function B(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=pt.camelCase(n)],o=t[n],pt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=pt.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function U(o,t,e){var n,a,i=0,r=U.prefilters.length,s=pt.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=$e||R(),e=Math.max(0,u.startTime+u.duration-t),n=1-(e/u.duration||0),i=0,r=u.tweens.length;i<r;i++)u.tweens[i].run(n);return s.notifyWith(o,[u,n,e]),n<1&&r?e:(s.resolveWith(o,[u]),!1)},u=s.promise({elem:o,props:pt.extend({},t),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},e),originalProperties:t,originalOptions:e,startTime:$e||R(),duration:e.duration,tweens:[],createTween:function(t,e){var n=pt.Tween(o,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var e=0,n=t?u.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)u.tweens[e].run(1);return t?(s.notifyWith(o,[u,1,0]),s.resolveWith(o,[u,t])):s.rejectWith(o,[u,t]),this}}),c=u.props;for(B(c,u.opts.specialEasing);i<r;i++)if(n=U.prefilters[i].call(u,o,c,u.opts))return pt.isFunction(n.stop)&&(pt._queueHooks(u.elem,u.opts.queue).stop=pt.proxy(n.stop,n)),n;return pt.map(c,z,u),pt.isFunction(u.opts.start)&&u.opts.start.call(o,u),pt.fx.timer(pt.extend(l,{elem:o,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(t){return pt.attr(t,"class")||""}function W(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(Dt)||[];if(pt.isFunction(e))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function V(e,r,o,a){function s(t){var i;return l[t]=!0,pt.each(e[t]||[],function(t,e){var n=e(r,o,a);return"string"!=typeof n||u||l[n]?u?!(i=n):void 0:(r.dataTypes.unshift(n),s(n),!1)}),i}var l={},u=e===an;return s(r.dataTypes[0])||!l["*"]&&s("*")}function Y(t,e){var n,i,r=pt.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&pt.extend(!0,t,n),t}function G(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),r===undefined&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function K(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function X(t){return t.style&&t.style.display||pt.css(t,"display")}function J(t){if(!pt.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===X(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(n,t,i,r){var e;if(pt.isArray(t))pt.each(t,function(t,e){i||dn.test(n)?r(n,e):Q(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==pt.type(t))r(n,t);else for(e in t)Q(n+"["+e+"]",t[e],i,r)}function Z(){try{return new k.XMLHttpRequest}catch(t){}}function tt(){try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=k.document,rt=nt.slice,ot=nt.concat,at=nt.push,st=nt.indexOf,lt={},ut=lt.toString,ct=lt.hasOwnProperty,dt={},ht="1.12.4",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ht,constructor:pt,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(n){return this.pushStack(pt.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},pt.extend=pt.fn.extend=function(t){var e,n,i,r,o,a,s=t||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[l]||{},l++),"object"==typeof s||pt.isFunction(s)||(s={}),l===u&&(s=this,l--);l<u;l++)if(null!=(o=arguments[l]))for(r in o)e=s[r],s!==(i=o[r])&&(c&&i&&(pt.isPlainObject(i)||(n=pt.isArray(i)))?(a=n?(n=!1,e&&pt.isArray(e)?e:[]):e&&pt.isPlainObject(e)?e:{},s[r]=pt.extend(c,a,i)):i!==undefined&&(s[r]=i));return s},pt.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!dt.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return e===undefined||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ut.call(t)]||"object":typeof t},globalEval:function(t){t&&pt.trim(t)&&(k.execScript||function(t){k.eval.call(k,t)})(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(s(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return ot.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),pt.isFunction(t)?(n=rt.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(rt.call(arguments)))}).guid=t.guid=t.guid||pt.guid++,i):undefined},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=nt[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=function(n){function w(t,e,n,i){var r,o,a,s,l,u,c,d,h=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:z)!==P&&M(e),e=e||P,L)){if(11!==p&&(u=vt.exec(t)))if(r=u[1]){if(9===p){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(h&&(a=h.getElementById(r))&&R(e,a)&&a.id===r)return n.push(a),n}else{if(u[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&v.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(v.qsa&&!W[t+" "]&&(!O||!O.test(t))){if(1!==p)h=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,"\\$&"):e.setAttribute("id",s=j),o=(c=S(t)).length,l=ht.test(s)?"#"+s:"[id='"+s+"']";o--;)c[o]=l+" "+g(c[o]);d=c.join(","),h=yt.test(t)&&m(e.parentNode)||e}if(d)try{return Q.apply(n,h.querySelectorAll(d)),n}catch(f){}finally{s===j&&e.removeAttribute("id")}}}return $(t.replace(st,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>x.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[j]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=e}function u(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(a){return l(function(o){return o=+o,l(function(t,e){for(var n,i=a([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function m(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function s(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(s,t,e){var l=t.dir,u=e&&"parentNode"===l,c=B++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||u)return s(t,e,n)}:function(t,e,n){var i,r,o,a=[q,c];if(n){for(;t=t[l];)if((1===t.nodeType||u)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||u){if((i=(r=(o=t[j]||(t[j]={}))[t.uniqueID]||(o[t.uniqueID]={}))[l])&&i[0]===q&&i[1]===c)return a[2]=i[2];if((r[l]=a)[2]=s(t,e,n))return!0}}}function h(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function y(t,e,n){for(var i=0,r=e.length;i<r;i++)w(t,e[i],n);return n}function _(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function b(p,f,m,g,v,t){return g&&!g[j]&&(g=b(g)),v&&!v[j]&&(v=b(v,t)),l(function(t,e,n,i){var r,o,a,s=[],l=[],u=e.length,c=t||y(f||"*",n.nodeType?[n]:n,[]),d=!p||!t&&f?c:_(c,s,p,n,i),h=m?v||(t?p:u||g)?[]:e:d;if(m&&m(d,h,n,i),g)for(r=_(h,l),g(r,[],n,i),o=r.length;o--;)(a=r[o])&&(h[l[o]]=!(d[l[o]]=a));if(t){if(v||p){if(v){for(r=[],o=h.length;o--;)(a=h[o])&&r.push(d[o]=a);v(null,h=[],r,i)}for(o=h.length;o--;)(a=h[o])&&-1<(r=v?tt(t,a):s[o])&&(t[r]=!(e[r]=a))}}else h=_(h===e?h.splice(u,h.length):h),v?v(null,e,h,i):Q.apply(e,h)})}function p(t){for(var r,e,n,i=t.length,o=x.relative[t[0].type],a=o||x.relative[" "],s=o?1:0,l=d(function(t){return t===r},a,!0),u=d(function(t){return-1<tt(r,t)},a,!0),c=[function(t,e,n){var i=!o&&(n||e!==E)||((r=e).nodeType?l(t,e,n):u(t,e,n));return r=null,i}];s<i;s++)if(e=x.relative[t[s].type])c=[d(h(c),e)];else{if((e=x.filter[t[s].type].apply(null,t[s].matches))[j]){for(n=++s;n<i&&!x.relative[t[n].type];n++);return b(1<s&&h(c),1<s&&g(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&p(t.slice(s,n)),n<i&&p(t=t.slice(n)),n<i&&g(t))}c.push(e)}return h(c)}function c(g,v){var y=0<v.length,b=0<g.length,t=function(t,e,n,i,r){var o,a,s,l=0,u="0",c=t&&[],d=[],h=E,p=t||b&&x.find.TAG("*",r),f=q+=null==h?1:Math.random()||.1,m=p.length;for(r&&(E=e===P||e||r);u!==m&&null!=(o=p[u]);u++){if(b&&o){for(a=0,e||o.ownerDocument===P||(M(o),n=!L);s=g[a++];)if(s(o,e||P,n)){i.push(o);break}r&&(q=f)}y&&((o=!s&&o)&&l--,t&&c.push(o))}if(l+=u,y&&u!==l){for(a=0;s=v[a++];)s(c,d,e,n);if(t){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=X.call(i));d=_(d)}Q.apply(i,d),r&&!t&&0<d.length&&1<l+v.length&&w.uniqueSort(i)}return r&&(q=f,E=h),c};return y?l(t):t}var f,v,x,k,C,S,T,$,E,A,D,M,P,I,L,O,F,N,R,j="sizzle"+1*new Date,z=n.document,q=0,B=0,U=t(),H=t(),W=t(),V=function(t,e){return t===e&&(D=!0),0},Y=1<<31,G={}.hasOwnProperty,K=[],X=K.pop,J=K.push,Q=K.push,Z=K.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ht=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){M()};try{Q.apply(K=Z.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch(kt){Q={apply:K.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(f in v=w.support={},C=w.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},M=w.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==P&&9===i.nodeType&&i.documentElement&&(I=(P=i).documentElement,L=!C(P),(n=P.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),v.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=r(function(t){return t.appendChild(P.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=gt.test(P.getElementsByClassName),v.getById=r(function(t){return I.appendChild(t).id=j,!P.getElementsByName||!P.getElementsByName(j).length}),v.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var n=t.replace(wt,_t);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),x.find.TAG=v.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},x.find.CLASS=v.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&L)return e.getElementsByClassName(t)},F=[],O=[],(v.qsa=gt.test(P.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+j+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||O.push(".#.+[+~]")}),r(function(t){var e=P.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(v.matchesSelector=gt.test(N=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){v.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),F.push("!=",ot)}),O=O.length&&new RegExp(O.join("|")),F=F.length&&new RegExp(F.join("|")),e=gt.test(I.compareDocumentPosition),R=e||gt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===P||t.ownerDocument===z&&R(z,t)?-1:e===P||e.ownerDocument===z&&R(z,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===P?-1:e===P?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return u(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?u(a[i],s[i]):a[i]===z?-1:s[i]===z?1:0}),P},w.matches=function(t,e){return w(t,null,null,e)},w.matchesSelector=function(t,e){if((t.ownerDocument||t)!==P&&M(t),e=e.replace(ct,"='$1']"),v.matchesSelector&&L&&!W[e+" "]&&(!F||!F.test(e))&&(!O||!O.test(e)))try{var n=N.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(kt){}return 0<w(e,P,null,[t]).length},w.contains=function(t,e){return(t.ownerDocument||t)!==P&&M(t),R(t,e)},w.attr=function(t,e){(t.ownerDocument||t)!==P&&M(t);var n=x.attrHandle[e.toLowerCase()],i=n&&G.call(x.attrHandle,e.toLowerCase())?n(t,e,!L):undefined;return i!==undefined?i:v.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},w.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},w.uniqueSort=function(t){var e,n=[],i=0,r=0;if(D=!v.detectDuplicates,A=!v.sortStable&&t.slice(0),t.sort(V),D){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},k=w.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},(x=w.selectors={cacheLength:50,createPseudo:l,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||w.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&w.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=w.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(at," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,t,e,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),b="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,a,s,l,u=v!==y?"nextSibling":"previousSibling",c=t.parentNode,d=b&&t.nodeName.toLowerCase(),h=!n&&!b,p=!1;if(c){if(v){for(;u;){for(a=t;a=a[u];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?c.firstChild:c.lastChild],y&&h){for(p=(s=(i=(r=(o=(a=c)[j]||(a[j]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===q&&i[1])&&i[2],
a=s&&c.childNodes[s];a=++s&&a&&a[u]||(p=s=0)||l.pop();)if(1===a.nodeType&&++p&&a===t){r[f]=[q,s,p];break}}else if(h&&(p=s=(i=(r=(o=(a=t)[j]||(a[j]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]||[])[0]===q&&i[1]),!1===p)for(;(a=++s&&a&&a[u]||(p=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++p||(h&&((r=(o=a[j]||(a[j]={}))[a.uniqueID]||(o[a.uniqueID]={}))[f]=[q,p]),a!==t)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(t,o){var e,a=x.pseudos[t]||x.setFilters[t.toLowerCase()]||w.error("unsupported pseudo: "+t);return a[j]?a(o):1<a.length?(e=[t,t,"",o],x.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=a(t,o),r=i.length;r--;)t[n=tt(t,i[r])]=!(e[n]=i[r])}):function(t){return a(t,0,e)}):a}},pseudos:{not:l(function(t){var i=[],r=[],s=T(t.replace(st,"$1"));return s[j]?l(function(t,e,n,i){for(var r,o=s(t,null,i,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),i[0]=null,!r.pop()}}),has:l(function(e){return function(t){return 0<w(e,t).length}}),contains:l(function(e){return e=e.replace(wt,_t),function(t){return-1<(t.textContent||t.innerText||k(t)).indexOf(e)}}),lang:l(function(n){return ht.test(n||"")||w.error("unsupported lang: "+n),n=n.replace(wt,_t).toLowerCase(),function(t){var e;do{if(e=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===I},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[f]=i(f);for(f in{submit:!0,reset:!0})x.pseudos[f]=o(f);return s.prototype=x.filters=x.pseudos,x.setFilters=new s,S=w.tokenize=function(t,e){var n,i,r,o,a,s,l,u=H[t+" "];if(u)return e?0:u.slice(0);for(a=t,s=[],l=x.preFilter;a;){for(o in n&&!(i=lt.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=ut.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(st," ")}),a=a.slice(n.length)),x.filter)!(i=pt[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?w.error(t):H(t,s).slice(0)},T=w.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)(o=p(e[n]))[j]?i.push(o):r.push(o);(o=W(t,c(r,i))).selector=t}return o},$=w.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,c=!i&&S(t=u.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&v.getById&&9===e.nodeType&&L&&x.relative[o[1].type]){if(!(e=(x.find.ID(a.matches[0].replace(wt,_t),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(wt,_t),yt.test(o[0].type)&&m(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&g(o)))return Q.apply(n,i),n;break}}return(u||T(t,c))(i,e,!L,n,!e||yt.test(t)&&m(e.parentNode)||e),n},v.sortStable=j.split("").sort(V).join("")===j,v.detectDuplicates=!!D,M(),v.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),w}(k);pt.find=yt,pt.expr=yt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=yt.uniqueSort,pt.text=yt.getText,pt.isXMLDoc=yt.isXML,pt.contains=yt.contains;var bt=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},_t=pt.expr.match.needsContext,xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,kt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?pt.find.matchesSelector(i,t)?[i]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<r;e++)if(pt.contains(i[e],this))return!0}));for(e=0;e<r;e++)pt.find(t,i[e],n);return(n=this.pushStack(1<r?pt.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&_t.test(t)?pt(t):t||[],!1).length}});var Ct,St=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(pt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Ct,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(pt):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this));if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:St.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),xt.test(i[1])&&pt.isPlainObject(e))for(i in e)pt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=it.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return Ct.find(t);this.length=1,this[0]=r}return this.context=it,this.selector=t,this}).prototype=pt.fn,Ct=pt(it);var Tt=/^(?:parents|prev(?:Until|All))/,$t={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,n=pt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(pt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=_t.test(t)||"string"!=typeof t?pt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&pt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(i,r){pt.fn[i]=function(t,e){var n=pt.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=pt.filter(e,n)),1<this.length&&($t[i]||(n=pt.uniqueSort(n)),Tt.test(i)&&(n=n.reverse())),this.pushStack(n)}});var Et,At,Dt=/\S+/g;for(At in pt.Callbacks=function(i){i="string"==typeof i?c(i):pt.extend({},i);var r,t,e,n,o=[],a=[],s=-1,l=function(){for(n=i.once,e=r=!0;a.length;s=-1)for(t=a.shift();++s<o.length;)!1===o[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=o.length,t=!1);i.memory||(t=!1),r=!1,n&&(o=t?[]:"")},u={add:function(){return o&&(t&&!r&&(s=o.length-1,a.push(t)),function n(t){pt.each(t,function(t,e){pt.isFunction(e)?i.unique&&u.has(e)||o.push(e):e&&e.length&&"string"!==pt.type(e)&&n(e)})}(arguments),t&&!r&&l()),this},remove:function(){return pt.each(arguments,function(t,e){for(var n;-1<(n=pt.inArray(e,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<pt.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=t="",this},disabled:function(){return!o},lock:function(){return n=!0,t||u.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),r||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!e}};return u},pt.extend({Deferred:function(t){var o=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return pt.Deferred(function(i){pt.each(o,function(t,e){var n=pt.isFunction(r[t])&&r[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?pt.extend(t,a):a}},s={};return a.pipe=a.then,pt.each(o,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var r,e,n,i=0,o=rt.call(arguments),a=o.length,s=1!==a||t&&pt.isFunction(t.promise)?a:0,l=1===s?t:pt.Deferred(),u=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?rt.call(arguments):t,i===r?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(r=new Array(a),e=new Array(a),n=new Array(a);i<a;i++)o[i]&&pt.isFunction(o[i].promise)?o[i].promise().progress(u(i,e,r)).done(u(i,n,o)).fail(l.reject):--s;return s||l.resolveWith(n,o),l.promise()}}),pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(!0===t?--pt.readyWait:pt.isReady)||(pt.isReady=!0)!==t&&0<--pt.readyWait||(Et.resolveWith(it,[pt]),pt.fn.triggerHandler&&(pt(it).triggerHandler("ready"),pt(it).off("ready")))}}),pt.ready.promise=function(t){if(!Et)if(Et=pt.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)k.setTimeout(pt.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",o),k.addEventListener("load",o);else{it.attachEvent("onreadystatechange",o),k.attachEvent("onload",o);var e=!1;try{e=null==k.frameElement&&it.documentElement}catch(n){}e&&e.doScroll&&function i(){if(!pt.isReady){try{e.doScroll("left")}catch(n){return k.setTimeout(i,50)}r(),pt.ready()}}()}return Et.promise(t)},pt.ready.promise(),pt(dt))break;dt.ownFirst="0"===At,dt.inlineBlockNeedsLayout=!1,pt(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(e){dt.deleteExpando=!1}t=null}();var Mt,Pt=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Lt=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando])&&!u(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return a(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return a(t,e,!0)}}),pt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(t!==undefined)return"object"==typeof t?this.each(function(){pt.data(this,t)}):1<arguments.length?this.each(function(){pt.data(this,t,e)}):o?l(o,t,pt.data(o,t)):undefined;if(this.length&&(r=pt.data(o),1===o.nodeType&&!pt._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&l(o,i=pt.camelCase(i.slice(5)),r[i]);pt._data(o,"parsedAttrs",!0)}return r},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=pt._data(t,e),n&&(!i||pt.isArray(n)?i=pt._data(t,e,pt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,r=n.shift(),o=pt._queueHooks(t,e),a=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return pt._data(t,n)||pt._data(t,n,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,n)})})}}),pt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?pt.queue(this[0],e):n===undefined?this:this.each(function(){var t=pt.queue(this,e,n);pt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&pt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=pt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=pt._data(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}}),dt.shrinkWrapBlocks=function(){return null!=Mt?Mt:(Mt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Mt=3!==t.offsetWidth),e.removeChild(n),Mt):void 0);var t,e,n};var Ot,Ft,Nt,Rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jt=new RegExp("^(?:([+-])=|)("+Rt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],qt=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},Bt=function(t,e,n,i,r,o,a){var s=0,l=t.length,u=null==n;if("object"===pt.type(n))for(s in r=!0,n)Bt(t,e,s,n[s],!0,o,a);else if(i!==undefined&&(r=!0,pt.isFunction(i)||(a=!0),u&&(e=a?(e.call(t,i),null):(u=e,function(t,e,n){return u.call(pt(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Ut=/^(?:checkbox|radio)$/i,Ht=/<([\w:-]+)/,Wt=/^$|\/(?:java|ecma)script/i,Vt=/^\s+/,Yt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Ot=it.createElement("div"),Ft=it.createDocumentFragment(),Nt=it.createElement("input"),Ot.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===Ot.firstChild.nodeType,dt.tbody=!Ot.getElementsByTagName("tbody").length,dt.htmlSerialize=!!Ot.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Nt.type="checkbox",Nt.checked=!0,Ft.appendChild(Nt),dt.appendChecked=Nt.checked,Ot.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!Ot.cloneNode(!0).lastChild.defaultValue,Ft.appendChild(Ot),(Nt=it.createElement("input")).setAttribute("type","radio"),Nt.setAttribute("checked","checked"),Nt.setAttribute("name","t"),Ot.appendChild(Nt),dt.checkClone=Ot.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!Ot.addEventListener,Ot[pt.expando]=1,dt.attributes=!Ot.getAttribute(pt.expando);var Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td;var Kt=/<|&#?\w+;/,Xt=/<tbody/i;!function(){var t,e,n=it.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(dt[t]=e in k)||(n.setAttribute(e,"t"),dt[t]=!1===n.attributes[e].expando);n=null}();var Jt=/^(?:input|select|textarea)$/i,Qt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p,f,m,g=pt._data(t);if(g){for(n.handler&&(n=(l=n).handler,r=l.selector),n.guid||(n.guid=pt.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||((c=g.handle=function(t){return void 0===pt||t&&pt.event.triggered===t.type?undefined:pt.event.dispatch.apply(c.elem,arguments)}).elem=t),s=(e=(e||"").match(Dt)||[""]).length;s--;)p=m=(o=ee.exec(e[s])||[])[1],f=(o[2]||"").split(".").sort(),p&&(u=pt.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=pt.event.special[p]||{},d=pt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(h=a[p])||((h=a[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,f,c)||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),pt.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p,f,m,g=pt.hasData(t)&&pt._data(t);if(g&&(c=g.events)){for(u=(e=(e||"").match(Dt)||[""]).length;u--;)if(p=m=(s=ee.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=pt.event.special[p]||{},h=c[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(t,a));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,g.handle)||pt.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)pt.event.remove(t,p+e[u],n,i,!0);pt.isEmptyObject(c)&&(delete g.handle,pt._removeData(t,"events"))}},trigger:function(t,e,n,i){var r,o,a,s,l,u,c,d=[n||it],h=ct.call(t,"type")?t.type:t,p=ct.call(t,"namespace")?t.namespace.split("."):[];if(a=u=n=n||it,3!==n.nodeType&&8!==n.nodeType&&!te.test(h+pt.event.triggered)&&(-1<h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),o=h.indexOf(":")<0&&"on"+h,(t=t[pt.expando]?t:new pt.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:pt.makeArray(e,[t]),l=pt.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!pt.isWindow(n)){for(s=l.delegateType||h,te.test(s+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(n.ownerDocument||it)&&d.push(u.defaultView||u.parentWindow||k)}for(c=0;(a=d[c++])&&!t.isPropagationStopped();)t.type=1<c?s:l.bindType||h,(r=(pt._data(a,"events")||{})[t.type]&&pt._data(a,"handle"))&&r.apply(a,e),(r=o&&a[o])&&r.apply&&Pt(a)&&(t.result=r.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=h,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),e))&&Pt(n)&&o&&n[h]&&!pt.isWindow(n)){(u=n[o])&&(n[o]=null),pt.event.triggered=h;try{n[h]()}catch(f){}pt.event.triggered=undefined,u&&(n[o]=u)}return t.result}},dispatch:function(t){t=pt.event.fix(t);var e,n,i,r,o,a=[],s=rt.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],u=pt.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=pt.event.handlers.call(this,t,l),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,(i=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)i[r=(o=e[n]).selector+" "]===undefined&&(i[r]=o.needsContext?-1<pt(r,this).index(l):pt.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[pt.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Zt.test(r)?this.mouseHooks:Qt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new pt.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||o===undefined||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=pt.extend(new pt.Event,n,{type:t,isSimulated:!0});pt.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},pt.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},pt.Event=function(t,e){if(!(this instanceof pt.Event))return new pt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?h:p):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),this[pt.expando]=!0},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){pt.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,i=t.relatedTarget,r=t.handleObj;return i&&(i===n||pt.contains(n,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=o),e}}}),dt.submit||(pt.event.special.submit={setup:function(){if(pt.nodeName(this,"form"))return!1;pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):undefined;n&&!pt._data(n,"submit")&&(pt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),pt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){if(pt.nodeName(this,"form"))return!1;pt.event.remove(this,"._submit")}}),dt.change||(pt.event.special.change={setup:function(){if(Jt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1;pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Jt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return pt.event.remove(this,"._change"),!Jt.test(this.nodeName)}}),dt.focusin||pt.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){pt.event.simulate(i,t.target,pt.event.fix(t))};pt.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=pt._data(t,i);e||t.addEventListener(n,r,!0),pt._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=pt._data(t,i)-1;e?pt._data(t,i,e):(t.removeEventListener(n,r,!0),pt._removeData(t,i))}}}),pt.fn.extend({on:function(t,e,n,i){return w(this,t,e,n,i)},one:function(t,e,n,i){return w(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=p),this.each(function(){pt.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return pt.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Yt+")[\\s/>]","i"),re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue=g(it).appendChild(it.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,l=pt.contains(t.ownerDocument,t);if(dt.html5Clone||pt.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ue.innerHTML=t.outerHTML,ue.removeChild(o=ue.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(i=v(o),s=v(t),a=0;null!=(r=s[a]);++a)i[a]&&T(r,i[a]);if(e)if(n)for(s=s||v(t),i=i||v(o),a=0;null!=(r=s[a]);a++)S(r,i[a]);else S(t,o);return 0<(i=v(o,"script")).length&&y(i,!l&&v(t,"script")),i=s=r=null,o},cleanData:function(t,e){for(var n,i,r,o,a=0,s=pt.expando,l=pt.cache,u=dt.attributes,c=pt.event.special;null!=(n=t[a]);a++)if((e||Pt(n))&&(o=(r=n[s])&&l[r])){if(o.events)for(i in o.events)c[i]?pt.event.remove(n,i):pt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(r))}}}),pt.fn.extend({domManip:$,detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return Bt(this,function(t){return t===undefined?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return $(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_(this,t).appendChild(t)})},prepend:function(){return $(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return $(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return $(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Bt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!oe.test(t)&&(dt.htmlSerialize||!ie.test(t))&&(dt.leadingWhitespace||!Vt.test(t))&&!Gt[(Ht.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(pt.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return $(this,arguments,function(t){var e=this.parentNode;pt.inArray(this,n)<0&&(pt.cleanData(v(this)),e&&e.replaceChild(t,this))},n)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){pt.fn[t]=function(t){for(var e,n=0,i=[],r=pt(t),o=r.length-1;n<=o;n++)e=n===o?this:this.clone(!0),pt(r[n])[a](e),at.apply(i,e.get());return this.pushStack(i)}});var ce,de={HTML:"block",BODY:"block"},he=/^margin/,pe=new RegExp("^("+Rt+")(?!px)[a-z%]+$","i"),fe=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r},me=it.documentElement;!function(){function t(){var t,e,n=it.documentElement;n.appendChild(u),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=o=l=!1,
r=s=!0,k.getComputedStyle&&(e=k.getComputedStyle(c),i="1%"!==(e||{}).top,l="2px"===(e||{}).marginLeft,o="4px"===(e||{width:"4px"}).width,c.style.marginRight="50%",r="4px"===(e||{marginRight:"4px"}).marginRight,(t=c.appendChild(it.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",s=!parseFloat((k.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",(a=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(t=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),n.removeChild(u)}var i,r,o,a,s,l,u=it.createElement("div"),c=it.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===c.style.opacity,dt.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===c.style.backgroundClip,(u=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",u.appendChild(c),dt.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,pt.extend(dt,{reliableHiddenOffsets:function(){return null==i&&t(),a},boxSizingReliable:function(){return null==i&&t(),o},pixelMarginRight:function(){return null==i&&t(),r},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),s},reliableMarginLeft:function(){return null==i&&t(),l}}))}();var ge,ve,ye=/^(top|right|bottom|left)$/;k.getComputedStyle?(ge=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=k),e.getComputedStyle(t)},ve=function(t,e,n){var i,r,o,a,s=t.style;return""!==(a=(n=n||ge(t))?n.getPropertyValue(e)||n[e]:undefined)&&a!==undefined||pt.contains(t.ownerDocument,t)||(a=pt.style(t,e)),n&&!dt.pixelMarginRight()&&pe.test(a)&&he.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),a===undefined?a:a+""}):me.currentStyle&&(ge=function(t){return t.currentStyle},ve=function(t,e,n){var i,r,o,a,s=t.style;return null==(a=(n=n||ge(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),pe.test(a)&&!ye.test(e)&&(i=s.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),a===undefined?a:a+""||"auto"});var be=/alpha\([^)]*\)/i,we=/opacity\s*=\s*([^)]*)/i,_e=/^(none|table(?!-c[ea]).+)/,xe=new RegExp("^("+Rt+")(.*)$","i"),ke={position:"absolute",visibility:"hidden",display:"block"},Ce={letterSpacing:"0",fontWeight:"400"},Se=["Webkit","O","Moz","ms"],Te=it.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=pt.camelCase(e),l=t.style;if(e=pt.cssProps[s]||(pt.cssProps[s]=P(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],n===undefined)return a&&"get"in a&&(r=a.get(t,!1,i))!==undefined?r:l[e];if("string"===(o=typeof n)&&(r=jt.exec(n))&&r[1]&&(n=d(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(pt.cssNumber[s]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,i))===undefined)))try{l[e]=n}catch(u){}}},css:function(t,e,n,i){var r,o,a,s=pt.camelCase(e);return e=pt.cssProps[s]||(pt.cssProps[s]=P(s)||s),(a=pt.cssHooks[e]||pt.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=ve(t,e,i)),"normal"===o&&e in Ce&&(o=Ce[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),pt.each(["height","width"],function(t,r){pt.cssHooks[r]={get:function(t,e,n){if(e)return _e.test(pt.css(t,"display"))&&0===t.offsetWidth?fe(t,ke,function(){return F(t,r,n)}):F(t,r,n)},set:function(t,e,n){var i=n&&ge(t);return L(t,e,n?O(t,r,n,dt.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,i),i):0)}}}),dt.opacity||(pt.cssHooks.opacity={get:function(t,e){return we.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===pt.trim(o.replace(be,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=be.test(o)?o.replace(be,r):o+" "+r)}}),pt.cssHooks.marginRight=M(dt.reliableMarginRight,function(t,e){if(e)return fe(t,{display:"inline-block"},ve,[t,"marginRight"])}),pt.cssHooks.marginLeft=M(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-fe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(r,o){pt.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+zt[e]+o]=i[e]||i[e-2]||i[0];return n}},he.test(r)||(pt.cssHooks[r+o].set=L)}),pt.fn.extend({css:function(t,e){return Bt(this,function(t,e,n){var i,r,o={},a=0;if(pt.isArray(e)){for(i=ge(t),r=e.length;a<r;a++)o[e[a]]=pt.css(t,e[a],!1,i);return o}return n!==undefined?pt.style(t,e,n):pt.css(t,e)},t,e,1<arguments.length)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){qt(this)?pt(this).show():pt(this).hide()})}}),(pt.Tween=N).prototype={constructor:N,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pt.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=N.prototype.init,pt.fx.step={};var $e,Ee,Ae,De,Me,Pe,Ie,Le=/^(?:toggle|show|hide)$/,Oe=/queueHooks$/;pt.Animation=pt.extend(U,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return d(n.elem,t,jt.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,r=(t=pt.isFunction(t)?(e=t,["*"]):t.match(Dt)).length;i<r;i++)n=t[i],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(e)},prefilters:[q],prefilter:function(t,e){e?U.prefilters.unshift(t):U.prefilters.push(t)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return i.duration=pt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in pt.fx.speeds?pt.fx.speeds[i.duration]:pt.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(qt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=pt.isEmptyObject(e),o=pt.speed(t,n,i),a=function(){var t=U(this,pt.extend({},e),o);(r||pt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,t,o){var a=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=undefined),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=pt.timers,i=pt._data(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&Oe.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||pt.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=pt._data(this),n=e[a+"queue"],i=e[a+"queueHooks"],r=pt.timers,o=n?n.length:0;for(e.finish=!0,pt.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===a&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),pt.each(["toggle","show","hide"],function(t,i){var r=pt.fn[i];pt.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(j(i,!0),t,e,n)}}),pt.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){pt.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,n=0;for($e=pt.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||pt.fx.stop(),$e=undefined},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){Ee||(Ee=k.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){k.clearInterval(Ee),Ee=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(i,t){return i=pt.fx&&pt.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=k.setTimeout(t,i);e.stop=function(){k.clearTimeout(n)}})},De=it.createElement("input"),Me=it.createElement("div"),Pe=it.createElement("select"),Ie=Pe.appendChild(it.createElement("option")),(Me=it.createElement("div")).setAttribute("className","t"),Me.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Ae=Me.getElementsByTagName("a")[0],De.setAttribute("type","checkbox"),Me.appendChild(De),(Ae=Me.getElementsByTagName("a")[0]).style.cssText="top:1px",dt.getSetAttribute="t"!==Me.className,dt.style=/top/.test(Ae.getAttribute("style")),dt.hrefNormalized="/a"===Ae.getAttribute("href"),dt.checkOn=!!De.value,dt.optSelected=Ie.selected,dt.enctype=!!it.createElement("form").enctype,Pe.disabled=!0,dt.optDisabled=!Ie.disabled,(De=it.createElement("input")).setAttribute("value",""),dt.input=""===De.getAttribute("value"),De.value="t",De.setAttribute("type","radio"),dt.radioValue="t"===De.value;var Fe=/\r/g,Ne=/[\x20\t\r\n\f]+/g;pt.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=pt.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,pt(this).val()):n)?e="":"number"==typeof e?e+="":pt.isArray(e)&&(e=pt.map(e,function(t){return null==t?"":t+""})),(i=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=pt.valHooks[e.type]||pt.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Fe,""):null==t?"":t:void 0}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t)).replace(Ne," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pt.nodeName(n.parentNode,"optgroup"))){if(e=pt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=pt.makeArray(e),a=r.length;a--;)if(i=r[a],-1<pt.inArray(pt.valHooks.option.get(i),o))try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(pt.isArray(e))return t.checked=-1<pt.inArray(pt(t).val(),e)}},dt.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Re,je,ze=pt.expr.attrHandle,qe=/^(?:checked|selected)$/i,Be=dt.getSetAttribute,Ue=dt.input;pt.fn.extend({attr:function(t,e){return Bt(this,pt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?pt.prop(t,e,n):(1===o&&pt.isXMLDoc(t)||(e=e.toLowerCase(),r=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?je:Re)),n!==undefined?null===n?void pt.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=pt.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(Dt);if(o&&1===t.nodeType)for(;n=o[r++];)i=pt.propFix[n]||n,pt.expr.match.bool.test(n)?Ue&&Be||!qe.test(n)?t[i]=!1:t[pt.camelCase("default-"+n)]=t[i]=!1:pt.attr(t,n,""),t.removeAttribute(Be?n:i)}}),je={set:function(t,e,n){return!1===e?pt.removeAttr(t,n):Ue&&Be||!qe.test(n)?t.setAttribute(!Be&&pt.propFix[n]||n,n):t[pt.camelCase("default-"+n)]=t[n]=!0,n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ze[e]||pt.find.attr;Ue&&Be||!qe.test(e)?ze[e]=function(t,e,n){var i,r;return n||(r=ze[e],ze[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,ze[e]=r),i}:ze[e]=function(t,e,n){if(!n)return t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),Ue&&Be||(pt.attrHooks.value={set:function(t,e,n){if(!pt.nodeName(t,"input"))return Re&&Re.set(t,e,n);t.defaultValue=e}}),Be||(Re={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},ze.id=ze.name=ze.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},pt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Re.set},pt.attrHooks.contenteditable={set:function(t,e,n){Re.set(t,""!==e&&e,n)}},pt.each(["width","height"],function(t,n){pt.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),dt.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var He=/^(?:input|select|textarea|button|object)$/i,We=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Bt(this,pt.prop,t,e,1<arguments.length)},removeProp:function(e){return e=pt.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),pt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):He.test(t.nodeName)||We.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),dt.enctype||(pt.propFix.enctype="encoding");var Ve=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(pt.isFunction(e))return this.each(function(t){pt(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(Dt)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(Ve," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=pt.trim(i))&&pt.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(pt.isFunction(e))return this.each(function(t){pt(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Dt)||[];n=this[l++];)if(r=H(n),i=1===n.nodeType&&(" "+r+" ").replace(Ve," ")){for(a=0;o=t[a++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(s=pt.trim(i))&&pt.attr(n,"class",s)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"===o?e?this.addClass(r):this.removeClass(r):pt.isFunction(r)?this.each(function(t){pt(this).toggleClass(r.call(this,t,H(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===o)for(e=0,n=pt(this),i=r.match(Dt)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==undefined&&"boolean"!==o||((t=H(this))&&pt._data(this,"__className__",t),pt.attr(this,"class",t||!1===r?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+H(n)+" ").replace(Ve," ").indexOf(e))return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){pt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ye=k.location,Ge=pt.now(),Ke=/\?/,Xe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(t){if(k.JSON&&k.JSON.parse)return k.JSON.parse(t+"");var r,o=null,e=pt.trim(t+"");return e&&!pt.trim(e.replace(Xe,function(t,e,n,i){return r&&e&&(o=0),0===o?t:(r=n||e,o+=!i-!n,"")}))?Function("return "+e)():pt.error("Invalid JSON: "+t)},pt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{k.DOMParser?e=(new k.DOMParser).parseFromString(t,"text/xml"):((e=new k.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+t),e};var Je=/#.*$/,Qe=/([?&])_=[^&]*/,Ze=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},an={},sn="*/".concat("*"),ln=Ye.href,un=rn.exec(ln.toLowerCase())||[];pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ln,type:"GET",isLocal:tn.test(un[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,pt.ajaxSettings),e):Y(pt.ajaxSettings,t)},ajaxPrefilter:W(on),ajaxTransport:W(an),ajax:function(t,e){function n(t,e,n,i){var r,o,a,s,l,u=e;2!==_&&(_=2,h&&k.clearTimeout(h),f=undefined,d=i||"",x.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(s=G(m,x,n)),s=K(m,s,x,r),r?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(pt.lastModified[c]=l),(l=x.getResponseHeader("etag"))&&(pt.etag[c]=l)),204===t||"HEAD"===m.type?u="nocontent":304===t?u="notmodified":(u=s.state,o=s.data,r=!(a=s.error))):(a=u,!t&&u||(u="error",t<0&&(t=0))),x.status=t,x.statusText=(e||u)+"",r?y.resolveWith(g,[o,u,x]):y.rejectWith(g,[x,u,a]),x.statusCode(w),w=undefined,p&&v.trigger(r?"ajaxSuccess":"ajaxError",[x,m,r?o:a]),b.fireWith(g,[x,u]),p&&(v.trigger("ajaxComplete",[x,m]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,r,c,d,h,p,f,o,m=pt.ajaxSetup({},e),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?pt(g):pt.event,y=pt.Deferred(),b=pt.Callbacks("once memory"),w=m.statusCode||{},a={},s={},_=0,l="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!o)for(o={};e=Ze.exec(d);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?d:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=s[n]=s[n]||t,a[t]=e),this},overrideMimeType:function(t){return _||(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)w[e]=[w[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||l;return f&&f.abort(e),n(0,e),this}};if(y.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,m.url=((t||m.url||ln)+"").replace(Je,"").replace(nn,un[1]+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=pt.trim(m.dataType||"*").toLowerCase().match(Dt)||[""],null==m.crossDomain&&(i=rn.exec(m.url.toLowerCase()),m.crossDomain=!(!i||i[1]===un[1]&&i[2]===un[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(un[3]||("http:"===un[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=pt.param(m.data,m.traditional)),V(on,m,e,x),2===_)return x;for(r in(p=pt.event&&m.global)&&0==pt.active++&&pt.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!en.test(m.type),c=m.url,m.hasContent||(m.data&&(c=m.url+=(Ke.test(c)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Qe.test(c)?c.replace(Qe,"$1_="+Ge++):c+(Ke.test(c)?"&":"?")+"_="+Ge++)),m.ifModified&&(pt.lastModified[c]&&x.setRequestHeader("If-Modified-Since",pt.lastModified[c]),pt.etag[c]&&x.setRequestHeader("If-None-Match",pt.etag[c])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+sn+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(g,x,m)||2===_))return x.abort();for(r in l="abort",{success:1,error:1,complete:1})x[r](m[r]);if(f=V(an,m,e,x)){if(x.readyState=1,p&&v.trigger("ajaxSend",[x,m]),2===_)return x;m.async&&0<m.timeout&&(h=k.setTimeout(function(){x.abort("timeout")},m.timeout));try{_=1,f.send(a,n)}catch(u){if(!(_<2))throw u;n(-1,u)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return pt.get(t,e,n,"json")},getScript:function(t,e){return pt.get(t,undefined,e,"script")}}),pt.each(["get","post"],function(t,r){pt[r]=function(t,e,n,i){return pt.isFunction(e)&&(i=i||n,n=e,e=undefined),pt.ajax(pt.extend({url:t,type:r,dataType:i,data:e,success:n},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(e){if(pt.isFunction(e))return this.each(function(t){pt(this).wrapAll(e.call(this,t))});if(this[0]){var t=pt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return pt.isFunction(n)?this.each(function(t){pt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=pt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=pt.isFunction(e);return this.each(function(t){pt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:J(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var cn=/%20/g,dn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,fn=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var n,i=[],r=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(n in t)Q(n,t[n],e,r);return i.join("&").replace(cn,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&fn.test(this.nodeName)&&!pn.test(t)&&(this.checked||!Ut.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:pt.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(hn,"\r\n")}}):{name:e.name,value:n.replace(hn,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=k.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<it.documentMode?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var mn=0,gn={},vn=pt.ajaxSettings.xhr();k.attachEvent&&k.attachEvent("onunload",function(){for(var t in gn)gn[t](undefined,!0)}),dt.cors=!!vn&&"withCredentials"in vn,(vn=dt.ajax=!!vn)&&pt.ajaxTransport(function(u){var c;if(!u.crossDomain||dt.cors)return{send:function(t,a){var e,s=u.xhr(),l=++mn;if(s.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(e in u.xhrFields)s[e]=u.xhrFields[e];for(e in u.mimeType&&s.overrideMimeType&&s.overrideMimeType(u.mimeType),u.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&s.setRequestHeader(e,t[e]+"");s.send(u.hasContent&&u.data||null),c=function(t,e){var n,i,r;if(c&&(e||4===s.readyState))if(delete gn[l],c=undefined,s.onreadystatechange=pt.noop,e)4!==s.readyState&&s.abort();else{r={},n=s.status,"string"==typeof s.responseText&&(r.text=s.responseText);try{i=s.statusText}catch(o){i=""}n||!u.isLocal||u.crossDomain?1223===n&&(n=204):n=r.text?200:404}r&&a(n,i,r,s.getAllResponseHeaders())},u.async?4===s.readyState?k.setTimeout(c):s.onreadystatechange=gn[l]=c:c()},abort:function(){c&&c(undefined,!0)}}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(e){if(e.crossDomain){var i,r=it.head||pt("head")[0]||it.documentElement;return{send:function(t,n){(i=it.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var yn=[],bn=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yn.pop()||pt.expando+"_"+Ge++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,a=!1!==t.jsonp&&(bn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&bn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=pt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(bn,"$1"+i):!1!==t.jsonp&&(t.url+=(Ke.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||pt.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=k[i],k[i]=function(){o=arguments},n.always(function(){r===undefined?pt(k).removeProp(i):k[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,yn.push(i)),o&&pt.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),pt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=xt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=m([t],e,r),r&&r.length&&pt(r).remove(),pt.merge([],i.childNodes))};var wn=pt.fn.load;pt.fn.load=function(t,e,n){if("string"!=typeof t&&wn)return wn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return-1<s&&(i=pt.trim(t.slice(s,t.length)),t=t.slice(0,s)),pt.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),0<a.length&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(e){return pt.grep(pt.timers,function(t){return e===t.elem}).length},pt.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,u=pt.css(t,"position"),c=pt(t),d={};"static"===u&&(t.style.position="relative"),s=c.offset(),o=pt.css(t,"top"),l=pt.css(t,"left"),r=("absolute"===u||"fixed"===u)&&-1<pt.inArray("auto",[o,l])?(a=(i=c.position()).top,i.left):(a=parseFloat(o)||0,parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,n,pt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):c.css(d)}},pt.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){pt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,pt.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=et(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===pt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(n=t.offset()),n.top+=pt.css(t[0],"borderTopWidth",!0),n.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-pt.css(i,"marginTop",!0),left:e.left-n.left-pt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||me})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o=/Y/.test(r);pt.fn[e]=function(t){return Bt(this,function(t,e,n){var i=et(t);if(n===undefined)return i?r in i?i[r]:i.document.documentElement[e]:t[e];i?i.scrollTo(o?pt(i).scrollLeft():n,o?n:pt(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),pt.each(["top","left"],function(t,n){pt.cssHooks[n]=M(dt.pixelPosition,function(t,e){if(e)return e=ve(t,n),pe.test(e)?pt(t).position()[n]+"px":e})}),pt.each({Height:"height",Width:"width"},function(o,a){pt.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,t){pt.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return Bt(this,function(t,e,n){var i;return pt.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):n===undefined?pt.css(t,e,r):pt.style(t,e,n,r)},a,n?t:undefined,n,null)}})}),pt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),pt.fn.size=function(){
return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var _n=k.jQuery,xn=k.$;return pt.noConflict=function(t){return k.$===pt&&(k.$=xn),t&&k.jQuery===pt&&(k.jQuery=_n),pt},t||(k.jQuery=k.$=pt),pt}),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";function t(n){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',a=function(t){o(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){r.detach().trigger("closed.bs.alert").remove()}var n=o(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=o("#"===i?[]:i);t&&t.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),o.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var n=o.fn.alert;o.fn.alert=t,o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=n,this},o(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(o){"use strict";function n(i){return this.each(function(){var t=o(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new r(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.isLoading=!1};r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(o.proxy(function(){n[i](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},r.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=n,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target).closest(".btn");n.call(e,"toggle"),o(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function a(r){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},h.DEFAULTS,t.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof r?e.to(r):i?e[i]():n.interval&&e.pause().cycle()})}var h=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),r=this.interval,o="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=d(this.$indicators.children()[this.getItemIndex(i)]);u&&u.addClass("active")}var c=d.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([t,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(c)),r&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};var e=function(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=d.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(i,r),o&&i.data("bs.carousel").to(o),t.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function r(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=a(t),this.options=a.extend({},l.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var o=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][o])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=r(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(s){"use strict";function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function o(i){i&&3===i.which||(s(e).remove(),s(u).each(function(){var t=s(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(e[0],i.target)||(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",u='[data-toggle="dropdown"]',i=function(t){s(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(o(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(u).trigger("focus"),e.trigger("click");var r=" li:not(.disabled):visible a",o=n.find(".dropdown-menu"+r);if(o.length){var a=o.index(t.target);38==t.which&&0<a&&a--,40==t.which&&a<o.length-1&&a++,~a||(a=0),o.eq(a).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",u,i.prototype.toggle).on("keydown.bs.dropdown.data-api",u,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(o){"use strict";function a(i,r){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](r):n.show&&e.show(r)})}var s=function(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=a,o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),i=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(i,r,this)})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:t[0]}),o=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=e.find("> .active"),o=n&&s.support.transition&&(r.length&&r.hasClass("fade")||!!e.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),r.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new u(this,n)),"string"==typeof i&&e[i]()})}var u=function(t,e){this.options=l.extend({},u.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};u.VERSION="3.3.7",u.RESET="affix affix-top affix-bottom",u.DEFAULTS={offset:0,target:window},u.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},u.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(u.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},u.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},u.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var o=this.getState(r,t,n,i);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(u.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=u,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(o){"use strict";function r(t,e){this.$body=o(document.body),this.$scrollElement=o(t).is(document.body)?o(window):o(t),this.options=o.extend({},r.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new r(this,n)),"string"==typeof i&&e[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&o(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},r.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(r[t+1]===undefined||e<r[t+1])&&this.activate(o[t])},r.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=o(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(m){"use strict";function t(i){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new g(this,n)),"string"==typeof i&&e[i]())})}var g=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};g.VERSION="3.3.7",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},g.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},g.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},g.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},g.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},g.prototype.show=function(){var t=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),u=i[0].offsetWidth,c=i[0].offsetHeight;if(s){var d=o,h=this.getPosition(this.$viewport);o="bottom"==o&&l.bottom+c>h.bottom?"top":"top"==o&&l.top-c<h.top?"bottom":"right"==o&&l.right+u>h.width?"left":"left"==o&&l.left-u<h.left?"right":o,i.removeClass(d).addClass(o)}var p=this.getCalculatedOffset(o,l,u,c);this.applyPlacement(p,o);var f=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(g.TRANSITION_DURATION):f()}},g.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,m.offset.setOffset(n[0],m.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=r&&(t.top=t.top+r-l);var u=this.getViewportAdjustedDelta(e,t,s,l);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(e),d=c?2*u.left-i+s:2*u.top-r+l,h=c?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][h],c)},g.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},g.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},g.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=m(this.$tip),r=m.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(g.TRANSITION_DURATION):e(),this.hoverState=null,this},g.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect()
;null==i.width&&(i=m.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&e instanceof window.SVGElement,o=n?{top:0,left:0}:r?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},i,a,s,o)},g.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},g.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var u=e.left-o,c=e.left+o+n;u<a.left?r.left=a.left-u:c>a.right&&(r.left=a.left+a.width-c)}return r},g.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},g.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},g.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=m.fn.tooltip;m.fn.tooltip=t,m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=e,this}}(jQuery),function(r){"use strict";function t(i){return this.each(function(){var t=r(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new o(this,n)),"string"==typeof i&&e[i]())})}var o=function(t,e){this.init("popover",t,e)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype),(o.prototype.constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=r.fn.popover;r.fn.popover=t,r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=e,this}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(n){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}(function(t){var mt,gt="slider",vt="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(t){"use strict";function e(){}function n(c){function n(t){t.prototype.option||(t.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))})}function i(l,u){c.fn[l]=function(e){if("string"==typeof e){for(var t=h.call(arguments,1),n=0,i=this.length;n<i;n++){var r=this[n],o=c.data(r,l);if(o)if(c.isFunction(o[e])&&"_"!==e.charAt(0)){var a=o[e].apply(o,t);if(a!==undefined&&a!==o)return a}else d("no such method '"+e+"' for "+l+" instance");else d("cannot call methods on "+l+" prior to initialization; attempted to call '"+e+"'")}return this}var s=this.map(function(){var t=c.data(this,l);return t?(t.option(e),t._init()):(t=new u(this,e),c.data(this,l,t)),c(this)});return!s||1<s.length?s:s[0]}}if(c){var d="undefined"==typeof console?e:function(t){console.error(t)};return c.bridget=function(t,e){n(e),i(t,e)},c.bridget}}var h=Array.prototype.slice;n(t)}(t),function(z){function n(t,e){function n(t,e){var n="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(n);try{return JSON.parse(i)}catch(r){return i}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),e=e||{};for(var i=Object.keys(this.defaultOptions),r=0;r<i.length;r++){var o=i[r],a=e[o];a=null!==(a=void 0!==a?a:n(this.element,o))?a:this.defaultOptions[o],this.options||(this.options={}),this.options[o]=a}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var s,l,u,c,d,h=this.element.style.width,p=!1,f=this.element.parentNode;if(this.sliderElem)p=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var m=document.createElement("div");m.className="slider-track",(l=document.createElement("div")).className="slider-track-low",(s=document.createElement("div")).className="slider-selection",(u=document.createElement("div")).className="slider-track-high",(c=document.createElement("div")).className="slider-handle min-slider-handle",c.setAttribute("role","slider"),c.setAttribute("aria-valuemin",this.options.min),c.setAttribute("aria-valuemax",this.options.max),(d=document.createElement("div")).className="slider-handle max-slider-handle",d.setAttribute("role","slider"),d.setAttribute("aria-valuemin",this.options.min),d.setAttribute("aria-valuemax",this.options.max),m.appendChild(l),m.appendChild(s),m.appendChild(u),this.rangeHighlightElements=[];var g=this.options.rangeHighlights;if(Array.isArray(g)&&0<g.length)for(var v=0;v<g.length;v++){var y=document.createElement("div"),b=g[v]["class"]||"";y.className="slider-rangeHighlight slider-selection "+b,this.rangeHighlightElements.push(y),m.appendChild(y)}var w=Array.isArray(this.options.labelledby);if(w&&this.options.labelledby[0]&&c.setAttribute("aria-labelledby",this.options.labelledby[0]),w&&this.options.labelledby[1]&&d.setAttribute("aria-labelledby",this.options.labelledby[1]),!w&&this.options.labelledby&&(c.setAttribute("aria-labelledby",this.options.labelledby),d.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&0<this.options.ticks.length){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",r=0;r<this.options.ticks.length;r++){var _=document.createElement("div");if(_.className="slider-tick",this.options.ticks_tooltip){var x=this._addTickListener(),k=x.addMouseEnter(this,_,r),C=x.addMouseLeave(this,_);this.ticksCallbackMap[r]={mouseEnter:k,mouseLeave:C}}this.ticks.push(_),this.ticksContainer.appendChild(_)}s.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&0<this.options.ticks_labels.length)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++){var S=document.createElement("div"),T=0===this.options.ticks_positions.length,$=this.options.reversed&&T?this.options.ticks_labels.length-(r+1):r;S.className="slider-tick-label",S.innerHTML=this.options.ticks_labels[$],this.tickLabels.push(S),this.tickLabelContainer.appendChild(S)}var E=function E(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},A=document.createElement("div");A.className="tooltip tooltip-main",A.setAttribute("role","presentation"),E(A);var D=document.createElement("div");D.className="tooltip tooltip-min",D.setAttribute("role","presentation"),E(D);var M=document.createElement("div");M.className="tooltip tooltip-max",M.setAttribute("role","presentation"),E(M),this.sliderElem.appendChild(m),this.sliderElem.appendChild(A),this.sliderElem.appendChild(D),this.sliderElem.appendChild(M),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(c),this.sliderElem.appendChild(d),f.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(z&&(this.$element=z(this.element),this.$sliderElem=z(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),q[this.options.scale]&&(this.options.scale=q[this.options.scale]),!0===p&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-right"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=h,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&0<this.options.ticks.length&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=l||this.trackLow,this.trackSelection=s||this.trackSelection,this.trackHigh=u||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=c||this.handle1,this.handle2=d||this.handle2,!0===p)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var P=!1;try{var I=Object.defineProperty({},"passive",{get:function R(){P=!0}});window.addEventListener("test",null,I)}catch(j){}var L=!!P&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,L),this.sliderElem.addEventListener("touchmove",this.touchmove,L)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var O=this._addTickListener(),F=O.addMouseEnter(this,this.handle1),N=O.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:F,mouseLeave:N},F=O.addMouseEnter(this,this.handle2),N=O.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:F,mouseLeave:N}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var i={formatInvalidInputErrorMsg:function e(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},q={linear:{toValue:function u(t){var e=t/100*(this.options.max-this.options.min),n=!0;if(0<this.options.ticks_positions.length){for(var i,r,o,a=0,s=1;s<this.options.ticks_positions.length;s++)if(t<=this.options.ticks_positions[s]){i=this.options.ticks[s-1],o=this.options.ticks_positions[s-1],r=this.options.ticks[s],a=this.options.ticks_positions[s];break}e=i+(t-o)/(a-o)*(r-i),n=!1}var l=(n?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function a(t){if(this.options.max===this.options.min)return 0;if(0<this.options.ticks_positions.length){for(var e,n,i,r=0,o=0;o<this.options.ticks.length;o++)if(t<=this.options.ticks[o]){e=0<o?this.options.ticks[o-1]:0,i=0<o?this.options.ticks_positions[o-1]:0,n=this.options.ticks[o],r=this.options.ticks_positions[o];break}if(0<o)return i+(t-e)/(n-e)*(r-i)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function u(t){var e=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),i=Math.exp(e+(n-e)*t/100);return(i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function a(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-n)/(e-n)}}};if((mt=function r(t,e){return n.call(this,t,e),this}).prototype={_init:function o(){},constructor:mt,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function s(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function l(){return this.sliderElem},getValue:function c(){return this.options.range?this._state.value:this._state.value[0]},setValue:function d(t,e,n){t||(t=0);var i=this.getValue();this._state.value=this._validateInputValue(t);var r=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=r(this._state.value[0]),this._state.value[1]=r(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=r(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var o=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(o),!0===e&&this._trigger("slide",o),i!==o&&!0===n&&this._trigger("change",{oldValue:i,newValue:o}),this},destroy:function h(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),z&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function p(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function f(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function m(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function g(){return this._state.enabled},on:function v(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function y(t,e){z?(this.$element.off(t,e),this.$sliderElem.off(t,e)):this._unbindNonQueryEventHandler(t,e)},getAttribute:function b(t){return t?this.options[t]:this.options},setAttribute:function w(t,e){return this.options[t]=e,this},refresh:function _(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),z&&z.data(this.element,"slider",this),this},relayout:function x(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function k(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function C(t,e){this.eventToCallbackMap[t]===undefined&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function S(t,e){var n=this.eventToCallbackMap[t];if(n!==undefined)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function T(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];delete this.eventToCallbackMap[n]}},_showTooltip:function $(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function E(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function A(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var n=this.options.formatter(t?t.value[0]:this._state.value[0]),i=e(t||this._state,this.options.reversed);this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=i[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function D(){return{addMouseEnter:function e(i,t,r){var o=function o(){var t=i._state,e=0<=r?r:this.attributes["aria-valuenow"].value,n=parseInt(e,10);t.value[0]=n,t.percentage[0]=i.options.ticks_positions[n],i._setToolTipOnMouseOver(t),i._showTooltip()};return t.addEventListener("mouseenter",o,!1),o},addMouseLeave:function i(t,e){var n=function n(){t._hideTooltip()};return e.addEventListener("mouseleave",n,!1),n}}},_layout:function M(){var t,e;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),0<this.rangeHighlightElements.length&&Array.isArray(this.options.rangeHighlights)&&0<this.options.rangeHighlights.length)for(var n=0;n<this.options.rangeHighlights.length;n++){var i=this._toPercentage(this.options.rangeHighlights[n].start),r=this._toPercentage(this.options.rangeHighlights[n].end);if(this.options.reversed){var o=100-r;r=100-i,i=o}var a=this._createHighlightRange(i,r);a?"vertical"===this.options.orientation?(this.rangeHighlightElements[n].style.top=a.start+"%",this.rangeHighlightElements[n].style.height=a.size+"%"):(this.options.rtl?this.rangeHighlightElements[n].style.right=a.start+"%":this.rangeHighlightElements[n].style.left=a.start+"%",this.rangeHighlightElements[n].style.width=a.size+"%"):this.rangeHighlightElements[n].style.display="none"}if(Array.isArray(this.options.ticks)&&0<this.options.ticks.length){var s,l="vertical"===this.options.orientation?"height":"width";s="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var u=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var c=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[s]=-u/2+"px"),c=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>c&&(c=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=c+"px")}for(var d=0;d<this.options.ticks.length;d++){var h=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(h=100-h),this.ticks[d].style[this.stylePos]=h+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?h>=t[0]&&h<=t[1]&&this._addClass(this.ticks[d],"in-selection"):"after"===this.options.selection&&h>=t[0]?this._addClass(this.ticks[d],"in-selection"):"before"===this.options.selection&&h<=t[0]&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[l]=u+"px","vertical"!==this.options.orientation&&this.options.ticks_positions[d]!==undefined?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=h+"%",this.tickLabels[d].style[s]=-u/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[s]=this.sliderElem.offsetWidth/2*-1+"px"))}}if(this.options.range){e=this.options.formatter(this._state.value),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");var p=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,p);var f=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,f),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")}else e=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var m=this.tooltip_min.getBoundingClientRect(),g=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?m.right>g.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):m.right>g.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function P(t,e){return this._isHighlightRange(t,e)?e<t?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function I(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function L(){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function O(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function F(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),i=Math.abs(this._state.percentage[1]-e);this._state.dragged=n<i?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var r=this._calculateValue();return this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function N(t){if(t.changedTouches!==undefined){var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY}else this._mousedown(t)},
_triggerFocusOnHandle:function R(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function j(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,r="horizontal"===this.options.orientation&&this.options.reversed;(i||r)&&(n=-n)}var o=this._state.value[t]+n*this.options.step,a=o/this.options.max*100;if(this._state.keyCtrl=t,this.options.range)this._adjustPercentageForRangeSliders(a),o=[this._state.keyCtrl?this._state.value[0]:o,this._state.keyCtrl?o:this._state.value[1]];return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!0,!0),this._setDataVal(o),this._trigger("slideStop",o),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function B(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function U(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function H(t){if(t.changedTouches!==undefined){var e=t.changedTouches[0],n=e.pageX-this.touchX,i=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&n<=5&&-5<=n&&(15<=i||i<=-15)?this._mousedown(t):i<=5&&-5<=i&&(15<=n||n<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function W(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function V(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),(this._state.inDrag=!1)===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function Y(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var n=[e,Infinity],i=0;i<this.options.ticks.length;i++){var r=Math.abs(this.options.ticks[i]-e);r<=n[1]&&(n=[this.options.ticks[i],r])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return e},_applyPrecision:function G(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function K(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function X(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function J(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var n=e/this._state.size*100;return n=Math.round(n/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(n=100-n),Math.max(0,Math.min(100,n))},_validateInputValue:function Q(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(i.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function Z(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(i.formatInvalidInputErrorMsg(n))}},_setDataVal:function tt(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function et(t,e){e=e||0===e?e:undefined;var n=this.eventToCallbackMap[t];if(n&&n.length)for(var i=0;i<n.length;i++){(0,n[i])(e)}z&&this._triggerJQueryEvent(t,e)},_triggerJQueryEvent:function nt(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function it(){this.$element.off(),this.$sliderElem.off()},_setText:function rt(t,e){"undefined"!=typeof t.textContent?t.textContent=e:"undefined"!=typeof t.innerText&&(t.innerText=e)},_removeClass:function ot(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r],a=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");i=i.replace(a," ")}t.className=i.trim()},_addClass:function at(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r];new RegExp("(?:\\s|^)"+o+"(?:\\s|$)").test(i)||(i+=" "+o)}t.className=i.trim()},_offsetLeft:function st(t){return t.getBoundingClientRect().left},_offsetRight:function lt(t){return t.getBoundingClientRect().right},_offsetTop:function ut(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function ct(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function dt(t,e,n){if(z)z.style(t,e,n);else{var i=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});t.style[i]=n}},_toValue:function ht(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function pt(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function ft(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,n="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},z&&z.fn){var t=void 0;t=z.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),vt):(z.bridget(gt,mt),gt),z.bridget(vt,mt),z(function(){z("input[data-provide=slider]")[t]()})}}(t),mt}),function(c,l){"use strict";var u;c.rails!==l&&c.error("jquery-ujs has already been loaded!");var t=c(document);c.rails=u={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return c("meta[name=csrf-token]").attr("content")},csrfParam:function(){return c("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=u.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){c('form input[name="'+u.csrfParam()+'"]').val(u.csrfToken())},fire:function(t,e,n){var i=c.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return c.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,r,o,a;if(u.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,o=i.data("type")||c.ajaxSettings&&c.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=c(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(u.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(u.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=u.href(i),n=i.data("params")||null);return a={type:t||"GET",data:n,dataType:o,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!u.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:u.isCrossDomain(e)},r&&(a.xhrFields={withCredentials:r}),e&&(a.url=e),u.ajax(a)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=u.href(t),n=t.data("method"),i=t.attr("target"),r=u.csrfToken(),o=u.csrfParam(),a=c('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';o===l||r===l||u.isCrossDomain(e)||(s+='<input name="'+o+'" value="'+r+'" type="hidden" />'),i&&a.attr("target",i),a.hide().append(s).appendTo("body"),a.submit()},formElements:function(t,e){return t.is("form")?c(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){u.formElements(t,u.disableSelector).each(function(){u.disableFormElement(c(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){u.formElements(t,u.enableSelector).each(function(){u.enableFormElement(c(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(u.fire(t,"confirm")){try{i=u.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=u.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,r,o,a=c(),s=e||"input,textarea",l=t.find(s),u={};return l.each(function(){(i=c(this)).is("input[type=radio]")?(o=i.attr("name"),u[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(r=t.find('input[type=radio][name="'+o+'"]'),a=a.add(r)),u[o]=o)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(a=a.add(i))}),!!a.length&&a},nonBlankInputs:function(t,e){return u.blankInputs(t,e,!0)},stopEverything:function(t){return c(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return u.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},u.fire(t,"rails:attachBindings")&&(c.ajaxPrefilter(function(t,e,n){t.crossDomain||u.CSRFProtection(n)}),c(window).on("pageshow.rails",function(){c(c.rails.enableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableFormElement(t)}),c(c.rails.linkDisableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableElement(t)})}),t.on("ajax:complete",u.linkDisableSelector,function(){u.enableElement(c(this))}),t.on("ajax:complete",u.buttonDisableSelector,function(){u.enableFormElement(c(this))}),t.on("click.rails",u.linkClickSelector,function(t){var e=c(this),n=e.data("method"),i=e.data("params"),r=t.metaKey||t.ctrlKey;if(!u.allowAction(e))return u.stopEverything(t);if(!r&&e.is(u.linkDisableSelector)&&u.disableElement(e),u.isRemote(e)){if(r&&(!n||"GET"===n)&&!i)return!0;var o=u.handleRemote(e);return!1===o?u.enableElement(e):o.fail(function(){u.enableElement(e)}),!1}return n?(u.handleMethod(e),!1):void 0}),t.on("click.rails",u.buttonClickSelector,function(t){var e=c(this);if(!u.allowAction(e)||!u.isRemote(e))return u.stopEverything(t);e.is(u.buttonDisableSelector)&&u.disableFormElement(e);var n=u.handleRemote(e);return!1===n?u.enableFormElement(e):n.fail(function(){u.enableFormElement(e)}),!1}),t.on("change.rails",u.inputChangeSelector,function(t){var e=c(this);return u.allowAction(e)&&u.isRemote(e)?(u.handleRemote(e),!1):u.stopEverything(t)}),t.on("submit.rails",u.formSubmitSelector,function(t){var e,n,i=c(this),r=u.isRemote(i);if(!u.allowAction(i))return u.stopEverything(t);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((e=u.blankInputs(i,u.requiredInputSelector,!1))&&u.fire(i,"ajax:aborted:required",[e]))return u.stopEverything(t)}else i.data("ujs:formnovalidate-button",l);if(r){if(n=u.nonBlankInputs(i,u.fileInputSelector)){setTimeout(function(){u.disableFormElements(i)},13);var o=u.fire(i,"ajax:aborted:file",[n]);return o||setTimeout(function(){u.enableFormElements(i)},13),o}return u.handleRemote(i),!1}setTimeout(function(){u.disableFormElements(i)},13)}),t.on("click.rails",u.formInputClickSelector,function(t){var e=c(this);if(!u.allowAction(e))return u.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,r=e.closest("form");0===r.length&&(r=c("#"+e.attr("form"))),r.data("ujs:submit-button",i),r.data("ujs:formnovalidate-button",e.attr("formnovalidate")),r.data("ujs:submit-button-formaction",e.attr("formaction")),r.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",u.formSubmitSelector,function(t){this===t.target&&u.disableFormElements(c(this))}),t.on("ajax:complete.rails",u.formSubmitSelector,function(t){this===t.target&&u.enableFormElements(c(this))}),c(function(){u.refreshCSRFTokens()}))}(jQuery),function(m){var t=0,g=function(){return(new Date).getTime()+t++},v=function(t){return"["+t+"]$1"},y=function(t){return"_"+t+"_$1"},b=function(t,e,n){return t?"function"==typeof t?(e&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),t(n)):"string"==typeof t?e?n[e](t):"this"==t?n:m(t):void 0:n.parent()};m(document).on("click",".add_fields",function(t){t.preventDefault();var e=m(this),n=e.data("association"),i=e.data("associations"),r=e.data("association-insertion-template"),o=e.data("association-insertion-method")||e.data("association-insertion-position")||"before",a=e.data("association-insertion-node"),s=e.data("association-insertion-traversal"),l=parseInt(e.data("count"),10),u=new RegExp("\\[new_"+n+"\\](.*?\\s)","g"),c=new RegExp("_new_"+n+"_(\\w*)","g"),d=g(),h=r.replace(u,v(d)),p=[];for(h==r&&(u=new RegExp("\\[new_"+i+"\\](.*?\\s)","g"),c=new RegExp("_new_"+i+"_(\\w*)","g"),h=r.replace(u,v(d))),p=[h=h.replace(c,y(d))],l=isNaN(l)?1:Math.max(l,1),l-=1;l;)d=g(),h=(h=r.replace(u,v(d))).replace(c,y(d)),p.push(h),l-=1;var f=b(a,s,e);f&&0!=f.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),m.each(p,function(t,e){var n=m(e),i=jQuery.Event("cocoon:before-insert");if(f.trigger(i,[n]),!i.isDefaultPrevented()){f[o](n);f.trigger("cocoon:after-insert",[n])}})}),m(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(t){var e=m(this),n=e.data("wrapper-class")||"nested-fields",i=e.closest("."+n),r=i.parent();t.preventDefault();var o=jQuery.Event("cocoon:before-remove");if(r.trigger(o,[i]),!o.isDefaultPrevented()){var a=r.data("remove-timeout")||0;setTimeout(function(){e.hasClass("dynamic")?i.detach():(e.prev("input[type=hidden]").val("1"),i.hide()),r.trigger("cocoon:after-remove",[i])},a)}}),m(document).on("ready page:load turbolinks:load",function(){m(".remove_fields.existing.destroyed").each(function(){var t=m(this),e=t.data("wrapper-class")||"nested-fields";t.closest("."+e).hide()})})}(jQuery),function(t,a){function s(t,e,n,i){this.node=t,this.current_node=e,this.new_position=n,this.old_position=i}function l(t,e,n,i){this.node=t,this.current_node=e,this.new_position=n,this.positions_updater=i}function u(t,e,n,i){this.node=t,this.current_node=e,this.new_position=n,this.positions_updater=i}function i(t,e){this.node=t,e||(e={}),e.update=a.proxy(this.sortable_stop_handler,this);var n={axis:"y"},i=a.extend({},n,e);this.node.sortable(i)}if(!a)throw new Error("jQuery required by Sortable");s.prototype.update=function(){var i=this.new_position>this.old_position?-1:1,n=-1===i?this.old_position+1:this.new_position,r=-1===i?this.new_position:this.old_position-1,o=this.current_node.data("role");a("*[data-position]",this.node).filter(function(){var t=a(this).data("position"),e=a(this).data("role");return o!==e&&n<=t&&t<=r}).each(function(){var t=a(this),e=t.data("position")+i;t.attr("data-position",e).data("position",e);var n=a('*[data-role~="position"]',t);0<n.length&&n.val(e)})},l.prototype.sort=function(){a.ajax({type:"POST",dataType:"script",url:this.current_node.data("move-url"),data:{position:this.new_position},success:a.proxy(this.sort_by_server_success,this),error:a.proxy(this.sort_by_server_error,this)})},l.prototype.sort_by_server_success=function(){this.positions_updater.update(),this.node.trigger("sortable:sort_success").trigger("sortable:stop").sortable("enable")},l.prototype.sort_by_server_error=function(){this.node.sortable("cancel").trigger("sortable:sort_error").trigger("sortable:stop").sortable("enable")},u.prototype.sort=function(){var t=a('*[data-role~="position"]',this.current_node);0<t.length?(this.positions_updater.update(),this.current_node.data("position",this.new_position),t.val(this.new_position)):console&&console.error&&console.error('Could not found any *[data-role~="position"] element for',this.current_node),this.node.trigger("sortable:sort_success").trigger("sortable:stop").sortable("enable")},i.prototype.sortable_stop_handler=function(t,e){this.node.sortable("disable").trigger("sortable:start");var n=e.item,i=n.index(),r=parseInt(n.data("position")),o=new s(this.node,n,i,r);new(n.data("move-url")?l:u)(this.node,n,i,o).sort()},a.fn.activerecord_sortable=function(n){a(this).each(function(){var t=a(this),e=new i(t,n);t.data("sortable-instance",e)})}}(window,window.jQuery),function(){function e(t){"use strict";var e={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"}};if(!1===t)return JSON.parse(JSON.stringify(e));var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i].defaultValue);return n}function h(t,e){"use strict";var n=e?"Error in "+e+" extension->":"Error in unnamed extension",i={valid:!0,error:""};m.helper.isArray(t)||(t=[t]);for(var r=0;r<t.length;++r){var o=n+" sub-extension "+r+": ",a=t[r];if("object"!=typeof a)return i.valid=!1,i.error=o+"must be an object, but "+typeof a+" given",i;if(!m.helper.isString(a.type))return i.valid=!1,i.error=o+'property "type" must be a string, but '+typeof a.type+" given",i;var s=a.type=a.type.toLowerCase();if("language"===s&&(s=a.type="lang"),"html"===s&&(s=a.type="output"),"lang"!==s&&"output"!==s&&"listener"!==s)return i.valid=!1,i.error=o+"type "+s+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',i;if("listener"===s){if(m.helper.isUndefined(a.listeners))return i.valid=!1,i.error=o+'. Extensions of type "listener" must have a property called "listeners"',i}else if(m.helper.isUndefined(a.filter)&&m.helper.isUndefined(a.regex))return i.valid=!1,i.error=o+s+' extensions must define either a "regex" property or a "filter" method',i;if(a.listeners){if("object"!=typeof a.listeners)return i.valid=!1,i.error=o+'"listeners" property must be an object but '+typeof a.listeners+" given",i;for(var l in a.listeners)if(a.listeners.hasOwnProperty(l)&&"function"!=typeof a.listeners[l])return i.valid=!1,i.error=o+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+l+" must be a function but "+typeof a.listeners[l]+" given",i}if(a.filter){if("function"!=typeof a.filter)return i.valid=!1,i.error=o+'"filter" must be a function, but '+typeof a.filter+" given",i}else if(a.regex){if(m.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!a.regex instanceof RegExp)return i.valid=!1,i.error=o+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",i;if(m.helper.isUndefined(a.replace))return i.valid=!1,i.error=o+'"regex" extensions must implement a replace string or function',i}}return i}function o(t,e){"use strict";return"~E"+e.charCodeAt(0)+"E"}var m={},n={},p={},f=e(!0),g={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0},vanilla:e(!0)};m.helper={},m.extensions={},m.setOption=function(t,e){"use strict";return f[t]=e,this},m.getOption=function(t){"use strict";return f[t]},m.getOptions=function(){"use strict";return f},m.resetOptions=function(){"use strict";f=e(!0)},m.setFlavor=function(t){"use strict";if(g.hasOwnProperty(t)){var e=g[t];for(var n in e)e.hasOwnProperty(n)&&(f[n]=e[n])}},m.getDefaultOptions=function(t){"use strict";return e(t)},m.subParser=function(t,e){"use strict";if(m.helper.isString(t)){if(void 0===e){if(n.hasOwnProperty(t))return n[t];throw Error("SubParser named "+t+" not registered!")}n[t]=e}},m.extension=function(t,e){"use strict";if(!m.helper.isString(t))throw Error("Extension 'name' must be a string");if(t=m.helper.stdExtName(t),m.helper.isUndefined(e)){if(!p.hasOwnProperty(t))throw Error("Extension named "+t+" is not registered!");return p[t]}"function"==typeof e&&(e=e()),m.helper.isArray(e)||(e=[e]);var n=h(e,t);if(!n.valid)throw Error(n.error);p[t]=e},m.getAllExtensions=function(){"use strict";return p},m.removeExtension=function(t){"use strict";delete p[t]},m.resetExtensions=function(){"use strict";p={}},m.validateExtension=function(t){"use strict";var e=h(t,null);return!!e.valid||(console.warn(e.error),!1)},m.hasOwnProperty("helper")||(m.helper={}),m.helper.isString=function i(t){"use strict";return"string"==typeof t||t instanceof String},m.helper.isFunction=function r(t){"use strict";return t&&"[object Function]"==={}.toString.call(t)},m.helper.forEach=function a(t,e){"use strict";if("function"==typeof t.forEach)t.forEach(e);else for(var n=0;n<t.length;n++)e(t[n],n,t)},m.helper.isArray=function s(t){"use strict";return t.constructor===Array},m.helper.isUndefined=function l(t){"use strict";return void 0===t},m.helper.stdExtName=function(t){"use strict";return t.replace(/[_-]||\s/g,"").toLowerCase()},m.helper.escapeCharactersCallback=o,m.helper.escapeCharacters=function u(t,e,n){"use strict";var i="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var r=new RegExp(i,"g");return t=t.replace(r,o)};var d=function(t,e,n,i){"use strict";var r,o,a,s,l,u=i||"",c=-1<u.indexOf("g"),d=new RegExp(e+"|"+n,"g"+u.replace(/g/g,"")),h=new RegExp(e,u.replace(/g/g,"")),p=[];do{for(r=0;a=d.exec(t);)if(h.test(a[0]))r++||(s=(o=d.lastIndex)-a[0].length);else if(r&&!--r){l=a.index+a[0].length;var f={left:{start:s,end:o},match:{start:o,end:a.index},right:{start:a.index,end:l},wholeMatch:{start:s,end:l}};if(p.push(f),!c)return p}}while(r&&(d.lastIndex=o));return p};m.helper.matchRecursiveRegExp=function(t,e,n,i){"use strict";for(var r=d(t,e,n,i),o=[],a=0;a<r.length;++a)o.push([t.slice(r[a].wholeMatch.start,r[a].wholeMatch.end),t.slice(r[a].match.start,r[a].match.end),t.slice(r[a].left.start,r[a].left.end),t.slice(r[a].right.start,r[a].right.end)]);return o},m.helper.replaceRecursiveRegExp=function(t,e,n,i,r){"use strict";if(!m.helper.isFunction(e)){var o=e;e=function(){return o}}var a=d(t,n,i,r),s=t,l=a.length;if(0<l){var u=[];0!==a[0].wholeMatch.start&&u.push(t.slice(0,a[0].wholeMatch.start));for(var c=0;c<l;++c)u.push(e(t.slice(a[c].wholeMatch.start,a[c].wholeMatch.end),t.slice(a[c].match.start,a[c].match.end),t.slice(a[c].left.start,a[c].left.end),t.slice(a[c].right.start,a[c].right.end))),c<l-1&&u.push(t.slice(a[c].wholeMatch.end,a[c+1].wholeMatch.start));a[l-1].wholeMatch.end<t.length&&u.push(t.slice(a[l-1].wholeMatch.end)),s=u.join("")}return s},m.helper.isUndefined(console)&&(console={warn:function(t){"use strict";alert(t)},log:function(t){"use strict";alert(t)},error:function(t){"use strict";throw t}}),m.Converter=function(n){"use strict";function t(){for(var t in n=n||{},f)f.hasOwnProperty(t)&&(s[t]=f[t]);if("object"!=typeof n)throw Error("Converter expects the passed parameter to be an object, but "+typeof n+" was passed instead.");for(var e in n)n.hasOwnProperty(e)&&(s[e]=n[e]);s.extensions&&m.helper.forEach(s.extensions,i)}function i(t,e){if(e=e||null,m.helper.isString(t)){if(e=t=m.helper.stdExtName(t),m.extensions[t])return console.warn("DEPRECATION WARNING: "+t+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void o(m.extensions[t],t);if(m.helper.isUndefined(p[t]))throw Error('Extension "'+t+'" could not be loaded. It was either not found or is not a valid extension.');t=p[t]}"function"==typeof t&&(t=t()),m.helper.isArray(t)||(t=[t]);var n=h(t,e);if(!n.valid)throw Error(n.error);for(var i=0;i<t.length;++i){switch(t[i].type){case"lang":l.push(t[i]);break;case"output":u.push(t[i])}if(t[i].hasOwnProperty(c))for(var r in t[i].listeners)t[i].listeners.hasOwnProperty(r)&&a(r,t[i].listeners[r])}}function o(t,e){"function"==typeof t&&(t=t(new m.Converter)),m.helper.isArray(t)||(t=[t]);var n=h(t,e);if(!n.valid)throw Error(n.error);for(var i=0;i<t.length;++i)switch(t[i].type){case"lang":l.push(t[i]);break;case"output":u.push(t[i]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function a(t,e){if(!m.helper.isString(t))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof t+" given");if("function"!=typeof e)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof e+" given");c.hasOwnProperty(t)||(c[t]=[]),c[t].push(e)}function r(t){var e=t.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+e+"}","gm");return t.replace(n,"")}var s={},l=[],u=[],c={};t(),this._dispatch=function d(t,e,n,i){if(c.hasOwnProperty(t))for(var r=0;r<c[t].length;++r){var o=c[t][r](t,e,this,n,i);o&&void 0!==o&&(e=o)}return e},this.listen=function(t,e){return a(t,e),this},this.makeHtml=function(e){if(!e)return e;var n={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:l,outputModifiers:u,converter:this,ghCodeBlocks:[]};return e=(e=(e=(e=e.replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"),s.smartIndentationFix&&(e=r(e)),e="\n\n"+e+"\n\n",e=m.subParser("detab")(e,s,n),e=m.subParser("stripBlankLines")(e,s,n),m.helper.forEach(l,function(t){e=m.subParser("runExtension")(t,e,s,n)}),e=m.subParser("hashPreCodeTags")(e,s,n),e=m.subParser("githubCodeBlocks")(e,s,n),e=m.subParser("hashHTMLBlocks")(e,s,n),e=m.subParser("hashHTMLSpans")(e,s,n),e=m.subParser("stripLinkDefinitions")(e,s,n),e=m.subParser("blockGamut")(e,s,n),e=m.subParser("unhashHTMLSpans")(e,s,n),e=(e=(e=m.subParser("unescapeSpecialChars")(e,s,n)).replace(/~D/g,"$$")).replace(/~T/g,"~"),m.helper.forEach(u,function(t){e=m.subParser("runExtension")(t,e,s,n)}),e},this.setOption=function(t,e){s[t]=e},this.getOption=function(t){return s[t]},this.getOptions=function(){return s},this.addExtension=function(t,e){i(t,e=e||null)},this.useExtension=function(t){i(t)},this.setFlavor=function(t){if(g.hasOwnProperty(t)){var e=g[t];for(var n in e)e.hasOwnProperty(n)&&(s[n]=e[n])}},this.removeExtension=function(t){m.helper.isArray(t)||(t=[t]);for(var e=0;e<t.length;++e){for(var n=t[e],i=0;i<l.length;++i)l[i]===n&&l[i].splice(i,1);for(var r=0;r<u.length;++i)u[r]===n&&u[r].splice(i,1)}},this.getAllExtensions=function(){return{language:l,output:u}}},m.subParser("anchors",function(t,e,p){"use strict";var n=function(t,e,n,i,r,o,a,s){m.helper.isUndefined(s)&&(s=""),t=e;var l=n,u=i.toLowerCase(),c=r,d=s;if(!c)if(u||(u=l.toLowerCase().replace(/ ?\n/g," ")),c="#"+u,m.helper.isUndefined(p.gUrls[u])){if(!(-1<t.search(/\(\s*\)$/m)))return t;c=""}else c=p.gUrls[u],m.helper.isUndefined(p.gTitles[u])||(d=p.gTitles[u]);var h='<a href="'+(c=m.helper.escapeCharacters(c,"*_",!1))+'"';return""!==d&&null!==d&&(d=d.replace(/"/g,"&quot;"),h+=' title="'+(d=m.helper.escapeCharacters(d,"*_",!1))+'"'),h+=">"+l+"</a>"};return t=(t=(t=(t=p.converter._dispatch("anchors.before",t,e,p)).replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,n)).replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,n)).replace(/(\[([^\[\]]+)])()()()()()/g,n),t=p.converter._dispatch("anchors.after",t,e,p)}),m.subParser("autoLinks",function(t,e,n){"use strict";function i(t,e){var n=e;return/^www\./i.test(e)&&(e=e.replace(/^www\./i,"http://www.")),'<a href="'+e+'">'+n+"</a>"}function r(t,e){var n=m.subParser("unescapeSpecialChars")(e);return m.subParser("encodeEmailAddress")(n)}var o=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,a=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,
s=/(?:^|\s)([A-Za-z0-9!#$%&'*+-/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|\s)/gi,l=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return t=(t=(t=n.converter._dispatch("autoLinks.before",t,e,n)).replace(a,i)).replace(l,r),e.simplifiedAutoLink&&(t=(t=t.replace(o,i)).replace(s,r)),t=n.converter._dispatch("autoLinks.after",t,e,n)}),m.subParser("blockGamut",function(t,e,n){"use strict";t=n.converter._dispatch("blockGamut.before",t,e,n),t=m.subParser("blockQuotes")(t,e,n),t=m.subParser("headers")(t,e,n);var i=m.subParser("hashBlock")("<hr />",e,n);return t=(t=(t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,i)).replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,i)).replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,i),t=m.subParser("lists")(t,e,n),t=m.subParser("codeBlocks")(t,e,n),t=m.subParser("tables")(t,e,n),t=m.subParser("hashHTMLBlocks")(t,e,n),t=m.subParser("paragraphs")(t,e,n),t=n.converter._dispatch("blockGamut.after",t,e,n)}),m.subParser("blockQuotes",function(t,i,r){"use strict";return t=(t=r.converter._dispatch("blockQuotes.before",t,i,r)).replace(/((^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(t,e){var n=e;return n=(n=(n=n.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""),n=m.subParser("githubCodeBlocks")(n,i,r),n=(n=(n=m.subParser("blockGamut")(n,i,r)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(t,e){var n=e;return n=(n=n.replace(/^  /gm,"~0")).replace(/~0/g,"")}),m.subParser("hashBlock")("<blockquote>\n"+n+"\n</blockquote>",i,r)}),t=r.converter._dispatch("blockQuotes.after",t,i,r)}),m.subParser("codeBlocks",function(t,a,s){"use strict";t=s.converter._dispatch("codeBlocks.before",t,a,s);var e=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return t=(t=(t+="~0").replace(e,function(t,e,n){var i=e,r=n,o="\n";return i=m.subParser("outdent")(i),i=m.subParser("encodeCode")(i),i=(i=(i=m.subParser("detab")(i)).replace(/^\n+/g,"")).replace(/\n+$/g,""),a.omitExtraWLInCodeBlocks&&(o=""),i="<pre><code>"+i+o+"</code></pre>",m.subParser("hashBlock")(i,a,s)+r})).replace(/~0/,""),t=s.converter._dispatch("codeBlocks.after",t,a,s)}),m.subParser("codeSpans",function(t,e,n){"use strict";return void 0===(t=n.converter._dispatch("codeSpans.before",t,e,n))&&(t=""),t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(t,e,n,i){var r=i;return r=(r=r.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),e+"<code>"+(r=m.subParser("encodeCode")(r))+"</code>"}),t=n.converter._dispatch("codeSpans.after",t,e,n)}),m.subParser("detab",function(t){"use strict";return t=(t=(t=(t=(t=t.replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"~A~B")).replace(/~B(.+?)~A/g,function(t,e){for(var n=e,i=4-n.length%4,r=0;r<i;r++)n+=" ";return n})).replace(/~A/g,"    ")).replace(/~B/g,"")}),m.subParser("encodeAmpsAndAngles",function(t){"use strict";return t=(t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),m.subParser("encodeBackslashEscapes",function(t){"use strict";return t=(t=t.replace(/\\(\\)/g,m.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+-.!])/g,m.helper.escapeCharactersCallback)}),m.subParser("encodeCode",function(t){"use strict";return t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),t=m.helper.escapeCharacters(t,"*_{}[]\\",!1)}),m.subParser("encodeEmailAddress",function(t){"use strict";var n=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+t.charCodeAt(0).toString(16)+";"},function(t){return t}];return t=(t='<a href="'+(t=(t="mailto:"+t).replace(/./g,function(t){if("@"===t)t=n[Math.floor(2*Math.random())](t);else if(":"!==t){var e=Math.random();t=.9<e?n[2](t):.45<e?n[1](t):n[0](t)}return t}))+'">'+t+"</a>").replace(/">.+:/g,'">')}),m.subParser("escapeSpecialCharsWithinTagAttributes",function(t){"use strict";var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return t=t.replace(e,function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=m.helper.escapeCharacters(e,"\\`*_",!1)})}),m.subParser("githubCodeBlocks",function(t,r,o){"use strict";return r.ghCodeBlocks?(t=o.converter._dispatch("githubCodeBlocks.before",t,r,o),t=(t=(t+="~0").replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(t,e,n){var i=r.omitExtraWLInCodeBlocks?"":"\n";return n=m.subParser("encodeCode")(n),n="<pre><code"+(e?' class="'+e+" language-"+e+'"':"")+">"+(n=(n=(n=m.subParser("detab")(n)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+i+"</code></pre>",n=m.subParser("hashBlock")(n,r,o),"\n\n~G"+(o.ghCodeBlocks.push({text:t,codeblock:n})-1)+"G\n\n"})).replace(/~0/,""),o.converter._dispatch("githubCodeBlocks.after",t,r,o)):t}),m.subParser("hashBlock",function(t,e,n){"use strict";return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(n.gHtmlBlocks.push(t)-1)+"K\n\n"}),m.subParser("hashElement",function(t,e,i){"use strict";return function(t,e){var n=e;return n=(n=(n=n.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),n="\n\n~K"+(i.gHtmlBlocks.push(n)-1)+"K\n\n"}}),m.subParser("hashHTMLBlocks",function(t,e,o){"use strict";for(var n=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],i=function(t,e,n,i){var r=t;return-1!==n.search(/\bmarkdown\b/)&&(r=n+o.converter.makeHtml(e)+i),"\n\n~K"+(o.gHtmlBlocks.push(r)-1)+"K\n\n"},r=0;r<n.length;++r)t=m.helper.replaceRecursiveRegExp(t,i,"^ {0,3}<"+n[r]+"\\b[^>]*>","</"+n[r]+">","gim");return t=t.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,m.subParser("hashElement")(t,e,o)),t=(t=m.helper.replaceRecursiveRegExp(t,function(t){return"\n\n~K"+(o.gHtmlBlocks.push(t)-1)+"K\n\n"},"^ {0,3}<!--","-->","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,m.subParser("hashElement")(t,e,o))}),m.subParser("hashHTMLSpans",function(t,e,n){"use strict";for(var i=m.helper.matchRecursiveRegExp(t,"<code\\b[^>]*>","</code>","gi"),r=0;r<i.length;++r)t=t.replace(i[r][0],"~L"+(n.gHtmlSpans.push(i[r][0])-1)+"L");return t}),m.subParser("unhashHTMLSpans",function(t,e,n){"use strict";for(var i=0;i<n.gHtmlSpans.length;++i)t=t.replace("~L"+i+"L",n.gHtmlSpans[i]);return t}),m.subParser("hashPreCodeTags",function(t,e,o){"use strict";var n=function(t,e,n,i){var r=n+m.subParser("encodeCode")(e)+i;return"\n\n~G"+(o.ghCodeBlocks.push({text:t,codeblock:r})-1)+"G\n\n"};return t=m.helper.replaceRecursiveRegExp(t,n,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim")}),m.subParser("headers",function(t,s,l){"use strict";function u(t){var e,n=t.replace(/[^\w]/g,"").toLowerCase();return l.hashLinkCounts[n]?e=n+"-"+l.hashLinkCounts[n]++:(e=n,l.hashLinkCounts[n]=1),!0===i&&(i="section"),m.helper.isString(i)?i+e:e}t=l.converter._dispatch("headers.before",t,s,l);var i=s.prefixHeaderId,c=isNaN(parseInt(s.headerLevelStart))?1:parseInt(s.headerLevelStart),e=s.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,n=s.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return t=(t=(t=t.replace(e,function(t,e){var n=m.subParser("spanGamut")(e,s,l),i=s.noHeaderId?"":' id="'+u(e)+'"',r="<h"+c+i+">"+n+"</h"+c+">";return m.subParser("hashBlock")(r,s,l)})).replace(n,function(t,e){var n=m.subParser("spanGamut")(e,s,l),i=s.noHeaderId?"":' id="'+u(e)+'"',r=c+1,o="<h"+r+i+">"+n+"</h"+r+">";return m.subParser("hashBlock")(o,s,l)})).replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(t,e,n){var i=m.subParser("spanGamut")(n,s,l),r=s.noHeaderId?"":' id="'+u(n)+'"',o=c-1+e.length,a="<h"+o+r+">"+i+"</h"+o+">";return m.subParser("hashBlock")(a,s,l)}),t=l.converter._dispatch("headers.after",t,s,l)}),m.subParser("images",function(t,e,h){"use strict";function n(t,e,n,i,r,o,a,s){var l=h.gUrls,u=h.gTitles,c=h.gDimensions;if(n=n.toLowerCase(),s||(s=""),""===i||null===i){if(""!==n&&null!==n||(n=e.toLowerCase().replace(/ ?\n/g," ")),i="#"+n,m.helper.isUndefined(l[n]))return t;i=l[n],m.helper.isUndefined(u[n])||(s=u[n]),m.helper.isUndefined(c[n])||(r=c[n].width,o=c[n].height)}e=e.replace(/"/g,"&quot;"),e=m.helper.escapeCharacters(e,"*_",!1);var d='<img src="'+(i=m.helper.escapeCharacters(i,"*_",!1))+'" alt="'+e+'"';return s&&(s=s.replace(/"/g,"&quot;"),d+=' title="'+(s=m.helper.escapeCharacters(s,"*_",!1))+'"'),r&&o&&(d+=' width="'+(r="*"===r?"auto":r)+'"',d+=' height="'+(o="*"===o?"auto":o)+'"'),d+=" />"}var i=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,r=/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g;return t=(t=(t=h.converter._dispatch("images.before",t,e,h)).replace(r,n)).replace(i,n),t=h.converter._dispatch("images.after",t,e,h)}),m.subParser("italicsAndBold",function(t,e,n){"use strict";return t=n.converter._dispatch("italicsAndBold.before",t,e,n),t=e.literalMidWordUnderscores?(t=(t=(t=t.replace(/(^|\s|>|\b)__(?=\S)([\s\S]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>")).replace(/(^|\s|>|\b)_(?=\S)([\s\S]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>")).replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>")).replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"):(t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>")).replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"),t=n.converter._dispatch("italicsAndBold.after",t,e,n)}),m.subParser("lists",function(t,c,d){"use strict";function u(t,e){d.gListLevel++,t=t.replace(/\n{2,}$/,"\n"),t+="~0";var n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,u=/\n[ \t]*\n(?!~0)/.test(t);return c.disableForced4SpacesIndentedSublists&&(n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm),t=(t=t.replace(n,function(t,e,n,i,r,o,a){a=a&&""!==a.trim();var s=m.subParser("outdent")(r,c,d),l="";return o&&c.tasklists&&(l=' class="task-list-item" style="list-style-type: none;"',s=s.replace(/^[ \t]*\[(x|X| )?]/m,function(){var t='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return a&&(t+=" checked"),t+=">"})),s="<li"+l+">"+(s=e||-1<s.search(/\n{2,}/)?(s=m.subParser("githubCodeBlocks")(s,c,d),m.subParser("blockGamut")(s,c,d)):(s=(s=m.subParser("lists")(s,c,d)).replace(/\n$/,""),u?m.subParser("paragraphs")(s,c,d):m.subParser("spanGamut")(s,c,d)))+"</li>\n"})).replace(/~0/g,""),d.gListLevel--,e&&(t=t.replace(/\s+$/,"")),t}function r(t,n,i){var r=c.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,o=c.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,a="ul"===n?r:o,s="";return-1!==t.search(a)?function l(t){var e=t.search(a);-1!==e?(s+="\n<"+n+">\n"+u(t.slice(0,e),!!i)+"</"+n+">\n",a="ul"===(n="ul"===n?"ol":"ul")?r:o,l(t.slice(e))):s+="\n<"+n+">\n"+u(t,!!i)+"</"+n+">\n"}(t):s="\n<"+n+">\n"+u(t,!!i)+"</"+n+">\n",s}return t=d.converter._dispatch("lists.before",t,c,d),t+="~0",t=(t=d.gListLevel?t.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(t,e,n){return r(e,-1<n.search(/[*+-]/g)?"ul":"ol",!0)}):t.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(t,e,n,i){return r(n,-1<i.search(/[*+-]/g)?"ul":"ol",!1)})).replace(/~0/,""),t=d.converter._dispatch("lists.after",t,c,d)}),m.subParser("outdent",function(t){"use strict";return t=(t=t.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")}),m.subParser("paragraphs",function(t,e,n){"use strict";for(var i=(t=(t=(t=n.converter._dispatch("paragraphs.before",t,e,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),r=[],o=i.length,a=0;a<o;a++){var s=i[a];0<=s.search(/~(K|G)(\d+)\1/g)||(s=(s=m.subParser("spanGamut")(s,e,n)).replace(/^([ \t]*)/g,"<p>"),s+="</p>"),r.push(s)}for(o=r.length,a=0;a<o;a++){for(var l="",u=r[a],c=!1;0<=u.search(/~(K|G)(\d+)\1/);){var d=RegExp.$1,h=RegExp.$2;l=(l="K"===d?n.gHtmlBlocks[h]:c?m.subParser("encodeCode")(n.ghCodeBlocks[h].text):n.ghCodeBlocks[h].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,l),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(c=!0)}r[a]=u}return t=(t=(t=r.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",t,e,n)}),m.subParser("runExtension",function(t,e,n,i){"use strict";if(t.filter)e=t.filter(e,i.converter,n);else if(t.regex){var r=t.regex;!r instanceof RegExp&&(r=new RegExp(r,"g")),e=e.replace(r,t.replace)}return e}),m.subParser("spanGamut",function(t,e,n){"use strict";return t=n.converter._dispatch("spanGamut.before",t,e,n),t=m.subParser("codeSpans")(t,e,n),t=m.subParser("escapeSpecialCharsWithinTagAttributes")(t,e,n),t=m.subParser("encodeBackslashEscapes")(t,e,n),t=m.subParser("images")(t,e,n),t=m.subParser("anchors")(t,e,n),t=m.subParser("autoLinks")(t,e,n),t=m.subParser("encodeAmpsAndAngles")(t,e,n),t=m.subParser("italicsAndBold")(t,e,n),t=(t=m.subParser("strikethrough")(t,e,n)).replace(/  +\n/g," <br />\n"),t=n.converter._dispatch("spanGamut.after",t,e,n)}),m.subParser("strikethrough",function(t,e,n){"use strict";return e.strikethrough&&(t=(t=n.converter._dispatch("strikethrough.before",t,e,n)).replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>"),t=n.converter._dispatch("strikethrough.after",t,e,n)),t}),m.subParser("stripBlankLines",function(t){"use strict";return t.replace(/^[ \t]+$/gm,"")}),m.subParser("stripLinkDefinitions",function(t,s,l){"use strict";var e=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return t=(t=(t+="~0").replace(e,function(t,e,n,i,r,o,a){return e=e.toLowerCase(),l.gUrls[e]=m.subParser("encodeAmpsAndAngles")(n),o?o+a:(a&&(l.gTitles[e]=a.replace(/"|'/g,"&quot;")),s.parseImgDimensions&&i&&r&&(l.gDimensions[e]={width:i,height:r}),"")})).replace(/~0/,"")}),m.subParser("tables",function(t,i,r){"use strict";function d(t){return/^:[ \t]*--*$/.test(t)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(t)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(t)?' style="text-align:center;"':""}function h(t,e){var n="";return t=t.trim(),i.tableHeaderId&&(n=' id="'+t.replace(/ /g,"_").toLowerCase()+'"'),"<th"+n+e+">"+(t=m.subParser("spanGamut")(t,i,r))+"</th>\n"}function p(t,e){return"<td"+e+">"+m.subParser("spanGamut")(t,i,r)+"</td>\n"}function f(t,e){for(var n="<table>\n<thead>\n<tr>\n",i=t.length,r=0;r<i;++r)n+=t[r];for(n+="</tr>\n</thead>\n<tbody>\n",r=0;r<e.length;++r){n+="<tr>\n";for(var o=0;o<i;++o)n+=e[r][o];n+="</tr>\n"}return n+="</tbody>\n</table>\n"}if(!i.tables)return t;var e=/^ {0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|~0)/gm;return t=(t=r.converter._dispatch("tables.before",t,i,r)).replace(e,function(t){var e,n=t.split("\n");for(e=0;e<n.length;++e)/^ {0,3}\|/.test(n[e])&&(n[e]=n[e].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(n[e])&&(n[e]=n[e].replace(/\|[ \t]*$/,""));var i=n[0].split("|").map(function(t){return t.trim()}),r=n[1].split("|").map(function(t){return t.trim()}),o=[],a=[],s=[],l=[];for(n.shift(),n.shift(),e=0;e<n.length;++e)""!==n[e].trim()&&o.push(n[e].split("|").map(function(t){return t.trim()}));if(i.length<r.length)return t;for(e=0;e<r.length;++e)s.push(d(r[e]));for(e=0;e<i.length;++e)m.helper.isUndefined(s[e])&&(s[e]=""),a.push(h(i[e],s[e]));for(e=0;e<o.length;++e){for(var u=[],c=0;c<a.length;++c)m.helper.isUndefined(o[e][c]),u.push(p(o[e][c],s[c]));l.push(u)}return f(a,l)}),t=r.converter._dispatch("tables.after",t,i,r)}),m.subParser("unescapeSpecialChars",function(t){"use strict";return t=t.replace(/~E(\d+)E/g,function(t,e){var n=parseInt(e);return String.fromCharCode(n)})});var t=this;"undefined"!=typeof module&&module.exports?module.exports=m:"function"==typeof define&&define.amd?define(function(){"use strict";return m}):t.showdown=m}.call(this),function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function g(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function t(f){function m(t,e,n){var i;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(n=g({path:"/"},m.defaults,n)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*n.expires),n.expires=r}n.expires=n.expires?n.expires.toUTCString():"";try{i=JSON.stringify(e),/^[\{\[]/.test(i)&&(e=i)}catch(p){}e=f.write?f.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var o="";for(var a in n)n[a]&&(o+="; "+a,!0!==n[a]&&(o+="="+n[a]));return document.cookie=t+"="+e+o}t||(i={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,u=0;u<s.length;u++){var c=s[u].split("="),d=c.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var h=c[0].replace(l,decodeURIComponent);if(d=f.read?f.read(d,h):f(d,h)||d.replace(l,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(p){}if(t===h){i=d;break}t||(i[h]=d)}catch(p){}}return i}}return(m.set=m).get=function(t){return m.call(m,t)},m.getJSON=function(){return m.apply({json:!0},[].slice.call(arguments))},m.defaults={},m.remove=function(t,e){m(t,"",g(e,{expires:-1}))},m.withConverter=t,m}return t(function(){})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=global.window&&global.window.$?e(global.window.$):function(t){if(!t.$&&!t.fn)throw new Error("Tokenfield requires a window object with jQuery or a jQuery instance");return e(t.$||t)}:e(jQuery,window)}(function(b,w){"use strict";var s=function(t,e){var n=this;this.$element=b(t),this.textDirection=this.$element.css("direction"),this.options=b.extend(!0,{},b.fn.tokenfield.defaults,{tokens:this.$element.val()},this.$element.data(),e),this._delimiters="string"==typeof this.options.delimiter?[this.options.delimiter]:this.options.delimiter,this._triggerKeys=b.map(this._delimiters,function(t){return t.charCodeAt(0)}),this._firstDelimiter=this._delimiters[0];var i=b.inArray(" ",this._delimiters),r=b.inArray("-",this._delimiters);0<=i&&(this._delimiters[i]="\\s"),0<=r&&(delete this._delimiters[r],this._delimiters.unshift("-"));var o=["\\","$","[","{","^",".","|","?","*","+","(",")"];b.each(this._delimiters,function(t,e){0<=b.inArray(e,o)&&(n._delimiters[t]="\\"+e)});var a,s=w&&"function"==typeof w.getMatchedCSSRules?w.getMatchedCSSRules(t):null,l=t.style.width,u=this.$element.width();s&&b.each(s,function(t,e){e.style.width&&(a=e.style.width)});var c="rtl"===b("body").css("direction")?"right":"left",d={position:this.$element.css("position")};d[c]=this.$element.css(c),this.$element.data("original-styles",d).data("original-tabindex",this.$element.prop("tabindex")).css("position","absolute").css(c,"-10000px").prop("tabindex",-1),this.$wrapper=b('<div class="tokenfield form-control" />'),this.$element.hasClass("input-lg")&&this.$wrapper.addClass("input-lg"),this.$element.hasClass("input-sm")&&this.$wrapper.addClass("input-sm"),"rtl"===this.textDirection&&this.$wrapper.addClass("rtl");var h=this.$element.prop("id")||(new Date).getTime()+""+Math.floor(100*(1+Math.random()));this.$input=b('<input type="'+this.options.inputType+'" class="token-input" autocomplete="off" />').appendTo(this.$wrapper).prop("placeholder",this.$element.prop("placeholder")).prop("id",h+"-tokenfield").prop("tabindex",this.$element.data("original-tabindex"));var p=b('label[for="'+this.$element.prop("id")+'"]');if(p.length&&p.prop("for",this.$input.prop("id")),this.$copyHelper=b('<input type="text" />').css("position","absolute").css(c,"-10000px").prop("tabindex",-1).prependTo(this.$wrapper),l?this.$wrapper.css("width",l):a?this.$wrapper.css("width",a):this.$element.parents(".form-inline").length&&this.$wrapper.width(u),(this.$element.prop("disabled")||this.$element.parents("fieldset[disabled]").length)&&this.disable(),this.$element.prop("readonly")&&this.readonly(),this.$mirror=b('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>'),this.$input.css("min-width",this.options.minWidth+"px"),b.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(t,e){n.$mirror[0].style[e]=n.$input.css(e)}),this.$mirror.appendTo("body"),this.$wrapper.insertBefore(this.$element),this.$element.prependTo(this.$wrapper),this.update(),this.setTokens(this.options.tokens,!1,!this.$element.val()&&this.options.tokens),this.listen(),!b.isEmptyObject(this.options.autocomplete)){var f="rtl"===this.textDirection?"right":"left",m=b.extend({minLength:this.options.showAutocompleteOnFocus?0:null,position:{my:f+" top",at:f+" bottom",of:this.$wrapper}},this.options.autocomplete);this.$input.autocomplete(m)}if(!b.isEmptyObject(this.options.typeahead)){var g=this.options.typeahead,v={minLength:this.options.showAutocompleteOnFocus?0:null},y=b.isArray(g)?g:[g,g];y[0]=b.extend({},v,y[0]),this.$input.typeahead.apply(this.$input,y),this.$hint=this.$input.prev(".tt-hint"),this.typeahead=!0}};s.prototype={constructor:s,createToken:function(t,e){var n=this;if(void 0===e&&(e=!0),(t="string"==typeof t?{value:t,label:t}:b.extend({},t)).value=b.trim(t.value.toString()),t.label=t.label&&t.label.length?b.trim(t.label):t.value,t.value.length&&t.label.length&&!(t.label.length<=this.options.minLength)&&!(this.options.limit&&this.getTokens().length>=this.options.limit)){var i=b.Event("tokenfield:createtoken",{attrs:t});if(this.$element.trigger(i),i.attrs&&!i.isDefaultPrevented()){var r=b('<div class="token" />').append('<span class="token-label" />').append('<a href="#" class="close" tabindex="-1">&times;</a>').data("attrs",t);this.$input.hasClass("tt-input")?this.$input.parent().before(r):this.$input.before(r),this.$input.css("width",this.options.minWidth+"px");var o=r.find(".token-label"),a=r.find(".close");return this.maxTokenWidth||(this.maxTokenWidth=this.$wrapper.width()-a.outerWidth()-parseInt(a.css("margin-left"),10)-parseInt(a.css("margin-right"),10)-parseInt(r.css("border-left-width"),10)-parseInt(r.css("border-right-width"),10)-parseInt(r.css("padding-left"),10)-parseInt(r.css("padding-right"),10),parseInt(o.css("border-left-width"),10),parseInt(o.css("border-right-width"),10),parseInt(o.css("padding-left"),10),parseInt(o.css("padding-right"),10),parseInt(o.css("margin-left"),10),parseInt(o.css("margin-right"),10)),o.text(t.label).css("max-width",this.maxTokenWidth),r.on("mousedown",function(){if(n._disabled||n._readonly)return!1;n.preventDeactivation=!0}).on("click",function(t){return!n._disabled&&!n._readonly&&(n.preventDeactivation=!1,t.ctrlKey||t.metaKey?(t.preventDefault(),n.toggle(r)):void n.activate(r,t.shiftKey,t.shiftKey))}).on("dblclick",function(){if(n._disabled||n._readonly||!n.options.allowEditing)return!1;n.edit(r)}),a.on("click",b.proxy(this.remove,this)),this.$element.trigger(b.Event("tokenfield:createdtoken",{attrs:t,relatedTarget:r.get(0)})),e&&this.$element.val(this.getTokensList()).trigger(b.Event("change",{initiator:"tokenfield"})),this.update(),this.$element.get(0)}}},setTokens:function(t,e,n){if(t){e||this.$wrapper.find(".token").remove(),void 0===n&&(n=!0),"string"==typeof t&&(t=this._delimiters.length?t.split(new RegExp("["+this._delimiters.join("")+"]")):[t]);var i=this;return b.each(t,function(t,e){i.createToken(e,n)}),this.$element.get(0)}},getTokenData:function(t){var e=t.map(function(){return b(this).data("attrs")}).get();return 1==e.length&&(e=e[0]),e},getTokens:function(t){var e=this,n=[],i=t?".active":"";return this.$wrapper.find(".token"+i).each(function(){n.push(e.getTokenData(b(this)))}),n},getTokensList:function(t,e,n){var i=(t=t||this._firstDelimiter)+((e=null!=e?e:this.options.beautify)&&" "!==t?" ":"");return b.map(this.getTokens(n),function(t){return t.value}).join(i)},getInput:function(){return this.$input.val()},listen:function(){var n=this;this.$element.on("change",b.proxy(this.change,this)),this.$wrapper.on("mousedown",b.proxy(this.focusInput,this)),this.$input.on("focus",b.proxy(this.focus,this)).on("blur",b.proxy(this.blur,this)).on("paste",b.proxy(this.paste,this)).on("keydown",b.proxy(this.keydown,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this)),this.$copyHelper.on("focus",b.proxy(this.focus,this)).on("blur",b.proxy(this.blur,this)).on("keydown",b.proxy(this.keydown,this)).on("keyup",b.proxy(this.keyup,this)),this.$input.on("keypress",b.proxy(this.update,this)).on("keyup",b.proxy(this.update,this)),this.$input.on("autocompletecreate",function(){var t=b(this).data("ui-autocomplete").menu.element,e=n.$wrapper.outerWidth()-parseInt(t.css("border-left-width"),10)-parseInt(t.css("border-right-width"),10);t.css("min-width",e+"px")}).on("autocompleteselect",function(t,e){return n.createToken(e.item)&&(n.$input.val(""),n.$input.data("edit")&&n.unedit(!0)),!1}).on("typeahead:selected typeahead:autocompleted",function(t,e){n.createToken(e)&&(n.$input.typeahead("val",""),n.$input.data("edit")&&n.unedit(!0))}),b(w).on("resize",b.proxy(this.update,this))},keydown:function(r){function t(t){if(o.$input.is(document.activeElement)){if(0<o.$input.val().length)return;t+="All";var e=o.$input.hasClass("tt-input")?o.$input.parent()[t](".token:first"):o.$input[t](".token:first");if(!e.length)return;o.preventInputFocus=!0,o.preventDeactivation=!0,o.activate(e),r.preventDefault()}else o[t](r.shiftKey),r.preventDefault()}function e(t){if(r.shiftKey){if(o.$input.is(document.activeElement)){if(0<o.$input.val().length)return;var e=o.$input.hasClass("tt-input")?o.$input.parent()[t+"All"](".token:first"):o.$input[t+"All"](".token:first");if(!e.length)return;o.activate(e)}var n="prev"===t?"next":"prev",i="prev"===t?"first":"last";o.$firstActiveToken[n+"All"](".token").each(function(){o.deactivate(b(this))}),o.activate(o.$wrapper.find(".token:"+i),!0,!0),r.preventDefault()}}if(this.focused){var o=this;switch(r.keyCode){case 8:if(!this.$input.is(document.activeElement))break;this.lastInputValue=this.$input.val();break;case 37:t("rtl"===this.textDirection?"next":"prev");break;case 38:e("prev");break;case 39:t("rtl"===this.textDirection?"prev":"next");break;case 40:e("next");break;case 65:if(0<this.$input.val().length||!r.ctrlKey&&!r.metaKey)break;this.activateAll(),r.preventDefault();break;case 9:case 13:if(this.$input.data("ui-autocomplete")&&this.$input.data("ui-autocomplete").menu.element.find("li:has(a.ui-state-focus), li.ui-state-focus").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-cursor").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-hint").val()&&this.$wrapper.find(".tt-hint").val().length)break;if(this.$input.is(document.activeElement)&&this.$input.val().length||this.$input.data("edit"))return this.createTokensFromInput(r,this.$input.data("edit"));if(13===r.keyCode){if(!this.$copyHelper.is(document.activeElement)||1!==this.$wrapper.find(".token.active").length)break;if(!o.options.allowEditing)break;this.edit(this.$wrapper.find(".token.active"))}}this.lastKeyDown=r.keyCode}},keypress:function(t){if(-1!==b.inArray(t.which,this._triggerKeys)&&this.$input.is(document.activeElement))return this.$input.val()&&this.createTokensFromInput(t),!1},keyup:function(t){if(this.preventInputFocus=!1,this.focused){switch(t.keyCode){case 8:if(this.$input.is(document.activeElement)){if(this.$input.val().length||this.lastInputValue.length&&8===this.lastKeyDown)break;this.preventDeactivation=!0;var e=this.$input.hasClass("tt-input")?this.$input.parent().prevAll(".token:first"):this.$input.prevAll(".token:first");if(!e.length)break;this.activate(e)}else this.remove(t);break;case 46:this.remove(t,"next")}this.lastKeyUp=t.keyCode}},focus:function(){this.focused=!0,this.$wrapper.addClass("focus"),this.$input.is(document.activeElement)&&(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null,this.options.showAutocompleteOnFocus&&this.search())},blur:function(t){this.focused=!1,this.$wrapper.removeClass("focus"),this.preventDeactivation||this.$element.is(document.activeElement)||(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null),!this.preventCreateTokens&&(this.$input.data("edit")&&!this.$input.is(document.activeElement)||this.options.createTokensOnBlur)&&this.createTokensFromInput(t),this.preventDeactivation=!1,this.preventCreateTokens=!1},paste:function(t){var e=this;e.options.allowPasting&&setTimeout(function(){e.createTokensFromInput(t)},1)},change:function(t){"tokenfield"!==t.initiator&&this.setTokens(this.$element.val())},createTokensFromInput:function(t,e){if(!(this.$input.val().length<this.options.minLength)){var n=this.getTokensList();return this.setTokens(this.$input.val(),!0),n==this.getTokensList()&&this.$input.val().length?!1:(this.$input.hasClass("tt-input")?this.$input.typeahead("val",""):this.$input.val(""),this.$input.data("edit")&&this.unedit(e),!1)}},next:function(t){if(t){var e=this.$wrapper.find(".active:first");if(!(!e||!this.$firstActiveToken)&&e.index()<this.$firstActiveToken.index())return this.deactivate(e)}var n=this.$wrapper.find(".active:last").nextAll(".token:first");n.length?this.activate(n,t):this.$input.focus()},prev:function(t){if(t){var e=this.$wrapper.find(".active:last");if(!(!e||!this.$firstActiveToken)&&e.index()>this.$firstActiveToken.index())return this.deactivate(e)}var n=this.$wrapper.find(".active:first").prevAll(".token:first");n.length||(n=this.$wrapper.find(".token:first")),n.length||t?this.activate(n,t):this.$input.focus()},activate:function(t,e,n,i){if(t){if(void 0===i)i=!0;if(n)e=!0;if(this.$copyHelper.focus(),e||(this.$wrapper.find(".active").removeClass("active"),i?this.$firstActiveToken=t:delete this.$firstActiveToken),n&&this.$firstActiveToken){var r=this.$firstActiveToken.index()-2,o=t.index()-2,a=this;this.$wrapper.find(".token").slice(Math.min(r,o)+1,Math.max(r,o)).each(function(){a.activate(b(this),!0)})}t.addClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select()}},activateAll:function(){var e=this;this.$wrapper.find(".token").each(function(t){e.activate(b(this),0!==t,!1,!1)})},deactivate:function(t){t&&(t.removeClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},toggle:function(t){t&&(t.toggleClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select())},edit:function(t){if(t){var e=t.data("attrs"),n={attrs:e,relatedTarget:t.get(0)},i=b.Event("tokenfield:edittoken",n);if(this.$element.trigger(i),!i.isDefaultPrevented()){t.find(".token-label").text(e.value);var r=t.outerWidth(),o=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;t.replaceWith(o),this.preventCreateTokens=!0,this.$input.val(e.value).select().data("edit",!0).width(r),this.update(),this.$element.trigger(b.Event("tokenfield:editedtoken",n))}}},unedit:function(t){if((this.$input.hasClass("tt-input")?this.$input.parent():this.$input).appendTo(this.$wrapper),this.$input.data("edit",!1),this.$mirror.text(""),this.update(),t){var e=this;setTimeout(function(){e.$input.focus()},1)}},remove:function(t,e){if(!(this.$input.is(document.activeElement)||this._disabled||this._readonly)){var n="click"===t.type?b(t.target).closest(".token"):this.$wrapper.find(".token.active");if("click"!==t.type){if(!e)e="prev";if(this[e](),"prev"===e)var i=0===n.first().prevAll(".token:first").length}var r={attrs:this.getTokenData(n),relatedTarget:n.get(0)},o=b.Event("tokenfield:removetoken",r);if(this.$element.trigger(o),!o.isDefaultPrevented()){var a=b.Event("tokenfield:removedtoken",r),s=b.Event("change",{initiator:"tokenfield"});n.remove(),this.$element.val(this.getTokensList()).trigger(a).trigger(s),this.$wrapper.find(".token").length&&"click"!==t.type&&!i||this.$input.focus(),this.$input.css("width",this.options.minWidth+"px"),this.update(),t.preventDefault(),t.stopPropagation()}}},update:function(){var t=this.$input.val(),e=parseInt(this.$input.css("padding-left"),10)+parseInt(this.$input.css("padding-right"),10);if(this.$input.data("edit")){if(t||(t=this.$input.prop("placeholder")),t===this.$mirror.text())return;this.$mirror.text(t);var n=this.$mirror.width()+10;if(n>this.$wrapper.width())return this.$input.width(this.$wrapper.width());this.$input.width(n),this.$hint&&this.$hint.width(n)}else{
var i="rtl"===this.textDirection?this.$input.offset().left+this.$input.outerWidth()-this.$wrapper.offset().left-parseInt(this.$wrapper.css("padding-left"),10)-e-1:this.$wrapper.offset().left+this.$wrapper.width()+parseInt(this.$wrapper.css("padding-left"),10)-this.$input.offset().left-e;isNaN(i)?this.$input.width("100%"):this.$input.width(i),this.$hint&&(isNaN(i)?this.$hint.width("100%"):this.$hint.width(i))}},focusInput:function(t){if(!(b(t.target).closest(".token").length||b(t.target).closest(".token-input").length||b(t.target).closest(".tt-dropdown-menu").length)){var e=this;setTimeout(function(){e.$input.focus()},0)}},search:function(){this.$input.data("ui-autocomplete")&&this.$input.autocomplete("search")},disable:function(){this.setProperty("disabled",!0)},enable:function(){this.setProperty("disabled",!1)},readonly:function(){this.setProperty("readonly",!0)},writeable:function(){this.setProperty("readonly",!1)},setProperty:function(t,e){this["_"+t]=e,this.$input.prop(t,e),this.$element.prop(t,e),this.$wrapper[e?"addClass":"removeClass"](t)},destroy:function(){this.$element.val(this.getTokensList()),this.$element.css(this.$element.data("original-styles")),this.$element.prop("tabindex",this.$element.data("original-tabindex"));var t=b('label[for="'+this.$input.prop("id")+'"]');return t.length&&t.prop("for",this.$element.prop("id")),this.$element.insertBefore(this.$wrapper),this.$element.removeData("original-styles").removeData("original-tabindex").removeData("bs.tokenfield"),this.$wrapper.remove(),this.$mirror.remove(),this.$element}};var t=b.fn.tokenfield;return b.fn.tokenfield=function(i,r){var o,a=[];Array.prototype.push.apply(a,arguments);var t=this.each(function(){var t=b(this),e=t.data("bs.tokenfield"),n="object"==typeof i&&i;"string"==typeof i&&e&&e[i]?(a.shift(),o=e[i].apply(e,a)):e||"string"==typeof i||r||(t.data("bs.tokenfield",e=new s(this,n)),t.trigger("tokenfield:initialize"))});return void 0!==o?o:t},b.fn.tokenfield.defaults={minWidth:60,minLength:0,allowEditing:!0,allowPasting:!0,limit:0,autocomplete:{},typeahead:{},showAutocompleteOnFocus:!1,createTokensOnBlur:!1,delimiter:",",beautify:!0,inputType:"text"},b.fn.tokenfield.Constructor=s,b.fn.tokenfield.noConflict=function(){return b.fn.tokenfield=t,this},s}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(T,$){function E(){return new Date(Date.UTC.apply(Date,arguments))}function x(){var t=new Date;return E(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function t(t,e){return function(){return e!==$&&T.fn.datepicker.deprecated(e),this[t].apply(this,arguments)}}function u(t){return t&&!isNaN(t.getTime())}function c(t,e){function n(t,e){return e.toLowerCase()}var i=T(t).data(),r={},o=new RegExp("^"+e.toLowerCase()+"([A-Z])");for(var a in e=new RegExp("^"+e.toLowerCase()),i)e.test(a)&&(r[a.replace(o,n)]=i[a]);return r}function d(t){var n={};if(A[t]||(t=t.split("-")[0],A[t])){var i=A[t];return T.each(a,function(t,e){e in i&&(n[e]=i[e])}),n}}var e,n=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(T.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new n;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),T.extend(t,e),t}),k=function(t,e){T.data(t,"datepicker",this),this._process_options(e),this.dates=new n,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=T(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=T(D.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(n){return T.each(D.viewModes,function(t,e){if(n===t||-1!==T.inArray(n,e.names))return n=t,!1}),n},_resolveDaysOfWeek:function(t){return T.isArray(t)||(t=t.split(/[,\s]*/)),T.map(t,Number)},_check_template:function(t){try{return t!==$&&""!==t&&((t.match(/[<>]/g)||[]).length<=0||0<T(t).length)}catch(e){return!1}},_process_options:function(t){this._o=T.extend({},this._o,t);var e=this.o=T.extend({},this._o),n=e.language;A[n]||(n=n.split("-")[0],A[n]||(n=p.language)),e.language=n,e.startView=this._resolveViewName(e.startView),e.minViewMode=this._resolveViewName(e.minViewMode),e.maxViewMode=this._resolveViewName(e.maxViewMode),e.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,e.startView)),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var i=D.parseFormat(e.format);e.startDate!==-Infinity&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=D.parseDate(e.startDate,i,e.language,e.assumeNearbyYear):e.startDate=-Infinity),e.endDate!==Infinity&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=D.parseDate(e.endDate,i,e.language,e.assumeNearbyYear):e.endDate=Infinity),e.daysOfWeekDisabled=this._resolveDaysOfWeek(e.daysOfWeekDisabled||[]),e.daysOfWeekHighlighted=this._resolveDaysOfWeek(e.daysOfWeekHighlighted||[]),e.datesDisabled=e.datesDisabled||[],T.isArray(e.datesDisabled)||(e.datesDisabled=e.datesDisabled.split(",")),e.datesDisabled=T.map(e.datesDisabled,function(t){return D.parseDate(t,i,e.language,e.assumeNearbyYear)});var r=String(e.orientation).toLowerCase().split(/\s+/g),o=e.orientation.toLowerCase();if(r=T.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===r.length)switch(r[0]){case"top":case"bottom":e.orientation.y=r[0];break;case"left":case"right":e.orientation.x=r[0]}else o=T.grep(r,function(t){return/^left|right$/.test(t)}),e.orientation.x=o[0]||"auto",o=T.grep(r,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=o[0]||"auto";else;if(e.defaultViewDate instanceof Date||"string"==typeof e.defaultViewDate)e.defaultViewDate=D.parseDate(e.defaultViewDate,i,e.language,e.assumeNearbyYear);else if(e.defaultViewDate){var a=e.defaultViewDate.year||(new Date).getFullYear(),s=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=E(a,s,l)}else e.defaultViewDate=x()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(n=$,i=t[r][1]):3===t[r].length&&(n=t[r][1],i=t[r][2]),e.on(i,n)},_unapplyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(i=$,n=t[r][1]):3===t[r].length&&(i=t[r][1],n=t[r][2]),e.off(n,i)},_buildEvents:function(){var t={keyup:T.proxy(function(t){-1===T.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:T.proxy(this.keydown,this),paste:T.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=T.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:T.proxy(this.show,this)}]]:this._events=[[this.element,{click:T.proxy(this.show,this),keydown:T.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:T.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:T.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":T.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:T.proxy(this.click,this)}],[this.picker,".prev, .next",{click:T.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:T.proxy(this.dayCellClick,this)}],[T(window),{resize:T.proxy(this.place,this)}],[T(document),{"mousedown touchstart":T.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var n=e||this.dates.get(-1),i=this._utc_to_local(n);this.element.trigger({type:t,date:i,viewMode:this.viewMode,dates:T.map(this.dates,this._utc_to_local),format:T.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return D.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&T(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var e;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==T.inArray("text/plain",t.originalEvent.clipboardData.types))e=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;e=window.clipboardData.getData("Text")}this.setDate(e),this.update(),t.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&E(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return T.map(this.dates,this._utc_to_local)},getUTCDates:function(){return T.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==$?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(t){var e=T.isArray(t)?t:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(t){var e=T.isArray(t)?t:arguments;return this.setDates.apply(this,T.map(e,this._utc_to_local)),this},setDate:t("setDates"),setUTCDate:t("setUTCDates"),remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(e){e===$&&(e=this.o.format);var n=this.o.language;return T.map(this.dates,function(t){return D.formatDate(t,e,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),e=this.picker.outerHeight(),n=10,i=T(this.o.container),r=i.width(),o="body"===this.o.container?T(document).scrollTop():i.scrollTop(),a=i.offset(),s=[0];this.element.parents().each(function(){var t=T(this).css("z-index");"auto"!==t&&0!==Number(t)&&s.push(Number(t))});var l=Math.max.apply(Math,s)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=u.left-a.left,p=u.top-a.top;"body"!==this.o.container&&(p+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-d)):u.left<0?(this.picker.addClass("datepicker-orient-left"),h-=u.left-n):r<h+t?(this.picker.addClass("datepicker-orient-right"),h+=d-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var f=this.o.orientation.y;if("auto"===f&&(f=-o+p-e<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+f),"top"===f?p-=e+parseInt(this.picker.css("padding-top")):p+=c,this.o.rtl){var m=r-(h+d);this.picker.css({top:p,right:m,zIndex:l})}else this.picker.css({top:p,left:h,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],e=!1;return arguments.length?(T.each(arguments,T.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),e=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=T.map(n,T.proxy(function(t){return D.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=T.grep(n,T.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),e?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&e&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow',-1!==T.inArray(t,this.o.daysOfWeekDisabled)&&(e+=" disabled"),e+='">'+A[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;n++)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+A[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=T.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],n=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),r=x();return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<i?e.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>i)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&o(t,r)&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),this.dateWithinRange(t)||e.push("disabled"),this.dateIsDisabled(t)&&e.push("disabled","disabled-date"),-1!==T.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&e.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==T.inArray(t.valueOf(),this.range)&&e.push("selected"),t.valueOf()===this.range[0]&&e.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&e.push("range-end")),e},_fill_yearsView:function(t,e,n,i,r,o,a){for(var s,l,u,c="",d=n/10,h=this.picker.find(t),p=Math.floor(i/n)*n,f=p+9*d,m=Math.floor(this.viewDate.getFullYear()/d)*d,g=T.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/d)*d}),v=p-d;v<=f+d;v+=d)s=[e],l=null,v===p-d?s.push("old"):v===f+d&&s.push("new"),-1!==T.inArray(v,g)&&s.push("active"),(v<r||o<v)&&s.push("disabled"),v===m&&s.push("focused"),a!==T.noop&&((u=a(new Date(v,0,1)))===$?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u}),!1===u.enabled&&s.push("disabled"),u.classes&&(s=s.concat(u.classes.split(/\s+/))),u.tooltip&&(l=u.tooltip)),c+='<span class="'+s.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+v+"</span>";h.find(".datepicker-switch").text(p+"-"+f),h.find("td").html(c)},fill:function(){var t,e,n=new Date(this.viewDate),r=n.getUTCFullYear(),i=n.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,u=A[this.o.language].today||A.en.today||"",c=A[this.o.language].clear||A.en.clear||"",d=A[this.o.language].titleFormat||A.en.titleFormat;if(!isNaN(r)&&!isNaN(i)){this.picker.find(".datepicker-days .datepicker-switch").text(D.formatDate(n,d,this.o.language)),this.picker.find("tfoot .today").text(u).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(c).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var h=E(r,i,0),p=h.getUTCDate();h.setUTCDate(p-(h.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(h);h.getUTCFullYear()<100&&f.setUTCFullYear(h.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g,v=[];h.valueOf()<f;){if((m=h.getUTCDay())===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var y=new Date(+h+(this.o.weekStart-m-7)%7*864e5),b=new Date(Number(y)+(11-y.getUTCDay())%7*864e5),w=new Date(Number(w=E(b.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),_=(b-w)/864e5/7+1;v.push('<td class="cw">'+_+"</td>")}(g=this.getClassNames(h)).push("day");var x=h.getUTCDate();this.o.beforeShowDay!==T.noop&&((e=this.o.beforeShowDay(this._utc_to_local(h)))===$?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&g.push("disabled"),e.classes&&(g=g.concat(e.classes.split(/\s+/))),e.tooltip&&(t=e.tooltip),e.content&&(x=e.content)),g=T.isFunction(T.uniqueSort)?T.uniqueSort(g):T.unique(g),v.push('<td class="'+g.join(" ")+'"'+(t?' title="'+t+'"':"")+' data-date="'+h.getTime().toString()+'">'+x+"</td>"),t=null,m===this.o.weekEnd&&v.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(v.join(""));var k=A[this.o.language].monthsTitle||A.en.monthsTitle||"Months",C=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?k:r).end().find("tbody span").removeClass("active");if(T.each(this.dates,function(t,e){e.getUTCFullYear()===r&&C.eq(e.getUTCMonth()).addClass("active")}),(r<o||s<r)&&C.addClass("disabled"),r===o&&C.slice(0,a).addClass("disabled"),r===s&&C.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==T.noop){var S=this;T.each(C,function(t,e){var n=new Date(r,t,1),i=S.o.beforeShowMonth(n);i===$?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||T(e).hasClass("disabled")||T(e).addClass("disabled"),i.classes&&T(e).addClass(i.classes),i.tooltip&&T(e).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,r,o,s,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,r,o,s,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,r,o,s,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,u=1;switch(this.viewMode){case 4:u*=10;case 3:u*=10;case 2:u*=10;case 1:t=Math.floor(i/u)*u<o,e=Math.floor(i/u)*u+u>s;break;case 0:t=i<=o&&r<a,e=s<=i&&l<r}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(t){var e,n,i,r;t.preventDefault(),t.stopPropagation(),(e=T(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate(x(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),(n=1)===this.viewMode?(r=e.parent().find("span").index(e),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r)):(r=0,i=Number(e.text()),this.viewDate.setUTCFullYear(i)),this._trigger(D.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(E(i,r,n)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var e=T(t.currentTarget).data("date"),n=new Date(e);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(n)},navArrowsClick:function(t){var e=T(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(e*=12*D.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,e),this._trigger(D.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!u(t))return this.o.defaultViewDate;if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(e);if(e=0<e?1:-1,1===s)i=-1===e?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+e,r.setUTCMonth(n),n=(n+12)%12;else{for(var l=0;l<s;l++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(t){return-1!==T.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||0<T.grep(this.o.datesDisabled,function(t){return o(e,t)}).length},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,i=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+D.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var h=function(t,e){T.data(t,"datepicker",this),this.element=T(t),this.inputs=T.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,this.keepEmptyValues=e.keepEmptyValues,delete e.keepEmptyValues,r.call(T(this.inputs),e).on("changeDate",T.proxy(this.dateUpdated,this)),this.pickers=T.map(this.inputs,function(t){return T.data(t,"datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=T.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var n=T.map(this.dates,function(t){return t.valueOf()});T.each(this.pickers,function(t,e){e.setRange(n)})},clearDates:function(){T.each(this.pickers,function(t,e){e.clearDates()})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=T.data(t.target,"datepicker");if(n!==$){var i=n.getUTCDate(),r=this.keepEmptyValues,e=T.inArray(t.target,this.inputs),o=e-1,a=e+1,s=this.inputs.length;if(-1!==e){if(T.each(this.pickers,function(t,e){e.getUTCDate()||e!==n&&r||e.setUTCDate(i)}),i<this.dates[o])for(;0<=o&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[a])for(;a<s&&i>this.dates[a];)this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating}}}},destroy:function(){T.map(this.pickers,function(t){t.destroy()}),T(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var i=T.fn.datepicker,r=function(a){var s,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var t=T(this),e=t.data("datepicker"),n="object"==typeof a&&a;if(!e){var i=c(this,"date"),r=d(T.extend({},p,i,n).language),o=T.extend({},p,r,i,n);e=t.hasClass("input-daterange")||o.inputs?(T.extend(o,{inputs:o.inputs||t.find("input").toArray()}),new h(this,o)):new k(this,o),t.data("datepicker",e)}"string"==typeof a&&"function"==typeof e[a]&&(s=e[a].apply(e,l))}),s===$||s instanceof k||s instanceof h)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+a+" function)");return s};T.fn.datepicker=r;var p=T.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:T.noop,beforeShowMonth:T.noop,beforeShowYear:T.noop,beforeShowDecade:T.noop,beforeShowCentury:T.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},a=T.fn.datepicker.locale_opts=["format","rtl","weekStart"];T.fn.datepicker.Constructor=k;var A=T.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},D={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(t,e,n,i){function r(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}function o(){var t=this.slice(0,a[u].length),e=a[u].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!t)return $;if(t instanceof Date)return t;if("string"==typeof e&&(e=D.parseFormat(e)),e.toValue)return e.toValue(t,e,n);var a,s,l,u,c,d={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},h={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(t in h&&(t=h[t]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(t)){for(a=t.match(/([\-+]\d+)([dmwy])/gi),t=new Date,u=0;u<a.length;u++)s=a[u].match(/([\-+]\d+)([dmwy])/i),l=Number(s[1]),c=d[s[2].toLowerCase()],t=k.prototype[c](t,l);return k.prototype._zero_utc_time(t)}a=t&&t.match(this.nonpunctuation)||[];var p,f,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(i?r(e,i):e)},
m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.yy=v.yyyy,v.M=v.MM=v.mm=v.m,v.dd=v.d,t=x();var y=e.parts.slice();if(a.length!==y.length&&(y=T(y).filter(function(t,e){return-1!==T.inArray(e,g)}).toArray()),a.length===y.length){var b,w,_;for(u=0,b=y.length;u<b;u++){if(p=parseInt(a[u],10),s=y[u],isNaN(p))switch(s){case"MM":f=T(A[n].months).filter(o),p=T.inArray(f[0],A[n].months)+1;break;case"M":f=T(A[n].monthsShort).filter(o),p=T.inArray(f[0],A[n].monthsShort)+1}m[s]=p}for(u=0;u<g.length;u++)(_=g[u])in m&&!isNaN(m[_])&&(w=new Date(t),v[_](w,m[_]),isNaN(w)||(t=w))}return t},formatDate:function(t,e,n){if(!t)return"";if("string"==typeof e&&(e=D.parseFormat(e)),e.toDisplay)return e.toDisplay(t,e,n);var i={d:t.getUTCDate(),D:A[n].daysShort[t.getUTCDay()],DD:A[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:A[n].monthsShort[t.getUTCMonth()],MM:A[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];for(var r=T.extend([],e.separators),o=0,a=e.parts.length;o<=a;o++)r.length&&t.push(r.shift()),t.push(i[e.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+p.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+p.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};D.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+D.headTemplate+"<tbody></tbody>"+D.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+"</table></div></div>",T.fn.datepicker.DPGlobal=D,T.fn.datepicker.noConflict=function(){return T.fn.datepicker=i,this},T.fn.datepicker.version="1.8.0",T.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},T(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=T(this);e.data("datepicker")||(t.preventDefault(),r.call(e,"show"))}),T(function(){r.call(T('[data-provide="datepicker-inline"]'))})}),jQuery.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],daysShort:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy",monthsTitle:"Meses",clear:"Borrar",weekStart:1,format:"dd/mm/yyyy"},function(e,n){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return e.Bloodhound=n(t)}):"object"==typeof exports?module.exports=n(require("jquery")):e.Bloodhound=n(jQuery)}(this,function(d){var h=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:d.isArray,isFunction:d.isFunction,isObject:d.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof d},toStr:function(t){return h.isUndefined(t)||null===t?"":t+""},bind:d.proxy,each:function(t,n){function e(t,e){return n(e,t)}d.each(t,e)},map:d.map,filter:d.grep,every:function(n,i){var r=!0;return n?(d.each(n,function(t,e){return!!(r=i.call(null,e,t,n))&&void 0}),!!r):r},some:function(n,i){var r=!1;return n?(d.each(n,function(t,e){return!(r=i.call(null,e,t,n))&&void 0}),!!r):r},mixin:d.extend,identity:function(t){return t},clone:function(t){return d.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(t){function e(){return String(t)}return d.isFunction(t)?t:e},defer:function(t){setTimeout(t,0)},debounce:function(r,o,a){var s,l;return function(){var t,e,n=this,i=arguments;return t=function(){s=null,a||(l=r.apply(n,i))},e=a&&!s,clearTimeout(s),s=setTimeout(t,o),e&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,o,a,s,l,u;return l=0,u=function(){l=new Date,a=null,s=n.apply(r,o)},function(){var t=new Date,e=i-(t-l);return r=this,o=arguments,e<=0?(clearTimeout(a),a=null,l=t,s=n.apply(r,o)):a||(a=setTimeout(u,e)),s}},stringify:function(t){return h.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),s="0.11.1",n=function(){"use strict";function t(t){return(t=h.toStr(t))?t.split(/\s+/):[]}function e(t){return(t=h.toStr(t))?t.split(/\W+/):[]}function n(i){return function(t){return t=h.isArray(t)?t:[].slice.call(arguments,0),function(e){var n=[];return h.each(t,function(t){n=n.concat(i(h.toStr(e[t])))}),n}}}return{nonword:e,whitespace:t,obj:{nonword:n(e),whitespace:n(t)}}}(),i=function(){"use strict";function t(t){this.maxSize=h.isNumber(t)?t:100,this.reset(),this.maxSize<=0&&(this.set=this.get=d.noop)}function e(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return h.mixin(t.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new e}}),h.mixin(e.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),e=function(){"use strict";function n(t,e){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+h.escapeRegExChars(this.prefix)),this.ls=e||s,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(h.isUndefined(t)?null:t)}function o(t){return d.parseJSON(t)}function a(t){var e,n,i=[],r=s.length;for(e=0;e<r;e++)(n=s.key(e)).match(t)&&i.push(n.replace(t,""));return i}var s;try{(s=window.localStorage).setItem("~~~","!"),s.removeItem("~~~")}catch(l){s=null}return h.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=h.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,e,n){return h.isNumber(n)?this._safeSet(this._ttlKey(t),r(i()+n)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(e))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=a(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var e=o(this.ls.getItem(this._ttlKey(t)));return!!(h.isNumber(e)&&i()>e)}}),n}(),r=function(){"use strict";function t(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new i(0):e}var l=0,u={},c=6,e=new i(10);return t.setMaxPendingRequests=function(t){c=t},t.resetCache=function(){e.reset()},h.mixin(t.prototype,{_fingerprint:function(t){return(t=t||{}).url+t.type+d.param(t.data||{})},_get:function(t,e){function n(t){e(null,t),s._cache.set(o,t)}function i(){e(!0)}function r(){l--,delete u[o],s.onDeckRequestArgs&&(s._get.apply(s,s.onDeckRequestArgs),s.onDeckRequestArgs=null)}var o,a,s=this;o=this._fingerprint(t),this.cancelled||o!==this.lastReq||((a=u[o])?a.done(n).fail(i):l<c?(l++,u[o]=this._send(t).done(n).fail(i).always(r)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,e){var n,i;e=e||d.noop,t=h.isString(t)?{url:t}:t||{},i=this._fingerprint(t),this.cancelled=!1,this.lastReq=i,(n=this._cache.get(i))?e(null,n):this._get(t,e)},cancel:function(){this.cancelled=!0}}),t}(),o=window.SearchIndex=function(){"use strict";function t(t){(t=t||{}).datumTokenizer&&t.queryTokenizer||d.error("datumTokenizer and queryTokenizer are both required"),this.identify=t.identify||h.stringify,this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function n(t){return t=h.filter(t,function(t){return!!t}),h.map(t,function(t){return t.toLowerCase()})}function a(){var t={};return t[u]=[],t[l]={},t}function i(t){for(var e={},n=[],i=0,r=t.length;i<r;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,a=e.length;n<o&&i<a;)t[n]<e[i]?n++:(t[n]>e[i]||(r.push(t[n]),n++),i++);return r}var l="c",u="i";return h.mixin(t.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var o=this;t=h.isArray(t)?t:[t],h.each(t,function(t){var r,e;o.datums[r=o.identify(t)]=t,e=n(o.datumTokenizer(t)),h.each(e,function(t){var e,n,i;for(e=o.trie,n=t.split("");i=n.shift();)(e=e[l][i]||(e[l][i]=a()))[u].push(r)})})},get:function(t){var e=this;return h.map(t,function(t){return e.datums[t]})},search:function(t){var e,o,a=this;return e=n(this.queryTokenizer(t)),h.each(e,function(t){var e,n,i,r;if(o&&0===o.length)return!1;for(e=a.trie,n=t.split("");e&&(i=n.shift());)e=e[l][i];return e&&0===n.length?(r=e[u].slice(0),void(o=o?s(o,r):r)):!(o=[])}),o?h.map(i(o),function(t){return a.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),t}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new e(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},h.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(e){function t(){e(!0)}function n(t){e(null,r.transform(t))}var i,r=this;e&&(i=this.prepare(this._settings()),this.transport(i).fail(t).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),a=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new r({cache:t.cache,limiter:t.limiter,transport:t.transport})}return h.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,n){function e(t,e){n(t?[]:r.transform(e))}var i,r=this;if(n)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,e)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function i(t){var e;return t?(e={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:h.identity,transform:h.identity,transport:null},t=h.isString(t)?{url:t}:t,!(t=h.mixin(e,t)).url&&d.error("prefetch requires url to be set"),t.transform=t.filter||t.transform,t.cacheKey=t.cacheKey||t.url,t.thumbprint=s+t.thumbprint,t.transport=t.transport?a(t.transport):d.ajax,t):null}function r(t){var e;if(t)return e={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:h.identity,transport:null},t=h.isString(t)?{url:t}:t,!(t=h.mixin(e,t)).url&&d.error("remote requires url to be set"),t.transform=t.filter||t.transform,t.prepare=n(t),t.limiter=o(t),t.transport=t.transport?a(t.transport):d.ajax,delete t.replace,delete t.wildcard,delete t.rateLimitBy,delete t.rateLimitWait,t}function n(t){function e(t,e){return e.url=o(e.url,t),e}function n(t,e){return e.url=e.url.replace(a,encodeURIComponent(t)),e}function i(t,e){return e}var r,o,a;return r=t.prepare,o=t.replace,a=t.wildcard,r||(r=o?e:t.wildcard?n:i)}function o(t){function e(e){return function(t){return h.debounce(t,e)}}function n(e){return function(t){return h.throttle(t,e)}}var i,r,o;return i=t.limiter,r=t.rateLimitBy,o=t.rateLimitWait,i||(i=/^throttle$/i.test(r)?n(o):e(o)),i}function a(r){return function(t){function e(t){h.defer(function(){i.resolve(t)})}function n(t){h.defer(function(){i.reject(t)})}var i=d.Deferred();return r(t,e,n),i}}return function(t){var e,n;return e={initialize:!0,identify:h.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(t=h.mixin(e,t||{})).datumTokenizer&&d.error("datumTokenizer is required"),!t.queryTokenizer&&d.error("queryTokenizer is required"),n=t.sorter,t.sorter=n?function(t){return t.sort(n)}:h.identity,t.local=h.isFunction(t.local)?t.local():t.local,t.prefetch=i(t.prefetch),t.remote=r(t.remote),t}}();return function(){"use strict";function t(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new a(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new o({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var e;return e=window&&window.Bloodhound,t.noConflict=function(){return window&&(window.Bloodhound=e),t},t.tokenizers=n,h.mixin(t.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function t(t,e){return t?n.reject():(i.add(e),i.prefetch.store(i.index.serialize()),void n.resolve())}var n,e,i=this;return n=d.Deferred(),this.prefetch?(e=this.prefetch.fromCache())?(this.index.bootstrap(e),n.resolve()):this.prefetch.fromNetwork(t):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=h.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,e,i){function n(t){var n=[];h.each(t,function(e){!h.some(r,function(t){return o.identify(e)===o.identify(t)})&&n.push(e)}),i&&i(n)}var r,o=this;return r=this.sorter(this.index.search(t)),e(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,n):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),t}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(y){var b=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:y.isArray,isFunction:y.isFunction,isObject:y.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof y},toStr:function(t){return b.isUndefined(t)||null===t?"":t+""},bind:y.proxy,each:function(t,n){function e(t,e){return n(e,t)}y.each(t,e)},map:y.map,filter:y.grep,every:function(n,i){var r=!0;return n?(y.each(n,function(t,e){return!!(r=i.call(null,e,t,n))&&void 0}),!!r):r},some:function(n,i){var r=!1;return n?(y.each(n,function(t,e){return!(r=i.call(null,e,t,n))&&void 0}),!!r):r},mixin:y.extend,identity:function(t){return t},clone:function(t){return y.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(t){function e(){return String(t)}return y.isFunction(t)?t:e},defer:function(t){setTimeout(t,0)},debounce:function(r,o,a){var s,l;return function(){var t,e,n=this,i=arguments;return t=function(){s=null,a||(l=r.apply(n,i))},e=a&&!s,clearTimeout(s),s=setTimeout(t,o),e&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,o,a,s,l,u;return l=0,u=function(){l=new Date,a=null,s=n.apply(r,o)},function(){var t=new Date,e=i-(t-l);return r=this,o=arguments,e<=0?(clearTimeout(a),a=null,l=t,s=n.apply(r,o)):a||(a=setTimeout(u,e)),s}},stringify:function(t){return b.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),o=function(){"use strict";function t(t){var e,n;return n=b.mixin({},a,t),{css:(e={css:o(),classes:n,html:i(n),selectors:r(n)}).css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(t){b.mixin(t,e)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function r(t){var n={};return b.each(t,function(t,e){n[e]="."+t}),n}function o(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return b.isMsie()&&b.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),w=function(){"use strict";function t(t){t&&t.el||y.error("EventBus initialized without el"),this.$el=y(t.el)}var i,n;return i="typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},b.mixin(t.prototype,{_trigger:function(t,e){var n;return n=y.Event(i+t),(e=e||[]).unshift(n),this.$el.trigger.apply(this.$el,e),n},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=n[t])&&this._trigger(e,[].slice.call(arguments,1))}}),t}(),e=function(){"use strict";function i(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?s(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function t(t,e,n){return i.call(this,"async",t,e,n)}function e(t,e,n){return i.call(this,"sync",t,e,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,o;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=a(n.sync,this,[e].concat(i)),o=a(n.async,this,[e].concat(i)),r()&&u(o);return this}function a(i,r,o){function t(){for(var t,e=0,n=i.length;!t&&e<n;e+=1)t=!1===i[e].apply(r,o);return!t}return t}function o(){return window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function s(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,u=o();return{onSync:e,onAsync:t,off:n,trigger:r}}(),s=function(s){"use strict";function e(t,e,n){for(var i,r=[],o=0,a=t.length;o<a;o++)r.push(b.escapeRegExChars(t[o]));return i=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",e?new RegExp(i):new RegExp(i,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function t(t){var e,n,i;return(e=a.exec(t.data))&&(i=s.createElement(r.tagName),r.className&&(i.className=r.className),(n=t.splitText(e.index)).splitText(e[0].length),i.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(i,n)),!!e}function o(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)(n=t.childNodes[r]).nodeType===i?r+=e(n)?1:0:o(n,e)}var a;(r=b.mixin({},n,r)).node&&r.pattern&&(r.pattern=b.isArray(r.pattern)?r.pattern:[r.pattern],a=e(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,t))}}(window.document),_=function(){"use strict";function n(t,e){(t=t||{}).input||y.error("input is missing"),e.mixin(this),this.$hint=y(t.hint),this.$input=y(t.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop)}function i(t){return y('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return b.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(n.prototype,e,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;i=!!(n=r(t,this.query))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,e,n,i,r=this;return t=b.bind(this._onBlur,this),e=b.bind(this._onFocus,this),n=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",e).on("keydown.tt",n),!b.isMsie()||9<b.isMsie()?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||b.defer(b.bind(r._onInput,r,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,n;return t=this.$input.val().length,e=this.$input[0].selectionStart,b.isNumber(e)?e===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=y("<div>")}}),n}(),r=function(){"use strict";function t(t,e){(t=t||{}).templates=t.templates||{},t.templates.notFound=t.templates.notFound||t.templates.empty,t.source||y.error("missing source"),t.node||y.error("missing node"),t.name&&!r(t.name)&&y.error("invalid dataset name: "+t.name),e.mixin(this),this.highlight=!!t.highlight,this.name=t.name||o(),this.limit=t.limit||5,this.displayFn=n(t.display||t.displayKey),this.templates=i(t.templates,this.displayFn),this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source,this.async=b.isUndefined(t.async)?2<this.source.length:!!t.async,this._resetLastSuggestion(),this.$el=y(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(e){function t(t){return t[e]}return e=e||b.stringify,b.isFunction(e)?e:t}function i(t,e){function n(t){return y("<div>").text(e(t))}return{notFound:t.notFound&&b.templatify(t.notFound),pending:t.pending&&b.templatify(t.pending),header:t.header&&b.templatify(t.header),footer:t.footer&&b.templatify(t.footer),suggestion:t.suggestion||n}}function r(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var a,o;return a={val:"tt-selectable-display",obj:"tt-selectable-object"},o=b.getIdGenerator(),t.extractData=function(t){var e=y(t);return e.data(a.obj)?{val:e.data(a.val)||"",obj:e.data(a.obj)||null}:null},b.mixin(t.prototype,e,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,t){var r,o=this;return r=document.createDocumentFragment(),b.each(t,function(t){var e,n;n=o._injectQuery(i,t),e=y(o.templates.suggestion(n)).data(a.obj,t).data(a.val,o.displayFn(t)).addClass(o.classes.suggestion+" "+o.classes.selectable),r.appendChild(e[0])}),this.highlight&&s({className:this.classes.highlight,node:r,pattern:i}),y(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=y()},_injectQuery:function(t,e){return b.isObject(e)?b.mixin({_query:t},e):e},update:function(e){function t(t){o||(o=!0,t=(t||[]).slice(0,i.limit),a=t.length,i._overwrite(e,t),a<i.limit&&i.async&&i.trigger("asyncRequested",e))}function n(t){t=t||[],!r&&a<i.limit&&(i.cancel=y.noop,a+=t.length,i._append(e,t.slice(0,i.limit-a)),i.async&&i.trigger("asyncReceived",e))}var i=this,r=!1,o=!1,a=0;this.cancel(),this.cancel=function(){r=!0,i.cancel=y.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,t,n),!o&&t([])},cancel:y.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=y("<div>")}}),t}(),x=function(){"use strict";function t(t,n){function e(t){var e=i.$node.find(t.node).first();return t.node=e.length?e:y("<div>").appendTo(i.$node),new r(t,n)}var i=this;(t=t||{}).node||y.error("node is required"),n.mixin(this),this.$node=y(t.node),this.query=null,this.datasets=b.map(t.datasets,e)}return b.mixin(t.prototype,e,{_onSelectableClick:function(t){this.trigger("selectableClicked",y(t.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return b.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(i+e):r<n&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,e=this;return t=b.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),b.each(this.datasets,function(t){t.onSync("asyncRequested",e._propagate,e).onSync("asyncCanceled",e._propagate,e).onSync("asyncReceived",e._propagate,e).onSync("rendered",e._onRendered,e).onSync("cleared",e._onCleared,e)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i;return n=this.getActiveSelectable(),e=this._getSelectables(),-1===(i=(i=((i=(n?e.index(n):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:i)?null:e.eq(i)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?r.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(e){function t(t){t.update(e)}var n=e!==this.query;return n&&(this.query=e,b.each(this.datasets,t)),n},empty:function(){function t(t){t.clear()}b.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function t(t){t.destroy()}this.$node.off(".tt"),this.$node=y("<div>"),b.each(this.datasets,t)}}),t}(),k=function(){"use strict";function t(){x.apply(this,[].slice.call(arguments,0))}var e=x.prototype;return b.mixin(t.prototype,x.prototype,{open:function(){
return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),C=function(){"use strict";function t(t,e){var n,i,r,o,a,s,l,u,c,d,h;(t=t||{}).input||y.error("missing input"),t.menu||y.error("missing menu"),t.eventBus||y.error("missing event bus"),e.mixin(this),this.eventBus=t.eventBus,this.minLength=b.isNumber(t.minLength)?t.minLength:1,this.input=t.input,this.menu=t.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),n=p(this,"activate","open","_onFocused"),i=p(this,"deactivate","_onBlurred"),r=p(this,"isActive","isOpen","_onEnterKeyed"),o=p(this,"isActive","isOpen","_onTabKeyed"),a=p(this,"isActive","_onEscKeyed"),s=p(this,"isActive","open","_onUpKeyed"),l=p(this,"isActive","open","_onDownKeyed"),u=p(this,"isActive","isOpen","_onLeftKeyed"),c=p(this,"isActive","isOpen","_onRightKeyed"),d=p(this,"_openIfActive","_onQueryChanged"),h=p(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",n,this).onSync("blurred",i,this).onSync("enterKeyed",r,this).onSync("tabKeyed",o,this).onSync("escKeyed",a,this).onSync("upKeyed",s,this).onSync("downKeyed",l,this).onSync("leftKeyed",u,this).onSync("rightKeyed",c,this).onSync("queryChanged",d,this).onSync("whitespaceChanged",h,this).onSync("langDirChanged",this._onLangDirChanged,this)}function p(n){var t=[].slice.call(arguments,1);return function(){var e=[].slice.call(arguments);b.each(t,function(t){return n[t].apply(n,e)})}}return b.mixin(t.prototype,{_hacks:function(){var r,o;r=this.input.$input||y("<div>"),o=this.menu.$node||y("<div>"),r.on("blur.tt",function(t){var e,n,i;e=document.activeElement,n=o.is(e),i=0<o.has(e).length,b.isMsie()&&(n||i)&&(t.preventDefault(),t.stopImmediatePropagation(),b.defer(function(){r.focus()}))}),o.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=b.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,e,n,i,r,o;t=this.menu.getTopSelectable(),e=this.menu.getSelectableData(t),n=this.input.getInputValue(),!e||b.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(i=_.normalizeQuery(n),r=b.escapeRegExChars(i),(o=new RegExp("^(?:"+r+")(.+$)","i").exec(e.val))&&this.input.setHint(n+o[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(b.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),!(!((n=this.menu.getSelectableData(t))&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),r=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),t}();!function(){"use strict";function i(t,n){t.each(function(){var t,e=y(this);(t=e.data(v.typeahead))&&n(t,e)})}function f(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(n(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function m(t,e){t.data(v.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(o){}return t}function n(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function r(n){var t,e;t=n.data(v.www),e=n.parent().filter(t.selectors.wrapper),b.each(n.data(v.attrs),function(t,e){b.isUndefined(t)?n.removeAttr(e):n.attr(e,t)}),n.removeData(v.typeahead).removeData(v.www).removeData(v.attr).removeClass(t.classes.input),e.length&&(n.detach().insertAfter(e),e.remove())}function g(t){var e;return(e=b.isJQuery(t)||b.isElement(t)?y(t).first():[]).length?e:null}var t,v,e;t=y.fn.typeahead,v={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},e={initialize:function(d,h){function t(){var t,e,n,i,r,o,a,s,l,u,c;b.each(h,function(t){t.highlight=!!d.highlight}),t=y(this),e=y(p.html.wrapper),n=g(d.hint),i=g(d.menu),r=!1!==d.hint&&!n,o=!1!==d.menu&&!i,r&&(n=f(t,p)),o&&(i=y(p.html.menu).css(p.css.menu)),n&&n.val(""),t=m(t,p),(r||o)&&(e.css(p.css.wrapper),t.css(r?p.css.input:p.css.inputWithNoHint),t.wrap(e).parent().prepend(r?n:null).append(o?i:null)),c=o?k:x,a=new w({el:t}),s=new _({hint:n,input:t},p),l=new c({node:i,datasets:h},p),u=new C({input:s,menu:l,eventBus:a,minLength:d.minLength},p),t.data(v.www,p),t.data(v.typeahead,u)}var p;return h=b.isArray(h)?h:[].slice.call(arguments,1),p=o((d=d||{}).classNames),this.each(t)},isEnabled:function(){var e;return i(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return i(this,function(t){t.enable()}),this},disable:function(){return i(this,function(t){t.disable()}),this},isActive:function(){var e;return i(this.first(),function(t){e=t.isActive()}),e},activate:function(){return i(this,function(t){t.activate()}),this},deactivate:function(){return i(this,function(t){t.deactivate()}),this},isOpen:function(){var e;return i(this.first(),function(t){e=t.isOpen()}),e},open:function(){return i(this,function(t){t.open()}),this},close:function(){return i(this,function(t){t.close()}),this},select:function(t){var e=!1,n=y(t);return i(this.first(),function(t){e=t.select(n)}),e},autocomplete:function(t){var e=!1,n=y(t);return i(this.first(),function(t){e=t.autocomplete(n)}),e},moveCursor:function(e){var n=!1;return i(this.first(),function(t){n=t.moveCursor(e)}),n},val:function(e){var n;return arguments.length?(i(this,function(t){t.setVal(e)}),this):(i(this.first(),function(t){n=t.getVal()}),n)},destroy:function(){return i(this,function(t,e){r(e),t.destroy()}),this}},y.fn.typeahead=function(t){return e[t]?e[t].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)},y.fn.typeahead.noConflict=function(){return y.fn.typeahead=t,this}}()}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SimpleMDE=t()}}(function(){var s;return function c(o,a,s){function l(n,t){if(!a[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};o[n][0].call(r.exports,function(t){var e=o[n][1][t];return l(e||t)},r,r.exports,c,o,a,s)}return a[n].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(t,e,n){"use strict";function i(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)c[e]=t[e],d[t.charCodeAt(e)]=e;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63}function r(t){var e,n,i,r,o,a,s=t.length;if(0<s%4)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[s-2]?2:"="===t[s-1]?1:0,a=new h(3*s/4-o),i=0<o?s-4:s;var l=0;for(n=e=0;e<i;e+=4,n+=3)r=d[t.charCodeAt(e)]<<18|d[t.charCodeAt(e+1)]<<12|d[t.charCodeAt(e+2)]<<6|d[t.charCodeAt(e+3)],a[l++]=r>>16&255,a[l++]=r>>8&255,a[l++]=255&r;return 2===o?(r=d[t.charCodeAt(e)]<<2|d[t.charCodeAt(e+1)]>>4,a[l++]=255&r):1===o&&(r=d[t.charCodeAt(e)]<<10|d[t.charCodeAt(e+1)]<<4|d[t.charCodeAt(e+2)]>>2,a[l++]=r>>8&255,a[l++]=255&r),a}function a(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function u(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],r.push(a(i));return r.join("")}function o(t){for(var e,n=t.length,i=n%3,r="",o=[],a=16383,s=0,l=n-i;s<l;s+=a)o.push(u(t,s,l<s+a?l:s+a));return 1===i?(e=t[n-1],r+=c[e>>2],r+=c[e<<4&63],r+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],r+=c[e>>10],r+=c[e>>4&63],r+=c[e<<2&63],r+="="),o.push(r),o.join("")}n.toByteArray=r,n.fromByteArray=o;var c=[],d=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array;i()},{}],2:[function(){},{}],3:[function(Z,t,tt){(function(e){"use strict";function t(){try{var t=new Uint8Array(1);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function n(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=d.prototype:(null===t&&(t=new d(e)),t.length=e),t}function d(t,e,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(t,e,n);if("number"!=typeof t)return i(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return s(this,t)}function i(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?c(t,e,n,i):"string"==typeof e?l(t,e,n):h(t,e)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number')}function a(t,e,n,i){return o(e),e<=0?r(t,e):void 0!==n?"string"==typeof i?r(t,e).fill(n,i):r(t,e).fill(n):r(t,e)}function s(t,e){if(o(e),t=r(t,e<0?0:0|p(e)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;n++)t[n]=0;return t}function l(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return(t=r(t,0|m(e,n))).write(e,n),t}function u(t,e){var n=0|p(e.length);t=r(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function c(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),d.TYPED_ARRAY_SUPPORT?(t=e).__proto__=d.prototype:t=u(t,e),t}function h(t,e){if(d.isBuffer(e)){var n=0|p(e.length);return 0===(t=r(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Y(e.length)?r(t,0):u(t,e);if("Buffer"===e.type&&X(e.data))return u(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function f(t){return+t!=t&&(t=0),d.alloc(+t)}function m(t,e){if(d.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(i)return B(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return E(this,e,n);case"binary":return A(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function v(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function y(t,e,n,i){function r(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,a=t.length,s=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a/=o=2,s/=2,n/=2}for(var l=-1,u=0;n+u<a;u++)if(r(t,n+u)===r(e,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===s)return(n+l)*o}else-1!==l&&(u-=u-l),l=-1;return-1}function b(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?r<(i=Number(i))&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new Error("Invalid hex string");o/2<i&&(i=o/2);for(var a=0;a<i;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,i){return V(B(e,t.length-n),t,n,i)}function _(t,e,n,i){return V(U(e),t,n,i)}function x(t,e,n,i){return _(t,e,n,i)}function k(t,e,n,i){return V(W(e),t,n,i)}function C(t,e,n,i){return V(H(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?G.fromByteArray(t):G.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,l,u=t[r],c=null,d=239<u?4:223<u?3:191<u?2:1;if(r+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[r+1]))&&(127<(l=(31&u)<<6|63&o)&&(c=l));break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(2047<(l=(15&u)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(c=l));break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(65535<(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(c=l))}null===c?(c=65533,d=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=d}return $(i)}function $(t){var e=t.length;if(e<=J)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=J));return n}function E(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;r++)i+=String.fromCharCode(127&t[r]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;r++)i+=String.fromCharCode(t[r]);return i}function D(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||i<n)&&(n=i);for(var r="",o=e;o<n;o++)r+=q(t[o]);return r}function M(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,i,r,o){if(!d.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function L(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;r++)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function O(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;r++)t[n+r]=e>>>8*(i?r:3-r)&255}function F(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,i,r){return r||F(t,e,n,4,34028234663852886e22,-34028234663852886e22),K.write(t,e,n,i,23,4),n+4}function R(t,e,n,i,r){return r||F(t,e,n,8,17976931348623157e292,-17976931348623157e292),K.write(t,e,n,i,52,8),n+8}function j(t){if((t=z(t).replace(Q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],a=0;a<i;a++){if(55295<(n=t.charCodeAt(a))&&n<57344){if(!r){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(a+1===i){-1<(e-=3)&&o.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(e-=3)&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);a++)i=(n=t.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}function W(t){return G.toByteArray(j(t))}function V(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}function Y(t){return t!=t}var G=Z("base64-js"),K=Z("ieee754"),X=Z("isarray");tt.Buffer=d,tt.SlowBuffer=f,tt.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:t(),tt.kMaxLength=n(),d.poolSize=8192,d._augment=function(t){return t.__proto__=d.prototype,t},d.from=function(t,e,n){return i(null,t,e,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(t,e,n){return a(null,t,e,n)},d.allocUnsafe=function(t){return s(null,t)},d.allocUnsafeSlow=function(t){return s(null,t)},d.isBuffer=function(t){return!(null==t||!t._isBuffer)},d.compare=function(t,e){if(!d.isBuffer(t)||!d.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},d.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(t,e){if(!X(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return d.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;n++)e+=t[n].length;var i=d.allocUnsafe(e),r=0;for(n=0;n<t.length;n++){var o=t[n];if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},d.byteLength=m,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},d.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},d.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},d.prototype.equals=function(t){if(!d.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===d.compare(this,t)},d.prototype.inspect=function(){var t="",e=tt.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},d.prototype.compare=function(t,e,n,i,r){if(!d.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=e)return 0;if(r<=i)return-1;if(n<=e)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(i,r),u=t.slice(e,n),c=0;c<s;++c)if(l[c]!==u[c]){o=l[c],a=u[c];break}return o<a?-1:a<o?1:0},d.prototype.indexOf=function(t,e,n){if("string"==typeof e?(n=e,e=0):2147483647<e?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t&&(t=d.from(t,n)),d.isBuffer(t))return 0===t.length?-1:y(this,t,e,n);if("number"==typeof t)return d.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):y(this,[t],e,n);throw new TypeError("val must be string, number or Buffer")},d.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},d.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||r<n)&&(n=r),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"binary":return x(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;d.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t),d.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=d.prototype;else{var r=e-t;n=new d(r,void 0);for(var o=0;o<r;o++)n[o]=this[o+t]}return n},d.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},d.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t+--e],r=1;0<e&&(r*=256);)i+=this[t+--e]*r;return i},d.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},d.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},d.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},d.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},d.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},d.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*e)),i},d.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=e,r=1,o=this[t+--i];0<i&&(r*=256);)o+=this[t+--i]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*e)),o},d.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},d.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},d.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},d.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),K.read(this,t,!0,23,4)},d.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),K.read(this,t,!1,23,4)},d.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),K.read(this,t,!0,52,8)},d.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),K.read(this,t,!1,52,8)},d.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},d.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;0<=--r&&(o*=256);)this[e+r]=t/o&255;return e+n},d.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),d.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},d.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},d.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},d.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},d.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},d.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);I(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},d.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);I(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;0<=--o&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},d.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),d.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},d.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},d.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},d.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},d.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),d.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},d.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},d.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},d.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},d.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},d.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),0<i&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;0<=r;r--)t[r+e]=this[r+n];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(r=0;r<o;r++)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},d.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;o++)this[o]=t;else{var a=d.isBuffer(t)?t:B(new d(t,i).toString()),s=a.length;for(o=0;o<n-e;o++)this[o+e]=a[o%s]}return this};var Q=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(t,e){"use strict";function s(a){return"function"!=typeof(a=a||{}).codeMirrorInstance||"function"!=typeof a.codeMirrorInstance.defineMode?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),void a.codeMirrorInstance.defineMode("spell-checker",function(t){if(!s.aff_loading){s.aff_loading=!0;var e=new XMLHttpRequest;e.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),e.onload=function(){4===e.readyState&&200===e.status&&(s.aff_data=e.responseText,s.num_loaded++,2==s.num_loaded&&(s.typo=new l("en_US",s.aff_data,s.dic_data,{platform:"any"})))},e.send(null)}if(!s.dic_loading){s.dic_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),n.onload=function(){4===n.readyState&&200===n.status&&(s.dic_data=n.responseText,s.num_loaded++,2==s.num_loaded&&(s.typo=new l("en_US",s.aff_data,s.dic_data,{platform:"any"})))},n.send(null)}var i='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',r={token:function(t){var e=t.peek(),n="";if(i.includes(e))return t.next(),null;for(;null!=(e=t.peek())&&!i.includes(e);)n+=e,t.next();return s.typo&&!s.typo.check(n)?"spell-error":null}},
o=a.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return a.codeMirrorInstance.overlayMode(o,r,!0)}))}var l=t("typo-js");s.num_loaded=0,s.aff_loading=!1,s.dic_loading=!1,s.aff_data="",s.dic_data="",s.typo,e.exports=s},{"typo-js":18}],5:[function(t,e,n){var i;i=function(i){"use strict";function r(t){var e=t.getWrapperElement();t.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:e.style.width,height:e.style.height},e.style.width="",e.style.height="auto",e.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",t.refresh()}function o(t){var e=t.getWrapperElement();e.className=e.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=t.state.fullScreenRestore;e.style.width=n.width,e.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),t.refresh()}i.defineOption("fullScreen",!1,function(t,e,n){n==i.Init&&(n=!1),!n!=!e&&(e?r(t):o(t))})},"object"==typeof n&&"object"==typeof e?i(t("../../lib/codemirror")):"function"==typeof s&&s.amd?s(["../../lib/codemirror"],i):i(CodeMirror)},{"../../lib/codemirror":10}],6:[function(t,e,n){var i;i=function(o){function a(t){t.state.placeholder&&(t.state.placeholder.parentNode.removeChild(t.state.placeholder),t.state.placeholder=null)}function i(t){a(t);var e=t.state.placeholder=document.createElement("pre");e.style.cssText="height: 0; overflow: visible",e.className="CodeMirror-placeholder";var n=t.getOption("placeholder");"string"==typeof n&&(n=document.createTextNode(n)),e.appendChild(n),t.display.lineSpace.insertBefore(e,t.display.lineSpace.firstChild)}function s(t){r(t)&&i(t)}function l(t){var e=t.getWrapperElement(),n=r(t);e.className=e.className.replace(" CodeMirror-empty","")+(n?" CodeMirror-empty":""),n?i(t):a(t)}function r(t){return 1===t.lineCount()&&""===t.getLine(0)}o.defineOption("placeholder","",function(t,e,n){var i=n&&n!=o.Init;if(e&&!i)t.on("blur",s),t.on("change",l),t.on("swapDoc",l),l(t);else if(!e&&i){t.off("blur",s),t.off("change",l),t.off("swapDoc",l),a(t);var r=t.getWrapperElement();r.className=r.className.replace(" CodeMirror-empty","")}e&&!t.hasFocus()&&s(t)})},"object"==typeof n&&"object"==typeof e?i(t("../../lib/codemirror")):"function"==typeof s&&s.amd?s(["../../lib/codemirror"],i):i(CodeMirror)},{"../../lib/codemirror":10}],7:[function(t,e,n){var i;i=function(p){"use strict";var f=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,m=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,g=/[*+-]\s/;p.commands.newlineAndIndentContinueMarkdownList=function(t){if(t.getOption("disableInput"))return p.Pass;for(var e=t.listSelections(),n=[],i=0;i<e.length;i++){var r=e[i].head,o=t.getStateAfter(r.line),a=!1!==o.list,s=0!==o.quote,l=t.getLine(r.line),u=f.exec(l);if(!e[i].empty()||!a&&!s||!u)return void t.execCommand("newlineAndIndent");if(m.test(l))t.replaceRange("",{line:r.line,ch:0},{line:r.line,ch:r.ch+1}),n[i]="\n";else{var c=u[1],d=u[5],h=g.test(u[2])||0<=u[2].indexOf(">")?u[2]:parseInt(u[3],10)+1+u[4];n[i]="\n"+c+h+d}}t.replaceSelections(n)}},"object"==typeof n&&"object"==typeof e?i(t("../../lib/codemirror")):"function"==typeof s&&s.amd?s(["../../lib/codemirror"],i):i(CodeMirror)},{"../../lib/codemirror":10}],8:[function(t,e,n){var i;i=function(e){"use strict";e.overlayMode=function(n,i,r){return{startState:function(){return{base:e.startState(n),overlay:e.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(t){return{base:e.copyState(n,t.base),overlay:e.copyState(i,t.overlay),basePos:t.basePos,baseCur:null,overlayPos:t.overlayPos,overlayCur:null}},token:function(t,e){return(t!=e.streamSeen||Math.min(e.basePos,e.overlayPos)<t.start)&&(e.streamSeen=t,e.basePos=e.overlayPos=t.start),t.start==e.basePos&&(e.baseCur=n.token(t,e.base),e.basePos=t.pos),t.start==e.overlayPos&&(t.pos=t.start,e.overlayCur=i.token(t,e.overlay),e.overlayPos=t.pos),t.pos=Math.min(e.basePos,e.overlayPos),null==e.overlayCur?e.baseCur:null!=e.baseCur&&e.overlay.combineTokens||r&&null==e.overlay.combineTokens?e.baseCur+" "+e.overlayCur:e.overlayCur},indent:n.indent&&function(t,e){return n.indent(t.base,e)},electricChars:n.electricChars,innerMode:function(t){return{state:t.base,mode:n}},blankLine:function(t){n.blankLine&&n.blankLine(t.base),i.blankLine&&i.blankLine(t.overlay)}}}},"object"==typeof n&&"object"==typeof e?i(t("../../lib/codemirror")):"function"==typeof s&&s.amd?s(["../../lib/codemirror"],i):i(CodeMirror)},{"../../lib/codemirror":10}],9:[function(t,e,n){var i;i=function(r){"use strict";function o(t){t.operation(function(){e(t)})}function a(t){t.state.markedSelection.length&&t.operation(function(){l(t)})}function s(t,e,n,i){if(0!=f(e,n))for(var r=t.state.markedSelection,o=t.state.markedSelectionStyle,a=e.line;;){var s=a==e.line?e:p(a,0),l=a+h,u=l>=n.line,c=u?n:p(l,0),d=t.markText(s,c,{className:o});if(null==i?r.push(d):r.splice(i++,0,d),u)break;a=l}}function l(t){for(var e=t.state.markedSelection,n=0;n<e.length;++n)e[n].clear();e.length=0}function u(t){l(t);for(var e=t.listSelections(),n=0;n<e.length;n++)s(t,e[n].from(),e[n].to())}function e(t){if(!t.somethingSelected())return l(t);if(1<t.listSelections().length)return u(t);var e=t.getCursor("start"),n=t.getCursor("end"),i=t.state.markedSelection;if(!i.length)return s(t,e,n);var r=i[0].find(),o=i[i.length-1].find();if(!r||!o||n.line-e.line<h||0<=f(e,o.to)||f(n,r.from)<=0)return u(t);for(;0<f(e,r.from);)i.shift().clear(),r=i[0].find();for(f(e,r.from)<0&&(r.to.line-e.line<h?(i.shift().clear(),s(t,e,r.to,0)):s(t,e,r.from,0));f(n,o.to)<0;)i.pop().clear(),o=i[i.length-1].find();0<f(n,o.to)&&(n.line-o.from.line<h?(i.pop().clear(),s(t,o.from,n)):s(t,o.to,n))}r.defineOption("styleSelectedText",!1,function(t,e,n){var i=n&&n!=r.Init;e&&!i?(t.state.markedSelection=[],t.state.markedSelectionStyle="string"==typeof e?e:"CodeMirror-selectedtext",u(t),t.on("cursorActivity",o),t.on("change",a)):!e&&i&&(t.off("cursorActivity",o),t.off("change",a),l(t),t.state.markedSelection=t.state.markedSelectionStyle=null)});var h=8,p=r.Pos,f=r.cmpPos},"object"==typeof n&&"object"==typeof e?i(t("../../lib/codemirror")):"function"==typeof s&&s.amd?s(["../../lib/codemirror"],i):i(CodeMirror)},{"../../lib/codemirror":10}],10:[function(t,e,n){!function(t){if("object"==typeof n&&"object"==typeof e)e.exports=t();else{if("function"==typeof s&&s.amd)return s([],t);(this||window).CodeMirror=t()}}(function(){"use strict";function l(t,e){if(!(this instanceof l))return new l(t,e);this.options=e=e?Nr(e):{},Nr(ta,e,!1),m(e);var n=e.value;"string"==typeof n&&(n=new Ca(n,e.mode,null,e.lineSeparator)),this.doc=n;var i=new l.inputStyles[e.inputStyle](this),r=this.display=new u(t,n,i);h(r.wrapper.CodeMirror=this),c(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),e.autofocus&&!Ao&&r.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Dr,keySeq:null,specialChars:null};var o=this;for(var a in bo&&wo<11&&setTimeout(function(){o.display.input.reset(!0)},20),Be(this),Kr(),we(this),this.curOp.forceUpdate=!0,Xi(this,n),e.autofocus&&!Ao||o.hasFocus()?setTimeout(Rr(vn,this),20):yn(this),ea)ea.hasOwnProperty(a)&&ea[a](this,e[a],na);_(this),e.finishInit&&e.finishInit(this);for(var s=0;s<aa.length;++s)aa[s](this);xe(this),_o&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(r.lineDiv).textRendering&&(r.lineDiv.style.textRendering="auto")}function u(t,e,n){var i=this;this.input=n,i.scrollbarFiller=Br("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Br("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Br("div",null,"CodeMirror-code"),i.selectionDiv=Br("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Br("div",null,"CodeMirror-cursors"),i.measure=Br("div",null,"CodeMirror-measure"),i.lineMeasure=Br("div",null,"CodeMirror-measure"),i.lineSpace=Br("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Br("div",[Br("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Br("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Br("div",null,null,"position: absolute; height: "+Oa+"px; width: 1px;"),i.gutters=Br("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Br("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Br("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),bo&&wo<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),_o||go&&Ao||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=l.getMode(t.options,t.doc.modeOption),e(t)}function e(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,jt(t,100),t.state.modeGen++,t.curOp&&Oe(t)}function r(t){t.options.lineWrapping?(Za(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Qa(t.display.wrapper,"CodeMirror-wrap"),o(t)),i(t),Oe(t),se(t),setTimeout(function(){y(t)},100)}function p(i){var r=ye(i.display),o=i.options.lineWrapping,a=o&&Math.max(5,i.display.scroller.clientWidth/be(i.display)-3);return function(t){if(xi(i.doc,t))return 0;var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;n++)t.widgets[n].height&&(e+=t.widgets[n].height);return o?e+(Math.ceil(t.text.length/a)||1)*r:e+r}}function i(t){var e=t.doc,n=p(t);e.iter(function(t){var e=n(t);e!=t.height&&tr(t,e)})}function c(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),se(t)}function d(t){h(t),Oe(t),setTimeout(function(){w(t)},20)}function h(t){var e=t.display.gutters,n=t.options.gutters;Ur(e);for(var i=0;i<n.length;++i){var r=n[i],o=e.appendChild(Br("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&((t.display.lineGutter=o).style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=i?"":"none",s(t)}function s(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function f(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=mi(i);){i=(r=e.find(0,!0)).from.line,n+=r.from.ch-r.to.ch}for(i=t;e=gi(i);){var r=e.find(0,!0);n-=i.text.length-r.from.ch,n+=(i=r.to.line).text.length-r.to.ch}return n}function o(t){var n=t.display,e=t.doc;n.maxLine=Ji(e,e.first),n.maxLineLength=f(n.maxLine),n.maxLineChanged=!0,e.iter(function(t){var e=f(t);e>n.maxLineLength&&(n.maxLineLength=e,n.maxLine=t)})}function m(t){var e=Ir(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):-1<e&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function a(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+Ht(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Vt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function t(t,e,n){this.cm=n;var i=this.vert=Br("div",[Br("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Br("div",[Br("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(i),t(r),Da(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),Da(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bo&&wo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&Qa(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new l.scrollbarModel[n.options.scrollbarStyle](function(t){n.display.wrapper.insertBefore(t,n.display.scrollbarFiller),Da(t,"mousedown",function(){n.state.focused&&setTimeout(function(){n.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,e){"horizontal"==e?on(n,t):rn(n,t)},n),n.display.scrollbars.addClass&&Za(n.display.wrapper,n.display.scrollbars.addClass)}function y(t,e){e||(e=a(t));var n=t.display.barWidth,i=t.display.barHeight;b(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&M(t),b(t,a(t)),n=t.display.barWidth,i=t.display.barHeight}function b(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function k(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-Ut(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=nr(e,i),a=nr(e,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?a=nr(e,ir(Ji(e,o=s))+t.wrapper.clientHeight):Math.min(l,e.lastLine())>=a&&(o=nr(e,ir(Ji(e,l))-t.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function w(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=C(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function _(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=x(t.options,e.first+e.size-1),i=t.display;if(n.length==i.lineNumChars)return!1;var r=i.measure.appendChild(Br("div",[Br("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,a=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-a)+1,i.lineNumWidth=i.lineNumInnerWidth+a,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",s(t),!0}function x(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function C(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function S(t,e,n){var i=t.display;this.viewport=e,this.visible=k(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Yt(t),this.force=n,this.dims=I(t),this.events=[]}function T(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Vt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Vt(t)+"px",e.scrollbarsClipped=!0)}function $(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return Ne(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==qe(t))return!1;_(t)&&(Ne(t),e.dims=I(t));var r=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),a=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(r,n.viewTo)),No&&(o=wi(t.doc,o),a=_i(t.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;ze(t,o,a),n.viewOffset=ir(Ji(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=qe(t);if(!s&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Wr();return 4<l&&(n.lineDiv.style.display="none"),L(t,n.updateLineNumbers,e.dims),4<l&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&Wr()!=u&&u.offsetHeight&&u.focus(),Ur(n.cursorDiv),Ur(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,jt(t,400)),!(n.updateLineNumbers=null)}function E(t,e){for(var n=e.viewport,i=!0;(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Yt(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Ht(t.display)-Gt(t),n.top)}),e.visible=k(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&$(t,e);i=!1){M(t);var r=a(t);Lt(t),y(t,r),D(t,r)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function A(t,e){var n=new S(t,e);if($(t,n)){M(t),E(t,n);var i=a(t);Lt(t),y(t,i),D(t,i),n.finish()}}function D(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Vt(t)+"px"}function M(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var r,o=e.view[i];if(!o.hidden){if(bo&&wo<8){var a=o.node.offsetTop+o.node.offsetHeight;r=a-n,n=a}else{var s=o.node.getBoundingClientRect();r=s.bottom-s.top}var l=o.line.height-r;if(r<2&&(r=ye(e)),(.001<l||l<-.001)&&(tr(o.line,r),P(o.line),o.rest))for(var u=0;u<o.rest.length;u++)P(o.rest[u])}}}function P(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function I(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[t.options.gutters[a]]=o.offsetLeft+o.clientLeft+r,i[t.options.gutters[a]]=o.clientWidth;return{fixedPos:C(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function L(n,t,e){function i(t){var e=t.nextSibling;return _o&&Do&&n.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),e}for(var r=n.display,o=n.options.lineNumbers,a=r.lineDiv,s=a.firstChild,l=r.view,u=r.viewFrom,c=0;c<l.length;c++){var d=l[c];if(d.hidden);else if(d.node&&d.node.parentNode==a){for(;s!=d.node;)s=i(s);var h=o&&null!=t&&t<=u&&d.lineNumber;d.changes&&(-1<Ir(d.changes,"gutter")&&(h=!1),O(n,d,u,e)),h&&(Ur(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(x(n.options,u)))),s=d.node.nextSibling}else{var p=U(n,d,u,e);a.insertBefore(p,s)}u+=d.size}for(;s;)s=i(s)}function O(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?j(t,e):"gutter"==o?q(t,e,n,i):"class"==o?z(e):"widget"==o&&B(t,e,i)}e.changes=null}function F(t){return t.node==t.text&&(t.node=Br("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),bo&&wo<8&&(t.node.style.zIndex=2)),t.node}function N(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=F(t);t.background=n.insertBefore(Br("div",null,e),n.firstChild)}}function R(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Ri(t,e)}function j(t,e){var n=e.text.className,i=R(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,z(e)):n&&(e.text.className=n)}function z(t){N(t),t.line.wrapClass?F(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function q(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=F(e);e.gutterBackground=Br("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){r=F(e);var a=e.gutter=Br("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),r.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(Br("div",x(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<t.options.gutters.length;++s){var l=t.options.gutters[s],u=o.hasOwnProperty(l)&&o[l];u&&a.appendChild(Br("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function B(t,e,n){e.alignable&&(e.alignable=null);for(var i=e.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&e.node.removeChild(i)}H(t,e,n)}function U(t,e,n,i){var r=R(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),z(e),q(t,e,n,i),H(t,e,i),e.node}function H(t,e,n){if(W(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)W(t,e.rest[i],e,n,!1)}function W(t,e,n,i,r){if(e.widgets)for(var o=F(n),a=0,s=e.widgets;a<s.length;++a){var l=s[a],u=Br("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),V(l,u,n,i),t.display.input.setUneditable(u),r&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Cr(l,"redraw")}}function V(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function Y(t){return Ro(t.line,t.ch)}function G(t,e){return jo(t,e)<0?e:t}function K(t,e){return jo(t,e)<0?t:e}function X(t){t.state.focused||(t.display.input.focus(),vn(t))}function J(t,e,n,i,r){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var a=t.state.pasteIncoming||"paste"==r,s=o.splitLines(e),l=null;if(a&&1<i.ranges.length)if(zo&&zo.text.join("\n")==e){if(i.ranges.length%zo.text.length==0){l=[];for(var u=0;u<zo.text.length;u++)l.push(o.splitLines(zo.text[u]))}}else s.length==i.ranges.length&&(l=Lr(s,function(t){return[t]}));for(u=i.ranges.length-1;0<=u;u--){var c=i.ranges[u],d=c.from(),h=c.to();c.empty()&&(n&&0<n?d=Ro(d.line,d.ch-n):t.state.overwrite&&!a?h=Ro(h.line,Math.min(Ji(o,h.line).text.length,h.ch+Pr(s).length)):zo&&zo.lineWise&&zo.text.join("\n")==e&&(d=h=Ro(d.line,0)));var p=t.curOp.updateInput,f={from:d,to:h,text:l?l[u%l.length]:s,origin:r||(a?"paste":t.state.cutIncoming?"cut":"+input")};Tn(t.doc,f),Cr(t,"inputRead",t,f)}e&&!a&&Z(t,e),Rn(t),t.curOp.updateInput=p,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Q(t,e){var n=t.clipboardData&&t.clipboardData.getData("text/plain");return n?(t.preventDefault(),e.isReadOnly()||e.options.disableInput||Ae(e,function(){J(e,n,0,null,"paste")}),!0):void 0}function Z(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;0<=i;i--){var r=n.ranges[i];if(!(100<r.head.ch||i&&n.ranges[i-1].head.line==r.head.line)){var o=t.getModeAt(r.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(-1<e.indexOf(o.electricChars.charAt(s))){a=zn(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ji(t.doc,r.head.line).text.slice(0,r.head.ch))&&(a=zn(t,r.head.line,"smart"));a&&Cr(t,"electricInput",t,r.head.line)}}}function tt(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,o={anchor:Ro(r,0),head:Ro(r+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function et(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function nt(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Dr,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function it(){var t=Br("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=Br("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return _o?t.style.width="1000px":t.setAttribute("wrap","off"),Eo&&(t.style.border="1px solid black"),et(t),e}function rt(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Dr,this.gracePeriod=!1}function ot(t,e){var n=Zt(t,e.line);if(!n||n.hidden)return null;var i=Ji(t.doc,e.line),r=Xt(n,i,e.line),o=rr(i),a="left";o&&(a=uo(o,e.ch)%2?"right":"left");var s=ne(r.map,e.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function at(t,e){return e&&(t.bad=!0),t}function st(t,e,n){var i;if(e==t.display.lineDiv){if(!(i=t.display.lineDiv.childNodes[n]))return at(t.clipPos(Ro(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==i)return lt(o,e,n)}}function lt(u,t,e){function n(t,e,n){for(var i=-1;i<(d?d.length:0);i++)for(var r=i<0?c.map:d[i],o=0;o<r.length;o+=3){var a=r[o+2];if(a==t||a==e){var s=er(i<0?u.line:u.rest[i]),l=r[o]+n;return(n<0||a!=t)&&(l=r[o+(n?1:0)]),Ro(s,l)}}}var i=u.text.firstChild,r=!1;if(!t||!Ga(i,t))return at(Ro(er(u.line),0),!0);if(t==i&&(r=!0,t=i.childNodes[e],e=0,!t)){var o=u.rest?Pr(u.rest):u.line;return at(Ro(er(o),o.text.length),r)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,e&&(e=a.nodeValue.length));s.parentNode!=i;)s=s.parentNode;var c=u.measure,d=c.maps,l=n(a,s,e);if(l)return at(l,r);for(var h=s.nextSibling,p=a?a.nodeValue.length-e:0;h;h=h.nextSibling){if(l=n(h,h.firstChild,0))return at(Ro(l.line,l.ch-p),r);p+=h.textContent.length}var f=s.previousSibling;for(p=e;f;f=f.previousSibling){if(l=n(f,f.firstChild,-1))return at(Ro(l.line,l.ch+p),r);p+=h.textContent.length}}function ut(s,t,e,l,u){function c(e){return function(t){return t.id==e}}function d(t){if(1==t.nodeType){var e=t.getAttribute("cm-text");if(null!=e)return""==e&&(e=t.textContent.replace(/\u200b/g,"")),void(h+=e);var n,i=t.getAttribute("cm-marker");if(i){var r=s.findMarks(Ro(l,0),Ro(u+1,0),c(+i));return void(r.length&&(n=r[0].find())&&(h+=Qi(s.doc,n.from,n.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;for(var o=0;o<t.childNodes.length;o++)d(t.childNodes[o]);/^(pre|div|p)$/i.test(t.nodeName)&&(p=!0)}else if(3==t.nodeType){var a=t.nodeValue;if(!a)return;p&&(h+=f,p=!1),h+=a}}for(var h="",p=!1,f=s.doc.lineSeparator();d(t),t!=e;)t=t.nextSibling;return h}function ct(t,e){this.ranges=t,this.primIndex=e}function dt(t,e){this.anchor=t,this.head=e}function ht(t,e){var n=t[e];t.sort(function(t,e){return jo(t.from(),e.from())}),e=Ir(t,n);for(var i=1;i<t.length;i++){var r=t[i],o=t[i-1];if(0<=jo(o.to(),r.from())){var a=K(o.from(),r.from()),s=G(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=e&&--e,t.splice(--i,2,new dt(l?s:a,l?a:s))}}return new ct(t,e)}function pt(t,e){return new ct([new dt(t,e||t)],0)}function ft(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function mt(t,e){if(e.line<t.first)return Ro(t.first,0);var n=t.first+t.size-1;return e.line>n?Ro(n,Ji(t,n).text.length):gt(e,Ji(t,e.line).text.length)}function gt(t,e){var n=t.ch;return null==n||e<n?Ro(t.line,e):n<0?Ro(t.line,0):t}function vt(t,e){return e>=t.first&&e<t.first+t.size}function yt(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=mt(t,e[i]);return n}function bt(t,e,n,i){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(i){var o=jo(n,r)<0;o!=jo(i,r)<0?(r=n,n=i):o!=jo(n,i)<0&&(n=i)}return new dt(r,n)}return new dt(i||n,n)}function wt(t,e,n,i){Tt(t,new ct([bt(t,t.sel.primary(),e,n)],0),i)}function _t(t,e,n){for(var i=[],r=0;r<t.sel.ranges.length;r++)i[r]=bt(t,t.sel.ranges[r],e[r],null);Tt(t,ht(i,t.sel.primIndex),n)}function xt(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,Tt(t,ht(r,t.sel.primIndex),i)}function kt(t,e,n,i){Tt(t,pt(e,n),i)}function Ct(n,t,e){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var e=0;e<t.length;e++)this.ranges[e]=new dt(mt(n,t[e].anchor),mt(n,t[e].head))},origin:e&&e.origin};return Ia(n,"beforeSelectionChange",n,i),n.cm&&Ia(n.cm,"beforeSelectionChange",n.cm,i),i.ranges!=t.ranges?ht(i.ranges,i.ranges.length-1):t}function St(t,e,n){var i=t.history.done,r=Pr(i);r&&r.ranges?$t(t,i[i.length-1]=e,n):Tt(t,e,n)}function Tt(t,e,n){$t(t,e,n),dr(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function $t(t,e,n){(Er(t,"beforeSelectionChange")||t.cm&&Er(t.cm,"beforeSelectionChange"))&&(e=Ct(t,e,n)),Et(t,Dt(t,e,n&&n.bias||(jo(e.primary().head,t.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!t.cm||Rn(t.cm)}function Et(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,$r(t.cm)),Cr(t,"cursorActivity",t))}function At(t){Et(t,Dt(t,t.sel,null,!1),Na)}function Dt(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=Pt(t,a.anchor,s&&s.anchor,n,i),u=Pt(t,a.head,s&&s.head,n,i);(r||l!=a.anchor||u!=a.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new dt(l,u))}return r?ht(r,e.primIndex):e}function Mt(t,e,n,i,r){var o=Ji(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(l.inclusiveRight?s.to>=e.ch:s.to>e.ch))){if(r&&(Ia(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u,c=l.find(i<0?1:-1);if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(c=It(t,c,-i,c&&c.line==e.line?o:null)),c&&c.line==e.line&&(u=jo(c,n))&&(i<0?u<0:0<u))return Mt(t,c,e,i,r)}var d=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(d=It(t,d,i,d.line==e.line?o:null)),d?Mt(t,d,e,i,r):null}}return e}function Pt(t,e,n,i,r){var o=i||1,a=Mt(t,e,n,o,r)||!r&&Mt(t,e,n,o,!0)||Mt(t,e,n,-o,r)||!r&&Mt(t,e,n,-o,!0);return a||(t.cantEdit=!0,Ro(t.first,0))}function It(t,e,n,i){return n<0&&0==e.ch?e.line>t.first?mt(t,Ro(e.line-1)):null:0<n&&e.ch==(i||Ji(t,e.line)).text.length?e.line<t.first+t.size-1?Ro(e.line+1,0):null:new Ro(e.line,e.ch+n)}function Lt(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ot(t,e){for(var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==e||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var l=s.empty();(l||t.options.showCursorWhenSelecting)&&Ft(t,s.head,r),l||Nt(t,s,o)}}return i}function Ft(t,e,n){var i=pe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(Br("div","\xa0","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=n.appendChild(Br("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Nt(r,t,e){function f(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),a.appendChild(Br("div",null,
"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?g-t:n)+"px; height: "+(i-e)+"px"))}function n(n,l,u){function c(t,e){return he(r,Ro(n,t),"div",i,e)}var d,h,i=Ji(o,n),p=i.text.length;return to(rr(i),l||0,null==u?p:u,function(t,e,n){var i,r,o,a=c(t,"left");if(t==e)r=o=(i=a).left;else{if(i=c(e-1,"right"),"rtl"==n){var s=a;a=i,i=s}r=a.left,o=i.right}null==l&&0==t&&(r=m),3<i.top-a.top&&(f(r,a.top,null,a.bottom),r=m,a.bottom<i.top&&f(r,a.bottom,null,i.top)),null==u&&e==p&&(o=g),(!d||a.top<d.top||a.top==d.top&&a.left<d.left)&&(d=a),(!h||i.bottom>h.bottom||i.bottom==h.bottom&&i.right>h.right)&&(h=i),r<m+1&&(r=m),f(r,i.top,o-r,i.bottom)}),{start:d,end:h}}var i=r.display,o=r.doc,a=document.createDocumentFragment(),s=Wt(r.display),m=s.left,g=Math.max(i.sizerWidth,Yt(r)-i.sizer.offsetLeft)-s.right,l=t.from(),u=t.to();if(l.line==u.line)n(l.line,l.ch,u.ch);else{var c=Ji(o,l.line),d=Ji(o,u.line),h=yi(c)==yi(d),p=n(l.line,l.ch,h?c.text.length+1:null).end,v=n(u.line,h?0:null,u.ch).start;h&&(p.top<v.top-2?(f(p.right,p.top,null,p.bottom),f(m,v.top,v.left,v.bottom)):f(p.right,p.top,v.left-p.right,p.bottom)),p.bottom<v.top&&f(m,p.bottom,null,v.top)}e.appendChild(a)}function Rt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",0<t.options.cursorBlinkRate?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function jt(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Rr(zt,t))}function zt(l){var u=l.doc;if(u.frontier<u.first&&(u.frontier=u.first),!(u.frontier>=l.display.viewTo)){var c=+new Date+l.options.workTime,d=la(u.mode,Bt(l,u.frontier)),h=[];u.iter(u.frontier,Math.min(u.first+u.size,l.display.viewTo+500),function(t){if(u.frontier>=l.display.viewFrom){var e=t.styles,n=t.text.length>l.options.maxHighlightLength,i=Li(l,t,n?la(u.mode,d):d,!0);t.styles=i.styles;var r=t.styleClasses,o=i.classes;o?t.styleClasses=o:r&&(t.styleClasses=null);for(var a=!e||e.length!=t.styles.length||r!=o&&(!r||!o||r.bgClass!=o.bgClass||r.textClass!=o.textClass),s=0;!a&&s<e.length;++s)a=e[s]!=t.styles[s];a&&h.push(u.frontier),t.stateAfter=n?d:la(u.mode,d)}else t.text.length<=l.options.maxHighlightLength&&Fi(l,t.text,d),t.stateAfter=u.frontier%5==0?la(u.mode,d):null;return++u.frontier,+new Date>c?(jt(l,l.options.workDelay),!0):void 0}),h.length&&Ae(l,function(){for(var t=0;t<h.length;t++)Fe(l,h[t],"text")})}}function qt(t,e,n){for(var i,r,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;a<s;--s){if(s<=o.first)return o.first;var l=Ji(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var u=za(l.text,null,t.options.tabSize);(null==r||u<i)&&(r=s-1,i=u)}return r}function Bt(n,i,t){var r=n.doc,o=n.display;if(!r.mode.startState)return!0;var a=qt(n,i,t),s=a>r.first&&Ji(r,a-1).stateAfter;return s=s?la(r.mode,s):ua(r.mode),r.iter(a,i,function(t){Fi(n,t.text,s);var e=a==i-1||a%5==0||a>=o.viewFrom&&a<o.viewTo;t.stateAfter=e?la(r.mode,s):null,++a}),t&&(r.frontier=a),s}function Ut(t){return t.lineSpace.offsetTop}function Ht(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Wt(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Hr(t.measure,Br("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function Vt(t){return Oa-t.display.nativeBarWidth}function Yt(t){return t.display.scroller.clientWidth-Vt(t)-t.display.barWidth}function Gt(t){return t.display.scroller.clientHeight-Vt(t)-t.display.barHeight}function Kt(t,e,n){var i=t.options.lineWrapping,r=i&&Yt(t);if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];2<Math.abs(l.bottom-u.bottom)&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xt(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(i=0;i<t.rest.length;i++)if(er(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Jt(t,e){var n=er(e=yi(e)),i=t.display.externalMeasured=new Ie(t.doc,e,n);i.lineN=n;var r=i.built=Ri(t,i);return i.text=r.pre,Hr(t.display.lineMeasure,r.pre),i}function Qt(t,e,n,i){return ee(t,te(t,e),n,i)}function Zt(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Re(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function te(t,e){var n=er(e),i=Zt(t,n);i&&!i.text?i=null:i&&i.changes&&(O(t,i,n,I(t)),t.curOp.forceUpdate=!0),i||(i=Jt(t,e));var r=Xt(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function ee(t,e,n,i,r){e.before&&(n=-1);var o,a=n+(i||"");return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Kt(t,e.view,e.rect),e.hasHeights=!0),(o=ie(t,e,n,i)).bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function ne(t,e,n){for(var i,r,o,a,s=0;s<t.length;s+=3){var l=t[s],u=t[s+1];if(e<l?(r=0,o=1,a="left"):e<u?o=(r=e-l)+1:(s==t.length-3||e==u&&t[s+3]>e)&&(r=(o=u-l)-1,u<=e&&(a="right")),null!=r){if(i=t[s+2],l==u&&n==(i.insertLeft?"left":"right")&&(a=n),"left"==n&&0==r)for(;s&&t[s-2]==t[s-3]&&t[s-1].insertLeft;)i=t[2+(s-=3)],a="left";if("right"==n&&r==u-l)for(;s<t.length-3&&t[s+3]==t[s+4]&&!t[s+5].insertLeft;)i=t[(s+=3)+2],a="right";break}}return{node:i,start:r,end:o,collapse:a,coverStart:l,coverEnd:u}}function ie(t,e,n,i){var r,o=ne(e.map,n,i),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&qr(e.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&qr(e.line.text.charAt(o.coverStart+l));)++l;if(bo&&wo<9&&0==s&&l==o.coverEnd-o.coverStart)r=a.parentNode.getBoundingClientRect();else if(bo&&t.options.lineWrapping){r=(d=Ha(a,s,l).getClientRects()).length?d["right"==i?d.length-1:0]:Ho}else r=Ha(a,s,l).getBoundingClientRect()||Ho;if(r.left||r.right||0==s)break;l=s,s-=1,u="right"}bo&&wo<11&&(r=re(t.display.measure,r))}else{var d;0<s&&(u=i="right"),r=t.options.lineWrapping&&1<(d=a.getClientRects()).length?d["right"==i?d.length-1:0]:a.getBoundingClientRect()}if(bo&&wo<9&&!s&&(!r||!r.left&&!r.right)){var h=a.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+be(t.display),top:h.top,bottom:h.bottom}:Ho}var p=r.top-e.rect.top,f=r.bottom-e.rect.top,m=(p+f)/2,g=e.view.measure.heights;for(c=0;c<g.length-1&&!(m<g[c]);c++);var v=c?g[c-1]:0,y=g[c],b={left:("right"==u?r.right:r.left)-e.rect.left,right:("left"==u?r.left:r.right)-e.rect.left,top:v,bottom:y};return r.left||r.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=f),b}function re(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Zr(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}function oe(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function ae(t){t.display.externalMeasure=null,Ur(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)oe(t.display.view[e])}function se(t){ae(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function le(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ue(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ce(t,e,n,i){if(e.widgets)for(var r=0;r<e.widgets.length;++r)if(e.widgets[r].above){var o=Si(e.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var a=ir(e);if("local"==i?a+=Ut(t.display):a-=t.display.viewOffset,"page"==i||"window"==i){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==i?0:ue());var l=s.left+("window"==i?0:le());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function de(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=le(),r-=ue();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:i-a.left,top:r-a.top}}function he(t,e,n,i,r){return i||(i=Ji(t.doc,e.line)),ce(t,i,Qt(t,i,e.ch,r),n)}function pe(i,t,r,o,a,s){function l(t,e){var n=ee(i,a,t,e?"right":"left",s);return e?n.left=n.right:n.right=n.left,ce(i,o,n,r)}function e(t,e){var n=u[e],i=n.level%2;return t==eo(n)&&e&&n.level<u[e-1].level?(t=no(n=u[--e])-(n.level%2?0:1),i=!0):t==no(n)&&e<u.length-1&&n.level<u[e+1].level&&(t=eo(n=u[++e])-n.level%2,i=!1),i&&t==n.to&&t>n.from?l(t-1):l(t,i)}o=o||Ji(i.doc,t.line),a||(a=te(i,o));var u=rr(o),n=t.ch;if(!u)return l(n);var c=e(n,uo(u,n));return null!=ss&&(c.other=e(n,ss)),c}function fe(t,e){var n=0;e=mt(t.doc,e);t.options.lineWrapping||(n=be(t.display)*e.ch);var i=Ji(t.doc,e.line),r=ir(i)+Ut(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function me(t,e,n,i){var r=Ro(t,e);return r.xRel=i,n&&(r.outside=!0),r}function ge(t,e,n){var i=t.doc;if((n+=t.display.viewOffset)<0)return me(i.first,0,!0,-1);var r=nr(i,n),o=i.first+i.size-1;if(o<r)return me(i.first+i.size-1,Ji(i,o).text.length,!0,1);e<0&&(e=0);for(var a=Ji(i,r);;){var s=ve(t,a,r,e,n),l=gi(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&0<s.xRel))return s;r=er(a=u.to.line)}}function ve(n,i,r,t,e){function o(t){var e=pe(n,Ro(r,t),"line",i,u);return s=!0,a>e.bottom?e.left-l:a<e.top?e.left+l:(s=!1,e.left)}var a=e-ir(i),s=!1,l=2*n.display.wrapper.clientWidth,u=te(n,i),c=rr(i),d=i.text.length,h=io(i),p=ro(i),f=o(h),m=s,g=o(p),v=s;if(g<t)return me(r,p,v,1);for(;;){if(c?p==h||p==ho(i,h,1):p-h<=1){for(var y=t<f||t-f<=g-t?h:p,b=t-(y==h?f:g);qr(i.text.charAt(y));)++y;return me(r,y,y==h?m:v,b<-1?-1:1<b?1:0)}var w=Math.ceil(d/2),_=h+w;if(c){_=h;for(var x=0;x<w;++x)_=ho(i,_,1)}var k=o(_);t<k?(p=_,g=k,(v=s)&&(g+=1e3),d=w):(h=_,f=k,m=s,d-=w)}}function ye(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==qo){qo=Br("pre");for(var e=0;e<49;++e)qo.appendChild(document.createTextNode("x")),qo.appendChild(Br("br"));qo.appendChild(document.createTextNode("x"))}Hr(t.measure,qo);var n=qo.offsetHeight/50;return 3<n&&(t.cachedTextHeight=n),Ur(t.measure),n||1}function be(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Br("span","xxxxxxxxxx"),n=Br("pre",[e]);Hr(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return 2<r&&(t.cachedCharWidth=r),r||10}function we(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vo},Wo?Wo.ops.push(t.curOp):t.curOp.ownsGroup=Wo={ops:[t.curOp],delayedCallbacks:[]}}function _e(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}function xe(t){var e=t.curOp.ownsGroup;if(e)try{_e(e)}finally{Wo=null;for(var n=0;n<e.ops.length;n++)e.ops[n].cm.curOp=null;ke(e)}}function ke(t){for(var e=t.ops,n=0;n<e.length;n++)Ce(e[n]);for(n=0;n<e.length;n++)Se(e[n]);for(n=0;n<e.length;n++)Te(e[n]);for(n=0;n<e.length;n++)$e(e[n]);for(n=0;n<e.length;n++)Ee(e[n])}function Ce(t){var e=t.cm,n=e.display;T(e),t.updateMaxLine&&o(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new S(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Se(t){t.updatedDisplay=t.mustUpdate&&$(t.cm,t.update)}function Te(t){var e=t.cm,n=e.display;t.updatedDisplay&&M(e),t.barMeasure=a(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Qt(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Vt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Yt(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection(t.focus))}function $e(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&on(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==Wr()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.updatedDisplay&&D(e,t.barMeasure),t.selectionChanged&&Rt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&X(t.cm)}function Ee(t){var e=t.cm,n=e.display,i=e.doc;if(t.updatedDisplay&&E(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,t.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,w(e)),t.scrollToPos){var r=Ln(e,mt(i,t.scrollToPos.from),mt(i,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&In(e,r)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Ia(o[s],"hide");if(a)for(s=0;s<a.length;++s)a[s].lines.length&&Ia(a[s],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Ia(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Ae(t,e){if(t.curOp)return e();we(t);try{return e()}finally{xe(t)}}function De(t,e){return function(){if(t.curOp)return e.apply(t,arguments);we(t);try{return e.apply(t,arguments)}finally{xe(t)}}}function Me(t){return function(){if(this.curOp)return t.apply(this,arguments);we(this);try{return t.apply(this,arguments)}finally{xe(this)}}}function Pe(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);we(t);try{return e.apply(this,arguments)}finally{xe(t)}}}function Ie(t,e,n){this.line=e,this.rest=bi(e),this.size=this.rest?er(Pr(this.rest))-n+1:1,this.node=this.text=null,this.hidden=xi(t,e)}function Le(t,e,n){for(var i,r=[],o=e;o<n;o=i){var a=new Ie(t.doc,Ji(t.doc,o),o);i=o+a.size,r.push(a)}return r}function Oe(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)No&&wi(t.doc,e)<r.viewTo&&Ne(t);else if(n<=r.viewFrom)No&&_i(t.doc,n+i)>r.viewFrom?Ne(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)Ne(t);else if(e<=r.viewFrom){(o=je(t,n,n+i,1))?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):Ne(t)}else if(n>=r.viewTo){var o;(o=je(t,e,e,-1))?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):Ne(t)}else{var a=je(t,e,e,-1),s=je(t,n,n+i,1);a&&s?(r.view=r.view.slice(0,a.index).concat(Le(t,a.lineN,s.lineN)).concat(r.view.slice(s.index)),r.viewTo+=i):Ne(t)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:e<l.lineN+l.size&&(r.externalMeasured=null))}function Fe(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[Re(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==Ir(a,n)&&a.push(n)}}}function Ne(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Re(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,i=0;i<n.length;i++)if((e-=n[i].size)<0)return i}function je(t,e,n,i){var r,o=Re(t,e),a=t.display.view;if(!No||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=0,l=t.display.viewFrom;s<o;s++)l+=a[s].size;if(l!=e){if(0<i){if(o==a.length-1)return null;r=l+a[o].size-e,o++}else r=l-e;e+=r,n+=r}for(;wi(t.doc,n)!=n;){if(o==(i<0?0:a.length-1))return null;n+=i*a[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function ze(t,e,n){var i=t.display;0==i.view.length||e>=i.viewTo||n<=i.viewFrom?(i.view=Le(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=Le(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(Re(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(Le(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Re(t,n)))),i.viewTo=n}function qe(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function Be(r){function o(){s.activeTouch&&(i=setTimeout(function(){s.activeTouch=null},1e3),(l=s.activeTouch).end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function a(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return 400<n*n+i*i}var s=r.display;Da(s.scroller,"mousedown",De(r,Ye)),Da(s.scroller,"dblclick",bo&&wo<11?De(r,function(t){if(!Tr(r,t)){var e=Ve(r,t);if(e&&!Qe(r,t)&&!We(r.display,t)){$a(t);var n=r.findWordAt(e);wt(r.doc,n.anchor,n.head)}}}):function(t){Tr(r,t)||$a(t)}),Oo||Da(s.scroller,"contextmenu",function(t){bn(r,t)});var i,l={end:0};Da(s.scroller,"touchstart",function(t){if(!Tr(r,t)&&!n(t)){clearTimeout(i);var e=+new Date;s.activeTouch={start:e,moved:!1,prev:e-l.end<=300?l:null},1==t.touches.length&&(s.activeTouch.left=t.touches[0].pageX,s.activeTouch.top=t.touches[0].pageY)}}),Da(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),Da(s.scroller,"touchend",function(t){var e=s.activeTouch;if(e&&!We(s,t)&&null!=e.left&&!e.moved&&new Date-e.start<300){var n,i=r.coordsChar(s.activeTouch,"page");n=!e.prev||a(e,e.prev)?new dt(i,i):!e.prev.prev||a(e,e.prev.prev)?r.findWordAt(i):new dt(Ro(i.line,0),mt(r.doc,Ro(i.line+1,0))),r.setSelection(n.anchor,n.head),r.focus(),$a(t)}o()}),Da(s.scroller,"touchcancel",o),Da(s.scroller,"scroll",function(){s.scroller.clientHeight&&(rn(r,s.scroller.scrollTop),on(r,s.scroller.scrollLeft,!0),Ia(r,"scroll",r))}),Da(s.scroller,"mousewheel",function(t){an(r,t)}),Da(s.scroller,"DOMMouseScroll",function(t){an(r,t)}),Da(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(t){Tr(r,t)||Aa(t)},over:function(t){Tr(r,t)||(en(r,t),Aa(t))},start:function(t){tn(r,t)},drop:De(r,Ze),leave:function(t){Tr(r,t)||nn(r)}};var t=s.input.getField();Da(t,"keyup",function(t){fn.call(r,t)}),Da(t,"keydown",De(r,hn)),Da(t,"keypress",De(r,mn)),Da(t,"focus",Rr(vn,r)),Da(t,"blur",Rr(yn,r))}function Ue(t,e,n){if(!e!=!(n&&n!=l.Init)){var i=t.display.dragFunctions,r=e?Da:Pa;r(t.display.scroller,"dragstart",i.start),r(t.display.scroller,"dragenter",i.enter),r(t.display.scroller,"dragover",i.over),r(t.display.scroller,"dragleave",i.leave),r(t.display.scroller,"drop",i.drop)}}function He(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function We(t,e){for(var n=_r(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Ve(t,e,n,i){var r=t.display;if(!n&&"true"==_r(e).getAttribute("cm-not-content"))return null;var o,a,s=r.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(e){return null}var l,u=ge(t,o,a);if(i&&1==u.xRel&&(l=Ji(t.doc,u.line).text).length==u.ch){var c=za(l,l.length,t.options.tabSize)-l.length;u=Ro(u.line,Math.max(0,Math.round((o-Wt(t.display).left)/be(t.display))-c))}return u}function Ye(t){var e=this,n=e.display;if(!(Tr(e,t)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=t.shiftKey,We(n,t))return void(_o||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Qe(e,t)){var i=Ve(e,t);switch(window.focus(),xr(t)){case 1:e.state.selectingText?e.state.selectingText(t):i?Ge(e,t,i):_r(t)==n.scroller&&$a(t);break;case 2:_o&&(e.state.lastMiddleDown=+new Date),i&&wt(e.doc,i),setTimeout(function(){n.input.focus()},20),$a(t);break;case 3:Oo?bn(e,t):gn(e)}}}}function Ge(t,e,n){bo?setTimeout(Rr(X,t),0):t.curOp.focus=Wr();var i,r=+new Date;Uo&&Uo.time>r-400&&0==jo(Uo.pos,n)?i="triple":Bo&&Bo.time>r-400&&0==jo(Bo.pos,n)?(i="double",Uo={time:r,pos:n}):(i="single",Bo={time:r,pos:n});var o,a=t.doc.sel,s=Do?e.metaKey:e.ctrlKey;t.options.dragDrop&&es&&!t.isReadOnly()&&"single"==i&&-1<(o=a.contains(n))&&(jo((o=a.ranges[o]).from(),n)<0||0<n.xRel)&&(0<jo(o.to(),n)||n.xRel<0)?Ke(t,e,n,s):Xe(t,e,n,i,s)}function Ke(e,n,i,r){var o=e.display,a=+new Date,s=De(e,function(t){_o&&(o.scroller.draggable=!1),e.state.draggingText=!1,Pa(document,"mouseup",s),Pa(o.scroller,"drop",s),Math.abs(n.clientX-t.clientX)+Math.abs(n.clientY-t.clientY)<10&&($a(t),!r&&+new Date-200<a&&wt(e.doc,i),_o||bo&&9==wo?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())});_o&&(o.scroller.draggable=!0),e.state.draggingText=s,o.scroller.dragDrop&&o.scroller.dragDrop(),Da(document,"mouseup",s),Da(o.scroller,"drop",s)}function Xe(m,t,g,v,e){function o(t){if(0!=jo(x,t))if(x=t,"rect"==v){for(var e=[],n=m.options.tabSize,i=za(Ji(y,g.line).text,g.ch,n),r=za(Ji(y,t.line).text,t.ch,n),o=Math.min(i,r),a=Math.max(i,r),s=Math.min(g.line,t.line),l=Math.min(m.lastLine(),Math.max(g.line,t.line));s<=l;s++){var u=Ji(y,s).text,c=qa(u,o,n);o==a?e.push(new dt(Ro(s,c),Ro(s,c))):u.length>c&&e.push(new dt(Ro(s,c),Ro(s,qa(u,a,n))))}e.length||e.push(new dt(g,g)),Tt(y,ht(_.ranges.slice(0,w).concat(e),w),{origin:"*mouse",scroll:!1}),m.scrollIntoView(t)}else{var d=b,h=d.anchor,p=t;if("single"!=v){if("double"==v)var f=m.findWordAt(t);else f=new dt(Ro(t.line,0),mt(y,Ro(t.line+1,0)));h=0<jo(f.anchor,h)?(p=f.head,K(d.from(),f.anchor)):(p=f.anchor,G(d.to(),f.head))}(e=_.ranges.slice(0))[w]=new dt(mt(y,h),p),Tt(y,ht(e,w),Ra)}}function a(t){var e=++c,n=Ve(m,t,!0,"rect"==v);if(n)if(0!=jo(n,x)){m.curOp.focus=Wr(),o(n);var i=k(s,y);(n.line>=i.to||n.line<i.from)&&setTimeout(De(m,function(){c==e&&a(t)}),150)}else{var r=t.clientY<u.top?-20:t.clientY>u.bottom?20:0;r&&setTimeout(De(m,function(){c==e&&(s.scroller.scrollTop+=r,a(t))}),50)}}function n(t){m.state.selectingText=!1,c=1/0,$a(t),s.input.focus(),Pa(document,"mousemove",d),Pa(document,"mouseup",h),y.history.lastSelOrigin=null}var s=m.display,y=m.doc;$a(t);var b,w,_=y.sel,i=_.ranges;if(e&&!t.shiftKey?(w=y.sel.contains(g),b=-1<w?i[w]:new dt(g,g)):(b=y.sel.primary(),w=y.sel.primIndex),Mo?t.shiftKey&&t.metaKey:t.altKey)v="rect",e||(b=new dt(g,g)),g=Ve(m,t,!0,!0),w=-1;else if("double"==v){var r=m.findWordAt(g);b=m.display.shift||y.extend?bt(y,b,r.anchor,r.head):r}else if("triple"==v){var l=new dt(Ro(g.line,0),mt(y,Ro(g.line+1,0)));b=m.display.shift||y.extend?bt(y,b,l.anchor,l.head):l}else b=bt(y,b,g);e?-1==w?(w=i.length,Tt(y,ht(i.concat([b]),w),{scroll:!1,origin:"*mouse"})):1<i.length&&i[w].empty()&&"single"==v&&!t.shiftKey?(Tt(y,ht(i.slice(0,w).concat(i.slice(w+1)),0),{scroll:!1,origin:"*mouse"}),_=y.sel):xt(y,w,b,Ra):(Tt(y,new ct([b],w=0),Ra),_=y.sel);var x=g,u=s.wrapper.getBoundingClientRect(),c=0,d=De(m,function(t){xr(t)?a(t):n(t)}),h=De(m,n);m.state.selectingText=h,Da(document,"mousemove",d),Da(document,"mouseup",h)}function Je(t,e,n,i){try{var r=e.clientX,o=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&$a(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Er(t,n))return wr(e);o-=s.top-a.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=r){var c=nr(t.doc,o),d=t.options.gutters[l];return Ia(t,n,t,c,d,e),wr(e)}}}function Qe(t,e){return Je(t,e,"gutterClick",!0)}function Ze(t){var r=this;if(nn(r),!Tr(r,t)&&!We(r.display,t)){$a(t),bo&&(Yo=+new Date);var o=Ve(r,t,!0),e=t.dataTransfer.files;if(o&&!r.isReadOnly())if(e&&e.length&&window.FileReader&&window.File)for(var a=e.length,s=Array(a),l=0,n=function(t,n){if(!r.options.allowDropFileTypes||-1!=Ir(r.options.allowDropFileTypes,t.type)){var i=new FileReader;i.onload=De(r,function(){var t=i.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),s[n]=t,++l==a){var e={from:o=mt(r.doc,o),to:o,text:r.doc.splitLines(s.join(r.doc.lineSeparator())),origin:"paste"};Tn(r.doc,e),St(r.doc,pt(o,Zo(e)))}}),i.readAsText(t)}},i=0;i<a;++i)n(e[i],i);else{if(r.state.draggingText&&-1<r.doc.sel.contains(o))return r.state.draggingText(t),void setTimeout(function(){r.display.input.focus()},20);try{if(s=t.dataTransfer.getData("Text")){if(r.state.draggingText&&!(Do?t.altKey:t.ctrlKey))var u=r.listSelections();if($t(r.doc,pt(o,o)),u)for(i=0;i<u.length;++i)Pn(r.doc,"",u[i].anchor,u[i].head,"drag");r.replaceSelection(s,"around","paste"),r.display.input.focus()}}catch(t){}}}}function tn(t,e){if(bo&&(!t.state.draggingText||+new Date-Yo<100))Aa(e);else if(!Tr(t,e)&&!We(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!So)){var n=Br("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Co&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),Co&&n.parentNode.removeChild(n)}}function en(t,e){var n=Ve(t,e);if(n){var i=document.createDocumentFragment();Ft(t,n,i),t.display.dragCursor||(t.display.dragCursor=Br("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Hr(t.display.dragCursor,i)}}function nn(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function rn(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,go||A(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),go&&A(t),jt(t,100))}function on(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,w(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function an(t,e){var n=Xo(e),i=n.x,r=n.y,o=t.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(i&&s||r&&l){if(r&&Do&&_o)t:for(var u=e.target,c=o.view;u!=a;u=u.parentNode)for(var d=0;d<c.length;d++)if(c[d].node==u){t.display.currentWheelTarget=u;break t}if(i&&!go&&!Co&&null!=Ko)return r&&l&&rn(t,Math.max(0,Math.min(a.scrollTop+r*Ko,a.scrollHeight-a.clientHeight))),on(t,Math.max(0,Math.min(a.scrollLeft+i*Ko,a.scrollWidth-a.clientWidth))),(!r||r&&l)&&$a(e),void(o.wheelStartX=null);if(r&&null!=Ko){var h=r*Ko,p=t.doc.scrollTop,f=p+o.wrapper.clientHeight;h<0?p=Math.max(0,p+h-50):f=Math.min(t.doc.height,f+h+50),A(t,{top:p,bottom:f})}Go<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var t=a.scrollLeft-o.wheelStartX,e=a.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ko=(Ko*Go+n)/(Go+1),++Go)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function sn(t,e,n){if("string"==typeof e&&!(e=ca[e]))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=Fa}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}function ln(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=ha(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&ha(e,t.options.extraKeys,n,t)||ha(e,t.options.keyMap,n,t)}function un(t,e,n,i){var r=t.state.keySeq;if(r){if(pa(e))return"handled";Jo.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),e=r+" "+e}var o=ln(t,e,i);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&Cr(t,"keyHandled",t,e,n),"handled"!=o&&"multi"!=o||($a(n),Rt(t)),r&&!o&&/\'$/.test(e)?($a(n),!0):!!o}function cn(e,t){var n=fa(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?un(e,"Shift-"+n,t,function(t){return sn(e,t,!0)})||un(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?sn(e,t):void 0}):un(e,n,t,function(t){return sn(e,t)}))}function dn(e,t,n){return un(e,"'"+n+"'",t,function(t){return sn(e,t,!0)})}function hn(t){var e=this;if(e.curOp.focus=Wr(),!Tr(e,t)){bo&&wo<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var i=cn(e,t);Co&&(Qo=i?n:null,!i&&88==n&&!rs&&(Do?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||pn(e)}}function pn(t){function e(t){18!=t.keyCode&&t.altKey||(Qa(n,"CodeMirror-crosshair"),Pa(document,"keyup",e),Pa(document,"mouseover",e))}var n=t.display.lineDiv;Za(n,"CodeMirror-crosshair"),Da(document,"keyup",e),Da(document,"mouseover",e)}function fn(t){16==t.keyCode&&(this.doc.sel.shift=!1),Tr(this,t)}function mn(t){var e=this;if(!(We(e.display,t)||Tr(e,t)||t.ctrlKey&&!t.altKey||Do&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(Co&&n==Qo)return Qo=null,void $a(t);if(!Co||t.which&&!(t.which<10)||!cn(e,t))dn(e,t,String.fromCharCode(null==i?n:i))||e.display.input.onKeyPress(t)}}function gn(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,yn(t))},100)}function vn(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Ia(t,"focus",t),t.state.focused=!0,Za(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),_o&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Rt(t))}function yn(t){t.state.delayingBlurEvent||(t.state.focused&&(Ia(t,"blur",t),t.state.focused=!1,Qa(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function bn(t,e){We(t.display,e)||wn(t,e)||Tr(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function wn(t,e){return!!Er(t,"gutterContextMenu")&&Je(t,e,"gutterContextMenu",!1)}function _n(t,e){if(jo(t,e.from)<0)return t;if(jo(t,e.to)<=0)return Zo(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=Zo(e).ch-e.to.ch),Ro(n,i)}function xn(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new dt(_n(r.anchor,e),_n(r.head,e)))}return ht(n,t.sel.primIndex)}function kn(t,e,n){return t.line==e.line?Ro(n.line,t.ch-e.ch+n.ch):Ro(n.line+(t.line-e.line),t.ch)}function Cn(t,e,n){for(var i=[],r=Ro(t.first,0),o=r,a=0;a<e.length;a++){var s=e[a],l=kn(s.from,r,o),u=kn(Zo(s),r,o);if(r=s.to,o=u,"around"==n){var c=t.sel.ranges[a],d=jo(c.head,c.anchor)<0;i[a]=new dt(d?u:l,d?l:u)}else i[a]=new dt(l,l)}return new ct(i,t.sel.primIndex)}function Sn(r,t,e){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return e&&(n.update=function(t,e,n,i){t&&(this.from=mt(r,t)),e&&(this.to=mt(r,e)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Ia(r,"beforeChange",r,n),r.cm&&Ia(r.cm,"beforeChange",r.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Tn(t,e,n){if(t.cm){if(!t.cm.curOp)return De(t.cm,Tn)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Er(t,"beforeChange")||t.cm&&Er(t.cm,"beforeChange"))||(e=Sn(t,e,!0))){var i=Fo&&!n&&li(t,e.from,e.to);if(i)for(var r=i.length-1;0<=r;--r)$n(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text});else $n(t,e)}}function $n(t,n){if(1!=n.text.length||""!=n.text[0]||0!=jo(n.from,n.to)){var e=xn(t,n);ur(t,n,e,t.cm?t.cm.curOp.id:NaN),Dn(t,n,e,oi(t,n));var i=[];Ki(t,function(t,e){e||-1!=Ir(i,
t.history)||(br(t.history,n),i.push(t.history)),Dn(t,n,null,oi(t,n))})}}function En(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var i,r=t.history,o=t.sel,a="undo"==e?r.done:r.undone,s="undo"==e?r.undone:r.done,l=0;l<a.length&&(i=a[l],n?!i.ranges||i.equals(t.sel):i.ranges);l++);if(l!=a.length){for(r.lastOrigin=r.lastSelOrigin=null;(i=a.pop()).ranges;){if(hr(i,s),n&&!i.equals(t.sel))return void Tt(t,i,{clearRedo:!1});o=i}var u=[];hr(o,s),s.push({changes:u,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;var c=Er(t,"beforeChange")||t.cm&&Er(t.cm,"beforeChange");for(l=i.changes.length-1;0<=l;--l){var d=i.changes[l];if(d.origin=e,c&&!Sn(t,d,!1))return void(a.length=0);u.push(ar(t,d));var h=l?xn(t,d):Pr(a);Dn(t,d,h,si(t,d)),!l&&t.cm&&t.cm.scrollIntoView({from:d.from,to:Zo(d)});var p=[];Ki(t,function(t,e){e||-1!=Ir(p,t.history)||(br(t.history,d),p.push(t.history)),Dn(t,d,null,si(t,d))})}}}}function An(t,e){if(0!=e&&(t.first+=e,t.sel=new ct(Lr(t.sel.ranges,function(t){return new dt(Ro(t.anchor.line+e,t.anchor.ch),Ro(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Oe(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)Fe(t.cm,i,"gutter")}}function Dn(t,e,n,i){if(t.cm&&!t.cm.curOp)return De(t.cm,Dn)(t,e,n,i);if(e.to.line<t.first)An(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);An(t,r),e={from:Ro(t.first,0),to:Ro(e.to.line+r,e.to.ch),text:[Pr(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Ro(o,Ji(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qi(t,e.from,e.to),n||(n=xn(t,e)),t.cm?Mn(t.cm,e,i):Vi(t,e,i),$t(t,n,Na)}}function Mn(t,e,n){var i=t.doc,r=t.display,o=e.from,a=e.to,s=!1,l=o.line;t.options.lineWrapping||(l=er(yi(Ji(i,o.line))),i.iter(l,a.line+1,function(t){return t==r.maxLine?s=!0:void 0})),-1<i.sel.contains(e.from,e.to)&&$r(t),Vi(i,e,n,p(t)),t.options.lineWrapping||(i.iter(l,o.line+e.text.length,function(t){var e=f(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,s=!1)}),s&&(t.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,o.line),jt(t,400);var u=e.text.length-(a.line-o.line)-1;e.full?Oe(t):o.line!=a.line||1!=e.text.length||Wi(t.doc,e)?Oe(t,o.line,a.line+1,u):Fe(t,o.line,"text");var c=Er(t,"changes"),d=Er(t,"change");if(d||c){var h={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};d&&Cr(t,"change",t,h),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}function Pn(t,e,n,i,r){if(i||(i=n),jo(i,n)<0){var o=i;i=n,n=o}"string"==typeof e&&(e=t.splitLines(e)),Tn(t,{from:n,to:i,text:e,origin:r})}function In(t,e){if(!Tr(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!$o){var o=Br("div","\u200b",null,"position: absolute; top: "+(e.top-n.viewOffset-Ut(t.display))+"px; height: "+(e.bottom-e.top+Vt(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function Ln(t,e,n,i){null==i&&(i=0);for(var r=0;r<5;r++){var o=!1,a=pe(t,e),s=n&&n!=e?pe(t,n):a,l=Fn(t,Math.min(a.left,s.left),Math.min(a.top,s.top)-i,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+i),u=t.doc.scrollTop,c=t.doc.scrollLeft;if(null!=l.scrollTop&&(rn(t,l.scrollTop),1<Math.abs(t.doc.scrollTop-u)&&(o=!0)),null!=l.scrollLeft&&(on(t,l.scrollLeft),1<Math.abs(t.doc.scrollLeft-c)&&(o=!0)),!o)break}return a}function On(t,e,n,i,r){var o=Fn(t,e,n,i,r);null!=o.scrollTop&&rn(t,o.scrollTop),null!=o.scrollLeft&&on(t,o.scrollLeft)}function Fn(t,e,n,i,r){var o=t.display,a=ye(t.display);n<0&&(n=0);var s=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=Gt(t),u={};l<r-n&&(r=n+l);var c=t.doc.height+Ht(o),d=n<a,h=c-a<r;if(n<s)u.scrollTop=d?0:n;else if(s+l<r){var p=Math.min(n,(h?c:r)-l);p!=s&&(u.scrollTop=p)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,m=Yt(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),g=m<i-e;return g&&(i=e+m),e<10?u.scrollLeft=0:e<f?u.scrollLeft=Math.max(0,e-(g?0:10)):m+f-3<i&&(u.scrollLeft=i+(g?0:10)-m),u}function Nn(t,e,n){null==e&&null==n||jn(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Rn(t){jn(t);var e=t.getCursor(),n=e,i=e;t.options.lineWrapping||(n=e.ch?Ro(e.line,e.ch-1):e,i=Ro(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:i,margin:t.options.cursorScrollMargin,isCursor:!0}}function jn(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=fe(t,e.from),i=fe(t,e.to),r=Fn(t,Math.min(n.left,i.left),Math.min(n.top,i.top)-e.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+e.margin);t.scrollTo(r.scrollLeft,r.scrollTop)}}function zn(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Bt(t,e):n="prev");var a=t.options.tabSize,s=Ji(o,e),l=za(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(i||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(r,s.text.slice(c.length),s.text))==Fa||150<u)){if(!i)return;n="prev"}}else u=0,n="not";"prev"==n?u=e>o.first?za(Ji(o,e-1).text,null,a):0:"add"==n?u=l+t.options.indentUnit:"subtract"==n?u=l-t.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var d="",h=0;if(t.options.indentWithTabs)for(var p=Math.floor(u/a);p;--p)h+=a,d+="\t";if(h<u&&(d+=Mr(u-h)),d!=c)return Pn(o,d,Ro(e,0),Ro(e,c.length),"+input"),!(s.stateAfter=null);for(p=0;p<o.sel.ranges.length;p++){var f=o.sel.ranges[p];if(f.head.line==e&&f.head.ch<c.length){xt(o,p,new dt(h=Ro(e,c.length),h));break}}}function qn(t,e,n,i){var r=e,o=e;return"number"==typeof e?o=Ji(t,ft(t,e)):r=er(e),null==r?null:(i(o,r)&&t.cm&&Fe(t.cm,r,n),o)}function Bn(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&jo(o.from,Pr(i).to)<=0;){var a=i.pop();if(jo(a.from,o.from)<0){o.from=a.from;break}}i.push(o)}Ae(e,function(){for(var t=i.length-1;0<=t;t--)Pn(e.doc,"",i[t].from,i[t].to,"+delete");Rn(e)})}function Un(e,t,n,i,r){function o(){var t=s+n;return!(t<e.first||t>=e.first+e.size)&&(c=Ji(e,s=t))}function a(t){var e=(r?ho:po)(c,l,n,!0);if(null==e){if(t||!o())return!1;l=r?(n<0?ro:io)(c):n<0?c.text.length:0}else l=e;return!0}var s=t.line,l=t.ch,u=n,c=Ji(e,s);if("char"==i)a();else if("column"==i)a(!0);else if("word"==i||"group"==i)for(var d=null,h="group"==i,p=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(n<0)||a(!f);f=!1){var m=c.text.charAt(l)||"\n",g=jr(m,p)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||f||g||(g="s"),d&&d!=g){n<0&&(n=1,a());break}if(g&&(d=g),0<n&&!a(!f))break}var v=Pt(e,Ro(s,l),t,u,!0);return jo(t,v)||(v.hitSide=!0),v}function Hn(t,e,n,i){var r,o=t.doc,a=e.left;if("page"==i){var s=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+n*(s-(n<0?1.5:.5)*ye(t.display))}else"line"==i&&(r=0<n?e.bottom+3:e.top-3);for(;;){var l=ge(t,a,r);if(!l.outside)break;if(n<0?r<=0:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function Wn(t,e,i,n){l.defaults[t]=e,i&&(ea[t]=n?function(t,e,n){n!=na&&i(t,e,n)}:i)}function Vn(t){for(var e,n,i,r,o=t.split(/-(?!$)/),a=(t=o[o.length-1],0);a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function Yn(t){return"string"==typeof t?da[t]:t}function Gn(e,n,i,t,r){if(t&&t.shared)return Kn(e,n,i,t,r);if(e.cm&&!e.cm.curOp)return De(e.cm,Gn)(e,n,i,t,r);var o=new va(e,r),a=jo(n,i);if(t&&Nr(t,o,!1),0<a||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Br("span",[o.replacedWith],"CodeMirror-widget"),t.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),t.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(vi(e,n.line,n,i,o)||n.line!=i.line&&vi(e,i.line,n,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");No=!0}o.addToHistory&&ur(e,{from:n,to:i,origin:"markText"},e.sel,NaN);var s,l=n.line,u=e.cm;if(e.iter(l,i.line+1,function(t){u&&o.collapsed&&!u.options.lineWrapping&&yi(t)==u.display.maxLine&&(s=!0),o.collapsed&&l!=n.line&&tr(t,0),ni(t,new Zn(o,l==n.line?n.ch:null,l==i.line?i.ch:null)),++l}),o.collapsed&&e.iter(n.line,i.line+1,function(t){xi(e,t)&&tr(t,0)}),o.clearOnEnter&&Da(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Fo=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ga,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Oe(u,n.line,i.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=n.line;c<=i.line;c++)Fe(u,c,"text");o.atomic&&At(u.doc),Cr(u,"markerAdded",u,o)}return o}function Kn(t,n,i,r,o){(r=Nr(r)).shared=!1;var a=[Gn(t,n,i,r,o)],s=a[0],l=r.widgetNode;return Ki(t,function(t){l&&(r.widgetNode=l.cloneNode(!0)),a.push(Gn(t,mt(t,n),mt(t,i),r,o));for(var e=0;e<t.linked.length;++e)if(t.linked[e].isParent)return;s=Pr(a)}),new ya(a,s)}function Xn(t){return t.findMarks(Ro(t.first,0),t.clipPos(Ro(t.lastLine())),function(t){return t.parent})}function Jn(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),a=t.clipPos(r.to);if(jo(o,a)){var s=Gn(t,o,a,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}function Qn(t){for(var e=0;e<t.length;e++){var n=t[e],i=[n.primary.doc];Ki(n.primary.doc,function(t){i.push(t)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==Ir(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function Zn(t,e,n){this.marker=t,this.from=e,this.to=n}function ti(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function ei(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function ni(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function ii(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new Zn(a,o.from,s?null:o.to))}}return i}function ri(t,e,n){if(t)for(var i,r=0;r<t.length;++r){var o=t[r],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new Zn(a,s?null:o.from-e,null==o.to?null:o.to-e))}}return i}function oi(t,e){if(e.full)return null;var n=vt(t,e.from.line)&&Ji(t,e.from.line).markedSpans,i=vt(t,e.to.line)&&Ji(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,a=0==jo(e.from,e.to),s=ii(n,r,a),l=ri(i,o,a),u=1==e.text.length,c=Pr(e.text).length+(u?r:0);if(s)for(var d=0;d<s.length;++d){if(null==(h=s[d]).to)(p=ti(l,h.marker))?u&&(h.to=null==p.to?null:p.to+c):h.to=r}if(l)for(d=0;d<l.length;++d){var h,p;if(null!=(h=l[d]).to&&(h.to+=c),null==h.from)(p=ti(s,h.marker))||(h.from=c,u&&(s||(s=[])).push(h));else h.from+=c,u&&(s||(s=[])).push(h)}s&&(s=ai(s)),l&&l!=s&&(l=ai(l));var f=[s];if(!u){var m,g=e.text.length-2;if(0<g&&s)for(d=0;d<s.length;++d)null==s[d].to&&(m||(m=[])).push(new Zn(s[d].marker,null,null));for(d=0;d<g;++d)f.push(m);f.push(l)}return f}function ai(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function si(t,e){var n=mr(t,e),i=oi(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],a=i[r];if(o&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue t;o.push(l)}else a&&(n[r]=a)}return n}function li(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=Ir(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var a=i[o],s=a.find(0),l=0;l<r.length;++l){var u=r[l];if(!(jo(u.to,s.from)<0||0<jo(u.from,s.to))){var c=[l,1],d=jo(u.from,s.from),h=jo(u.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(0<h||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),r.splice.apply(r,c),l+=c.length-1}}return r}function ui(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function ci(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function di(t){return t.inclusiveLeft?-1:0}function hi(t){return t.inclusiveRight?1:0}function pi(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=jo(i.from,r.from)||di(t)-di(e);if(o)return-o;var a=jo(i.to,r.to)||hi(t)-hi(e);return a||e.id-t.id}function fi(t,e){var n,i=No&&t.markedSpans;if(i)for(var r,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(e?r.from:r.to)&&(!n||pi(n,r.marker)<0)&&(n=r.marker);return n}function mi(t){return fi(t,!0)}function gi(t){return fi(t,!1)}function vi(t,e,n,i,r){var o=Ji(t,e),a=No&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=jo(u.from,n)||di(l.marker)-di(r),d=jo(u.to,i)||hi(l.marker)-hi(r);if(!(0<=c&&d<=0||c<=0&&0<=d)&&(c<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?0<=jo(u.to,n):0<jo(u.to,n))||0<=c&&(l.marker.inclusiveRight&&r.inclusiveLeft?jo(u.from,i)<=0:jo(u.from,i)<0)))return!0}}}function yi(t){for(var e;e=mi(t);)t=e.find(-1,!0).line;return t}function bi(t){for(var e,n;e=gi(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function wi(t,e){var n=Ji(t,e),i=yi(n);return n==i?e:er(i)}function _i(t,e){if(e>t.lastLine())return e;var n,i=Ji(t,e);if(!xi(t,i))return e;for(;n=gi(i);)i=n.find(1,!0).line;return er(i)+1}function xi(t,e){var n=No&&e.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&ki(t,e,i))return!0}}function ki(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return ki(t,i.line,ti(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r,o=0;o<e.markedSpans.length;++o)if((r=e.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&ki(t,e,r))return!0}function Ci(t,e,n){ir(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Nn(t,null,n)}function Si(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Ga(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),Hr(e.display.measure,Br("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Ti(i,t,e,n){var r=new ba(i,e,n),o=i.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),qn(i,t,"widget",function(t){var e=t.widgets||(t.widgets=[]);if(null==r.insertAt?e.push(r):e.splice(Math.min(e.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!xi(i,t)){var n=ir(t)<i.scrollTop;tr(t,t.height+Si(r)),n&&Nn(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function $i(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),ui(t),ci(t,n);var r=i?i(t):1;r!=t.height&&tr(t,r)}function Ei(t){t.parent=null,ui(t)}function Ai(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[i])||(e[i]+=" "+n[2])}return t}function Di(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=l.innerMode(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Mi(t,e,n,i){for(var r=0;r<10;r++){i&&(i[0]=l.innerMode(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}function Pi(t,e,n,i){function r(t){return{start:d.start,end:d.pos,string:d.current(),type:o||null,state:t?la(a.mode,c):c}}var o,a=t.doc,s=a.mode;e=mt(a,e);var l,u=Ji(a,e.line),c=Bt(t,e.line,n),d=new ma(u.text,t.options.tabSize);for(i&&(l=[]);(i||d.pos<e.ch)&&!d.eol();)d.start=d.pos,o=Mi(s,d,c),i&&l.push(r(!0));return i?l:r()}function Ii(t,e,n,i,r,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,u=0,c=null,d=new ma(e,t.options.tabSize),h=t.options.addModeClass&&[null];for(""==e&&Ai(Di(n,i),o);!d.eol();){if(l=d.pos>t.options.maxHighlightLength?(s=!1,a&&Fi(t,e,i,d.pos),d.pos=e.length,null):Ai(Mi(n,d,i,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){for(;u<d.start;)r(u=Math.min(d.start,u+5e4),c);c=l}d.start=d.pos}for(;u<d.pos;){var f=Math.min(d.pos,u+5e4);r(f,c),u=f}}function Li(t,e,n,i){var o=[t.state.modeGen],r={};Ii(t,e.text,t.doc.mode,n,function(t,e){o.push(t,e)},r,i);for(var a=0;a<t.state.overlays.length;++a){var s=t.state.overlays[a],l=1,u=0;Ii(t,e.text,s.mode,!0,function(t,e){for(var n=l;u<t;){var i=o[l];t<i&&o.splice(l,1,t,o[l+1],i),l+=2,u=Math.min(t,i)}if(e)if(s.opaque)o.splice(n,l-n,t,"cm-overlay "+e),l=n+2;else for(;n<l;n+=2){var r=o[n+1];o[n+1]=(r?r+" ":"")+"cm-overlay "+e}},r)}return{styles:o,classes:r.bgClass||r.textClass?r:null}}function Oi(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=Bt(t,er(e)),r=Li(t,e,e.text.length>t.options.maxHighlightLength?la(t.doc.mode,i):i);e.stateAfter=i,e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function Fi(t,e,n,i){var r=t.doc.mode,o=new ma(e,t.options.tabSize);for(o.start=o.pos=i||0,""==e&&Di(r,n);!o.eol();)Mi(r,o,n),o.start=o.pos}function Ni(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?xa:_a;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Ri(t,e){var n=Br("span",null,null,_o?"padding-right: .1px":null),i={pre:Br("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,splitSpaces:(bo||_o)&&t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o,a=r?e.rest[r-1]:e.line;i.pos=0,i.addToken=zi,Qr(t.display.measure)&&(o=rr(a))&&(i.addToken=Bi(i.addToken,o)),i.map=[],Hi(a,i,Oi(t,a,e!=t.display.externalMeasured&&er(a))),a.styleClasses&&(a.styleClasses.bgClass&&(i.bgClass=Yr(a.styleClasses.bgClass,i.bgClass||"")),a.styleClasses.textClass&&(i.textClass=Yr(a.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Jr(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(_o){var s=i.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Ia(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=Yr(i.pre.className,i.textClass||"")),i}function ji(t){var e=Br("span","\u2022","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function zi(t,e,n,i,r,o,a){if(e){var s=t.splitSpaces?e.replace(/ {3,}/g,qi):e,l=t.cm.state.specialChars,u=!1;if(l.test(e))for(var c=document.createDocumentFragment(),d=0;;){l.lastIndex=d;var h=l.exec(e),p=h?h.index-d:e.length-d;if(p){var f=document.createTextNode(s.slice(d,d+p));bo&&wo<9?c.appendChild(Br("span",[f])):c.appendChild(f),t.map.push(t.pos,t.pos+p,f),t.col+=p,t.pos+=p}if(!h)break;if(d+=p+1,"\t"==h[0]){var m=t.cm.options.tabSize,g=m-t.col%m;(f=c.appendChild(Br("span",Mr(g),"cm-tab"))).setAttribute("role","presentation"),f.setAttribute("cm-text","\t"),t.col+=g}else if("\r"==h[0]||"\n"==h[0]){(f=c.appendChild(Br("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",h[0]),t.col+=1}else{(f=t.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),bo&&wo<9?c.appendChild(Br("span",[f])):c.appendChild(f),t.col+=1}t.map.push(t.pos,t.pos+1,f),t.pos++}else{t.col+=e.length;c=document.createTextNode(s);t.map.push(t.pos,t.pos+e.length,c),bo&&wo<9&&(u=!0),t.pos+=e.length}if(n||i||r||u||a){var v=n||"";i&&(v+=i),r&&(v+=r);var y=Br("span",[c],v,a);return o&&(y.title=o),t.content.appendChild(y)}t.content.appendChild(c)}}function qi(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":"\xa0";return e+" "}function Bi(d,h){return function(t,e,n,i,r,o,a){n=n?n+" cm-force-border":"cm-force-border";for(var s=t.pos,l=s+e.length;;){for(var u=0;u<h.length;u++){var c=h[u];if(c.to>s&&c.from<=s)break}if(c.to>=l)return d(t,e,n,i,r,o,a);d(t,e.slice(0,c.to-s),n,i,null,o,a),i=null,e=e.slice(c.to-s),s=c.to}}}function Ui(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e}function Hi(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var a,s,l,u,c,d,h,p=r.length,f=0,m=1,g="",v=0;;){if(v==f){l=u=c=d=s="",h=null,v=1/0;for(var y,b=[],w=0;w<i.length;++w){var _=i[w],x=_.marker;"bookmark"==x.type&&_.from==f&&x.widgetNode?b.push(x):_.from<=f&&(null==_.to||_.to>f||x.collapsed&&_.to==f&&_.from==f)?(null!=_.to&&_.to!=f&&v>_.to&&(v=_.to,u=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&_.from==f&&(c+=" "+x.startStyle),x.endStyle&&_.to==v&&(y||(y=[])).push(x.endStyle,_.to),x.title&&!d&&(d=x.title),x.collapsed&&(!h||pi(h.marker,x)<0)&&(h=_)):_.from>f&&v>_.from&&(v=_.from)}if(y)for(w=0;w<y.length;w+=2)y[w+1]==v&&(u+=" "+y[w]);if(!h||h.from==f)for(w=0;w<b.length;++w)Ui(e,0,b[w]);if(h&&(h.from||0)==f){if(Ui(e,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(p<=f)break;for(var k=Math.min(p,v);;){if(g){var C=f+g.length;if(!h){var S=k<C?g.slice(0,k-f):g;e.addToken(e,S,a?a+l:l,c,f+S.length==v?u:"",d,s)}if(k<=C){g=g.slice(k-f),f=k;break}f=C,c=""}g=r.slice(o,o=n[m++]),a=Ni(n[m++],e.cm.options)}}else for(m=1;m<n.length;m+=2)e.addToken(e,r.slice(o,o=n[m]),Ni(n[m+1],e.cm.options))}function Wi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Pr(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Vi(t,i,e,r){function o(t){return e?e[t]:null}function n(t,e,n){$i(t,e,n,r),Cr(t,"change",t,i)}function a(t,e){for(var n=t,i=[];n<e;++n)i.push(new wa(u[n],o(n),r));return i}var s=i.from,l=i.to,u=i.text,c=Ji(t,s.line),d=Ji(t,l.line),h=Pr(u),p=o(u.length-1),f=l.line-s.line;if(i.full)t.insert(0,a(0,u.length)),t.remove(u.length,t.size-u.length);else if(Wi(t,i)){var m=a(0,u.length-1);n(d,d.text,p),f&&t.remove(s.line,f),m.length&&t.insert(s.line,m)}else if(c==d)if(1==u.length)n(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),p);else{(m=a(1,u.length-1)).push(new wa(h+c.text.slice(l.ch),p,r)),n(c,c.text.slice(0,s.ch)+u[0],o(0)),t.insert(s.line+1,m)}else if(1==u.length)n(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),o(0)),t.remove(s.line+1,f);else{n(c,c.text.slice(0,s.ch)+u[0],o(0)),n(d,h+d.text.slice(l.ch),p);m=a(1,u.length-1);1<f&&t.remove(s.line+1,f-1),t.insert(s.line+1,m)}Cr(t,"change",t,i)}function Yi(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function Gi(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}function Ki(t,a,s){function l(t,e,n){if(t.linked)for(var i=0;i<t.linked.length;++i){var r=t.linked[i];if(r.doc!=e){var o=n&&r.sharedHist;s&&!o||(a(r.doc,o),l(r.doc,t,o))}}}l(t,null,!0)}function Xi(t,e){if(e.cm)throw new Error("This document is already in use.");i((t.doc=e).cm=t),n(t),t.options.lineWrapping||o(t),t.options.mode=e.modeOption,Oe(t)}function Ji(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(e<o){n=r;break}e-=o}return n.lines[e]}function Qi(t,n,i){var r=[],o=n.line;return t.iter(n.line,i.line+1,function(t){var e=t.text;o==i.line&&(e=e.slice(0,i.ch)),o==n.line&&(e=e.slice(n.ch)),r.push(e),++o}),r}function Zi(t,e,n){var i=[];return t.iter(e,n,function(t){i.push(t.text)}),i}function tr(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function er(t){if(null==t.parent)return null;for(var e=t.parent,n=Ir(e.lines,t),i=e.parent;i;i=(e=i).parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function nr(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(e<o){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(i=0;i<t.lines.length;++i){var a=t.lines[i].height;if(e<a)break;e-=a}return n+i}function ir(t){for(var e=0,n=(t=yi(t)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(i=0;i<o.children.length;++i){var a=o.children[i];if(a==n)break;e+=a.height}return e}function rr(t){var e=t.order;return null==e&&(e=t.order=ls(t.text)),e}function or(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function ar(t,e){var n={from:Y(e.from),to:Zo(e),text:Qi(t,e.from,e.to)};return pr(t,n,e.from.line,e.to.line+1),Ki(t,function(t){pr(t,n,e.from.line,e.to.line+1)},!0),n}function sr(t){for(;t.length;){if(!Pr(t).ranges)break;t.pop()}}function lr(t,e){return e?(sr(t.done),Pr(t.done)):t.done.length&&!Pr(t.done).ranges?Pr(t.done):1<t.done.length&&!t.done[t.done.length-2].ranges?(t.done.pop(),Pr(t.done)):void 0}function ur(t,e,n,i){var r=t.history;r.undone.length=0;var o,a=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=lr(r,r.lastOp==i))){var s=Pr(o.changes);0==jo(e.from,e.to)&&0==jo(e.from,s.to)?s.to=Zo(e):o.changes.push(ar(t,e))}else{var l=Pr(r.done);for(l&&l.ranges||hr(t.sel,r.done),o={changes:[ar(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,s||Ia(t,"historyAdded")}function cr(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function dr(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||cr(t,o,Pr(r.done),e))?r.done[r.done.length-1]=e:hr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&sr(r.undone)}function hr(t,e){var n=Pr(e);n&&n.ranges&&n.equals(t)||e.push(t)}function pr(e,n,t,i){var r=n["spans_"+e.id],o=0;e.iter(Math.max(e.first,t),Math.min(e.first+e.size,i),function(t){t.markedSpans&&((r||(r=n["spans_"+e.id]={}))[o]=t.markedSpans),++o})}function fr(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function mr(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=0,r=[];i<e.text.length;++i)r.push(fr(n[i]));return r}function gr(t,e,n){for(var i=0,r=[];i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?ct.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u,c=a[l];if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&-1<Ir(e,Number(u[1]))&&(Pr(s)[d]=c[d],delete c[d])}}}return r}function vr(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function yr(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],a=!0;if(o.ranges){o.copied||((o=t[r]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)vr(o.ranges[s].anchor,e,n,i),vr(o.ranges[s].head,e,n,i)}else{for(s=0;s<o.changes.length;++s){var l=o.changes[s];if(n<l.from.line)l.from=Ro(l.from.line+i,l.from.ch),l.to=Ro(l.to.line+i,l.to.ch);else if(e<=l.to.line){a=!1;break}}a||(t.splice(0,r+1),r=0)}}}function br(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;yr(t.done,n,i,r),yr(t.undone,n,i,r)}function wr(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function _r(t){return t.target||t.srcElement}function xr(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Do&&t.ctrlKey&&1==e&&(e=3),e}function kr(t,e,n){var i=t._handlers&&t._handlers[e];return n?i&&0<i.length?i.slice():Ma:i||Ma}function Cr(t,e){function n(t){return function(){t.apply(null,o)}}var i=kr(t,e,!1);if(i.length){var r,o=Array.prototype.slice.call(arguments,2);Wo?r=Wo.delayedCallbacks:La?r=La:(r=La=[],setTimeout(Sr,0));for(var a=0;a<i.length;++a)r.push(n(i[a]))}}function Sr(){var t=La;La=null;for(var e=0;e<t.length;++e)t[e]()}function Tr(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Ia(t,n||e.type,t,e),wr(e)||e.codemirrorIgnore}function $r(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==Ir(n,e[i])&&n.push(e[i])}function Er(t,e){return 0<kr(t,e).length}function Ar(t){t.prototype.on=function(t,e){Da(this,t,e)},t.prototype.off=function(t,e){Pa(this,t,e)}}function Dr(){this.id=null}function Mr(t){for(;Ba.length<=t;)Ba.push(Pr(Ba)+" ");return Ba[t]}function Pr(t){return t[t.length-1]}function Ir(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function Lr(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function Or(){}function Fr(t,e){var n;return n=Object.create?Object.create(t):(Or.prototype=t,new Or),e&&Nr(e,n),n}function Nr(t,e,n){for(var i in e||(e={}),t)!t.hasOwnProperty(i)||!1===n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function Rr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function jr(t,e){return e?!!(-1<e.source.indexOf("\\w")&&Va(t))||e.test(t):Va(t)}function zr(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function qr(t){return 768<=t.charCodeAt(0)&&Ya.test(t)}function Br(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function Ur(t){for(var e=t.childNodes.length;0<e;--e)t.removeChild(t.firstChild);return t}function Hr(t,e){return Ur(t).appendChild(e)}function Wr(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Vr(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Yr(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!Vr(n[i]).test(e)&&(e+=" "+n[i]);return e}function Gr(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var i=e[n].CodeMirror;i&&t(i)}}function Kr(){ts||(Xr(),ts=!0)}function Xr(){var t;Da(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Gr(He)},100))}),Da(window,"blur",function(){Gr(yn)})}function Jr(t){if(null==Ka){var e=Br("span","\u200b");Hr(t,Br("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ka=e.offsetWidth<=1&&2<e.offsetHeight&&!(bo&&wo<8))}var n=Ka?Br("span","\u200b"):Br("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Qr(t){if(null!=Xa)return Xa;var e=Hr(t,document.createTextNode("A\u062eA")),n=Ha(e,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=Ha(e,1,2).getBoundingClientRect();return Xa=i.right-n.right<3}function Zr(t){if(null!=os)return os;var e=Hr(t,Br("span","x")),n=e.getBoundingClientRect(),i=Ha(e,0,1).getBoundingClientRect();return os=1<Math.abs(n.left-i.left)}function to(t,e,n,i){if(!t)return i(e,n,"ltr");for(var r=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(i(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr"),r=!0)}r||i(e,n,"ltr")}function eo(t){return t.level%2?t.to:t.from}function no(t){return t.level%2?t.from:t.to}function io(t){var e=rr(t);return e?eo(e[0]):0}function ro(t){var e=rr(t)
;return e?no(Pr(e)):t.text.length}function oo(t,e){var n=Ji(t.doc,e),i=yi(n);i!=n&&(e=er(i));var r=rr(i),o=r?r[0].level%2?ro(i):io(i):0;return Ro(e,o)}function ao(t,e){for(var n,i=Ji(t.doc,e);n=gi(i);)i=n.find(1,!0).line,e=null;var r=rr(i),o=r?r[0].level%2?io(i):ro(i):i.text.length;return Ro(null==e?er(i):e,o)}function so(t,e){var n=oo(t,e.line),i=Ji(t.doc,n.line),r=rr(i);if(r&&0!=r[0].level)return n;var o=Math.max(0,i.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return Ro(n.line,a?0:o)}function lo(t,e,n){var i=t[0].level;return e==i||n!=i&&e<n}function uo(t,e){ss=null;for(var n,i=0;i<t.length;++i){var r=t[i];if(r.from<e&&r.to>e)return i;if(r.from==e||r.to==e){if(null!=n)return lo(t,r.level,t[n].level)?(r.from!=r.to&&(ss=n),i):(r.from!=r.to&&(ss=i),n);n=i}}return n}function co(t,e,n,i){if(!i)return e+n;for(;0<(e+=n)&&qr(t.text.charAt(e)););return e}function ho(t,e,n,i){var r=rr(t);if(!r)return po(t,e,n,i);for(var o=uo(r,e),a=r[o],s=co(t,e,a.level%2?-n:n,i);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return uo(r,s)==o?s:0<n==(a=r[o+=n]).level%2?a.to:a.from;if(!(a=r[o+=n]))return null;s=0<n==a.level%2?co(t,a.to,-1,i):co(t,a.from,1,i)}}function po(t,e,n,i){var r=e+n;if(i)for(;0<r&&qr(t.text.charAt(r));)r+=n;return r<0||r>t.text.length?null:r}var fo=navigator.userAgent,mo=navigator.platform,go=/gecko\/\d/i.test(fo),vo=/MSIE \d/.test(fo),yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fo),bo=vo||yo,wo=bo&&(vo?document.documentMode||6:yo[1]),_o=/WebKit\//.test(fo),xo=_o&&/Qt\/\d+\.\d+/.test(fo),ko=/Chrome\//.test(fo),Co=/Opera\//.test(fo),So=/Apple Computer/.test(navigator.vendor),To=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fo),$o=/PhantomJS/.test(fo),Eo=/AppleWebKit/.test(fo)&&/Mobile\/\w+/.test(fo),Ao=Eo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fo),Do=Eo||/Mac/.test(mo),Mo=/\bCrOS\b/.test(fo),Po=/win/i.test(mo),Io=Co&&fo.match(/Version\/(\d*\.\d*)/);Io&&(Io=Number(Io[1])),Io&&15<=Io&&(_o=!(Co=!1));var Lo=Do&&(xo||Co&&(null==Io||Io<12.11)),Oo=go||bo&&9<=wo,Fo=!1,No=!1;t.prototype=Nr({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&0<t.clientHeight&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Do&&!To?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Dr,this.disableVert=new Dr},enableZeroWidthBar:function(e,n){function i(){var t=e.getBoundingClientRect();document.elementFromPoint(t.left+1,t.bottom-1)!=e?e.style.pointerEvents="none":n.set(1e3,i)}e.style.pointerEvents="auto",n.set(1e3,i)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},t.prototype),g.prototype=Nr({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),l.scrollbarModel={"native":t,"null":g},S.prototype.signal=function(t,e){Er(t,e)&&this.events.push(arguments)},S.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Ia.apply(null,this.events[t])};var Ro=l.Pos=function(t,e){return this instanceof Ro?(this.line=t,void(this.ch=e)):new Ro(t,e)},jo=l.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},zo=null;nt.prototype=Nr({init:function(e){function t(t){if(!Tr(i,t)){if(i.somethingSelected())zo={lineWise:!1,text:i.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=zo.text.join("\n"),Ua(o));else{if(!i.options.lineWiseCopyCut)return;var e=tt(i);zo={lineWise:!0,text:e.text},"cut"==t.type?i.setSelections(e.ranges,null,Na):(n.prevInput="",o.value=e.text.join("\n"),Ua(o))}"cut"==t.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,r=this.wrapper=it(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),Eo&&(o.style.width="0px"),Da(o,"input",function(){bo&&9<=wo&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Da(o,"paste",function(t){Tr(i,t)||Q(t,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Da(o,"cut",t),Da(o,"copy",t),Da(e.scroller,"paste",function(t){We(e,t)||Tr(i,t)||(i.state.pasteIncoming=!0,n.focus())}),Da(e.lineSpace,"selectstart",function(t){We(e,t)||$a(t)}),Da(o,"compositionstart",function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Da(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,n=t.doc,i=Ot(t);if(t.options.moveInputWithCursor){var r=pe(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+a.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+a.left-o.left))}return i},showSelection:function(t){var e=this.cm.display;Hr(e.cursorDiv,t.cursors),Hr(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary(),a=(e=rs&&(100<o.to().line-o.from().line||1e3<(n=i.getSelection()).length))?"-":n||i.getSelection();this.textarea.value=a,i.state.focused&&Ua(this.textarea),bo&&9<=wo&&(this.hasSelection=a)}else t||(this.prevInput=this.textarea.value="",bo&&9<=wo&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ao||Wr()!=this.textarea))try{this.textarea.focus()}catch(l){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){n.poll()||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||is(e)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=e.value;if(i==n&&!t.somethingSelected())return!1;if(bo&&9<=wo&&this.hasSelection===i||Do&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="\u200b"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,i.length);o<a&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var s=this;return Ae(t,function(){J(t,i.slice(o),n.length-o,null,s.composing?"*compose":null),1e3<i.length||-1<i.indexOf("\n")?e.value=s.prevInput="":s.prevInput=i,s.composing&&(s.composing.range.clear(),s.composing.range=t.markText(s.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&9<=wo&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function n(){if(null!=a.selectionStart){var t=r.somethingSelected(),e="\u200b"+(t?a.value:"");a.value="\u21da",a.value=e,i.prevInput=t?"":"\u200b",a.selectionStart=1,a.selectionEnd=e.length,o.selForContextMenu=r.doc.sel}}function e(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=c,a.style.cssText=u,bo&&wo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!bo||bo&&wo<9)&&n();var t=0,e=function(){o.selForContextMenu==r.doc.sel&&0==a.selectionStart&&0<a.selectionEnd&&"\u200b"==i.prevInput?De(r,ca.selectAll)(r):t++<10?o.detectingSelectAll=setTimeout(e,500):o.input.reset()};o.detectingSelectAll=setTimeout(e,200)}}var i=this,r=i.cm,o=r.display,a=i.textarea,s=Ve(r,t),l=o.scroller.scrollTop;if(s&&!Co){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(s)&&De(r,Tt)(r.doc,pt(s),Na);var u=a.style.cssText,c=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var d=i.wrapper.getBoundingClientRect();if(a.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(t.clientY-d.top-5)+"px; left: "+(t.clientX-d.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",_o)var h=window.scrollY;if(o.input.focus(),_o&&window.scrollTo(null,h),o.input.reset(),r.somethingSelected()||(a.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),bo&&9<=wo&&n(),Oo){Aa(t);var p=function(){Pa(window,"mouseup",p),setTimeout(e,20)};Da(window,"mouseup",p)}else setTimeout(e,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Or,needsContentAttribute:!1},nt.prototype),rt.prototype=Nr({init:function(t){function e(t){if(!Tr(o,t)){if(o.somethingSelected())zo={lineWise:!1,text:o.getSelections()},"cut"==t.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var e=tt(o);zo={lineWise:!0,text:e.text},"cut"==t.type&&o.operation(function(){o.setSelections(e.ranges,0,Na),o.replaceSelection("",null,"cut")})}if(t.clipboardData&&!Eo)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",zo.text.join("\n"));else{var n=it(),i=n.firstChild;o.display.lineSpace.insertBefore(n,o.display.lineSpace.firstChild),i.value=zo.text.join("\n");var r=document.activeElement;Ua(i),setTimeout(function(){o.display.lineSpace.removeChild(n),r.focus()},50)}}}var r=this,o=r.cm,n=r.div=t.lineDiv;et(n),Da(n,"paste",function(t){Tr(o,t)||Q(t,o)}),Da(n,"compositionstart",function(t){var e=t.data;if(r.composing={sel:o.doc.sel,data:e,startData:e},e){var n=o.doc.sel.primary(),i=o.getLine(n.head.line).indexOf(e,Math.max(0,n.head.ch-e.length));-1<i&&i<=n.head.ch&&(r.composing.sel=pt(Ro(n.head.line,i),Ro(n.head.line,i+e.length)))}}),Da(n,"compositionupdate",function(t){r.composing.data=t.data}),Da(n,"compositionend",function(t){var e=r.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||r.applyComposition(e),r.composing==e&&(r.composing=null)},50))}),Da(n,"touchstart",function(){r.forceCompositionEnd()}),Da(n,"input",function(){r.composing||!o.isReadOnly()&&r.pollContent()||Ae(r.cm,function(){Oe(o)})}),Da(n,"copy",e),Da(n,"cut",e)},prepareSelection:function(){var t=Ot(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),n=st(this.cm,t.anchorNode,t.anchorOffset),i=st(this.cm,t.focusNode,t.focusOffset);if(!n||n.bad||!i||i.bad||0!=jo(K(n,i),e.from())||0!=jo(G(n,i),e.to())){var r=ot(this.cm,e.from()),o=ot(this.cm,e.to());if(r||o){var a=this.cm.display.view,s=t.rangeCount&&t.getRangeAt(0);if(r){if(!o){var l=a[a.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else r={node:a[0].measure.map[2],offset:0};try{var c=Ha(r.node,r.offset,o.offset,o.node)}catch(f){}c&&(!go&&this.cm.state.focused?(t.collapse(r.node,r.offset),c.collapsed||t.addRange(c)):(t.removeAllRanges(),t.addRange(c)),s&&null==t.anchorNode?t.addRange(s):go&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){Hr(this.cm.display.cursorDiv,t.cursors),Hr(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Ga(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Ae(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var n=st(e,t.anchorNode,t.anchorOffset),i=st(e,t.focusNode,t.focusOffset);n&&i&&Ae(e,function(){Tt(e.doc,pt(n,i),Na),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t,e=this.cm,n=e.display,i=e.doc.sel.primary(),r=i.from(),o=i.to();if(r.line<n.viewFrom||o.line>n.viewTo-1)return!1;if(r.line==n.viewFrom||0==(t=Re(e,r.line)))var a=er(n.view[0].line),s=n.view[0].node;else a=er(n.view[t].line),s=n.view[t-1].node.nextSibling;var l=Re(e,o.line);if(l==n.view.length-1)var u=n.viewTo-1,c=n.lineDiv.lastChild;else u=er(n.view[l+1].line)-1,c=n.view[l+1].node.previousSibling;for(var d=e.doc.splitLines(ut(e,s,c,a,u)),h=Qi(e.doc,Ro(a,0),Ro(u,Ji(e.doc,u).text.length));1<d.length&&1<h.length;)if(Pr(d)==Pr(h))d.pop(),h.pop(),u--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),a++}for(var p=0,f=0,m=d[0],g=h[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=Pr(d),b=Pr(h),w=Math.min(y.length-(1==d.length?p:0),b.length-(1==h.length?p:0));f<w&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;d[d.length-1]=y.slice(0,y.length-f),d[0]=d[0].slice(p);var _=Ro(a,p),x=Ro(u,h.length?Pr(h).length-f:0);return 1<d.length||d[0]||jo(_,x)?(Pn(e.doc,d,_,x,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?De(this.cm,Oe)(this.cm):t.data&&t.data!=t.startData&&De(this.cm,J)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||De(this.cm,J)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Or,resetPosition:Or,needsContentAttribute:!0},rt.prototype),l.inputStyles={textarea:nt,contenteditable:rt},ct.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(0!=jo(n.anchor,i.anchor)||0!=jo(n.head,i.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new dt(Y(this.ranges[e].anchor),Y(this.ranges[e].head));return new ct(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(0<=jo(e,i.from())&&jo(t,i.to())<=0)return n}return-1}},dt.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var qo,Bo,Uo,Ho={left:0,right:0,top:0,bottom:0},Wo=null,Vo=0,Yo=0,Go=0,Ko=null;bo?Ko=-.53:go?Ko=15:ko?Ko=-.7:So&&(Ko=-1/3);var Xo=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};l.wheelEventPixels=function(t){var e=Xo(t);return e.x*=Ko,e.y*=Ko,e};var Jo=new Dr,Qo=null,Zo=l.changeEnd=function(t){return t.text?Ro(t.from.line+t.text.length-1,Pr(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};l.prototype={constructor:l,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var n=this.options,i=n[t];n[t]==e&&"mode"!=t||(n[t]=e,ea.hasOwnProperty(t)&&De(this,ea[t])(this,e,i))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Yn(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Me(function(t,e){var n=t.token?t:l.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:e&&e.opaque}),this.state.modeGen++,Oe(this)}),removeOverlay:Me(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void Oe(this)}}),indentLine:Me(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&&zn(this,t,e,n)}),indentSelection:Me(function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(zn(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&Rn(this));else{var o=r.from(),a=r.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)zn(this,l,t);var u=this.doc.sel.ranges;0==o.ch&&e.length==u.length&&0<u[i].from().ch&&xt(this.doc,i,new dt(o,u[i].to()),Na)}}}),getTokenAt:function(t,e){return Pi(this,t,e)},getLineTokens:function(t,e){return Pi(this,Ro(t),e,!0)},getTokenTypeAt:function(t){t=mt(this.doc,t);var e,n=Oi(this,Ji(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=i+r>>1;if((a?n[2*a-1]:0)>=o)r=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}i=a+1}}var s=e?e.indexOf("cm-overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(t){var e=this.doc.mode;return e.innerMode?l.innerMode(e,this.getTokenAt(t).state).mode:e},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!sa.hasOwnProperty(e))return n;var i=sa[e],r=this.getModeAt(t);if("string"==typeof r[e])i[r[e]]&&n.push(i[r[e]]);else if(r[e])for(var o=0;o<r[e].length;o++){var a=i[r[e][o]];a&&n.push(a)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(o=0;o<i._global.length;o++){var s=i._global[o];s.pred(r,this)&&-1==Ir(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(t,e){var n=this.doc;return Bt(this,(t=ft(n,null==t?n.first+n.size-1:t))+1,e)},cursorCoords:function(t,e){var n=this.doc.sel.primary();return pe(this,null==t?n.head:"object"==typeof t?mt(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return he(this,mt(this.doc,t),e||"page")},coordsChar:function(t,e){return ge(this,(t=de(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=de(this,{top:t,left:0},e||"page").top,nr(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n,i=!1;if("number"==typeof t){var r=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:r<t&&(t=r,i=!0),n=Ji(this.doc,t)}else n=t;return ce(this,n,{top:0,left:0},e||"page").top+(i?this.doc.height-ir(n):0)},defaultTextHeight:function(){return ye(this.display)},defaultCharWidth:function(){return be(this.display)},setGutterMarker:Me(function(t,n,i){return qn(this.doc,t,"gutter",function(t){var e=t.gutterMarkers||(t.gutterMarkers={});return!(e[n]=i)&&zr(e)&&(t.gutterMarkers=null),!0})}),clearGutter:Me(function(e){var n=this,t=n.doc,i=t.first;t.iter(function(t){t.gutterMarkers&&t.gutterMarkers[e]&&(t.gutterMarkers[e]=null,Fe(n,i,"gutter"),zr(t.gutterMarkers)&&(t.gutterMarkers=null)),++i})}),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(!(t=Ji(this.doc,t)))return null}else{if(null==(e=er(t)))return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o=this.display,a=(t=pe(this,mt(this.doc,t))).bottom,s=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==i)a=t.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?a=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(a=t.bottom),s+e.offsetWidth>u&&(s=u-e.offsetWidth)}e.style.top=a+"px",e.style.left=e.style.right="","right"==r?(s=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?s=0:"middle"==r&&(s=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=s+"px"),n&&On(this,s,a,s+e.offsetWidth,a+e.offsetHeight)},triggerOnKeyDown:Me(hn),triggerOnKeyPress:Me(mn),triggerOnKeyUp:fn,execCommand:function(t){return ca.hasOwnProperty(t)?ca[t].call(null,this):void 0},triggerElectric:Me(function(t){Z(this,t)}),findPosH:function(t,e,n,i){var r=1;e<0&&(r=-1,e=-e);for(var o=0,a=mt(this.doc,t);o<e&&!(a=Un(this.doc,a,r,n,i)).hitSide;++o);return a},moveH:Me(function(e,n){var i=this;i.extendSelectionsBy(function(t){return i.display.shift||i.doc.extend||t.empty()?Un(i.doc,t.head,e,n,i.options.rtlMoveVisually):e<0?t.from():t.to()},ja)}),deleteH:Me(function(n,i){var t=this.doc.sel,r=this.doc;t.somethingSelected()?r.replaceSelection("",null,"+delete"):Bn(this,function(t){var e=Un(r,t.head,n,i,!1);return n<0?{from:e,to:t.head}:{from:t.head,to:e}})}),findPosV:function(t,e,n,i){var r=1,o=i;e<0&&(r=-1,e=-e);for(var a=0,s=mt(this.doc,t);a<e;++a){var l=pe(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Hn(this,l,r,n)).hitSide)break}return s},moveV:Me(function(i,r){var o=this,a=this.doc,s=[],l=!o.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy(function(t){if(l)return i<0?t.from():t.to();var e=pe(o,t.head,"div");null!=t.goalColumn&&(e.left=t.goalColumn),s.push(e.left);var n=Hn(o,e,i,r);return"page"==r&&t==a.sel.primary()&&Nn(o,null,he(o,n,"div").top-e.top),n},ja),s.length)for(var t=0;t<a.sel.ranges.length;t++)a.sel.ranges[t].goalColumn=s[t]}),findWordAt:function(t){var e=Ji(this.doc,t.line).text,n=t.ch,i=t.ch;if(e){var r=this.getHelper(t,"wordChars");(t.xRel<0||i==e.length)&&n?--n:++i;for(var o=e.charAt(n),a=jr(o,r)?function(t){return jr(t,r)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!jr(t)};0<n&&a(e.charAt(n-1));)--n;for(;i<e.length&&a(e.charAt(i));)++i}return new dt(Ro(t.line,n),Ro(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Za(this.display.cursorDiv,"CodeMirror-overwrite"):Qa(this.display.cursorDiv,"CodeMirror-overwrite"),Ia(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Wr()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Me(function(t,e){null==t&&null==e||jn(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Vt(this)-this.display.barHeight,width:t.scrollWidth-Vt(this)-this.display.barWidth,clientHeight:Gt(this),clientWidth:Yt(this)}},scrollIntoView:Me(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Ro(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)jn(this),this.curOp.scrollToPos=t;else{var n=Fn(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Me(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var i=this;null!=t&&(i.display.wrapper.style.width=n(t)),null!=e&&(i.display.wrapper.style.height=n(e)),i.options.lineWrapping&&ae(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Fe(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Ia(i,"refresh",this)}),operation:function(t){return Ae(this,t)},refresh:Me(function(){var t=this.display.cachedTextHeight;Oe(this),this.curOp.forceUpdate=!0,se(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),s(this),(null==t||.5<Math.abs(t-ye(this.display)))&&i(this),Ia(this,"refresh",this)}),swapDoc:Me(function(t){var e=this.doc;return e.cm=null,Xi(this,t),se(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Cr(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ar(l);var ta=l.defaults={},ea=l.optionHandlers={},na=l.Init={toString:function(){return"CodeMirror.Init"}};Wn("value","",function(t,e){t.setValue(e)},!0),Wn("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),Wn("indentUnit",2,n,!0),Wn("indentWithTabs",!1),Wn("smartIndent",!0),Wn("tabSize",4,function(t){e(t),se(t),Oe(t)},!0),Wn("lineSeparator",null,function(t,i){if(t.doc.lineSep=i){var r=[],o=t.doc.first;t.doc.iter(function(t){for(var e=0;;){var n=t.text.indexOf(i,e);if(-1==n)break;e=n+i.length,r.push(Ro(o,n))}o++});for(var e=r.length-1;0<=e;e--)Pn(t.doc,i,r[e],Ro(r[e].line,r[e].ch+i.length))}}),Wn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=l.Init&&t.refresh()}),Wn("specialCharPlaceholder",ji,function(t){t.refresh()},!0),Wn("electricChars",!0),Wn("inputStyle",Ao?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Wn("rtlMoveVisually",!Po),Wn("wholeLineUpdateBefore",!0),Wn("theme","default",function(t){c(t),d(t)},!0),Wn("keyMap","default",function(t,e,n){var i=Yn(e),r=n!=l.Init&&Yn(n);r&&r.detach&&r.detach(t,i),i.attach&&i.attach(t,r||null)}),Wn("extraKeys",null),Wn("lineWrapping",!1,r,!0),Wn("gutters",[],function(t){m(t.options),d(t)},!0),Wn("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?C(t.display)+"px":"0",t.refresh()},!0),Wn("coverGutterNextToScrollbar",!1,function(t){y(t)},!0),Wn("scrollbarStyle","native",function(t){v(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Wn("lineNumbers",!1,function(t){m(t.options),d(t)},!0),Wn("firstLineNumber",1,d,!0),Wn("lineNumberFormatter",function(t){return t},d,!0),Wn("showCursorWhenSelecting",!1,Lt,!0),Wn("resetSelectionOnContextMenu",!0),Wn("lineWiseCopyCut",!0),Wn("readOnly",!1,function(t,e){t.display.disabled="nocursor"==e&&(yn(t),t.display.input.blur(),!0),t.display.input.readOnlyChanged(e)}),Wn("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),Wn("dragDrop",!0,Ue),Wn("allowDropFileTypes",null),Wn("cursorBlinkRate",530),Wn("cursorScrollMargin",0),Wn("cursorHeight",1,Lt,!0),Wn("singleCursorHeightPerLine",!0,Lt,!0),Wn("workTime",100),Wn("workDelay",100),Wn("flattenSpans",!0,e,!0),Wn("addModeClass",!1,e,!0),Wn("pollInterval",100),Wn("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Wn("historyEventDelay",1250),Wn("viewportMargin",10,function(t){t.refresh()},!0),Wn("maxHighlightLength",1e4,e,!0),Wn("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),Wn("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),Wn("autofocus",null);var ia=l.modes={},ra=l.mimeModes={};l.defineMode=function(t,e){l.defaults.mode||"null"==t||(l.defaults.mode=t),2<arguments.length&&(e.dependencies=Array.prototype.slice.call(arguments,2)),ia[t]=e},l.defineMIME=function(t,e){ra[t]=e},l.resolveMode=function(t){if("string"==typeof t&&ra.hasOwnProperty(t))t=ra[t];else if(t&&"string"==typeof t.name&&ra.hasOwnProperty(t.name)){var e=ra[t.name];"string"==typeof e&&(e={name:e}),(t=Fr(e,t)).name=e.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return l.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},l.getMode=function(t,e){e=l.resolveMode(e);var n=ia[e.name];if(!n)return l.getMode(t,"text/plain");var i=n(t,e);if(oa.hasOwnProperty(e.name)){var r=oa[e.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var o in e.modeProps)i[o]=e.modeProps[o];return i},l.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),l.defineMIME("text/plain","null");var oa=l.modeExtensions={};l.extendMode=function(t,e){Nr(e,oa.hasOwnProperty(t)?oa[t]:oa[t]={})},l.defineExtension=function(t,e){l.prototype[t]=e},l.defineDocExtension=function(t,e){Ca.prototype[t]=e},l.defineOption=Wn;var aa=[];l.defineInitHook=function(t){aa.push(t)};var sa=l.helpers={};l.registerHelper=function(t,e,n){sa.hasOwnProperty(t)||(sa[t]=l[t]={_global:[]}),sa[t][e]=n},l.registerGlobalHelper=function(t,e,n,i){l.registerHelper(t,e,i),sa[t]._global.push({pred:n,val:i})};var la=l.copyState=function(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},ua=l.startState=function(t,e,n){return!t.startState||t.startState(e,n)};l.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var ca=l.commands={selectAll:function(t){t.setSelection(Ro(t.firstLine(),0),Ro(t.lastLine()),Na)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Na)},killLine:function(n){Bn(n,function(t){if(t.empty()){var e=Ji(n.doc,t.head.line).text.length;return t.head.ch==e&&t.head.line<n.lastLine()?{from:t.head,to:Ro(t.head.line+1,0)}:{from:t.head,to:Ro(t.head.line,e)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Bn(e,function(t){return{from:Ro(t.from().line,0),to:mt(e.doc,Ro(t.to().line+1,0))}})},delLineLeft:function(t){Bn(t,function(t){return{from:Ro(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(n){Bn(n,function(t){var e=n.charCoords(t.head,"div").top+5;return{from:n.coordsChar({left:0,top:e},"div"),to:t.from()}})},delWrappedLineRight:function(i){Bn(i,function(t){var e=i.charCoords(t.head,"div").top+5,n=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:e},"div");return{from:t.from(),to:n}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Ro(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ro(t.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return oo(e,t.head.line)},{origin:"+move",bias:1})},
goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return so(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ao(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){n.extendSelectionsBy(function(t){var e=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:e},"div")},ja)},goLineLeft:function(n){n.extendSelectionsBy(function(t){var e=n.charCoords(t.head,"div").top+5;return n.coordsChar({left:0,top:e},"div")},ja)},goLineLeftSmart:function(i){i.extendSelectionsBy(function(t){var e=i.charCoords(t.head,"div").top+5,n=i.coordsChar({left:0,top:e},"div");return n.ch<i.getLine(n.line).search(/\S/)?so(i,t.head):n},ja)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),a=za(t.getLine(o.line),o.ch,i);e.push(Mr(i-a%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(a){Ae(a,function(){for(var t=a.listSelections(),e=[],n=0;n<t.length;n++){var i=t[n].head,r=Ji(a.doc,i.line).text;if(r)if(i.ch==r.length&&(i=new Ro(i.line,i.ch-1)),0<i.ch)i=new Ro(i.line,i.ch+1),a.replaceRange(r.charAt(i.ch-1)+r.charAt(i.ch-2),Ro(i.line,i.ch-2),i,"+transpose");else if(i.line>a.doc.first){var o=Ji(a.doc,i.line-1).text;o&&a.replaceRange(r.charAt(0)+a.doc.lineSeparator()+o.charAt(o.length-1),Ro(i.line-1,o.length-1),Ro(i.line,1),"+transpose")}e.push(new dt(i,i))}a.setSelections(e)})},newlineAndIndent:function(i){Ae(i,function(){for(var t=i.listSelections().length,e=0;e<t;e++){var n=i.listSelections()[e];i.replaceRange(i.doc.lineSeparator(),n.anchor,n.head,"+input"),i.indentLine(n.from().line+1,null,!0)}Rn(i)})},openLine:function(t){t.replaceSelection("\n","start")},toggleOverwrite:function(t){t.toggleOverwrite()}},da=l.keyMap={};da.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},da.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},da.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},da.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},da["default"]=Do?da.macDefault:da.pcDefault,l.normalizeKeyMap=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var r=Lr(n.split(" "),Vn),o=0;o<r.length;o++){var a,s;a=o==r.length-1?(s=r.join(" "),i):(s=r.slice(0,o+1).join(" "),"...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var u in e)t[u]=e[u];return t};var ha=l.lookupKey=function(t,e,n,i){var r=(e=Yn(e)).call?e.call(t,i):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return ha(t,e.fallthrough,n,i);for(var o=0;o<e.fallthrough.length;o++){var a=ha(t,e.fallthrough[o],n,i);if(a)return a}}},pa=l.isModifierKey=function(t){var e="string"==typeof t?t:as[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},fa=l.keyName=function(t,e){if(Co&&34==t.keyCode&&t["char"])return!1;var n=as[t.keyCode],i=n;return null!=i&&!t.altGraphKey&&(t.altKey&&"Alt"!=n&&(i="Alt-"+i),(Lo?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Lo?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!e&&t.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};l.fromTextArea=function(e,t){function n(){e.value=s.getValue()}if((t=t?Nr(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=Wr();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(Da(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var r=e.form,o=r.submit;try{var a=r.submit=function(){n(),r.submit=o,r.submit(),r.submit=a}}catch(d){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Pa(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var s=l(function(t){e.parentNode.insertBefore(t,e.nextSibling)},t);return s};var ma=l.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ma.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return-1<e?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=za(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?za(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return za(this.string,null,this.tabSize)-(this.lineStart?za(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&0<i.index?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t};return r(this.string.substr(this.pos,t.length))==r(t)?(!1!==e&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var ga=0,va=l.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ga};Ar(va),va.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&we(t),Er(this,"clear")){var n=this.find();n&&Cr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=ti(a.markedSpans,this);t&&!this.collapsed?Fe(t,er(a),"text"):t&&(null!=s.to&&(r=er(a)),null!=s.from&&(i=er(a))),a.markedSpans=ei(a.markedSpans,s),null==s.from&&this.collapsed&&!xi(this.doc,a)&&t&&tr(a,ye(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=yi(this.lines[o]),u=f(l);u>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&Oe(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&At(t.doc)),t&&Cr(t,"markerCleared",t,this),e&&xe(t),this.parent&&this.parent.clear()}},va.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],a=ti(o.markedSpans,this);if(null!=a.from&&(n=Ro(e?o:er(o),a.from),-1==t))return n;if(null!=a.to&&(i=Ro(e?o:er(o),a.to),1==t))return i}return n&&{from:n,to:i}},va.prototype.changed=function(){var o=this.find(-1,!0),a=this,s=this.doc.cm;o&&s&&Ae(s,function(){var t=o.line,e=er(o.line),n=Zt(s,e);if(n&&(oe(n),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!xi(a.doc,t)&&null!=a.height){var i=a.height;a.height=null;var r=Si(a)-i;r&&tr(t,t.height+r)}})},va.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Ir(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},va.prototype.detachLine=function(t){if(this.lines.splice(Ir(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};ga=0;var ya=l.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Ar(ya),ya.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Cr(this,"clear")}},ya.prototype.find=function(t,e){return this.primary.find(t,e)};var ba=l.LineWidget=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};Ar(ba),ba.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=er(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=Si(this);tr(n,Math.max(0,n.height-o)),t&&Ae(t,function(){Ci(t,n,-o),Fe(t,i,"widget")})}},ba.prototype.changed=function(){var t=this.height,e=this.doc.cm,n=this.line;this.height=null;var i=Si(this)-t;i&&(tr(n,n.height+i),e&&Ae(e,function(){e.curOp.forceUpdate=!0,Ci(e,n,i)}))};var wa=l.Line=function(t,e,n){this.text=t,ci(this,e),this.height=n?n(this):1};Ar(wa),wa.prototype.lineNo=function(){return er(this)};var _a={},xa={};Yi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,Ei(r),Cr(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}},Gi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var o=Math.min(e,r-t),a=i.height;if(i.removeInner(t,o),this.height-=a-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(1<this.children.length||!(this.children[0]instanceof Yi))){var s=[];this.collapse(s),this.children=[new Yi(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,n),r.lines&&50<r.lines.length){for(var a=r.lines.length%25+25,s=a;s<r.lines.length;){var l=new Yi(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,a),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new Gi(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=Ir(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var i=new Gi(t.children);(i.parent=t).children=[i,e],t=i}e.parent=t.parent}while(10<t.children.length);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<o){var a=Math.min(e,o-t);if(r.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var ka=0,Ca=l.Doc=function(t,e,n,i){if(!(this instanceof Ca))return new Ca(t,e,n,i);null==n&&(n=0),Gi.call(this,[new Yi([new wa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=Ro(n,0);this.sel=pt(r),this.history=new or(null),this.id=++ka,this.modeOption=e,this.lineSep=i,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Vi(this,{from:r,to:r,text:t}),Tt(this,pt(r),Na)};Ca.prototype=Fr(Gi.prototype,{constructor:Ca,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Zi(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Pe(function(t){var e=Ro(this.first,0),n=this.first+this.size-1;Tn(this,{from:e,to:Ro(n,Ji(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Tt(this,pt(e))}),replaceRange:function(t,e,n,i){Pn(this,t,e=mt(this,e),n=n?mt(this,n):e,i)},getRange:function(t,e,n){var i=Qi(this,mt(this,t),mt(this,e));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return vt(this,t)?Ji(this,t):void 0},getLineNumber:function(t){return er(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Ji(this,t)),yi(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return mt(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Pe(function(t,e,n){kt(this,mt(this,"number"==typeof t?Ro(t,e||0):t),null,n)}),setSelection:Pe(function(t,e,n){kt(this,mt(this,t),mt(this,e||t),n)}),extendSelection:Pe(function(t,e,n){wt(this,mt(this,t),e&&mt(this,e),n)}),extendSelections:Pe(function(t,e){_t(this,yt(this,t),e)}),extendSelectionsBy:Pe(function(t,e){_t(this,yt(this,Lr(this.sel.ranges,t)),e)}),setSelections:Pe(function(t,e,n){if(t.length){for(var i=0,r=[];i<t.length;i++)r[i]=new dt(mt(this,t[i].anchor),mt(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Tt(this,ht(r,e),n)}}),addSelection:Pe(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new dt(mt(this,t),mt(this,e||t))),Tt(this,ht(i,i.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=Qi(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Qi(this,n[i].from(),n[i].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:Pe(function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var a=r.ranges[o];i[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}var s=e&&"end"!=e&&Cn(this,i,e);for(o=i.length-1;0<=o;o--)Tn(this,i[o]);s?St(this,s):this.cm&&Rn(this.cm)}),undo:Pe(function(){En(this,"undo")}),redo:Pe(function(){En(this,"redo")}),undoSelection:Pe(function(){En(this,"undo",!0)}),redoSelection:Pe(function(){En(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new or(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:gr(this.history.done),undone:gr(this.history.undone)}},setHistory:function(t){var e=this.history=new or(this.history.maxGeneration);e.done=gr(t.done.slice(0),null,!0),e.undone=gr(t.undone.slice(0),null,!0)},addLineClass:Pe(function(t,n,i){return qn(this,t,"gutter"==n?"gutter":"class",function(t){var e="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[e]){if(Vr(i).test(t[e]))return!1;t[e]+=" "+i}else t[e]=i;return!0})}),removeLineClass:Pe(function(t,o,a){return qn(this,t,"gutter"==o?"gutter":"class",function(t){var e="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass",n=t[e];if(!n)return!1;if(null==a)t[e]=null;else{var i=n.match(Vr(a));if(!i)return!1;var r=i.index+i[0].length;t[e]=n.slice(0,i.index)+(i.index&&r!=n.length?" ":"")+n.slice(r)||null}return!0})}),addLineWidget:Pe(function(t,e,n){return Ti(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Gn(this,mt(this,t),mt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Gn(this,t=mt(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Ji(this,(t=mt(this,t)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(r,o,a){r=mt(this,r),o=mt(this,o);var s=[],l=r.line;return this.iter(r.line,o.line+1,function(t){var e=t.markedSpans;if(e)for(var n=0;n<e.length;n++){var i=e[n];null!=i.to&&l==r.line&&r.ch>=i.to||null==i.from&&l!=r.line||null!=i.from&&l==o.line&&i.from>=o.ch||a&&!a(i.marker)||s.push(i.marker.parent||i.marker)}++l}),s},getAllMarks:function(){var i=[];return this.iter(function(t){var e=t.markedSpans;if(e)for(var n=0;n<e.length;++n)null!=e[n].from&&i.push(e[n].marker)}),i},posFromIndex:function(n){var i,r=this.first,o=this.lineSeparator().length;return this.iter(function(t){var e=t.text.length+o;return n<e?(i=n,!0):(n-=e,void++r)}),mt(this,Ro(r,i))},indexFromPos:function(t){var e=(t=mt(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new Ca(Zi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new Ca(Zi(this,e,n),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Jn(i,Xn(this)),i},unlinkDoc:function(t){if(t instanceof l&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Qn(Xn(this));break}}if(t.history==this.history){var n=[t.id];Ki(t,function(t){n.push(t.id)},!0),t.history=new or(null),t.history.done=gr(this.history.done,n),t.history.undone=gr(this.history.undone,n)}},iterLinkedDocs:function(t){Ki(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):ns(t)},lineSeparator:function(){return this.lineSep||"\n"}}),Ca.prototype.eachLine=Ca.prototype.iter;var Sa="iter insert remove copy getEditor constructor".split(" ");for(var Ta in Ca.prototype)Ca.prototype.hasOwnProperty(Ta)&&Ir(Sa,Ta)<0&&(l.prototype[Ta]=function(t){return function(){return t.apply(this.doc,arguments)}}(Ca.prototype[Ta]));Ar(Ca);var $a=l.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Ea=l.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Aa=l.e_stop=function(t){$a(t),Ea(t)},Da=l.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});(i[e]||(i[e]=[])).push(n)}},Ma=[],Pa=l.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else for(var i=kr(t,e,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},Ia=l.signal=function(t,e){var n=kr(t,e,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},La=null,Oa=30,Fa=l.Pass={toString:function(){return"CodeMirror.Pass"}},Na={scroll:!1},Ra={origin:"*mouse"},ja={origin:"+move"};Dr.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var za=l.countColumn=function(t,e,n,i,r){null==e&&(-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length));for(var o=i||0,a=r||0;;){var s=t.indexOf("\t",o);if(s<0||e<=s)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}},qa=l.findColumn=function(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("\t",i);-1==o&&(o=t.length);var a=o-i;if(o==t.length||e<=r+a)return i+Math.min(a,e-r);if(r+=o-i,i=o+1,e<=(r+=n-r%n))return i}},Ba=[""],Ua=function(t){t.select()};Eo?Ua=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:bo&&(Ua=function(t){try{t.select()}catch(u){}});var Ha,Wa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Va=l.isWordChar=function(t){return/\w/.test(t)||"\x80"<t&&(t.toUpperCase()!=t.toLowerCase()||Wa.test(t))},Ya=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ha=document.createRange?function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var Ga=l.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)};bo&&wo<11&&(Wr=function(){try{return document.activeElement}catch(l){return document.body}});var Ka,Xa,Ja,Qa=l.rmClass=function(t,e){var n=t.className,i=Vr(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Za=l.addClass=function(t,e){var n=t.className;Vr(e).test(n)||(t.className+=(n?" ":"")+e)},ts=!1,es=function(){if(bo&&wo<9)return!1;var t=Br("div");return"draggable"in t||"dragDrop"in t}(),ns=l.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},is=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(u){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},rs="oncopy"in(Ja=Br("div"))||(Ja.setAttribute("oncopy","return;"),"function"==typeof Ja.oncopy),os=null,as=l.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;t<10;t++)as[t+48]=as[t+96]=String(t);for(t=65;t<=90;t++)as[t]=String.fromCharCode(t);for(t=1;t<=12;t++)as[t+111]=as[t+63235]="F"+t}();var ss,ls=function(){function y(t){return t<=247?e.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?n.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function b(t,e,n){this.level=t,this.from=e,this.to=n}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",w=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,_=/[stwN]/,x=/[LRr]/,k=/[Lb1n]/,C=/[1n]/,S="L";return function(t){if(!w.test(t))return!1;for(var e=t.length,n=[],i=0;i<e;++i)n.push(u=y(t.charCodeAt(i)));i=0;for(var r=S;i<e;++i){"m"==(u=n[i])?n[i]=r:r=u}i=0;for(var o=S;i<e;++i){"1"==(u=n[i])&&"r"==o?n[i]="n":x.test(u)&&("r"==(o=u)&&(n[i]="R"))}for(i=1,r=n[0];i<e-1;++i){"+"==(u=n[i])&&"1"==r&&"1"==n[i+1]?n[i]="1":","!=u||r!=n[i+1]||"1"!=r&&"n"!=r||(n[i]=r),r=u}for(i=0;i<e;++i){if(","==(u=n[i]))n[i]="N";else if("%"==u){for(var a=i+1;a<e&&"%"==n[a];++a);for(var s=i&&"!"==n[i-1]||a<e&&"1"==n[a]?"1":"N",l=i;l<a;++l)n[l]=s;i=a-1}}for(i=0,o=S;i<e;++i){var u=n[i];"L"==o&&"1"==u?n[i]="L":x.test(u)&&(o=u)}for(i=0;i<e;++i)if(_.test(n[i])){for(a=i+1;a<e&&_.test(n[a]);++a);var c="L"==(i?n[i-1]:S),d="L"==(a<e?n[a]:S);for(s=c||d?"L":"R",l=i;l<a;++l)n[l]=s;i=a-1}var h,p=[];for(i=0;i<e;)if(k.test(n[i])){var f=i;for(++i;i<e&&k.test(n[i]);++i);p.push(new b(0,f,i))}else{var m=i,g=p.length;for(++i;i<e&&"L"!=n[i];++i);for(l=m;l<i;)if(C.test(n[l])){m<l&&p.splice(g,0,new b(1,m,l));var v=l;for(++l;l<i&&C.test(n[l]);++l);p.splice(g,0,new b(2,v,l)),m=l}else++l;m<i&&p.splice(g,0,new b(1,m,i))}return 1==p[0].level&&(h=t.match(/^\s+/))&&(p[0].from=h[0].length,p.unshift(new b(0,0,h[0].length))),1==Pr(p).level&&(h=t.match(/\s+$/))&&(Pr(p).to-=h[0].length,p.push(new b(0,e-h[0].length,e))),2==p[0].level&&p.unshift(new b(1,p[0].to,p[0].to)),p[0].level!=Pr(p).level&&p.push(new b(p[0].level,e,e)),p}}();return l.version="5.15.2",l})},{}],11:[function(t,e,n){var i;i=function(s){"use strict";var l=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i;s.defineMode("gfm",function(t,r){function e(t){return t.code=!1,null}var o=0,n={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(t){return{code:t.code,codeBlock:t.codeBlock,ateSpace:t.ateSpace}},token:function(t,e){if(e.combineTokens=null,e.codeBlock)return t.match(/^```+/)?e.codeBlock=!1:t.skipToEnd(),null;if(t.sol()&&(e.code=!1),t.sol()&&t.match(/^```+/))return t.skipToEnd(),e.codeBlock=!0,null;if("`"===t.peek()){t.next();var n=t.pos;t.eatWhile("`");var i=1+t.pos-n;return e.code?i===o&&(e.code=!1):(o=i,e.code=!0),null}if(e.code)return t.next(),null;if(t.eatSpace())return e.ateSpace=!0,null;if((t.sol()||e.ateSpace)&&(e.ateSpace=!1)!==r.gitHubSpice){if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return e.combineTokens=!0,"link";if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return e.combineTokens=!0,"link"}return t.match(l)&&"]("!=t.string.slice(t.start-2,t.start)&&(0==t.start||/\W/.test(
t.string.charAt(t.start-1)))?(e.combineTokens=!0,"link"):(t.next(),null)},blankLine:e},i={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var a in r)i[a]=r[a];return i.name="markdown",s.overlayMode(s.getMode(t,i),n)},"markdown"),s.defineMIME("text/x-gfm","gfm")},"object"==typeof n&&"object"==typeof e?i(t("../../lib/codemirror"),t("../markdown/markdown"),t("../../addon/mode/overlay")):"function"==typeof s&&s.amd?s(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],i):i(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(t,e,n){var i;i=function(L){"use strict";L.defineMode("markdown",function(i,v){function s(t){if(L.findModeByName){var e=L.findModeByName(t);e&&(t=e.mime||e.mimes[0])}var n=L.getMode(i,t);return"null"==n.name?null:n}function l(t,e,n){return e.f=e.inline=n,n(t,e)}function y(t,e,n){return e.f=e.block=n,n(t,e)}function u(t){return!t||!/\S/.test(t.string)}function r(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,m&&t.f==b&&(t.f=a,t.block=o),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine=null}function o(t,e){var n=t.sol(),i=!1!==e.list,r=e.indentedCode;e.indentedCode=!1,i&&(0<=e.indentationDiff?(e.indentationDiff<4&&(e.indentation-=e.indentationDiff),e.list=null):0<e.indentation?e.list=null:e.list=!1);var o=null;if(4<=e.indentationDiff)return t.skipToEnd(),r||u(e.prevLine)?(e.indentation-=4,e.indentedCode=!0,C.code):null;if(t.eatSpace())return null;if((o=t.match(E))&&o[1].length<=6)return e.header=o[1].length,v.highlightFormatting&&(e.formatting="header"),e.f=e.inline,w(e);if(!(u(e.prevLine)||e.quote||i||r)&&(o=t.match(A)))return e.header="="==o[0].charAt(0)?1:2,v.highlightFormatting&&(e.formatting="header"),e.f=e.inline,w(e);if(t.eat(">"))return e.quote=n?1:e.quote+1,v.highlightFormatting&&(e.formatting="quote"),t.eatSpace(),w(e);if("["===t.peek())return l(t,e,h);if(t.match(g,!0))return e.hr=!0,C.hr;if(!u(e.prevLine)&&!i||!t.match(S,!1)&&!t.match(T,!1))return v.fencedCodeBlocks&&(o=t.match(M,!0))?(e.fencedChars=o[1],e.localMode=s(o[2]),e.localMode&&(e.localState=L.startState(e.localMode)),e.f=e.block=c,v.highlightFormatting&&(e.formatting="code-block"),e.code=-1,w(e)):l(t,e,e.inline);var a=null;for(a=t.match(S,!0)?"ul":(t.match(T,!0),"ol"),e.indentation=t.column()+t.current().length,e.list=!0;e.listStack&&t.column()<e.listStack[e.listStack.length-1];)e.listStack.pop();return e.listStack.push(e.indentation),v.taskLists&&t.match($,!1)&&(e.taskList=!0),e.f=e.inline,v.highlightFormatting&&(e.formatting=["list","list-"+a]),w(e)}function b(t,e){var n=k.token(t,e.htmlState);if(!m){var i=L.innerMode(k,e.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||e.md_inside&&-1<t.current().indexOf(">"))&&(e.f=a,e.block=o,e.htmlState=null)}return n}function c(t,e){return e.fencedChars&&t.match(e.fencedChars,!1)?(e.localMode=e.localState=null,e.f=e.block=n,null):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),C.code)}function n(t,e){t.match(e.fencedChars),e.block=o,e.f=a,e.fencedChars=null,v.highlightFormatting&&(e.formatting="code-block"),e.code=1;var n=w(e);return e.code=0,n}function w(t){var e=[];if(t.formatting){e.push(C.formatting),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var n=0;n<t.formatting.length;n++)e.push(C.formatting+"-"+t.formatting[n]),"header"===t.formatting[n]&&e.push(C.formatting+"-"+t.formatting[n]+"-"+t.header),"quote"===t.formatting[n]&&(!v.maxBlockquoteDepth||v.maxBlockquoteDepth>=t.quote?e.push(C.formatting+"-"+t.formatting[n]+"-"+t.quote):e.push("error"))}if(t.taskOpen)return e.push("meta"),e.length?e.join(" "):null;if(t.taskClosed)return e.push("property"),e.length?e.join(" "):null;if(t.linkHref?e.push(C.linkHref,"url"):(t.strong&&e.push(C.strong),t.em&&e.push(C.em),t.strikethrough&&e.push(C.strikethrough),t.linkText&&e.push(C.linkText),t.code&&e.push(C.code)),t.header&&e.push(C.header,C.header+"-"+t.header),t.quote&&(e.push(C.quote),!v.maxBlockquoteDepth||v.maxBlockquoteDepth>=t.quote?e.push(C.quote+"-"+t.quote):e.push(C.quote+"-"+v.maxBlockquoteDepth)),!1!==t.list){var i=(t.listStack.length-1)%3;i?1===i?e.push(C.list2):e.push(C.list3):e.push(C.list1)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function t(t,e){return t.match(D,!0)?w(e):void 0}function a(t,e){var n=e.text(t,e);if(void 0!==n)return n;if(e.list)return e.list=null,w(e);if(e.taskList)return"x"!==t.match($,!0)[1]?e.taskOpen=!0:e.taskClosed=!0,v.highlightFormatting&&(e.formatting="task"),e.taskList=!1,w(e);if(e.taskOpen=!1,e.taskClosed=!1,e.header&&t.match(/^#+$/,!0))return v.highlightFormatting&&(e.formatting="header"),w(e);var i=t.sol(),r=t.next();if(e.linkTitle){e.linkTitle=!1;var o=r;"("===r&&(o=")");var a="^\\s*(?:[^"+(o=(o+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+o;if(t.match(new RegExp(a),!0))return C.linkHref}if("`"===r){var s=e.formatting;v.highlightFormatting&&(e.formatting="code"),t.eatWhile("`");var l=t.current().length;if(0==e.code)return e.code=l,w(e);if(l!=e.code)return e.formatting=s,w(e);var u=w(e);return e.code=0,u}if(e.code)return w(e);if("\\"===r&&(t.next(),v.highlightFormatting)){var c=w(e),d=C.formatting+"-escape";return c?c+" "+d:d}if("!"===r&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),e.inline=e.f=x,C.image;if("["===r&&t.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return e.linkText=!0,v.highlightFormatting&&(e.formatting="link"),w(e);if("]"===r&&e.linkText&&t.match(/\(.*?\)| ?\[.*?\]/,!1)){v.highlightFormatting&&(e.formatting="link");var c=w(e);return e.linkText=!1,e.inline=e.f=x,c}if("<"===r&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return e.f=e.inline=_,v.highlightFormatting&&(e.formatting="link"),(c=w(e))?c+=" ":c="",c+C.linkInline;if("<"===r&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return e.f=e.inline=_,v.highlightFormatting&&(e.formatting="link"),(c=w(e))?c+=" ":c="",c+C.linkEmail;if("<"===r&&t.match(/^(!--|\w)/,!1)){var h=t.string.indexOf(">",t.pos);if(-1!=h){var p=t.string.substring(t.start,h);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(p)&&(e.md_inside=!0)}return t.backUp(1),e.htmlState=L.startState(k),y(t,e,b)}if("<"===r&&t.match(/^\/\w*?>/))return e.md_inside=!1,"tag";var f=!1;if(!v.underscoresBreakWords&&"_"===r&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var m=t.pos-2;if(0<=m){var g=t.string.charAt(m);"_"!==g&&g.match(/(\w)/,!1)&&(f=!0)}}if("*"===r||"_"===r&&!f)if(i&&" "===t.peek());else{if(e.strong===r&&t.eat(r)){v.highlightFormatting&&(e.formatting="strong");u=w(e);return e.strong=!1,u}if(!e.strong&&t.eat(r))return e.strong=r,v.highlightFormatting&&(e.formatting="strong"),w(e);if(e.em===r){v.highlightFormatting&&(e.formatting="em");u=w(e);return e.em=!1,u}if(!e.em)return e.em=r,v.highlightFormatting&&(e.formatting="em"),w(e)}else if(" "===r&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return w(e);t.backUp(1)}if(v.strikethrough)if("~"===r&&t.eatWhile(r)){if(e.strikethrough){v.highlightFormatting&&(e.formatting="strikethrough");u=w(e);return e.strikethrough=!1,u}if(t.match(/^[^\s]/,!1))return e.strikethrough=!0,v.highlightFormatting&&(e.formatting="strikethrough"),w(e)}else if(" "===r&&t.match(/^~~/,!0)){if(" "===t.peek())return w(e);t.backUp(2)}return" "===r&&(t.match(/ +$/,!1)?e.trailingSpace++:e.trailingSpace&&(e.trailingSpaceNewLine=!0)),w(e)}function _(t,e){if(">"!==t.next())return t.match(/^[^>]+/,!0),C.linkInline;e.f=e.inline=a,v.highlightFormatting&&(e.formatting="link");var n=w(e);return n?n+=" ":n="",n+C.linkInline}function x(t,e){if(t.eatSpace())return null;var n=t.next();return"("===n||"["===n?(e.f=e.inline=d("("===n?")":"]",0),v.highlightFormatting&&(e.formatting="link-string"),e.linkHref=!0,w(e)):"error"}function d(i){return function(t,e){if(t.next()!==i)return t.match(P[i]),e.linkHref=!0,w(e);e.f=e.inline=a,v.highlightFormatting&&(e.formatting="link-string");var n=w(e);return e.linkHref=!1,n}}function h(t,e){return t.match(/^([^\]\\]|\\.)*\]:/,!1)?(e.f=p,t.next(),v.highlightFormatting&&(e.formatting="link"),e.linkText=!0,w(e)):l(t,e,a)}function p(t,e){if(t.match(/^\]:/,!0)){e.f=e.inline=f,v.highlightFormatting&&(e.formatting="link");var n=w(e);return e.linkText=!1,n}return t.match(/^([^\]\\]|\\.)+/,!0),C.linkText}function f(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=a,C.linkHref+" url")}var k=L.getMode(i,"text/html"),m="null"==k.name;void 0===v.highlightFormatting&&(v.highlightFormatting=!1),void 0===v.maxBlockquoteDepth&&(v.maxBlockquoteDepth=0),void 0===v.underscoresBreakWords&&(v.underscoresBreakWords=!0),void 0===v.taskLists&&(v.taskLists=!1),void 0===v.strikethrough&&(v.strikethrough=!1),void 0===v.tokenTypeOverrides&&(v.tokenTypeOverrides={});var C={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var e in C)C.hasOwnProperty(e)&&v.tokenTypeOverrides[e]&&(C[e]=v.tokenTypeOverrides[e]);var g=/^([*\-_])(?:\s*\1){2,}\s*$/,S=/^[*\-+]\s+/,T=/^[0-9]+([.)])\s+/,$=/^\[(x| )\](?=\s)/,E=v.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,A=/^ *(?:\={1,}|-{1,})\s*$/,D=/^[^#!\[\]*_\\<>` "'(~]+/,M=new RegExp("^("+(!0===v.fencedCodeBlocks?"~~~+|```+":v.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),P={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},I={startState:function(){return{f:o,prevLine:null,thisLine:null,block:o,htmlState:null,indentation:0,inline:a,text:t,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&L.copyState(k,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?L.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(t,e){if(e.formatting=!1,t!=e.thisLine){var n=e.header||e.hr;if(e.header=0,e.hr=!1,t.match(/^\s*$/,!0)||n){if(r(e),!n)return null;e.prevLine=null}e.prevLine=e.thisLine,e.thisLine=t,e.taskList=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.f=e.block;var i=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(e.indentationDiff=Math.min(i-e.indentation,4),e.indentation=e.indentation+e.indentationDiff,0<i)return null}return e.f(t,e)},innerMode:function(t){return t.block==b?{state:t.htmlState,mode:k}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:I}},blankLine:r,getType:w,fold:"markdown"};return I},"xml"),L.defineMIME("text/x-markdown","markdown")},"object"==typeof n&&"object"==typeof e?i(t("../../lib/codemirror"),t("../xml/xml"),t("../meta")):"function"==typeof s&&s.amd?s(["../../lib/codemirror","../xml/xml","../meta"],i):i(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(t,e,n){var i;i=function(o){"use strict";o.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<o.modeInfo.length;t++){var e=o.modeInfo[t];e.mimes&&(e.mime=e.mimes[0])}o.findModeByMIME=function(t){t=t.toLowerCase();for(var e=0;e<o.modeInfo.length;e++){var n=o.modeInfo[e];if(n.mime==t)return n;if(n.mimes)for(var i=0;i<n.mimes.length;i++)if(n.mimes[i]==t)return n}},o.findModeByExtension=function(t){for(var e=0;e<o.modeInfo.length;e++){var n=o.modeInfo[e];if(n.ext)for(var i=0;i<n.ext.length;i++)if(n.ext[i]==t)return n}},o.findModeByFileName=function(t){for(var e=0;e<o.modeInfo.length;e++){var n=o.modeInfo[e];if(n.file&&n.file.test(t))return n}var i=t.lastIndexOf("."),r=-1<i&&t.substring(i+1,t.length);return r?o.findModeByExtension(r):void 0},o.findModeByName=function(t){t=t.toLowerCase();for(var e=0;e<o.modeInfo.length;e++){var n=o.modeInfo[e];if(n.name.toLowerCase()==t)return n;if(n.alias)for(var i=0;i<n.alias.length;i++)if(n.alias[i].toLowerCase()==t)return n}}},"object"==typeof n&&"object"==typeof e?i(t("../lib/codemirror")):"function"==typeof s&&s.amd?s(["../lib/codemirror"],i):i(CodeMirror)},{"../lib/codemirror":10}],14:[function(t,e,n){var i;i=function(S){"use strict";var T={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},$={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};S.defineMode("xml",function(t,e){function a(e,n){function t(t){return(n.tokenize=t)(e,n)}var i=e.next();return"<"==i?e.eat("!")?e.eat("[")?e.match("CDATA[")?t(o("atom","]]>")):null:e.match("--")?t(o("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),t(l(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),n.tokenize=o("meta","?>"),"meta"):(w=e.eat("/")?"closeTag":"openTag",n.tokenize=s,"tag bracket"):"&"!=i?(e.eatWhile(/[^&<]/),null):(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error"}function s(t,e){var n=t.next();if(">"==n||"/"==n&&t.eat(">"))return e.tokenize=a,w=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return w="equals",null;if("<"!=n)return/[\'\"]/.test(n)?(e.tokenize=r(n),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");e.tokenize=a,e.state=h,e.tagName=e.tagStart=null;var i=e.tokenize(t,e);return i?i+" tag error":"tag error"}function r(n){var t=function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=s;break}return"string"};return t.isInAttribute=!0,t}function o(n,i){return function(t,e){for(;!t.eol();){if(t.match(i)){e.tokenize=a;break}t.next()}return n}}function l(i){return function(t,e){for(var n;null!=(n=t.next());){if("<"==n)return e.tokenize=l(i+1),e.tokenize(t,e);if(">"==n){if(1!=i)return e.tokenize=l(i-1),e.tokenize(t,e);e.tokenize=a;break}}return"meta"}}function u(t,e,n){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=n,(k.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function c(t){t.context&&(t.context=t.context.prev)}function d(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!k.contextGrabbers.hasOwnProperty(n)||!k.contextGrabbers[n].hasOwnProperty(e))return;c(t)}}function h(t,e,n){return"openTag"==t?(n.tagStart=e.column(),i):"closeTag"==t?p:h}function i(t,e,n){return"word"==t?(n.tagName=e.current(),_="tag",g):(_="error",i)}function p(t,e,n){if("word"!=t)return _="error",m;var i=e.current();return n.context&&n.context.tagName!=i&&k.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),n.context&&n.context.tagName==i||!1===k.matchClosing?(_="tag",f):(_="tag error",m)}function f(t,e,n){return"endTag"!=t?(_="error",f):(c(n),h)}function m(t,e,n){return _="error",f(t,e,n)}function g(t,e,n){if("word"==t)return _="attribute",v;if("endTag"!=t&&"selfcloseTag"!=t)return _="error",g;var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||k.autoSelfClosers.hasOwnProperty(i)?d(n,i):(d(n,i),n.context=new u(n,i,r==n.indented)),h}function v(t,e,n){return"equals"==t?y:(k.allowMissing||(_="error"),g(t,e,n))}function y(t,e,n){return"string"==t?b:"word"==t&&k.allowUnquoted?(_="string",g):(_="error",g(t,e,n))}function b(t,e,n){return"string"==t?b:g(t,e,n)}var w,_,x=t.indentUnit,k={},n=e.htmlMode?T:$;for(var C in n)k[C]=n[C];for(var C in e)k[C]=e[C];return a.isInText=!0,{startState:function(t){var e={tokenize:a,state:h,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;w=null;var n=e.tokenize(t,e);return(n||w)&&"comment"!=n&&(_=null,e.state=e.state(w||n,t,e),_&&(n="error"==_?n+" error":_)),n},indent:function(t,e,n){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+x;if(i&&i.noIndent)return S.Pass;if(t.tokenize!=s&&t.tokenize!=a)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==k.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+x*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(e))return 0;var r=e&&/^<(\/)?([\w_:\.-]*)/.exec(e);if(r&&r[1])for(;i;){if(i.tagName==r[2]){i=i.prev;break}if(!k.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(r)for(;i;){var o=k.contextGrabbers[i.tagName];if(!o||!o.hasOwnProperty(r[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+x:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(t){t.state==y&&(t.state=g)}}}),S.defineMIME("text/xml","xml"),S.defineMIME("application/xml","xml"),S.mimeModes.hasOwnProperty("text/html")||S.defineMIME("text/html",{name:"xml",htmlMode:!0})},"object"==typeof n&&"object"==typeof e?i(t("../../lib/codemirror")):"function"==typeof s&&s.amd?s(["../../lib/codemirror"],i):i(CodeMirror)},{"../../lib/codemirror":10}],15:[function(t,e,n){n.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?r-1:0,h=n?-1:1,p=t[e+d];for(d+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;0<c;o=256*o+t[e+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;0<c;a=256*a+t[e+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=u}return(p?-1:1)*a*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),2<=(e+=1<=a+d?h/l:h*Math.pow(2,1-d))*l&&(a++,l/=2),c<=a+d?(s=0,a=c):1<=a+d?(s=(e*l-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));8<=r;t[n+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,u+=r;0<u;t[n+p]=255&a,p+=f,a/=256,u-=8);t[n+p-f]|=128*m}},{}],16:[function(t,e){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],17:[function(t,e,r){(function(t){(function(){function l(t){this.tokens=[],this.tokens.links={},this.options=t||p.defaults,this.rules=f.normal,this.options.gfm&&(this.options.tables?this.rules=f.tables:this.rules=f.gfm)}function o(t,e){if(this.options=e||p.defaults,this.links=t,this.rules=i.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=i.breaks:this.rules=i.gfm:this.options.pedantic&&(this.rules=i.pedantic)}function n(t){this.options=t||{}}function u(t){this.tokens=[],this.token=null,this.options=t||p.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function c(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(t){return t.replace(/&([#\w]+);/g,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function t(n,i){return n=n.source,i=i||"",function r(t,e){return t?(e=(e=e.source||e).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(t,e),r):new RegExp(n,i)}}function d(){}function h(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function p(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null);var r,o,a=(n=h({},p.defaults,n||{})).highlight,e=0;try{r=l.lex(t,n)}catch(d){return i(d)}o=r.length;var s=function(t){if(t)return n.highlight=a,i(t);var e;try{e=u.parse(r,n)}catch(o){t=o}return n.highlight=a,t?i(t):i(null,e)};if(!a||a.length<3)return s();if(delete n.highlight,!o)return s();for(;e<r.length;e++)!function(n){"code"!==n.type?--o||s():a(n.text,n.lang,function(t,e){return t?s(t):null==e||e===n.text?--o||s():(n.text=e,n.escaped=!0,void(--o||s()))})}(r[e])}else try{return n&&(n=h({},p.defaults,n)),u.parse(l.lex(t,n),n)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(n||p.defaults).silent)return"<p>An error occured:</p><pre>"+c(d.message+"",!0)+"</pre>";throw d}}var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:d,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:d,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:d,
paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};f.item=t(f.item,"gm")(/bull/g,f.bullet)(),f.list=t(f.list)(/bull/g,f.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+f.def.source+")")(),f.blockquote=t(f.blockquote)("def",f.def)(),f._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",f.html=t(f.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,f._tag)(),f.paragraph=t(f.paragraph)("hr",f.hr)("heading",f.heading)("lheading",f.lheading)("blockquote",f.blockquote)("tag","<"+f._tag)("def",f.def)(),f.normal=h({},f),f.gfm=h({},f.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),f.gfm.paragraph=t(f.paragraph)("(?!","(?!"+f.gfm.fences.source.replace("\\1","\\2")+"|"+f.list.source.replace("\\1","\\3")+"|")(),f.tables=h({},f.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),l.rules=f,l.lex=function(t,e){return new l(e).lex(t)},l.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},l.prototype.token=function(t,e,n){var i,r,o,a,s,l,u,c,d;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),1<o[0].length&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:1<a.length}),i=!1,d=(o=o[0].match(this.rules.item)).length,c=0;c<d;c++)u=(l=o[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==d-1&&(a===(s=f.bullet.exec(o[c+1])[0])||1<a.length&&1<s.length||(t=o.slice(c+1).join("\n")+t,c=d-1)),r=i||/\n\n(?!\s*$)/.test(l),c!==d-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var i={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:d,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:d,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};i.link=t(i.link)("inside",i._inside)("href",i._href)(),i.reflink=t(i.reflink)("inside",i._inside)(),i.normal=h({},i),i.pedantic=h({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),i.gfm=h({},i.normal,{escape:t(i.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:t(i.text)("]|","~]|")("|","|https?://|")()}),i.breaks=h({},i.gfm,{br:t(i.br)("{2,}","*")(),text:t(i.gfm.text)("{2,}","*")()}),o.rules=i,o.output=function(t,e,n){return new o(e,n).output(t)},o.prototype.output=function(t){for(var e,n,i,r,o="";t;)if(r=this.rules.escape.exec(t))t=t.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(t))t=t.substring(r[0].length),i="@"===r[2]?(n=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),this.mangle("mailto:")+n):n=c(r[1]),o+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(t))){if(r=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),t=t.substring(r[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):c(r[0]):r[0];else if(r=this.rules.link.exec(t))t=t.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(t))||(r=this.rules.nolink.exec(t))){if(t=t.substring(r[0].length),e=(r[2]||r[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){o+=r[0].charAt(0),t=r[0].substring(1)+t;continue}this.inLink=!0,o+=this.outputLink(r,e),this.inLink=!1}else if(r=this.rules.strong.exec(t))t=t.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(t))t=t.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(t))t=t.substring(r[0].length),o+=this.renderer.codespan(c(r[2],!0));else if(r=this.rules.br.exec(t))t=t.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(t))t=t.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),o+=this.renderer.text(c(this.smartypants(r[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(r[0].length),i=n=c(r[1]),o+=this.renderer.link(i,null,n);return o},o.prototype.outputLink=function(t,e){var n=c(e.href),i=e.title?c(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,c(t[1]))},o.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):t},o.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,r=0;r<i;r++)e=t.charCodeAt(r),.5<Math.random()&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},n.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+c(e,!0)+'">'+(n?t:c(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:c(t,!0))+"\n</code></pre>"},n.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},n.prototype.html=function(t){return t},n.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},n.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},n.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},n.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},n.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},n.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},n.prototype.strong=function(t){return"<strong>"+t+"</strong>"},n.prototype.em=function(t){return"<em>"+t+"</em>"},n.prototype.codespan=function(t){return"<code>"+t+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(t){return"<del>"+t+"</del>"},n.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent(a(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(o){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var r='<a href="'+t+'"';return e&&(r+=' title="'+e+'"'),r+">"+n+"</a>"},n.prototype.image=function(t,e,n){var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+(this.options.xhtml?"/>":">")},n.prototype.text=function(t){return t},u.parse=function(t,e,n){return new u(e,n).parse(t)},u.prototype.parse=function(t){this.inline=new o(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},u.prototype.next=function(){return this.token=this.tokens.pop()},u.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},u.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},u.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,r="",o="";for(n="",t=0;t<this.token.header.length;t++)({header:!0,align:this.token.align[t]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(r+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",i=0;i<e.length;i++)n+=this.renderer.tablecell(this.inline.output(e[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},d.exec=d,p.options=p.setOptions=function(t){return h(p.defaults,t),p},p.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},p.Parser=u,p.parser=u.parse,p.Renderer=n,p.Lexer=l,p.lexer=l.lex,p.InlineLexer=o,p.inlineLexer=o.output,p.parse=p,void 0!==e&&"object"==typeof r?e.exports=p:"function"==typeof s&&s.amd?s(function(){return p}):this.marked=p}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(u,e){(function(l,p){"use strict";var t=function(t,e,n,i){if(i=i||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=i.flags||{},t){if(this.dictionary=t,"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension)e||(e=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+t+"/"+t+".aff"))),n||(n=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+t+"/"+t+".dic")));else{if(i.dictionaryPath)var r=i.dictionaryPath;else if(void 0!==p)r=p+"/dictionaries";else r="./dictionaries";e||(e=this._readFile(r+"/"+t+"/"+t+".aff")),n||(n=this._readFile(r+"/"+t+"/"+t+".dic"))}this.rules=this._parseAFF(e),this.compoundRuleCodes={};for(var o=0,a=this.compoundRules.length;o<a;o++)for(var s=this.compoundRules[o],l=0,u=s.length;l<u;l++)this.compoundRuleCodes[s[l]]=[];for(var o in"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(n),this.compoundRuleCodes)0==this.compoundRuleCodes[o].length&&delete this.compoundRuleCodes[o];for(o=0,a=this.compoundRules.length;o<a;o++){var c=this.compoundRules[o],d="";for(l=0,u=c.length;l<u;l++){var h=c[l];d+=h in this.compoundRuleCodes?"("+this.compoundRuleCodes[h].join("|")+")":h}this.compoundRules[o]=new RegExp(d,"i")}}return this};t.prototype={load:function(t){for(var e in t)this[e]=t[e];return this},_readFile:function(t,e){if(e||(e="utf8"),"undefined"!=typeof XMLHttpRequest){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.overrideMimeType&&n.overrideMimeType("text/plain; charset="+e),n.send(null),n.responseText}if(void 0!==u){var i=u("fs");try{if(i.existsSync(t)){var r=i.statSync(t),o=i.openSync(t,"r"),a=new l(r.size);return i.readSync(o,a,0,a.length,null),a.toString(e,0,a.length)}console.log("Path "+t+" does not exist.")}catch(s){return console.log(s),""}}},_parseAFF:function(t){for(var e={},n=(t=this._removeAffixComments(t)).split("\n"),i=0,r=n.length;i<r;i++){var o=(b=n[i]).split(/\s+/),a=o[0];if("PFX"==a||"SFX"==a){for(var s=o[1],l=o[2],u=[],c=i+1,d=i+1+(y=parseInt(o[3],10));c<d;c++){var h=(w=(b=n[c]).split(/\s+/))[2],p=w[3].split("/"),f=p[0];"0"===f&&(f="");var m=this.parseRuleCodes(p[1]),g=w[4],v={};v.add=f,0<m.length&&(v.continuationClasses=m),"."!==g&&(v.match="SFX"===a?new RegExp(g+"$"):new RegExp("^"+g)),"0"!=h&&(v.remove="SFX"===a?new RegExp(h+"$"):h),u.push(v)}e[s]={type:a,combineable:"Y"==l,entries:u},i+=y}else if("COMPOUNDRULE"===a){var y;for(c=i+1,d=i+1+(y=parseInt(o[1],10));c<d;c++){var b,w=(b=n[c]).split(/\s+/);this.compoundRules.push(w[1])}i+=y}else if("REP"===a){3===(w=b.split(/\s+/)).length&&this.replacementTable.push([w[1],w[2]])}else this.flags[a]=o[1]}return e},_removeAffixComments:function(t){return(t=(t=(t=t.replace(/#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(t){function e(t,e){t in i&&"object"==typeof i[t]||(i[t]=[]),i[t].push(e)}for(var n=(t=this._removeDicComments(t)).split("\n"),i={},r=1,o=n.length;r<o;r++){var a=n[r].split("/",2),s=a[0];if(1<a.length){var l=this.parseRuleCodes(a[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||e(s,l);for(var u=0,c=l.length;u<c;u++){var d=l[u],h=this.rules[d];if(h)for(var p=this._applyRule(s,h),f=0,m=p.length;f<m;f++){var g=p[f];if(e(g,[]),h.combineable)for(var v=u+1;v<c;v++){var y=l[v],b=this.rules[y];if(b&&b.combineable&&h.type!=b.type)for(var w=this._applyRule(g,b),_=0,x=w.length;_<x;_++){e(w[_],[])}}}d in this.compoundRuleCodes&&this.compoundRuleCodes[d].push(s)}}else e(s.trim(),[])}return i},_removeDicComments:function(t){return t.replace(/^\t.*$/gm,"")},parseRuleCodes:function(t){if(!t)return[];if(!("FLAG"in this.flags))return t.split("");if("long"!==this.flags.FLAG)return"num"===this.flags.FLAG?textCode.split(","):void 0;for(var e=[],n=0,i=t.length;n<i;n+=2)e.push(t.substr(n,2));return e},_applyRule:function(t,e){for(var n=e.entries,i=[],r=0,o=n.length;r<o;r++){var a=n[r];if(!a.match||t.match(a.match)){var s=t;if(a.remove&&(s=s.replace(a.remove,"")),"SFX"===e.type?s+=a.add:s=a.add+s,i.push(s),"continuationClasses"in a)for(var l=0,u=a.continuationClasses.length;l<u;l++){var c=this.rules[a.continuationClasses[l]];c&&(i=i.concat(this._applyRule(s,c)))}}}return i},check:function(t){var e=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(e))return!0;if(e.toUpperCase()===e){var n=e[0]+e.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var i=e.toLowerCase();if(i!==e){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(t){var e=this.dictionaryTable[t];if(void 0===e){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN)for(var n=0,i=this.compoundRules.length;n<i;n++)if(t.match(this.compoundRules[n]))return!0;return!1}if("object"==typeof e){for(n=0,i=e.length;n<i;n++)if(!this.hasFlag(t,"ONLYINCOMPOUND",e[n]))return!0;return!1}},hasFlag:function(t,e,n){if(e in this.flags){if(void 0===n)n=Array.prototype.concat.apply([],this.dictionaryTable[t]);if(n&&-1!==n.indexOf(this.flags[e]))return!0}return!1},alphabet:"",suggest:function(t,c){function d(t){for(var e=[],n=0,i=t.length;n<i;n++){for(var r=t[n],o=[],a=0,s=r.length+1;a<s;a++)o.push([r.substring(0,a),r.substring(a,r.length)]);var l=[];for(a=0,s=o.length;a<s;a++){(f=o[a])[1]&&l.push(f[0]+f[1].substring(1))}var u=[];for(a=0,s=o.length;a<s;a++){1<(f=o[a])[1].length&&u.push(f[0]+f[1][1]+f[1][0]+f[1].substring(2))}var c=[];for(a=0,s=o.length;a<s;a++){if((f=o[a])[1])for(var d=0,h=m.alphabet.length;d<h;d++)c.push(f[0]+m.alphabet[d]+f[1].substring(1))}var p=[];for(a=0,s=o.length;a<s;a++){var f;if((f=o[a])[1])for(d=0,h=m.alphabet.length;d<h;d++)c.push(f[0]+m.alphabet[d]+f[1])}e=(e=(e=(e=e.concat(l)).concat(u)).concat(c)).concat(p)}return e}function h(t){for(var e=[],n=0;n<t.length;n++)m.check(t[n])&&e.push(t[n]);return e}function e(t){function e(t,e){return t[1]<e[1]?-1:1}for(var n=d([t]),i=d(n),r=h(n).concat(h(i)),o={},a=0,s=r.length;a<s;a++)r[a]in o?o[r[a]]+=1:o[r[a]]=1;var l=[];for(var a in o)l.push([a,o[a]]);l.sort(e).reverse();var u=[];for(a=0,s=Math.min(c,l.length);a<s;a++)m.hasFlag(l[a][0],"NOSUGGEST")||u.push(l[a][0]);return u}if(c||(c=5),this.check(t))return[];for(var n=0,i=this.replacementTable.length;n<i;n++){var r=this.replacementTable[n];if(-1!==t.indexOf(r[0])){var o=t.replace(r[0],r[1]);if(this.check(o))return[o]}}var m=this;return m.alphabet="abcdefghijklmnopqrstuvwxyz",e(t)}},void 0!==e&&(e.exports=t)}).call(this,u("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(t){var e=t("codemirror");e.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentMore");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var n=Array(t.options.tabSize+1).join(" ");t.replaceSelection(n)}},e.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentLess");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var n=Array(t.options.tabSize+1).join(" ");t.replaceSelection(n)}}},{codemirror:10}],20:[function(t,e){"use strict";function u(t){return B?t.replace("Ctrl","Cmd"):t.replace("Cmd","Ctrl")}function c(t,e,n){t=t||{};var i=document.createElement("a");return e=null==e||e,t.title&&e&&(i.title=r(t.title,t.action,n),B&&(i.title=i.title.replace("Ctrl","\u2318"),i.title=i.title.replace("Alt","\u2325"))),i.tabIndex=-1,i.className=t.className,i}function d(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function r(t,e,n){var i,r=t;return e&&(n[i=W(e)]&&(r+=" ("+u(n[i])+")")),r}function h(t,e){e=e||t.getCursor("start");var n=t.getTokenAt(e);if(!n.type)return{};for(var i,r,o=n.type.split(" "),a={},s=0;s<o.length;s++)"strong"===(i=o[s])?a.bold=!0:"variable-2"===i?(r=t.getLine(e.line),/^\s*\d+\.\s/.test(r)?a["ordered-list"]=!0:a["unordered-list"]=!0):"atom"===i?a.quote=!0:"em"===i?a.italic=!0:"quote"===i?a.quote=!0:"strikethrough"===i?a.strikethrough=!0:"comment"===i?a.code=!0:"link"===i?a.link=!0:"tag"===i?a.image=!0:i.match(/^header(\-[1-6])?$/)&&(a[i.replace("header","heading")]=!0);return a}function p(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(Y=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=Y;var n=e.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var i=t.toolbarElements.fullscreen;/active/.test(i.className)?i.className=i.className.replace(/\s*active\s*/g,""):i.className+=" active";var r=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(r.className)&&$(t)}function n(t){P(t,"bold",t.options.blockStyles.bold)}function i(t){P(t,"italic",t.options.blockStyles.italic)}function o(t){P(t,"strikethrough","~~")}function a(t){function a(t){if("object"!=typeof t)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof t+": "+t;return t.styles&&t.styles[2]&&-1!==t.styles[2].indexOf("formatting-code-block")}function s(t){return t.state.base.base||t.state.base}function e(t,e,n,i,r){n=n||t.getLineHandle(e),i=i||t.getTokenAt({line:e,ch:1}),r=r||!!n.text&&t.getTokenAt({line:e,ch:n.text.length-1});var o=i.type?i.type.split(" "):[];return r&&s(r).indentedCode?"indented":-1!==o.indexOf("comment")&&(s(i).fencedChars||s(r).fencedChars||a(n)?"fenced":"single")}function n(t,e,n,i){var r=e.line+1,o=n.line+1,a=e.line!==n.line,s=i+"\n",l="\n"+i;a&&o++,a&&0===n.ch&&(l=i+"\n",o--),A(t,!1,[s,l]),t.setSelection({line:r,ch:0},{line:o,ch:0})}var i,r,o,l=t.options.blockStyles.code,u=t.codemirror,c=u.getCursor("start"),d=u.getCursor("end"),h=u.getTokenAt({line:c.line,ch:c.ch||1}),p=u.getLineHandle(c.line),f=e(u,c.line,p,h);if("single"===f){var m=p.text.slice(0,c.ch).replace("`",""),g=p.text.slice(c.ch).replace("`","");u.replaceRange(m+g,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),c.ch--,c!==d&&d.ch--,u.setSelection(c,d),u.focus()}else if("fenced"===f)if(c.line!==d.line||c.ch!==d.ch){for(i=c.line;0<=i&&!a(p=u.getLineHandle(i));i--);var v,y,b,w,_=s(u.getTokenAt({line:i,ch:1})).fencedChars;y=a(u.getLineHandle(c.line))?(v="",c.line):a(u.getLineHandle(c.line-1))?(v="",c.line-1):(v=_+"\n",c.line),a(u.getLineHandle(d.line))?(b="",w=d.line,0===d.ch&&(w+=1)):w=(b=0!==d.ch&&a(u.getLineHandle(d.line+1))?"":_+"\n",d.line+1),0===d.ch&&(w-=1),u.operation(function(){u.replaceRange(b,{line:w,ch:0},{line:w+(b?0:1),ch:0}),u.replaceRange(v,{line:y,ch:0},{line:y+(v?0:1),ch:0})}),u.setSelection({line:y+(v?1:0),ch:0},{line:w+(v?1:-1),ch:0}),u.focus()}else{var x=c.line;if(a(u.getLineHandle(c.line))&&(x="fenced"===e(u,c.line+1)?(i=c.line,c.line+1):(r=c.line,c.line-1)),void 0===i)for(i=x;0<=i&&!a(p=u.getLineHandle(i));i--);if(void 0===r)for(o=u.lineCount(),r=x;r<o&&!a(p=u.getLineHandle(r));r++);u.operation(function(){u.replaceRange("",{line:i,ch:0},{line:i+1,ch:0}),u.replaceRange("",{line:r-1,ch:0},{line:r,ch:0})}),u.focus()}else if("indented"===f){if(c.line!==d.line||c.ch!==d.ch)i=c.line,r=d.line,0===d.ch&&r--;else{for(i=c.line;0<=i;i--)if(!(p=u.getLineHandle(i)).text.match(/^\s*$/)&&"indented"!==e(u,i,p)){i+=1;break}for(o=u.lineCount(),r=c.line;r<o;r++)if(!(p=u.getLineHandle(r)).text.match(/^\s*$/)&&"indented"!==e(u,r,p)){r-=1;break}}var k=u.getLineHandle(r+1),C=k&&u.getTokenAt({line:r+1,ch:k.text.length-1});C&&s(C).indentedCode&&u.replaceRange("\n",{line:r+1,ch:0});for(var S=i;S<=r;S++)u.indentLine(S,"subtract");u.focus()}else{var T=c.line===d.line&&c.ch===d.ch&&0===c.ch,$=c.line!==d.line;T||$?n(u,c,d,l):A(u,!1,["`","`"])}}function s(t){M(t.codemirror,"quote")}function l(t){D(t.codemirror,"smaller")}function f(t){D(t.codemirror,"bigger")}function m(t){D(t.codemirror,void 0,1)}function g(t){D(t.codemirror,void 0,2)}function v(t){D(t.codemirror,void 0,3)}function y(t){M(t.codemirror,"unordered-list")}function b(t){M(t.codemirror,"ordered-list")}function w(t){I(t.codemirror)}function _(t){var e=t.codemirror,n=h(e),i=t.options,r="http://";return!(i.promptURLs&&!(r=prompt(i.promptTexts.link)))&&void A(e,n.link,i.insertTexts.link,r)}function x(t){var e=t.codemirror,n=h(e),i=t.options,r="http://";return!(i.promptURLs&&!(r=prompt(i.promptTexts.image)))&&void A(e,n.image,i.insertTexts.image,r)}function k(t){var e=t.codemirror,n=h(e),i=t.options;A(e,n.table,i.insertTexts.table)}function C(t){var e=t.codemirror,n=h(e),i=t.options;A(e,n.image,i.insertTexts.horizontalRule)}function S(t){var e=t.codemirror;e.undo(),e.focus()}function T(t){var e=t.codemirror;e.redo(),e.focus()}function $(t){var e=t.codemirror,n=e.getWrapperElement(),i=n.nextSibling,r=t.toolbarElements["side-by-side"],o=!1;/editor-preview-active-side/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active-side\s*/g,""),r.className=r.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){e.getOption("fullScreen")||p(t),i.className+=" editor-preview-active-side"},1),r.className+=" active",n.className+=" CodeMirror-sided",o=!0);var a=n.lastChild;if(/editor-preview-active/.test(a.className)){a.className=a.className.replace(/\s*editor-preview-active\s*/g,"");var s=t.toolbarElements.preview,l=n.previousSibling;s.className=s.className.replace(/\s*active\s*/g,""),l.className=l.className.replace(/\s*disabled-for-preview*/g,"")}var u=function(){i.innerHTML=t.options.previewRender(t.value(),i)};e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=u),o?(i.innerHTML=t.options.previewRender(t.value(),i),e.on("update",e.sideBySideRenderingFunction)):e.off("update",e.sideBySideRenderingFunction),e.refresh()}function E(t){var e=t.codemirror,n=e.getWrapperElement(),i=n.previousSibling,r=!!t.options.toolbar&&t.toolbarElements.preview,o=n.lastChild;o&&/editor-preview/.test(o.className)||((o=document.createElement("div")).className="editor-preview",n.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),r&&(r.className=r.className.replace(/\s*active\s*/g,""),i.className=i.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){o.className+=" editor-preview-active"},1),r&&(r.className+=" active",i.className+=" disabled-for-preview")),o.innerHTML=t.options.previewRender(t.value(),o);var a=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(a.className)&&$(t)}function A(t,e,n,i){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){var r,o=n[0],a=n[1],s=t.getCursor("start"),l=t.getCursor("end");i&&(a=a.replace("#url#",i)),e?(o=(r=t.getLine(s.line)).slice(0,s.ch),a=r.slice(s.ch),t.replaceRange(o+a,{line:s.line,ch:0})):(r=t.getSelection(),t.replaceSelection(o+r+a),s.ch+=o.length,s!==l&&(l.ch+=o.length)),t.setSelection(s,l),t.focus()}}function D(t,e,n){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var i=t.getCursor("start"),r=t.getCursor("end"),o=i.line;o<=r.line;o++)a=o,l=s=void 0,s=t.getLine(a),l=s.search(/[^#]/),s=void 0!==e?l<=0?"bigger"==e?"###### "+s:"# "+s:6==l&&"smaller"==e?s.substr(7):1==l&&"bigger"==e?s.substr(2):"bigger"==e?s.substr(1):"#"+s:1==n?l<=0?"# "+s:l==n?s.substr(l+1):"# "+s.substr(l+1):2==n?l<=0?"## "+s:l==n?s.substr(l+1):"## "+s.substr(l+1):l<=0?"### "+s:l==n?s.substr(l+1):"### "+s.substr(l+1),t.replaceRange(s,{line:a,ch:0},{line:a,ch:99999999999999});t.focus()}var a,s,l}function M(t,e){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var n=h(t),i=t.getCursor("start"),r=t.getCursor("end"),o={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},a={quote:"> ","unordered-list":"* ","ordered-list":"1. "},s=i.line;s<=r.line;s++)l=s,u=void 0,u=t.getLine(l),u=n[e]?u.replace(o[e],"$1"):a[e]+u,t.replaceRange(u,{line:l,ch:0},{line:l,ch:99999999999999});t.focus()}var l,u}function P(t,e,n,i){if(!/editor-preview-active/.test(t.codemirror.getWrapperElement().lastChild.className)){i=void 0===i?n:i;var r,o=t.codemirror,a=h(o),s=n,l=i,u=o.getCursor("start"),c=o.getCursor("end");a[e]?(s=(r=o.getLine(u.line)).slice(0,u.ch),l=r.slice(u.ch),"bold"==e?(s=s.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),l=l.replace(/(\*\*|__)/,"")):"italic"==e?(s=s.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),l=l.replace(/(\*|_)/,"")):"strikethrough"==e&&(s=s.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),l=l.replace(/(\*\*|~~)/,"")),o.replaceRange(s+l,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),"bold"==e||"strikethrough"==e?(u.ch-=2,u!==c&&(c.ch-=2)):"italic"==e&&(u.ch-=1,u!==c&&(c.ch-=1))):(r=o.getSelection(),"bold"==e?r=(r=r.split("**").join("")).split("__").join(""):"italic"==e?r=(r=r.split("*").join("")).split("_").join(""):"strikethrough"==e&&(r=r.split("~~").join("")),o.replaceSelection(s+r+l),u.ch+=n.length,c.ch=u.ch+r.length),o.setSelection(u,c),o.focus()}}function I(t){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className))for(var e,n=t.getCursor("start"),i=t.getCursor("end"),r=n.line;r<=i.line;r++)e=(e=t.getLine(r)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(e,{line:r,ch:0},{line:r,ch:99999999999999})}function L(t,e){for(var n in e)e.hasOwnProperty(n)&&(e[n]instanceof Array?t[n]=e[n].concat(t[n]instanceof Array?t[n]:[]):null!==e[n]&&"object"==typeof e[n]&&e[n].constructor===Object?t[n]=L(t[n]||{},e[n]):t[n]=e[n]);return t}function O(t){for(var e=1;e<arguments.length;e++)t=L(t,arguments[e]);return t}function F(t){var e=/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=t.match(e),i=0;if(null===n)return i;for(var r=0;r<n.length;r++)i+=19968<=n[r].charCodeAt(0)?n[r].length:1;return i}function N(t){(t=t||{}).parent=this;var e=!0;if(!1===t.autoDownloadFontAwesome&&(e=!1),!0!==t.autoDownloadFontAwesome)for(var n=document.styleSheets,i=0;i<n.length;i++)n[i].href&&-1<n[i].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")&&(e=!1);if(e){var r=document.createElement("link");r.rel="stylesheet",r.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(r)}if(t.element)this.element=t.element;else if(null===t.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===t.toolbar)for(var o in t.toolbar=[],G)G.hasOwnProperty(o)&&(-1!=o.indexOf("separator-")&&t.toolbar.push("|"),(!0===G[o]["default"]||t.showIcons&&t.showIcons.constructor===Array&&-1!=t.showIcons.indexOf(o))&&t.toolbar.push(o));t.hasOwnProperty("status")||(t.status=["autosave","lines","words","cursor"]),t.previewRender||(t.previewRender=function(t){return this.parent.markdown(t)}),t.parsingConfig=O({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=O({},K,t.insertTexts||{}),t.promptTexts=X,t.blockStyles=O({},J,t.blockStyles||{}),t.shortcuts=O({},H,t.shortcuts||{}),null!=t.autosave&&null!=t.autosave.unique_id&&""!=t.autosave.unique_id&&(t.autosave.uniqueId=t.autosave.unique_id),this.options=t,this.render(),
!t.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(t.initialValue)}function R(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(t){return!1}return!0}var j=t("codemirror");t("codemirror/addon/edit/continuelist.js"),t("./codemirror/tablist"),t("codemirror/addon/display/fullscreen.js"),t("codemirror/mode/markdown/markdown.js"),t("codemirror/addon/mode/overlay.js"),t("codemirror/addon/display/placeholder.js"),t("codemirror/addon/selection/mark-selection.js"),t("codemirror/mode/gfm/gfm.js"),t("codemirror/mode/xml/xml.js");var z=t("codemirror-spell-checker"),q=t("marked"),B=/Mac/.test(navigator.platform),U={toggleBold:n,toggleItalic:i,drawLink:_,toggleHeadingSmaller:l,toggleHeadingBigger:f,drawImage:x,toggleBlockquote:s,toggleOrderedList:b,toggleUnorderedList:y,toggleCodeBlock:a,togglePreview:E,toggleStrikethrough:o,toggleHeading1:m,toggleHeading2:g,toggleHeading3:v,cleanBlock:w,drawTable:k,drawHorizontalRule:C,undo:S,redo:T,toggleSideBySide:$,toggleFullScreen:p},H={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},W=function(t){for(var e in U)if(U[e]===t)return e;return null},V=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},Y="",G={bold:{name:"bold",action:n,className:"fa fa-bold",title:"Bold","default":!0},italic:{name:"italic",action:i,className:"fa fa-italic",title:"Italic","default":!0},strikethrough:{name:"strikethrough",action:o,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:l,className:"fa fa-header",title:"Heading","default":!0},"heading-smaller":{name:"heading-smaller",action:l,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:f,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:m,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:g,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:v,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:a,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:s,className:"fa fa-quote-left",title:"Quote","default":!0},"unordered-list":{name:"unordered-list",action:y,className:"fa fa-list-ul",title:"Generic List","default":!0},"ordered-list":{name:"ordered-list",action:b,className:"fa fa-list-ol",title:"Numbered List","default":!0},"clean-block":{name:"clean-block",action:w,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:_,className:"fa fa-link",title:"Create Link","default":!0},image:{name:"image",action:x,className:"fa fa-picture-o",title:"Insert Image","default":!0},table:{name:"table",action:k,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:C,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:E,className:"fa fa-eye no-disable",title:"Toggle Preview","default":!0},"side-by-side":{name:"side-by-side",action:$,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side","default":!0},fullscreen:{name:"fullscreen",action:p,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen","default":!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide","default":!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:S,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:T,className:"fa fa-repeat no-disable",title:"Redo"}},K={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},X={link:"URL for the link:",image:"URL of the image:"},J={bold:"**",code:"```",italic:"*"};N.prototype.markdown=function(t){if(q){var e={};return this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(e.highlight=function(t){return window.hljs.highlightAuto(t).value}),q.setOptions(e),q(t)}},N.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==t){this.element=t;var e,n,i=this.options,r=this,o={};for(var a in i.shortcuts)null!==i.shortcuts[a]&&null!==U[a]&&function(t){o[u(i.shortcuts[t])]=function(){U[t](r)}}(a);if(o.Enter="newlineAndIndentContinueMarkdownList",o.Tab="tabAndIndentMarkdownList",o["Shift-Tab"]="shiftTabAndUnindentMarkdownList",o.Esc=function(t){t.getOption("fullScreen")&&p(r)},document.addEventListener("keydown",function(t){27==(t=t||window.event).keyCode&&r.codemirror.getOption("fullScreen")&&p(r)},!1),!1!==i.spellChecker?(e="spell-checker",(n=i.parsingConfig).name="gfm",n.gitHubSpice=!1,z({codeMirrorInstance:j})):((e=i.parsingConfig).name="gfm",e.gitHubSpice=!1),this.codemirror=j.fromTextArea(t,{mode:e,backdrop:n,theme:"paper",tabSize:null!=i.tabSize?i.tabSize:2,indentUnit:null!=i.tabSize?i.tabSize:2,indentWithTabs:!1!==i.indentWithTabs,lineNumbers:!1,autofocus:!0===i.autofocus,extraKeys:o,lineWrapping:!1!==i.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:i.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:null==i.styleSelectedText||i.styleSelectedText}),!0===i.forceSync){var s=this.codemirror;s.on("change",function(){s.save()})}!(this.gui={})!==i.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==i.status&&(this.gui.statusbar=this.createStatusbar()),null!=i.autosave&&!0===i.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var l=this.codemirror;setTimeout(function(){l.refresh()}.bind(l),0)}},N.prototype.autosave=function(){if(R()){var t=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=t.element.form&&null!=t.element.form&&t.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+t.options.autosave.uniqueId)}),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,t.value());var e=document.getElementById("autosaved");if(null!=e&&null!=e&&""!=e){var n=new Date,i=n.getHours(),r=n.getMinutes(),o="am",a=i;12<=a&&(a=i-12,o="pm"),0==a&&(a=12),r=r<10?"0"+r:r,e.innerHTML="Autosaved: "+a+":"+r+" "+o}this.autosaveTimeoutId=setTimeout(function(){t.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},N.prototype.clearAutosavedValue=function(){if(R()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},N.prototype.createSideBySide=function(){var i=this.codemirror,t=i.getWrapperElement(),r=t.nextSibling;r&&/editor-preview-side/.test(r.className)||((r=document.createElement("div")).className="editor-preview-side",t.parentNode.insertBefore(r,t.nextSibling));var o=!1,a=!1;return i.on("scroll",function(t){if(o)o=!1;else{a=!0;var e=t.getScrollInfo().height-t.getScrollInfo().clientHeight,n=parseFloat(t.getScrollInfo().top)/e,i=(r.scrollHeight-r.clientHeight)*n;r.scrollTop=i}}),r.onscroll=function(){if(a)a=!1;else{o=!0;var t=r.scrollHeight-r.clientHeight,e=parseFloat(r.scrollTop)/t,n=(i.getScrollInfo().height-i.getScrollInfo().clientHeight)*e;i.scrollTo(0,n)}},r},N.prototype.createToolbar=function(t){if((t=t||this.options.toolbar)&&0!==t.length){var e;for(e=0;e<t.length;e++)null!=G[t[e]]&&(t[e]=G[t[e]]);var n=document.createElement("div");n.className="editor-toolbar";var i=this,r={};for(i.toolbar=t,e=0;e<t.length;e++)if(("guide"!=t[e].name||!1!==i.options.toolbarGuideIcon)&&!(i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(t[e].name)||("fullscreen"==t[e].name||"side-by-side"==t[e].name)&&V())){if("|"===t[e]){for(var o=!1,a=e+1;a<t.length;a++)"|"===t[a]||i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(t[a].name)||(o=!0);if(!o)continue}!function(e){var t;t="|"===e?d():c(e,i.options.toolbarTips,i.options.shortcuts),e.action&&("function"==typeof e.action?t.onclick=function(t){t.preventDefault(),e.action(i)}:"string"==typeof e.action&&(t.href=e.action,t.target="_blank")),r[e.name||e]=t,n.appendChild(t)}(t[e])}i.toolbarElements=r;var s=this.codemirror;s.on("cursorActivity",function(){var t,e,n=h(s);for(var i in r)e=void 0,e=r[t=i],n[t]?e.className+=" active":"fullscreen"!=t&&"side-by-side"!=t&&(e.className=e.className.replace(/\s*active\s*/g,""))});var l=s.getWrapperElement();return l.parentNode.insertBefore(n,l),n}},N.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,n=this.codemirror;if(t&&0!==t.length){var i,r,o,a=[];for(i=0;i<t.length;i++)if(o=r=void 0,"object"==typeof t[i])a.push({className:t[i].className,defaultValue:t[i].defaultValue,onUpdate:t[i].onUpdate});else{var s=t[i];"words"===s?(o=function(t){t.innerHTML=F(n.getValue())},r=function(t){t.innerHTML=F(n.getValue())}):"lines"===s?(o=function(t){t.innerHTML=n.lineCount()},r=function(t){t.innerHTML=n.lineCount()}):"cursor"===s?(o=function(t){t.innerHTML="0:0"},r=function(t){var e=n.getCursor();t.innerHTML=e.line+":"+e.ch}):"autosave"===s&&(o=function(t){null!=e.autosave&&!0===e.autosave.enabled&&t.setAttribute("id","autosaved")}),a.push({className:s,defaultValue:o,onUpdate:r})}var l=document.createElement("div");for(l.className="editor-statusbar",i=0;i<a.length;i++){var u=a[i],c=document.createElement("span");c.className=u.className,"function"==typeof u.defaultValue&&u.defaultValue(c),"function"==typeof u.onUpdate&&this.codemirror.on("update",function(t,e){return function(){e.onUpdate(t)}}(c,u)),l.appendChild(c)}var d=this.codemirror.getWrapperElement();return d.parentNode.insertBefore(l,d.nextSibling),l}},N.prototype.value=function(t){return void 0===t?this.codemirror.getValue():(this.codemirror.getDoc().setValue(t),this)},N.toggleBold=n,N.toggleItalic=i,N.toggleStrikethrough=o,N.toggleBlockquote=s,N.toggleHeadingSmaller=l,N.toggleHeadingBigger=f,N.toggleHeading1=m,N.toggleHeading2=g,N.toggleHeading3=v,N.toggleCodeBlock=a,N.toggleUnorderedList=y,N.toggleOrderedList=b,N.cleanBlock=w,N.drawLink=_,N.drawImage=x,N.drawTable=k,N.drawHorizontalRule=C,N.undo=S,N.redo=T,N.togglePreview=E,N.toggleSideBySide=$,N.toggleFullScreen=p,N.prototype.toggleBold=function(){n(this)},N.prototype.toggleItalic=function(){i(this)},N.prototype.toggleStrikethrough=function(){o(this)},N.prototype.toggleBlockquote=function(){s(this)},N.prototype.toggleHeadingSmaller=function(){l(this)},N.prototype.toggleHeadingBigger=function(){f(this)},N.prototype.toggleHeading1=function(){m(this)},N.prototype.toggleHeading2=function(){g(this)},N.prototype.toggleHeading3=function(){v(this)},N.prototype.toggleCodeBlock=function(){a(this)},N.prototype.toggleUnorderedList=function(){y(this)},N.prototype.toggleOrderedList=function(){b(this)},N.prototype.cleanBlock=function(){w(this)},N.prototype.drawLink=function(){_(this)},N.prototype.drawImage=function(){x(this)},N.prototype.drawTable=function(){k(this)},N.prototype.drawHorizontalRule=function(){C(this)},N.prototype.undo=function(){S(this)},N.prototype.redo=function(){T(this)},N.prototype.togglePreview=function(){E(this)},N.prototype.toggleSideBySide=function(){$(this)},N.prototype.toggleFullScreen=function(){p(this)},N.prototype.isPreviewActive=function(){var t=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(t.className)},N.prototype.isSideBySideActive=function(){var t=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(t.className)},N.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},N.prototype.getState=function(){return h(this.codemirror)},N.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement();e.parentNode&&(this.gui.toolbar&&e.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&e.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&e.parentNode.removeChild(this.gui.sideBySide)),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},e.exports=N},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Uppy=t()}(function(){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(et===setTimeout)return setTimeout(t,0);if((et===e||!et)&&setTimeout)return et=setTimeout,setTimeout(t,0);try{return et(t,0)}catch(tt){try{return et.call(null,t,0)}catch(tt){return et.call(this,t,0)}}}function r(){at&&rt&&(at=!1,rt.length?ot=rt.concat(ot):st=-1,ot.length&&o())}function o(){if(!at){var t=i(r);at=!0;for(var e=ot.length;e;){for(rt=ot,ot=[];++st<e;)rt&&rt[st].run();st=-1,e=ot.length}rt=null,at=!1,function(t){if(nt===clearTimeout)return clearTimeout(t);if((nt===n||!nt)&&clearTimeout)return nt=clearTimeout,clearTimeout(t);try{nt(t)}catch(e){try{return nt.call(null,t)}catch(e){return nt.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function t(){}function s(t){return 2!==t.length?0+t:t}function l(t){var e=/(?:\.([^.]+))?$/.exec(t)[1];return{name:t.replace("."+e,""),extension:e}}function u(t,e,n){var i=t.split(",")[1],r=e.mimeType||t.split(",")[0].split(":")[1].split(";")[0];null==r&&(r="plain/text");for(var o=atob(i),a=[],s=0;s<o.length;s++)a.push(o.charCodeAt(s));return n?new File([new Uint8Array(a)],e.name||"",{type:r}):new Blob([new Uint8Array(a)],{type:r})}function c(t){return t&&"object"===(void 0===t?"undefined":ct(t))&&t.nodeType===Node.ELEMENT_NODE}function d(){return yt((Math.random()*$t<<0).toString(Tt),St)}function h(){return Ct=Ct<$t?Ct:0,++Ct-1}function p(){return"c"+(new Date).getTime().toString(Tt)+yt(h().toString(Tt),St)+xt()+(d()+d())}function f(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}function m(t,e){return e||(e=new Error("Upload error")),"string"==typeof e&&(e=new Error(e)),e instanceof Error||(e=Yt(new Error("Upload error"),{data:e})),e.request=t,e}function g(t){var e=t.headers?t.headers["content-type"]:t.getResponseHeader("Content-Type");return"string"==typeof e&&"application/xml"===e.toLowerCase()}function v(e,n){function i(){t.readEntries(function(t){0<t.length?(o=o.concat(y(t)),i()):r()})}function r(){ae(o.map(function(e){return function(t){v(e,t)}}),n)}var o=[];if(e.isFile)e.file(function(t){t.fullPath=e.fullPath,n(null,t)},function(t){n(t)});else if(e.isDirectory){var t=e.createReader();i()}}function y(t){return Array.prototype.slice.call(t||[],0)}function b(t,e){var n=1<arguments.length&&void 0!==e?e:{trim:!1};if(!t)throw new Error("A form is required by getFormData, was given form="+t);for(var i={},r=void 0,o=[],a={},s=0,l=t.elements.length;s<l;s++){var u=t.elements[s];si[u.type]||u.disabled||(r=u.name||u.id)&&!a[r]&&(o.push(r),a[r]=!0)}for(var c=0,d=o.length;c<d;c++){var h=w(t,r=o[c],n);null!=h&&(i[r]=h)}return i}function w(t,e,n){var i=2<arguments.length&&void 0!==n?n:{trim:!1};if(!t)throw new Error("A form is required by getFieldData, was given form="+t);if(!e&&"[object String]"!==di.call(e))throw new Error("A field name is required by getFieldData, was given fieldName="+e);var r=t.elements[e];if(!r||r.disabled)return null;if(!ai[di.call(r)])return _(r,i.trim);for(var o=[],a=!0,s=0,l=r.length;s<l;s++)if(!r[s].disabled){a&&"radio"!==r[s].type&&(a=!1);var u=_(r[s],i.trim);null!=u&&(o=o.concat(u))}return a&&1===o.length?o[0]:0<o.length?o:null}function _(t,e){var n=null,i=t.type;if("select-one"===i)return t.options.length&&(n=t.options[t.selectedIndex].value),n;if("select-multiple"!==i)return"file"===i&&"files"in t?t.multiple?0===(n=ci.call(t.files)).length&&(n=null):n=t.files[0]:li[i]?t.checked&&(n=t.value):n=e?t.value.replace(ui,""):t.value,n;n=[];for(var r=0,o=t.options.length;r<o;r++)t.options[r].selected&&n.push(t.options[r].value);return 0===n.length&&(n=null),n}function x(t){var e=bi.open(t,Ci);return new yi(function(r,t){e.onupgradeneeded=function(t){var e=t.target.result,n=t.currentTarget.transaction;if(t.oldVersion<2&&e.createObjectStore(xi,{keyPath:"id"}).createIndex("store","store",{unique:!1}),t.oldVersion<3){var i=n.objectStore(xi);i.createIndex("expires","expires",{unique:!1}),i.openCursor().onsuccess=function(t){var e=t.target.result;if(e){var n=e.value;n.expires=Date.now()+ki,e.update(n)}}}n.oncomplete=function(){r(e)}},e.onsuccess=function(t){r(t.target.result)},e.onerror=t})}function k(n){return new yi(function(e,t){n.onsuccess=function(t){e(t.target.result)},n.onerror=t})}function C(t){try{return JSON.parse(t)}catch(t){return null}}function S(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}function T(t){function i(){if(i.enabled){var r=i,t=+new Date,e=t-(Li||t);r.diff=e,r.prev=Li,r.curr=t,Li=t;for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];o[0]=or.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,e){if("%%"===t)return t;a++;var n=or.formatters[e];if("function"==typeof n){var i=o[a];t=n.call(r,i),o.splice(a,1),a--}return t}),or.formatArgs.call(r,o),(i.log||or.log||console.log.bind(console)).apply(r,o)}}return i.namespace=t,i.enabled=or.enabled(t),i.useColors=or.useColors(),i.color=function(t){var e,n=0;for(e in t)n=(n<<5)-n+t.charCodeAt(e),n|=0;return or.colors[Math.abs(n)%or.colors.length]}(t),"function"==typeof or.init&&or.init(i),i}function $(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=0<t.jitter&&t.jitter<=1?t.jitter:0,this.attempts=0}function E(t){if(t)return function(t){for(var e in E.prototype)t[e]=E.prototype[e];return t}(t)}function A(){}function D(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}function M(t){function i(){if(i.enabled){var r=i,t=+new Date,e=t-(s||t);r.diff=e,r.prev=s,r.curr=t,s=t;for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];o[0]=Sr.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,e){if("%%"===t)return t;a++;var n=Sr.formatters[e];if("function"==typeof n){var i=o[a];t=n.call(r,i),o.splice(a,1),a--}return t}),Sr.formatArgs.call(r,o),(i.log||Sr.log||console.log.bind(console)).apply(r,o)}}var s;return i.namespace=t,i.enabled=Sr.enabled(t),i.useColors=Sr.useColors(),i.color=function(t){var e,n=0;for(e in t)n=(n<<5)-n+t.charCodeAt(e),n|=0;return Sr.colors[Math.abs(n)%Sr.colors.length]}(t),i.destroy=P,"function"==typeof Sr.init&&Sr.init(i),Sr.instances.push(i),i}function P(){var t=Sr.instances.indexOf(this);return-1!==t&&(Sr.instances.splice(t,1),!0)}function I(t){for(var e="";e=Dr[t%Mr]+e,0<(t=Math.floor(t/Mr)););return e}function L(){var t=I(+new Date);return t!==$r?(Ir=0,$r=t):t+"."+I(Ir++)}function O(t){var e=t&&t.forceBase64;Nr&&!e||(this.supportsBinary=!1),_r.call(this,t)}function F(t){function i(){if(i.enabled){var r=i,t=+new Date,e=t-(s||t);r.diff=e,r.prev=s,r.curr=t,s=t;for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];o[0]=Zr.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,e){if("%%"===t)return t;a++;var n=Zr.formatters[e];if("function"==typeof n){var i=o[a];t=n.call(r,i),o.splice(a,1),a--}return t}),Zr.formatArgs.call(r,o),(i.log||Zr.log||console.log.bind(console)).apply(r,o)}}var s;return i.namespace=t,i.enabled=Zr.enabled(t),i.useColors=Zr.useColors(),i.color=function(t){var e,n=0;for(e in t)n=(n<<5)-n+t.charCodeAt(e),n|=0;return Zr.colors[Math.abs(n)%Zr.colors.length]}(t),i.destroy=N,"function"==typeof Zr.init&&Zr.init(i),Zr.instances.push(i),i}function N(){var t=Zr.instances.indexOf(this);return-1!==t&&(Zr.instances.splice(t,1),!0)}function R(){}function j(t){var e=""+t.type;return eo.BINARY_EVENT!==t.type&&eo.BINARY_ACK!==t.type||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),no("encoded %j as %s",t,e),e}function z(){this.reconstructor=null}function q(t){this.reconPack=t,this.buffers=[]}function B(t){return{type:eo.ERROR,data:"parser error: "+t}}function U(t,e,n){this.io=t,this.nsp=e,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}function H(t,e){if(!(this instanceof H))return new H(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new sr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||eo;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}function W(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=ho(t),r=i.source,o=i.id,a=i.path,s=mo[o]&&a in mo[o].nsps;return n=e.forceNew||e["force new connection"]||!1===e.multiplex||s?(fo("ignoring socket cache for %s",r),lo(r,e)):(mo[o]||(fo("new io instance for %s",r),mo[o]=lo(r,e)),mo[o]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}function V(t){return decodeURIComponent(t.replace(/\+/g," "))}function Y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function G(t){return t&&t.__esModule?t:{"default":t}}function K(t,e){return e<=t&&t<e+100}function X(i){var n=[];return{on:function(t,e){return n.push([t,e]),i.on(t,e)},remove:function(){n.forEach(function(t){var e=t[0],n=t[1];i.off(e,n)})}}}function J(t,e){return{params:e.params,signature:e.signature,fields:e.fields}}function Q(t,e){return-1!==t.indexOf(e)}var Z={exports:{}};!function(){"use strict";function n(t,e){var n,i,r,o,a=d;for(o=arguments.length;2<o--;)c.push(arguments[o]);for(e&&null!=e.children&&(c.length||c.push(e.children),delete e.children);c.length;)if((i=c.pop())&&void 0!==i.pop)for(o=i.length;o--;)c.push(i[o]);else"boolean"==typeof i&&(i=null),(r="function"!=typeof t)&&(null==i?i="":"number"==typeof i?i=String(i):"string"!=typeof i&&(r=!1)),r&&n?a[a.length-1]+=i:a===d?a=[i]:a.push(i),n=r;var s=new function(){};return s.nodeName=t,s.children=a,s.attributes=null==e?void 0:e,s.key=null==e?void 0:e.key,void 0!==F.vnode&&F.vnode(s),s}function S(t,e){for(var n in e)t[n]=e[n];return t}function o(t){!t.__d&&(t.__d=!0)&&1==r.push(t)&&(F.debounceRendering||i)(e)}function e(){var t,e=r;for(r=[];t=e.pop();)t.__d&&L(t)}function T(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function $(t){var e=S({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var i in n)void 0===e[i]&&(e[i]=n[i]);return e}function E(t){var e=t.parentNode;e&&e.removeChild(t)}function m(t,e,n,i,r){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),i&&i(t);else if("class"!==e||r)if("style"===e){if(i&&"string"!=typeof i&&"string"!=typeof n||(t.style.cssText=i||""),i&&"object"==typeof i){if("string"!=typeof n)for(var o in n)o in i||(t.style[o]="");for(var o in i)t.style[o]="number"==typeof i[o]&&!1===h.test(o)?i[o]+"px":i[o]}}else if("dangerouslySetInnerHTML"===e)i&&(t.innerHTML=i.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),i?n||t.addEventListener(e,l,a):t.removeEventListener(e,l,a),(t.__l||(t.__l={}))[e]=i}else if("list"!==e&&"type"!==e&&!r&&e in t)!function(t,e,n){try{t[e]=n}catch(t){}}(t,e,null==i?"":i),null!=i&&!1!==i||t.removeAttribute(e);else{var s=r&&e!==(e=e.replace(/^xlink\:?/,""));null==i||!1===i?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof i&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),i):t.setAttribute(e,i))}else t.className=i||""}function l(t){return this.__l[t.type](F.event&&F.event(t)||t)}function A(){for(var t;t=N.pop();)F.afterMount&&F.afterMount(t),t.componentDidMount&&t.componentDidMount()}function D(S,t,e,n,i,r){R++||(g=null!=i&&void 0!==i.ownerSVGElement,v=null!=S&&!("__preactattr_"in S));var o=function S(t,e,n,i,r){var o=t,a=g;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||r)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),M(t,!0))),o.__preactattr_=!0,o;var s,l,u=e.nodeName;if("function"==typeof u)return function(t,e,n,i){for(var r=t&&t._component,o=r,a=t,s=r&&t._componentConstructor===e.nodeName,l=s,u=$(e);r&&!l&&(r=r.__u);)l=r.constructor===e.nodeName;return r&&l&&(!i||r._component)?(I(r,u,3,n,i),t=r.base):(o&&!s&&(O(o),t=a=null),r=P(e.nodeName,u,n),t&&!r.__b&&(r.__b=t,a=null),I(r,u,1,n,i),t=r.base,a&&t!==a&&(a._component=null,M(a,!1))),t}(t,e,n,i);if(g="svg"===u||"foreignObject"!==u&&g,u=String(u),(!t||!T(t,u))&&(s=u,(l=g?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).__n=s,o=l,t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),M(t,!0)}var c=o.firstChild,d=o.__preactattr_,h=e.children;if(null==d){d=o.__preactattr_={};for(var p=o.attributes,f=p.length;f--;)d[p[f].name]=p[f].value}return!v&&h&&1===h.length&&"string"==typeof h[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=h[0]&&(c.nodeValue=h[0]):(h&&h.length||null!=c)&&function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p=t.childNodes,f=[],m={},g=0,v=0,y=p.length,b=0,w=e?e.length:0;if(0!==y)for(var _=0;_<y;_++){var x=p[_],k=x.__preactattr_;null!=(C=w&&k?x._component?x._component.__k:k.key:null)?(g++,m[C]=x):(k||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(f[b++]=x)}if(0!==w)for(_=0;_<w;_++){var C;if((u=null)!=(C=(l=e[_]).key))g&&void 0!==m[C]&&(u=m[C],m[C]=void 0,g--);else if(!u&&v<b)for(o=v;o<b;o++)if(void 0!==f[o]&&(c=a=f[o],h=r,"string"==typeof(d=l)||"number"==typeof d?void 0!==c.splitText:"string"==typeof d.nodeName?!c._componentConstructor&&T(c,d.nodeName):h||c._componentConstructor===d.nodeName)){u=a,f[o]=void 0,o===b-1&&b--,o===v&&v++;break}u=S(u,l,n,i),s=p[_],u&&u!==t&&u!==s&&(null==s?t.appendChild(u):u===s.nextSibling?E(s):t.insertBefore(u,s))}if(g)for(var _ in m)void 0!==m[_]&&M(m[_],!1);for(;v<=b;)void 0!==(u=f[b--])&&M(u,!1)}(o,h,n,i,v||null!=d.dangerouslySetInnerHTML),function(t,e,n){var i;for(i in n)e&&null!=e[i]||null==n[i]||m(t,i,n[i],n[i]=void 0,g);for(i in e)"children"===i||"innerHTML"===i||i in n&&e[i]===("value"===i||"checked"===i?t[i]:n[i])||m(t,i,n[i],n[i]=e[i],g)}(o,e.attributes,d),g=a,o}(S,t,e,n,r);return i&&o.parentNode!==i&&i.appendChild(o),--R||(v=!1,r||A()),o}function M(t,e){var n=t._component;n?O(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||E(t),a(t))}function a(t){for(t=t.lastChild;t;){var e=t.previousSibling;M(t,!0),t=e}}function P(t,e,n){var i,r=p[t.name];if(t.prototype&&t.prototype.render?(i=new t(e,n),u.call(i,e,n)):((i=new u(e,n)).constructor=t,i.render=s),r)for(var o=r.length;o--;)if(r[o].constructor===t){i.__b=r[o].__b,r.splice(o,1);break}return i}function s(t,e,n){return this.constructor(t,n)}function I(t,e,n,i,r){t.__x||(t.__x=!0,(t.__r=e.ref)&&delete e.ref,(t.__k=e.key)&&delete e.key,!t.base||r?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,i),i&&i!==t.context&&(t.__c||(t.__c=t.context),t.context=i),t.__p||(t.__p=t.props),t.props=e,t.__x=!1,0!==n&&(1!==n&&!1===F.syncComponentUpdates&&t.base?o(t):L(t,1,r)),t.__r&&t.__r(t))}function L(t,e,n,i){if(!t.__x){var r,o,a,s=t.props,l=t.state,u=t.context,c=t.__p||s,d=t.__s||l,h=t.__c||u,p=t.base,f=t.__b,m=p||f,g=t._component,v=!1;if(p&&(t.props=c,t.state=d,t.context=h,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(s,l,u)?v=!0:t.componentWillUpdate&&t.componentWillUpdate(s,l,u),t.props=s,t.state=l,t.context=u
),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!v){r=t.render(s,l,u),t.getChildContext&&(u=S(S({},u),t.getChildContext()));var y,b,w=r&&r.nodeName;if("function"==typeof w){var _=$(r);(o=g)&&o.constructor===w&&_.key==o.__k?I(o,_,1,u,!1):(y=o,t._component=o=P(w,_,u),o.__b=o.__b||f,o.__u=t,I(o,_,0,u,!1),L(o,1,n,!0)),b=o.base}else a=m,(y=g)&&(a=t._component=null),(m||1===e)&&(a&&(a._component=null),b=D(a,r,u,n||!p,m&&m.parentNode,!0));if(m&&b!==m&&o!==g){var x=m.parentNode;x&&b!==x&&(x.replaceChild(b,m),y||(m._component=null,M(m,!1)))}if(y&&O(y),(t.base=b)&&!i){for(var k=t,C=t;C=C.__u;)(k=C).base=b;b._component=k,b._componentConstructor=k.constructor}}if(!p||n?N.unshift(t):v||(t.componentDidUpdate&&t.componentDidUpdate(c,d,h),F.afterUpdate&&F.afterUpdate(t)),null!=t.__h)for(;t.__h.length;)t.__h.pop().call(t);R||i||A()}}function O(t){F.beforeUnmount&&F.beforeUnmount(t);var e=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n,i,r=t._component;r?O(r):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),E(t.__b=e),i=(n=t).constructor.name,(p[i]||(p[i]=[])).push(n),a(e)),t.__r&&t.__r(null)}function u(t,e){this.__d=!0,this.context=e,this.props=t,this.state=this.state||{}}var F={},c=[],d=[],i="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,h=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,r=[],N=[],R=0,g=!1,v=!1,p={};S(u.prototype,{setState:function(t,e){var n=this.state;this.__s||(this.__s=S({},n)),S(n,"function"==typeof t?t(n,this.props):t),e&&(this.__h=this.__h||[]).push(e),o(this)},forceUpdate:function(t){t&&(this.__h=this.__h||[]).push(t),L(this,2)},render:function(){}});var t={h:n,createElement:n,cloneElement:function(t,e){return n(t.nodeName,S(S({},t.attributes),e),2<arguments.length?[].slice.call(arguments,2):t.children)},Component:u,render:function(t,e,n){return D(n,t,{},!1,e,!1)},rerender:e,options:F};Z.exports=t}(),Z=Z.exports;var tt,et,nt,it=tt={};!function(){try{et="function"==typeof setTimeout?setTimeout:e}catch(Z){et=e}try{nt="function"==typeof clearTimeout?clearTimeout:n}catch(Z){nt=n}}();var rt,ot=[],at=!1,st=-1;it.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ot.push(new a(t,e)),1!==ot.length||at||i(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},it.title="browser",it.browser=!0,it.env={},it.argv=[],it.version="",it.versions={},it.on=t,it.addListener=t,it.once=t,it.off=t,it.removeListener=t,it.removeAllListeners=t,it.emit=t,it.prependListener=t,it.prependOnceListener=t,it.listeners=function(){return[]},it.binding=function(){throw new Error("process.binding is not supported")},it.cwd=function(){return"/"},it.chdir=function(){throw new Error("process.chdir is not supported")},it.umask=function(){return 0};var lt={exports:{}};(function(z,q){var t,e;t=this,e=function(){"use strict";function u(t){return"function"==typeof t}function e(){var t=setTimeout;return function(){return t(n,1)}}function n(){for(var t=0;t<_;t+=2)(0,D[t])(D[t+1]),D[t]=void 0,D[t+1]=void 0;_=0}function s(t,e){var n=this,i=new this.constructor(a);void 0===i[P]&&y(i);var r=n._state;if(r){var o=arguments[r-1];C(function(){return v(r,i,o,n._result)})}else m(n,i,t,e);return i}function l(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(a);return h(e,t),e}function a(){}function c(t){try{return t.then}catch(t){return F.error=t,F}}function d(t,e,n){var r,o,i,a;e.constructor===t.constructor&&n===s&&e.constructor.resolve===l?(i=t,(a=e)._state===L?p(i,a._result):a._state===O?f(i,a._result):m(a,void 0,function(t){return h(i,t)},function(t){return f(i,t)})):n===F?(f(t,F.error),F.error=null):void 0===n?p(t,e):u(n)?(r=e,o=n,C(function(n){var i=!1,t=function(t,e){try{t.call(e,function(t){i||(i=!0,r!==t?h(n,t):p(n,t))},function(t){i||(i=!0,f(n,t))})}catch(n){return n}}(o,r,n._label);!i&&t&&(i=!0,f(n,t))},t)):p(t,e)}function h(t,e){var n,i;t===e?f(t,new TypeError("You cannot resolve a promise with itself")):(i=typeof(n=e),null===n||"object"!==i&&"function"!==i?p(t,e):d(t,e,c(e)))}function i(t){t._onerror&&t._onerror(t._result),g(t)}function p(t,e){t._state===I&&(t._result=e,t._state=L,0!==t._subscribers.length&&C(g,t))}function f(t,e){t._state===I&&(t._state=O,t._result=e,C(i,t))}function m(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+L]=n,r[o+O]=i,0===o&&t._state&&C(g,t)}function g(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?v(n,i,r,o):r(o);t._subscribers.length=0}}function v(t,e,n,i){var r=u(n),o=void 0,a=void 0,s=void 0,l=void 0;if(r){if((o=function(t,e){try{return t(e)}catch(t){return F.error=t,F}}(n,i))===F?(l=!0,a=o.error,o.error=null):s=!0,e===o)return void f(e,new TypeError("A promises callback cannot return that same promise."))}else o=i,s=!0;e._state!==I||(r&&s?h(e,o):l?f(e,a):t===L?p(e,o):t===O&&f(e,o))}function y(t){t[P]=N++,t._state=void 0,t._result=void 0,t._subscribers=[]}var t,r,o,b,w=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_=0,x=void 0,k=void 0,C=function(t,e){D[_]=t,D[_+1]=e,2===(_+=2)&&(k?k(n):M())},S="undefined"!=typeof window?window:void 0,T=S||{},$=T.MutationObserver||T.WebKitMutationObserver,E="undefined"==typeof self&&void 0!==z&&"[object process]"==={}.toString.call(z),A="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,D=new Array(1e3),M=void 0;M=E?function(){return z.nextTick(n)}:$?(r=0,o=new $(n),b=document.createTextNode(""),o.observe(b,{characterData:!0}),function(){b.data=r=++r%2}):A?((t=new MessageChannel).port1.onmessage=n,function(){return t.port2.postMessage(0)}):void 0===S&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return void 0!==(x=t.runOnLoop||t.runOnContext)?function(){x(n)}:e()}catch(t){return e()}}():e();var P=Math.random().toString(36).substring(2),I=void 0,L=1,O=2,F={error:null},N=0,R=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(a),this.promise[P]||y(this.promise),w(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&p(this.promise,this._result))):f(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===I&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===l){var r=c(e);if(r===s&&e._state!==I)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===j){var o=new n(a);d(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===I&&(this._remaining--,t===O?f(i,n):this._result[e]=n),0===this._remaining&&p(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;m(t,void 0,function(t){return n._settledAt(L,e,t)},function(t){return n._settledAt(O,e,t)})},t}(),j=function(){function e(t){this[P]=N++,this._result=this._state=void 0,this._subscribers=[],a!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){h(e,t)},function(t){f(e,t)})}catch(t){f(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype["finally"]=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})},e}();return j.prototype.then=s,j.all=function(t){return new R(this,t).promise},j.race=function(r){var o=this;return w(r)?new o(function(t,e){for(var n=r.length,i=0;i<n;i++)o.resolve(r[i]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},j.resolve=l,j.reject=function(t){var e=new this(a);return f(e,t),e},j._setScheduler=function(t){k=t},j._setAsap=function(t){C=t},j._asap=C,j.polyfill=function(){var t=void 0;if(void 0!==q)t=q;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=j},j.Promise=j},"object"==typeof lt.exports?lt.exports=e():t.ES6Promise=e()}).call(this,tt,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),lt=lt.exports;var ut={};(function(t){function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){if("number"==typeof t)return t;if("symbol"==typeof(e=t)||e&&"object"==typeof e&&d.call(e)==o)return r;var e;if(y(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=y(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var i=l.test(t);return i||u.test(t)?c(t.slice(2),i?2:8):s.test(t)?r:+t}var w="Expected a function",r=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,e="object"==typeof t&&t&&t.Object===Object&&t,n="object"==typeof self&&self&&self.Object===Object&&self,i=e||n||Function("return this")(),d=Object.prototype.toString,_=Math.max,x=Math.min,k=function(){return i.Date.now()};ut=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError(w);return y(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),function(i,r,t){function o(t){var e=l,n=u;return l=u=void 0,f=t,d=i.apply(n,e)}function a(t){var e=t-p;return void 0===p||r<=e||e<0||g&&c<=t-f}function s(){var t,e=k();if(a(e))return n(e);h=setTimeout(s,(t=r-(e-p),g?x(t,c-(e-f)):t))}function n(t){return h=void 0,v&&l?o(t):(l=u=void 0,d)}function e(){var t,e=k(),n=a(e);if(l=arguments,u=this,p=e,n){if(void 0===h)return f=t=p,h=setTimeout(s,r),m?o(t):d;if(g)return h=setTimeout(s,r),o(p)}return void 0===h&&(h=setTimeout(s,r)),d}var l,u,c,d,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof i)throw new TypeError(w);return r=b(r)||0,y(t)&&(m=!!t.leading,c=(g="maxWait"in t)?_(b(t.maxWait)||0,r):c,v="trailing"in t?!!t.trailing:v),e.cancel=function(){void 0!==h&&clearTimeout(h),l=p=u=h=void(f=0)},e.flush=function(){return void 0===h?d:n(k())},e}(t,e,{leading:i,maxWait:e,trailing:r})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt="undefined"==typeof Promise?lt.Promise:Promise,ht={"video/ogg":"ogv","audio/ogg":"ogg","video/webm":"webm","audio/webm":"webm","video/mp4":"mp4","audio/mp3":"mp3"},pt={generateFileID:function(t){return["uppy",t.name?t.name.toLowerCase().replace(/[^A-Z0-9]/gi,""):"",t.type,t.data.size,t.data.lastModified].filter(function(t){return t}).join("-")},toArray:function(t){return Array.prototype.slice.call(t||[],0)},getTimeStamp:function(){var t=new Date;return s(t.getHours().toString())+":"+s(t.getMinutes().toString())+":"+s(t.getSeconds().toString())},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints},getFileNameAndExtension:l,truncateString:function(t,e){return t.length>e?t.substr(0,e/2)+"..."+t.substr(t.length-e/4,t.length):t},getFileTypeExtension:function(t){return ht[t]||null},getFileType:function(t){var e={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",yaml:"text/yaml",yml:"text/yaml"},n=t.name?l(t.name).extension:null;return t.isRemote?t.type?t.type:e[n]:t.type?t.type:n&&e[n]?e[n]:null},isPreviewSupported:function(t){if(!t)return!1;var e=t.split("/")[1];return!!/^(jpeg|gif|png|svg|svg\+xml|bmp)$/.test(e)},isObjectURL:function(t){return 0===t.indexOf("blob:")},dataURItoBlob:u,canvasToBlob:function(e,n,i){return e.toBlob?new dt(function(t){e.toBlob(t,n,i)}):dt.resolve().then(function(){return u(e.toDataURL(n,i),{})})},getSpeed:function(t){if(!t.bytesUploaded)return 0;var e=new Date-t.uploadStarted;return t.bytesUploaded/(e/1e3)},getBytesRemaining:function(t){return t.bytesTotal-t.bytesUploaded},copyToClipboard:function(i,r){return r=r||"Copy the URL below",new dt(function(t){var e=document.createElement("textarea");e.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),e.value=i,document.body.appendChild(e),e.select();var n=function(){document.body.removeChild(e),window.prompt(r,i),t()};try{return document.execCommand("copy")?(document.body.removeChild(e),t()):n()}catch(i){return document.body.removeChild(e),n()}})},prettyETA:function(t){var e,n=(e=t,{hours:Math.floor(e/3600)%24,minutes:Math.floor(e/60)%60,seconds:Math.floor(e%60)}),i=n.hours?n.hours+"h ":"",r=n.hours?("0"+n.minutes).substr(-2):n.minutes;return i+(r?r+"m ":"")+(r?("0"+n.seconds).substr(-2):n.seconds)+"s"},findDOMElement:function(t){return"string"==typeof t?document.querySelector(t):"object"===(void 0===t?"undefined":ct(t))&&c(t)?t:void 0},findAllDOMElements:function(t){if("string"==typeof t){var e=[].slice.call(document.querySelectorAll(t));return 0<e.length?e:null}if("object"===(void 0===t?"undefined":ct(t))&&c(t))return[t]},getSocketHost:function(t){var e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/.exec(t)[1];return("https:"===location.protocol?"wss":"ws")+"://"+e},emitSocketProgress:ut(function(t,e,n){var i=e.progress,r=e.bytesUploaded,o=e.bytesTotal;i&&(t.uppy.log("Upload progress: "+i),t.uppy.emit("upload-progress",n,{uploader:t,bytesUploaded:r,bytesTotal:o}))},300,{leading:!0,trailing:!0}),settle:function(t){function e(t){i.push(t)}function n(t){r.push(t)}var i=[],r=[];return dt.all(t.map(function(t){return t.then(e,n)})).then(function(){return{successful:i,failed:r}})},limitPromises:function(o){function a(){s--;var t=l.shift();t&&t()}var s=0,l=[];return function(r){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=function(){s++;var t=r.apply(void 0,e);return t.then(a,a),t};return o<=s?new dt(function(t,e){l.push(function(){i().then(t,e)})}):i()}}}},ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gt=pt.findDOMElement,vt=function(){function l(t,e){!function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.uppy=t,this.opts=e||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}return l.prototype.getPluginState=function(){return this.uppy.state.plugins[this.id]},l.prototype.setPluginState=function(t){var e=mt({},this.uppy.state.plugins);e[this.id]=mt({},e[this.id],t),this.uppy.setState({plugins:e})},l.prototype.update=function(t){void 0!==this.el&&this.updateUI&&this.updateUI(t)},l.prototype.mount=function(t,e){var n=this,i=e.id,r=gt(t);if(r)return this.isTargetDOMEl=!0,this.updateUI=function(t){n.el=Z.render(n.render(t),r,n.el)},this.uppy.log("Installing "+i+" to a DOM element"),this.opts.replaceTargetContent&&(r.innerHTML=""),this.el=Z.render(this.render(this.uppy.state),r),this.el;var o=void 0;if("object"===(void 0===t?"undefined":ft(t))&&t instanceof l)o=t;else if("function"==typeof t){var a=t;this.uppy.iteratePlugins(function(t){if(t instanceof a)return o=t,!1})}if(o){var s=o.id;return this.uppy.log("Installing "+i+" to "+s),this.el=o.addTarget(e),this.el}throw this.uppy.log("Not installing "+i),new Error("Invalid target option given to "+i)},l.prototype.render=function(){throw new Error("Extend the render method to add your plugin to a DOM element")},l.prototype.addTarget=function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},l.prototype.unmount=function(){this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},l.prototype.install=function(){},l.prototype.uninstall=function(){this.unmount()},l}(),yt=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},bt="object"==typeof window?window:self,wt=Object.keys(bt),_t=yt(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+wt.toString(36),4),xt=function(){return _t},kt={},Ct=0,St=4,Tt=36,$t=Math.pow(Tt,St);p.slug=function(){var t=(new Date).getTime().toString(36),e=h().toString(36).slice(-4),n=xt().slice(0,1)+xt().slice(-1),i=d().slice(-2);return t.slice(-2)+e+n+i},p.fingerprint=xt,kt=p;var Et={};f.prototype.match=function(t){var e,n,i=!0,r=this.parts,o=r.length;if("string"==typeof t||t instanceof String)if(this.hasWild||this.text==t){for(n=(t||"").split(this.separator),e=0;i&&e<o;e++)"*"!==r[e]&&(i=e<n.length&&r[e]===n[e]);i=i&&n}else i=!1;else if("function"==typeof t.splice)for(i=[],e=t.length;e--;)this.match(t[e])&&(i[i.length]=t[e]);else if("object"==typeof t)for(var a in i={},t)this.match(a)&&(i[a]=t[a]);return i},Et=function(t,e,n){var i=new f(t,n||/[\/\.]/);return void 0!==e?i.match(e):i};var At,Dt=/[\/\+\.]/,Mt=function(){var i={},l=i._fns={};return i.emit=function(t,e,n,i,r,o,a){var s=function(t){for(var e=l[t]?l[t]:[],n=t.indexOf(":"),i=-1===n?[t]:[t.substring(0,n),t.substring(n+1)],r=Object.keys(l),o=0,a=r.length;o<a;o++){var s=r[o];if("*"===s&&(e=e.concat(l[s])),2===i.length&&i[0]===s){e=e.concat(l[s]);break}}return e}(t);s.length&&function(t,e,n){for(var i=0,r=e.length;i<r&&e[i];i++)e[i].event=t,e[i].apply(e[i],n)}(t,s,[e,n,i,r,o,a])},i.on=function(t,e){l[t]||(l[t]=[]),l[t].push(e)},i.once=function(t,e){this.on(t,function n(){e.apply(this,arguments),i.off(t,n)})},i.off=function(t,e){var n=[];if(t&&e)for(var i=this._fns[t],r=0,o=i?i.length:0;r<o;r++)i[r]!==e&&n.push(i[r]);n.length?this._fns[t]=n:delete this._fns[t]},i},Pt=function(t){if("number"!=typeof t||isNaN(t))throw new TypeError("Expected a number, got "+typeof t);var e=t<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(e&&(t=-t),t<1)return(e?"-":"")+t+" B";var i=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),n.length-1);t=Number(t/Math.pow(1e3,i));var r=n[i];return 10<=t||t%1==0?(e?"-":"")+t.toFixed(0)+" "+r:(e?"-":"")+t.toFixed(1)+" "+r},It=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lt=function(){function n(t){!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var e={locale:{strings:{},pluralize:function(t){return 1===t?0:1}}};this.opts=It({},e,t),this.locale=It({},e.locale,t.locale)}return n.prototype.interpolate=function(t,e){var n=String.prototype.replace,i=/\$/g;for(var r in e)if("_"!==r&&e.hasOwnProperty(r)){var o=e[r];"string"==typeof o&&(o=n.call(e[r],i,"$$$$")),t=n.call(t,new RegExp("%\\{"+r+"\\}","g"),o)}return t},n.prototype.translate=function(t,e){if(e&&e.smart_count){var n=this.locale.pluralize(e.smart_count);return this.interpolate(this.opts.locale.strings[t][n],e)}return this.interpolate(this.opts.locale.strings[t],e)},n}(),Ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ft=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.state={},this.callbacks=[]}return e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){var e=Ot({},this.state),n=Ot({},this.state,t);this.state=n,this._publish(e,n,t)},e.prototype.subscribe=function(t){var e=this;return this.callbacks.push(t),function(){e.callbacks.splice(e.callbacks.indexOf(t),1)}},e.prototype._publish=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.callbacks.forEach(function(t){t.apply(void 0,e)})},e}(),Nt=function(){return new Ft},Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zt=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),qt="undefined"==typeof Promise?lt.Promise:Promise,Bt=function(){function r(t){var i=this;!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var e={strings:{youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"This file exceeds maximum allowed size of",youCanOnlyUploadFileTypes:"You can only upload:",uppyServerError:"Connection with Uppy Server failed",failedToUpload:"Failed to upload",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Intenet!"}},n={id:"uppy",autoProceed:!0,debug:!1,restrictions:{maxFileSize:!1,maxNumberOfFiles:!1,minNumberOfFiles:!1,allowedFileTypes:!1},meta:{},onBeforeFileAdded:function(t){return t},onBeforeUpload:function(t){return t},locale:e,store:Nt()};this.opts=jt({},n,t),this.opts.restrictions=jt({},n.restrictions,this.opts.restrictions),this.locale=jt({},e,this.opts.locale),this.locale.strings=jt({},e.strings,this.opts.locale.strings),this.translator=new Lt({locale:this.locale}),this.i18n=this.translator.translate.bind(this.translator),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this._calculateProgress=this._calculateProgress.bind(this),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=Mt(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},capabilities:{resumableUploads:!1},totalProgress:0,meta:jt({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe(function(t,e,n){i.emit("state-update",t,e,n),i.updateAll(e)}),this.opts.debug&&"undefined"!=typeof window&&(window.uppyLog="",window[this.opts.id]=this)}return r.prototype.on=function(t,e){return this.emitter.on(t,e),this},r.prototype.off=function(t,e){return this.emitter.off(t,e),this},r.prototype.updateAll=function(e){this.iteratePlugins(function(t){t.update(e)})},r.prototype.setState=function(t){this.store.setState(t)},r.prototype.getState=function(){return this.store.getState()},r.prototype.setFileState=function(t,e){var n;this.setState({files:jt({},this.getState().files,(n={},n[t]=jt({},this.getState().files[t],e),n))})},r.prototype.resetProgress=function(){var n={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:!1},i=jt({},this.getState().files),r={};Object.keys(i).forEach(function(t){var e=jt({},i[t]);e.progress=jt({},e.progress,n),r[t]=e}),this.setState({files:r,totalProgress:0}),this.emit("reset-progress")},r.prototype.addPreProcessor=function(t){this.preProcessors.push(t)},r.prototype.removePreProcessor=function(t){var e=this.preProcessors.indexOf(t);-1!==e&&this.preProcessors.splice(e,1)},r.prototype.addPostProcessor=function(t){this.postProcessors.push(t)},r.prototype.removePostProcessor=function(t){var e=this.postProcessors.indexOf(t);-1!==e&&this.postProcessors.splice(e,1)},r.prototype.addUploader=function(t){this.uploaders.push(t)},r.prototype.removeUploader=function(t){var e=this.uploaders.indexOf(t);-1!==e&&this.uploaders.splice(e,1)},r.prototype.setMeta=function(e){var t=jt({},this.getState().meta,e),n=jt({},this.getState().files);Object.keys(n).forEach(function(t){n[t]=jt({},n[t],{meta:jt({},n[t].meta,e)})}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})},r.prototype.setFileMeta=function(t,e){var n=jt({},this.getState().files);if(n[t]){var i=jt({},n[t].meta,e);n[t]=jt({},n[t],{meta:i}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that\u2019s not with us anymore: ",t)},r.prototype.getFile=function(t){return this.getState().files[t]},r.prototype._checkMinNumberOfFiles=function(t){var e=this.opts.restrictions.minNumberOfFiles;if(Object.keys(t).length<e)throw new Error(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:e}))},r.prototype._checkRestrictions=function(t){var e=this.opts.restrictions,n=e.maxFileSize,i=e.maxNumberOfFiles,r=e.allowedFileTypes;if(i&&Object.keys(this.getState().files).length+1>i)throw new Error(""+this.i18n("youCanOnlyUploadX",{smart_count:i}));if(r&&!(0<r.filter(function(e){return!!t.type&&function(n){function t(t){var e=Et(t,n,Dt);return e&&2<=e.length}return e?t(e.split(";")[0]):t}(t.type)}).length)){var o=r.join(", ");throw new Error(this.i18n("youCanOnlyUploadFileTypes")+" "+o)}if(n&&t.data.size>n)throw new Error(this.i18n("exceedsSize")+" "+Pt(n))},r.prototype.addFile=function(t){var e,n=this,i=this.getState().files,r=this.opts.onBeforeFileAdded(t,i);if(!1!==r){if("object"===(void 0===r?"undefined":Rt(r))&&r){if(r.then)throw new TypeError("onBeforeFileAdded() returned a Promise, but this is no longer supported. It must be synchronous.");t=r}var o,a=pt.getFileType(t);o=t.name?t.name:"image"===a.split("/")[0]?a.split("/")[0]+"."+a.split("/")[1]:"noname";var s=pt.getFileNameAndExtension(o).extension,l=t.isRemote||!1,u=pt.generateFileID(t),c={source:t.source||"",id:u,name:o,extension:s||"",meta:jt({},this.getState().meta,{name:o,type:a}),type:a,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:t.data.size||0,uploadComplete:!1,uploadStarted:!1},size:t.data.size||0,isRemote:l,remote:t.remote||"",preview:t.preview};try{this._checkRestrictions(c)}catch(t){!function(t){var e="object"===(void 0===t?"undefined":Rt(t))?t:new Error(t);throw n.log(e.message),n.info(e.message,"error",5e3),e}(t)}this.setState({files:jt({},i,(e={},e[u]=c,e))}),this.emit("file-added",c),this.log("Added file: "+o+", "+u+", mime type: "+a),this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){n.scheduledAutoProceed=null,n.upload()["catch"](function(t){console.error(t.stack||t.message||t)})},4))}else this.log("Not adding file because onBeforeFileAdded returned false")},r.prototype.removeFile=function(n){var e=this,t=this.state,i=t.files,r=t.currentUploads,o=jt({},i),a=o[n];delete o[n];var s=jt({},r),l=[];Object.keys(s).forEach(function(t){var e=r[t].fileIDs.filter(function(t){return t!==n});0!==e.length?s[t]=jt({},r[t],{fileIDs:e}):l.push(t)}),this.setState({currentUploads:s,files:o}),l.forEach(function(t){e._removeUpload(t)}),this._calculateTotalProgress(),this.emit("file-removed",a),this.log("File removed: "+a.id),a.preview&&pt.isObjectURL(a.preview)&&URL.revokeObjectURL(a.preview),this.log("Removed file: "+n)},r.prototype.pauseResume=function(t){if(!this.getFile(t).uploadComplete){var e=!this.getFile(t).isPaused;return this.setFileState(t,{isPaused:e}),this.emit("upload-pause",t,e),e}},r.prototype.pauseAll=function(){var n=jt({},this.getState().files);Object.keys(n).filter(function(t){return!n[t].progress.uploadComplete&&n[t].progress.uploadStarted}).forEach(function(t){var e=jt({},n[t],{isPaused:!0});n[t]=e}),this.setState({files:n}),this.emit("pause-all")},r.prototype.resumeAll=function(){var n=jt({},this.getState().files);Object.keys(n).filter(function(t){return!n[t].progress.uploadComplete&&n[t].progress.uploadStarted}).forEach(function(t){var e=jt({},n[t],{isPaused:!1,error:null});n[t]=e}),this.setState({files:n}),this.emit("resume-all")},r.prototype.retryAll=function(){var n=jt({},this.getState().files),t=Object.keys(n).filter(function(t){return n[t].error});t.forEach(function(t){var e=jt({},n[t],{isPaused:!1,error:null});n[t]=e}),this.setState({files:n,error:null}),this.emit("retry-all",t);var e=this._createUpload(t);return this._runUpload(e)},r.prototype.cancelAll=function(){var e=this;this.emit("cancel-all");var t=this.getState().currentUploads;Object.keys(t).forEach(function(t){e._removeUpload(t)}),this.setState({files:{},totalProgress:0})},r.prototype.retryUpload=function(t){var e=jt({},this.getState().files),n=jt({},e[t],{error:null,isPaused:!1});e[t]=n,this.setState({files:e}),this.emit("upload-retry",t);var i=this._createUpload([t]);return this._runUpload(i)},r.prototype.reset=function(){this.cancelAll()},r.prototype._calculateProgress=function(t,e){this.getFile(t.id)?(this.setFileState(t.id,{progress:jt({},this.getFile(t.id).progress,{bytesUploaded:e.bytesUploaded,bytesTotal:e.bytesTotal,percentage:Math.floor((e.bytesUploaded/e.bytesTotal*100).toFixed(2))})}),this._calculateTotalProgress()):this.log("Not setting progress for a file that has been removed: "+t.id)},r.prototype._calculateTotalProgress=function(){var e=jt({},this.getState().files),t=Object.keys(e).filter(function(t){return e[t].progress.uploadStarted}),n=100*t.length,i=0;t.forEach(function(t){i+=e[t].progress.percentage});var r=0===n?0:Math.floor((100*i/n).toFixed(2));this.setState({totalProgress:r})},r.prototype.actions=function(){var i=this;this.on("error",function(t){i.setState({error:t.message})}),this.on("upload-error",function(t,e){i.setFileState(t.id,{error:e.message}),i.setState({error:e.message});var n=void 0;n=i.i18n("failedToUpload")+" "+t.name,"object"===(void 0===e?"undefined":Rt(e))&&e.message&&(n={message:n,details:e.message}),i.info(n,"error",5e3)}),this.on("upload",function(){i.setState({error:null})}),this.on("upload-started",function(t){i.getFile(t.id)?i.setFileState(t.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:t.size}}):i.log("Not setting progress for a file that has been removed: "+t.id)});var t=ut(this._calculateProgress,100,{leading:!0,trailing:!0});this.on("upload-progress",t),this.on("upload-success",function(t,e,n){i.setFileState(t.id,{progress:jt({},i.getFile(t.id).progress,{uploadComplete:!0,percentage:100}),uploadURL:n,isPaused:!1}),i._calculateTotalProgress()}),this.on("preprocess-progress",function(t,e){i.getFile(t.id)?i.setFileState(t.id,{progress:jt({},i.getFile(t.id).progress,{preprocess:e})}):i.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("preprocess-complete",function(t){if(i.getFile(t.id)){var e=jt({},i.getState().files);e[t.id]=jt({},e[t.id],{progress:jt({},e[t.id].progress)}),delete e[t.id].progress.preprocess,i.setState({files:e})}else i.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("postprocess-progress",function(t,e){i.getFile(t.id)?i.setFileState(t.id,{progress:jt({},i.getState().files[t.id].progress,{postprocess:e})}):i.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("postprocess-complete",function(t){if(i.getFile(t.id)){var e=jt({},i.getState().files);e[t.id]=jt({},e[t.id],{progress:jt({},e[t.id].progress)}),delete e[t.id].progress.postprocess,
i.setState({files:e})}else i.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("restored",function(){i._calculateTotalProgress()}),"undefined"!=typeof window&&(window.addEventListener("online",function(){return i.updateOnlineStatus()}),window.addEventListener("offline",function(){return i.updateOnlineStatus()}),setTimeout(function(){return i.updateOnlineStatus()},3e3))},r.prototype.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},r.prototype.getID=function(){return this.opts.id},r.prototype.use=function(t,e){if("function"!=typeof t){var n="Expected a plugin class, but got "+(null===t?"null":void 0===t?"undefined":Rt(t))+". Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var i=new t(this,e),r=i.id;if(this.plugins[i.type]=this.plugins[i.type]||[],!r)throw new Error("Your plugin must have an id");if(!i.type)throw new Error("Your plugin must have a type");var o=this.getPlugin(r);if(o){var a="Already found a plugin named '"+o.id+"'.\n        Tried to use: '"+r+"'.\n        Uppy is currently limited to running one of every plugin.\n        Share your use case with us over at\n        https://github.com/transloadit/uppy/issues/\n        if you want us to reconsider.";throw new Error(a)}return this.plugins[i.type].push(i),i.install(),this},r.prototype.getPlugin=function(e){var n=!1;return this.iteratePlugins(function(t){if(t.id===e)return n=t,!1}),n},r.prototype.iteratePlugins=function(e){var n=this;Object.keys(this.plugins).forEach(function(t){n.plugins[t].forEach(e)})},r.prototype.removePlugin=function(t){var e=this.plugins[t.type];t.uninstall&&t.uninstall();var n=e.indexOf(t);-1!==n&&e.splice(n,1)},r.prototype.close=function(){this.reset(),this._storeUnsubscribe(),this.iteratePlugins(function(t){t.uninstall()})},r.prototype.info=function(t,e,n){var i=1<arguments.length&&void 0!==e?e:"info",r=2<arguments.length&&void 0!==n?n:3e3,o="object"===(void 0===t?"undefined":Rt(t));this.setState({info:{isHidden:!1,type:i,message:o?t.message:t,details:o?t.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==r?setTimeout(this.hideInfo,r):void 0},r.prototype.hideInfo=function(){var t=jt({},this.getState().info,{isHidden:!0});this.setState({info:t}),this.emit("info-hidden")},r.prototype.log=function(t,e){if(this.opts.debug){var n="[Uppy] ["+pt.getTimeStamp()+"] "+t;window.uppyLog=window.uppyLog+"\nDEBUG LOG: "+t,"error"!==e?"warning"!==e?t===""+t?console.log(n):(n="[Uppy] ["+pt.getTimeStamp()+"]",console.log(n),console.dir(t)):console.warn(n):console.error(n)}},r.prototype.run=function(){return this.log("Core is run, initializing actions..."),this.actions(),this},r.prototype.restore=function(t){return this.log('Core: attempting to restore upload "'+t+'"'),this.getState().currentUploads[t]?this._runUpload(t):(this._removeUpload(t),qt.reject(new Error("Nonexistent upload")))},r.prototype._createUpload=function(t){var e,n=kt();return this.emit("upload",{id:n,fileIDs:t}),this.setState({currentUploads:jt({},this.getState().currentUploads,(e={},e[n]={fileIDs:t,step:0,result:{}},e))}),n},r.prototype._getUpload=function(t){return this.getState().currentUploads[t]},r.prototype.addResultData=function(t,e){var n;if(this._getUpload(t)){var i=this.getState().currentUploads,r=jt({},i[t],{result:jt({},i[t].result,e)});this.setState({currentUploads:jt({},i,(n={},n[t]=r,n))})}else this.log("Not setting result for an upload that has been removed: "+t)},r.prototype._removeUpload=function(t){var e=jt({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})},r.prototype._runUpload=function(o){var a=this,t=this.getState().currentUploads[o],s=t.fileIDs,e=t.step,n=[].concat(this.preProcessors,this.uploaders,this.postProcessors),l=qt.resolve();return n.forEach(function(i,r){r<e||(l=l.then(function(){var t,e=a.getState().currentUploads,n=jt({},e[o],{step:r});return a.setState({currentUploads:jt({},e,(t={},t[o]=n,t))}),i(s,o)}).then(function(){return null}))}),l["catch"](function(t){a.emit("error",t),a._removeUpload(o)}),l.then(function(){var t=s.map(function(t){return a.getFile(t)}),e=t.filter(function(t){return t&&!t.error}),n=t.filter(function(t){return t&&t.error});a.addResultData(o,{successful:e,failed:n,uploadID:o});var i=a.getState().currentUploads;if(i[o]){var r=i[o].result;return a.emit("complete",r),a._removeUpload(o),r}a.log("Not setting result for an upload that has been removed: "+o)})},r.prototype.upload=function(){var o=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var e=this.getState().files,t=this.opts.onBeforeUpload(e);if(!1===t)return qt.reject(new Error("Not starting the upload because onBeforeUpload returned false"));if(t&&"object"===(void 0===t?"undefined":Rt(t))){if(t.then)throw new TypeError("onBeforeUpload() returned a Promise, but this is no longer supported. It must be synchronous.");e=t}return qt.resolve().then(function(){return o._checkMinNumberOfFiles(e)}).then(function(){var n=o.getState().currentUploads,i=Object.keys(n).reduce(function(t,e){return t.concat(n[e].fileIDs)},[]),r=[];Object.keys(e).forEach(function(t){var e=o.getFile(t);e.progress.uploadStarted||-1!==i.indexOf(t)||r.push(e.id)});var t=o._createUpload(r);return o._runUpload(t)})["catch"](function(t){var e="object"===(void 0===t?"undefined":Rt(t))?t.message:t;return o.log(e),o.info(e,"error",4e3),qt.reject("object"===(void 0===t?"undefined":Rt(t))?t:new Error(t))})},zt(r,[{key:"state",get:function(){return this.getState()}}]),r}();(At=function(t){return new Bt(t)}).Uppy=Bt;var Ut,Ht=At,Wt={};Ut=function(){return function(t){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var n=document.createElement("base");if(n.href=t,1===e)return n.href;var i=document.getElementsByTagName("head")[0];i.insertBefore(n,i.firstChild);for(var r,o=document.createElement("a"),a=1;a<e;a++)o.href=arguments[a],r=o.href,n.href=r;return i.removeChild(n),r}},"object"==typeof Wt?Wt=Ut():this.resolveUrl=Ut();var Vt=function(){function n(t){var e=this;!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.queued=[],this.isOpen=!1,this.socket=new WebSocket(t.target),this.emitter=Mt(),this.socket.onopen=function(){for(e.isOpen=!0;0<e.queued.length&&e.isOpen;){var t=e.queued[0];e.send(t.action,t.payload),e.queued=e.queued.slice(1)}},this.socket.onclose=function(){e.isOpen=!1},this._handleMessage=this._handleMessage.bind(this),this.socket.onmessage=this._handleMessage,this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this)}return n.prototype.close=function(){return this.socket.close()},n.prototype.send=function(t,e){this.isOpen?this.socket.send(JSON.stringify({action:t,payload:e})):this.queued.push({action:t,payload:e})},n.prototype.on=function(t,e){console.log(t),this.emitter.on(t,e)},n.prototype.emit=function(t,e){console.log(t),this.emitter.emit(t,e)},n.prototype.once=function(t,e){this.emitter.once(t,e)},n.prototype._handleMessage=function(t){try{var e=JSON.parse(t.data);console.log(e),this.emit(e.action,e.payload)}catch(t){console.log(t)}},n}(),Yt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gt="undefined"==typeof Promise?lt.Promise:Promise,Kt=pt.emitSocketProgress,Xt=pt.getSocketHost,Jt=pt.settle,Qt=pt.limitPromises,Zt=function(o){function a(t,e){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));n.type="uploader",n.id="XHRUpload";var i={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}},r={formData:!0,fieldName:"files[]",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!(n.title="XHRUpload"),headers:{},locale:i,timeout:3e4,limit:0,getResponseData:function(t){var e={};try{e=JSON.parse(t)}catch(t){console.log(t)}return e},getResponseError:function(){return new Error("Upload error")}};if(n.opts=Yt({},r,e),n.locale=Yt({},i,n.opts.locale),n.locale.strings=Yt({},i.strings,n.opts.locale.strings),n.translator=new Lt({locale:n.locale}),n.i18n=n.translator.translate.bind(n.translator),n.handleUpload=n.handleUpload.bind(n),"number"==typeof n.opts.limit&&0!==n.opts.limit?n.limitUploads=Qt(n.opts.limit):n.limitUploads=function(t){return t},n.opts.bundle&&!n.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.getOptions=function(t){var e=Yt({},this.opts,this.uppy.state.xhrUpload||{},t.xhrUpload||{});return e.headers={},Yt(e.headers,this.opts.headers),this.uppy.state.xhrUpload&&Yt(e.headers,this.uppy.state.xhrUpload.headers),t.xhrUpload&&Yt(e.headers,t.xhrUpload.headers),e},a.prototype.createProgressTimeout=function(e,n){function t(){r.log("[XHRUpload] timed out");var t=new Error(o.i18n("timedOut",{seconds:Math.ceil(e/1e3)}));n(t)}function i(){a&&(clearTimeout(a),a=null)}var r=this.uppy,o=this,a=null;return{progress:function(){0<e&&(i(),a=setTimeout(t,e))},done:i}},a.prototype.createFormDataUpload=function(e,t){var n=new FormData;return(Array.isArray(t.metaFields)?t.metaFields:Object.keys(e.meta)).forEach(function(t){n.append(t,e.meta[t])}),n.append(t.fieldName,e.data),n},a.prototype.createBareUpload=function(t){return t.data},a.prototype.upload=function(h,t,e){var p=this,f=this.getOptions(h);return this.uppy.log("uploading "+t+" of "+e),new Gt(function(s,l){var t=f.formData?p.createFormDataUpload(h,f):p.createBareUpload(h,f),u=p.createProgressTimeout(f.timeout,function(t){c.abort(),p.uppy.emit("upload-error",h,t),l(t)}),c=new XMLHttpRequest,d=kt();c.upload.addEventListener("loadstart",function(){p.uppy.log("[XHRUpload] "+d+" started"),u.progress()}),c.upload.addEventListener("progress",function(t){p.uppy.log("[XHRUpload] "+d+" progress: "+t.loaded+" / "+t.total),u.progress(),t.lengthComputable&&p.uppy.emit("upload-progress",h,{uploader:p,bytesUploaded:t.loaded,bytesTotal:t.total})}),c.addEventListener("load",function(t){if(p.uppy.log("[XHRUpload] "+d+" finished"),u.done(),200<=t.target.status&&t.target.status<300){var e=f.getResponseData(c.responseText,c),n=e[f.responseUrlFieldName],i={status:t.target.status,body:e,uploadURL:n};return p.uppy.setFileState(h.id,{response:i}),p.uppy.emit("upload-success",h,e,n),n&&p.uppy.log("Download "+h.name+" from "+h.uploadURL),s(h)}var r=f.getResponseData(c.responseText,c),o=m(c,f.getResponseError(c.responseText,c)),a={status:t.target.status,body:r};return p.uppy.setFileState(h.id,{response:a}),p.uppy.emit("upload-error",h,o),l(o)}),c.addEventListener("error",function(){p.uppy.log("[XHRUpload] "+d+" errored"),u.done();var t=m(c,f.getResponseError(c.responseText,c));return p.uppy.emit("upload-error",h,t),l(t)}),c.open(f.method.toUpperCase(),f.endpoint,!0),Object.keys(f.headers).forEach(function(t){c.setRequestHeader(t,f.headers[t])}),c.send(t),p.uppy.on("file-removed",function(t){t.id===h.id&&(u.done(),c.abort())}),p.uppy.on("upload-cancel",function(t){t===h.id&&(u.done(),c.abort())}),p.uppy.on("cancel-all",function(){c.abort()})})},a.prototype.uploadRemote=function(a){var s=this,l=this.getOptions(a);return new Gt(function(r,o){var e={};(Array.isArray(l.metaFields)?l.metaFields:Object.keys(a.meta)).forEach(function(t){e[t]=a.meta[t]}),fetch(a.remote.url,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Yt({},a.remote.body,{endpoint:l.endpoint,size:a.data.size,fieldname:l.fieldName,metadata:e,headers:l.headers}))}).then(function(t){if(t.status<200&&300<t.status)return o(t.statusText);t.json().then(function(t){var e=t.token,n=Xt(a.remote.host),i=new Vt({target:n+"/api/"+e});i.on("progress",function(t){return Kt(s,t,a)}),i.on("success",function(t){var e=l.getResponseData(t.response.responseText,t.response),n=e[l.responseUrlFieldName];return s.uppy.emit("upload-success",a,e,n),i.close(),r()}),i.on("error",function(t){var e=t.response,n=e?l.getResponseError(e.responseText,e):new Error(t.error);s.uppy.emit("upload-error",a,n),o(new Error(t.error))})})})})},a.prototype.uploadBundle=function(l){var u=this;return new Gt(function(i,r){var t=u.opts.endpoint,e=u.opts.method,n=new FormData;l.forEach(function(t){var e=u.getOptions(t);n.append(e.fieldName,t.data)});var o=new XMLHttpRequest,a=u.createProgressTimeout(u.opts.timeout,function(t){o.abort(),s(t),r(t)}),s=function(e){l.forEach(function(t){u.uppy.emit("upload-error",t,e)})};o.upload.addEventListener("loadstart",function(){u.uppy.log("[XHRUpload] started uploading bundle"),a.progress()}),o.upload.addEventListener("progress",function(e){a.progress(),e.lengthComputable&&l.forEach(function(t){u.uppy.emit("upload-progress",t,{uploader:u,bytesUploaded:e.loaded,bytesTotal:e.total})})}),o.addEventListener("load",function(t){if(a.done(),200<=t.target.status&&t.target.status<300){var e=u.opts.getResponseData(o.responseText,o);return l.forEach(function(t){u.uppy.emit("upload-success",t,e)}),i()}var n=u.opts.getResponseError(o.responseText,o)||new Error("Upload error");return n.request=o,s(n),r(n)}),o.addEventListener("error",function(){a.done();var t=u.opts.getResponseError(o.responseText,o)||new Error("Upload error");return s(t),r(t)}),u.uppy.on("cancel-all",function(){o.abort()}),o.open(e.toUpperCase(),t,!0),Object.keys(u.opts.headers).forEach(function(t){o.setRequestHeader(t,u.opts.headers[t])}),o.send(n),l.forEach(function(t){u.uppy.emit("upload-started",t)})})},a.prototype.uploadFiles=function(r){var o=this,t=r.map(function(t,e){var n=parseInt(e,10)+1,i=r.length;return t.error?function(){return Gt.reject(new Error(t.error))}:t.isRemote?(o.uppy.emit("upload-started",t),o.uploadRemote.bind(o,t,n,i)):(o.uppy.emit("upload-started",t),o.upload.bind(o,t,n,i))}).map(function(t){return o.limitUploads(t)()});return Jt(t)},a.prototype.handleUpload=function(t){var e=this;if(0===t.length)return this.uppy.log("[XHRUpload] No files to upload!"),Gt.resolve();this.uppy.log("[XHRUpload] Uploading...");var n=t.map(function(t){return e.uppy.getFile(t)});return this.opts.bundle?this.uploadBundle(n):this.uploadFiles(n).then(function(){return null})},a.prototype.install=function(){this.uppy.addUploader(this.handleUpload)},a.prototype.uninstall=function(){this.uppy.removeUploader(this.handleUpload)},a}(vt),te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ne="undefined"==typeof Promise?lt.Promise:Promise,ie=pt.limitPromises,re=function(o){function a(t,e){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));n.type="uploader",n.id="AwsS3",n.title="AWS S3";var i={strings:{preparingUpload:"Preparing upload..."}},r={timeout:3e4,limit:0,getUploadParameters:n.getUploadParameters.bind(n),locale:i};return n.opts=ee({},r,e),n.locale=ee({},i,n.opts.locale),n.locale.strings=ee({},i.strings,n.opts.locale.strings),n.translator=new Lt({locale:n.locale}),n.i18n=n.translator.translate.bind(n.translator),n.prepareUpload=n.prepareUpload.bind(n),"number"==typeof n.opts.limit&&0!==n.opts.limit?n.limitRequests=ie(n.opts.limit):n.limitRequests=function(t){return t},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.getUploadParameters=function(t){if(!this.opts.host)throw new Error("Expected a `host` option containing an uppy-server address.");var e=encodeURIComponent(t.name),n=encodeURIComponent(t.type);return fetch(this.opts.host+"/s3/params?filename="+e+"&type="+n,{method:"get",headers:{accept:"application/json"}}).then(function(t){return t.json()})},a.prototype.validateParameters=function(t,e){if("object"!==(void 0===e?"undefined":te(e))||!e||"string"!=typeof e.url||"object"!==te(e.fields)&&null!=e.fields||null!=e.method&&!/^(put|post)$/i.test(e.method)){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '"+t.name+"', expected an object '{ url, method, fields }'.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.");throw console.error(n),n}return e},a.prototype.prepareUpload=function(t){var p=this;t.forEach(function(t){var e=p.uppy.getFile(t);p.uppy.emit("preprocess-progress",e,{mode:"determinate",message:p.i18n("preparingUpload"),value:0})});var n=this.limitRequests(this.opts.getUploadParameters);return ne.all(t.map(function(t){var e=p.uppy.getFile(t);return ne.resolve().then(function(){return n(e)}).then(function(t){return p.validateParameters(e,t)}).then(function(t){return p.uppy.emit("preprocess-progress",e,{mode:"determinate",message:p.i18n("preparingUpload"),value:1}),t})["catch"](function(t){p.uppy.emit("upload-error",e,t)})})).then(function(d){var h={};t.forEach(function(t,e){var n=p.uppy.getFile(t);if(!n.error){var i=d[e],r=i.method,o=void 0===r?"post":r,a=i.url,s=i.fields,l=i.headers,u={method:o,formData:"post"===o.toLowerCase(),endpoint:a,metaFields:Object.keys(s)};l&&(u.headers=l);var c=ee({},n,{meta:ee({},n.meta,s),xhrUpload:u});h[t]=c}}),p.uppy.setState({files:ee({},p.uppy.getState().files,h)}),t.forEach(function(t){var e=p.uppy.getFile(t);p.uppy.emit("preprocess-complete",e)})})},a.prototype.install=function(){this.uppy.addPreProcessor(this.prepareUpload),this.uppy.use(Zt,{fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,limit:this.opts.limit,getResponseData:function(t,i){if(!g(i))return{location:i.responseURL};var e=function(){return""};return i.responseXML&&(e=function(t){var e=i.responseXML.querySelector(t);return e?e.textContent:""}),i.responseText&&(e=function(t){var e=i.responseText.indexOf("<"+t+">"),n=i.responseText.indexOf("</"+t+">");return-1!==e&&-1!==n?i.responseText.slice(e+t.length+2,n):""}),{location:Wt(i.responseURL,e("Location")),bucket:e("Bucket"),key:e("Key"),etag:e("ETag")}},getResponseError:function(t,e){if(g(e)){var n=e.responseXML.querySelector("Error > Message");return new Error(n.textContent)}}})},a.prototype.uninstall=function(){var t=this.uppy.getPlugin("XHRUpload");this.uppy.removePlugin(t),this.uppy.removePreProcessor(this.prepareUpload)},a}(vt),oe=function(i,r){return(r="number"==typeof r?r:1/0)?function i(t,n){return t.reduce(function(t,e){return Array.isArray(e)&&n<r?t.concat(i(e,n+1)):t.concat(e)},[])}(i,1):Array.isArray(i)?i.map(function(t){return t}):i},ae={};(function(l){ae=function(t,n){function i(t){function e(){n&&n(t,o),n=null}s?l.nextTick(e):e()}function r(t,e,n){o[t]=n,(0==--a||e)&&i(e)}var o,a,e,s=!0;(a=Array.isArray(t)?(o=[],t.length):(e=Object.keys(t),o={},e.length))?e?e.forEach(function(n){t[n](function(t,e){r(n,t,e)})}):t.forEach(function(t,n){t(function(t,e){r(n,t,e)})}):i(null),s=!1}}).call(this,tt);var se=function(r,o){function t(t){return o.onDragEnter&&o.onDragEnter(t),t.stopPropagation(),t.preventDefault(),!1}function e(t){if(t.stopPropagation(),t.preventDefault(),t.dataTransfer.items){var e=y(t.dataTransfer.items),n=e.filter(function(t){return"file"===t.kind}),i=e.filter(function(t){return"string"===t.kind});if(0===n.length&&!o.onDropText)return;if(0===i.length&&!o.onDrop)return;if(0===n.length&&0===i.length)return}return r.classList.add("drag"),clearTimeout(l),o.onDragOver&&o.onDragOver(t),!(t.dataTransfer.dropEffect="copy")}function n(t){return t.stopPropagation(),t.preventDefault(),o.onDragLeave&&o.onDragLeave(t),clearTimeout(l),l=setTimeout(a,50),!1}function i(t){t.stopPropagation(),t.preventDefault(),o.onDragLeave&&o.onDragLeave(t),clearTimeout(l),a();var n={x:t.clientX,y:t.clientY},e=t.dataTransfer.getData("text");if(e&&o.onDropText&&o.onDropText(e,n),t.dataTransfer.items){var i=y(t.dataTransfer.items).filter(function(t){return"file"===t.kind});if(0===i.length)return;ae(i.map(function(e){return function(t){!function(e,n){var i=[];if(e.isFile)e.file(function(t){t.fullPath=e.fullPath,n(null,t)},function(t){n(t)});else if(e.isDirectory){var t=e.createReader();!function e(){t.readEntries(function(t){0<t.length?(i=i.concat(y(t)),e()):ae(i.map(function(e){return function(t){!function(e,n){var i=[];if(e.isFile)e.file(function(t){t.fullPath=e.fullPath,n(null,t)},function(t){n(t)});else if(e.isDirectory){var t=e.createReader();!function e(){t.readEntries(function(t){0<t.length?(i=i.concat(y(t)),e()):ae(i.map(function(e){return function(t){v(e,t)}}),n)})}()}}(e,t)}}),n)})}()}}(e.webkitGetAsEntry(),t)}}),function(t,e){if(t)throw t;o.onDrop&&o.onDrop(oe(e),n)})}else{var r=y(t.dataTransfer.files);if(0===r.length)return;r.forEach(function(t){t.fullPath="/"+t.name}),o.onDrop&&o.onDrop(r,n)}return!1}function a(){r.classList.remove("drag")}if("string"==typeof r){var s=r;if(!(r=window.document.querySelector(r)))throw new Error('"'+s+'" does not match any HTML elements')}if(!r)throw new Error('"'+r+'" is not a valid HTML element');var l;return"function"==typeof o&&(o={onDrop:o}),r.addEventListener("dragenter",t,!1),r.addEventListener("dragover",e,!1),r.addEventListener("dragleave",n,!1),r.addEventListener("drop",i,!1),function(){a(),r.removeEventListener("dragenter",t,!1),r.removeEventListener("dragover",e,!1),r.removeEventListener("dragleave",n,!1),r.removeEventListener("drop",i,!1)}},le={exports:{}};!function(){"use strict";function o(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n))t.push(o.apply(null,n));else if("object"===i)for(var r in n)a.call(n,r)&&n[r]&&t.push(r)}}return t.join(" ")}var a={}.hasOwnProperty;le.exports?le.exports=o:window.classNames=o}(),le=le.exports;var ue=Z.h,ce=function(){return ue("svg",{"aria-hidden":"true","class":"UppyIcon",width:"30",height:"30",viewBox:"0 0 30 30"},ue("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))},de=function(){return ue("svg",{"aria-hidden":"true","class":"UppyIcon",width:"51",height:"51",viewBox:"0 0 51 51"},ue("path",{d:"M17.21 45.765a5.394 5.394 0 0 1-7.62 0l-4.12-4.122a5.393 5.393 0 0 1 0-7.618l6.774-6.775-2.404-2.404-6.775 6.776c-3.424 3.427-3.424 9 0 12.426l4.12 4.123a8.766 8.766 0 0 0 6.216 2.57c2.25 0 4.5-.858 6.214-2.57l13.55-13.552a8.72 8.72 0 0 0 2.575-6.213 8.73 8.73 0 0 0-2.575-6.213l-4.123-4.12-2.404 2.404 4.123 4.12a5.352 5.352 0 0 1 1.58 3.81c0 1.438-.562 2.79-1.58 3.808l-13.55 13.55z"}),ue("path",{d:"M44.256 2.858A8.728 8.728 0 0 0 38.043.283h-.002a8.73 8.73 0 0 0-6.212 2.574l-13.55 13.55a8.725 8.725 0 0 0-2.575 6.214 8.73 8.73 0 0 0 2.574 6.216l4.12 4.12 2.405-2.403-4.12-4.12a5.357 5.357 0 0 1-1.58-3.812c0-1.437.562-2.79 1.58-3.808l13.55-13.55a5.348 5.348 0 0 1 3.81-1.58c1.44 0 2.792.562 3.81 1.58l4.12 4.12c2.1 2.1 2.1 5.518 0 7.617L39.2 23.775l2.404 2.404 6.775-6.777c3.426-3.427 3.426-9 0-12.426l-4.12-4.12z"}))},he=function(){return ue("svg",{"class":"UppyIcon retry",width:"28",height:"31",viewBox:"0 0 16 19",xmlns:"http://www.w3.org/2000/svg"},ue("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),ue("path",{d:"M7.9 3H10v2H7.9z"}),ue("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),ue("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))},pe=function(){return ue("svg",{"aria-hidden":"true","class":"UppyIcon",width:"28",height:"28",viewBox:"0 0 28 28"},ue("path",{d:"M25.436 2.566a7.98 7.98 0 0 0-2.078-1.51C22.638.703 21.906.5 21.198.5a3 3 0 0 0-1.023.17 2.436 2.436 0 0 0-.893.562L2.292 18.217.5 27.5l9.28-1.796 16.99-16.99c.255-.254.444-.56.562-.888a3 3 0 0 0 .17-1.023c0-.708-.205-1.44-.555-2.16a8 8 0 0 0-1.51-2.077zM9.01 24.252l-4.313.834c0-.03.008-.06.012-.09.007-.944-.74-1.715-1.67-1.723-.04 0-.078.007-.118.01l.83-4.29L17.72 5.024l5.264 5.264L9.01 24.252zm16.84-16.96a.818.818 0 0 1-.194.31l-1.57 1.57-5.26-5.26 1.57-1.57a.82.82 0 0 1 .31-.194 1.45 1.45 0 0 1 .492-.074c.397 0 .917.126 1.468.397.55.27 1.13.678 1.656 1.21.53.53.94 1.11 1.208 1.655.272.55.397 1.07.393 1.468.004.193-.027.358-.074.488z"}))},fe=function(){return ue("svg",{"aria-hidden":"true","class":"UppyIcon",width:"27",height:"25",viewBox:"0 0 27 25"},ue("path",{d:"M5.586 9.288a.313.313 0 0 0 .282.176h4.84v3.922c0 1.514 1.25 2.24 2.792 2.24 1.54 0 2.79-.726 2.79-2.24V9.464h4.84c.122 0 .23-.068.284-.176a.304.304 0 0 0-.046-.324L13.735.106a.316.316 0 0 0-.472 0l-7.63 8.857a.302.302 0 0 0-.047.325z"}),ue("path",{d:"M24.3 5.093c-.218-.76-.54-1.187-1.208-1.187h-4.856l1.018 1.18h3.948l2.043 11.038h-7.193v2.728H9.114v-2.725h-7.36l2.66-11.04h3.33l1.018-1.18H3.907c-.668 0-1.06.46-1.21 1.186L0 16.456v7.062C0 24.338.676 25 1.51 25h23.98c.833 0 1.51-.663 1.51-1.482v-7.062L24.3 5.093z"}))},me=function(){return ue("svg",{"aria-hidden":"true","class":"UppyIcon",width:"62",height:"62",viewBox:"0 0 62 62",xmlns:"http://www.w3.org/2000/svg"},ue("path",{d:"M4.309 4.309h24.912v53.382h-6.525v3.559h16.608v-3.559h-6.525V4.309h24.912v10.676h3.559V.75H.75v14.235h3.559z","fill-rule":"nonzero",fill:"#000"}))},ge=function(){return ue("svg",{"aria-hidden":"true","class":"UppyIcon",width:"55",height:"55",viewBox:"0 0 55 55"},ue("path",{d:"M52.66.25c-.216-.19-.5-.276-.79-.242l-31 4.01a1 1 0 0 0-.87.992V40.622C18.174 38.428 15.273 37 12 37c-5.514 0-10 4.037-10 9s4.486 9 10 9 10-4.037 10-9c0-.232-.02-.46-.04-.687.014-.065.04-.124.04-.192V16.12l29-3.753v18.257C49.174 28.428 46.273 27 43 27c-5.514 0-10 4.037-10 9s4.486 9 10 9c5.464 0 9.913-3.966 9.993-8.867 0-.013.007-.024.007-.037V1a.998.998 0 0 0-.34-.75zM12 53c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zm31-10c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zM22 14.1V5.89l29-3.753v8.21l-29 3.754z"}))},ve=function(){return ue("svg",{"aria-hidden":"true","class":"UppyIcon",viewBox:"0 0 58 58"},ue("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),ue("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))},ye=function(){return ue("svg",{"aria-hidden":"true","class":"UppyIcon",viewBox:"0 0 342 335"},ue("path",{d:"M329.337 227.84c-2.1 1.3-8.1 2.1-11.9 2.1-12.4 0-27.6-5.7-49.1-14.9 8.3-.6 15.8-.9 22.6-.9 12.4 0 16 0 28.2 3.1 12.1 3 12.2 9.3 10.2 10.6zm-215.1 1.9c4.8-8.4 9.7-17.3 14.7-26.8 12.2-23.1 20-41.3 25.7-56.2 11.5 20.9 25.8 38.6 42.5 52.8 2.1 1.8 4.3 3.5 6.7 5.3-34.1 6.8-63.6 15-89.6 24.9zm39.8-218.9c6.8 0 10.7 17.06 11 33.16.3 16-3.4 27.2-8.1 35.6-3.9-12.4-5.7-31.8-5.7-44.5 0 0-.3-24.26 2.8-24.26zm-133.4 307.2c3.9-10.5 19.1-31.3 41.6-49.8 1.4-1.1 4.9-4.4 8.1-7.4-23.5 37.6-39.3 52.5-49.7 57.2zm315.2-112.3c-6.8-6.7-22-10.2-45-10.5-15.6-.2-34.3 1.2-54.1 3.9-8.8-5.1-17.9-10.6-25.1-17.3-19.2-18-35.2-42.9-45.2-70.3.6-2.6 1.2-4.8 1.7-7.1 0 0 10.8-61.5 7.9-82.3-.4-2.9-.6-3.7-1.4-5.9l-.9-2.5c-2.9-6.76-8.7-13.96-17.8-13.57l-5.3-.17h-.1c-10.1 0-18.4 5.17-20.5 12.84-6.6 24.3.2 60.5 12.5 107.4l-3.2 7.7c-8.8 21.4-19.8 43-29.5 62l-1.3 2.5c-10.2 20-19.5 37-27.9 51.4l-8.7 4.6c-.6.4-15.5 8.2-19 10.3-29.6 17.7-49.28 37.8-52.54 53.8-1.04 5-.26 11.5 5.01 14.6l8.4 4.2c3.63 1.8 7.53 2.7 11.43 2.7 21.1 0 45.6-26.2 79.3-85.1 39-12.7 83.4-23.3 122.3-29.1 29.6 16.7 66 28.3 89 28.3 4.1 0 7.6-.4 10.5-1.2 4.4-1.1 8.1-3.6 10.4-7.1 4.4-6.7 5.4-15.9 4.1-25.4-.3-2.8-2.6-6.3-5-8.7z"}))},be=function(t){var e={color:"#cbcbcb",icon:""};if(!t)return e;var n=t.split("/")[0],i=t.split("/")[1];return"text"===n?{color:"#cbcbcb",icon:me()}:"audio"===n?{color:"#1abc9c",icon:ge()}:"video"===n?{color:"#2980b9",icon:ve()}:"application"===n&&"pdf"===i?{color:"#e74c3c",icon:ye()}:"image"===n?{color:"#f2f2f2",icon:""}:e},we=Z.h,_e=function(t){var e=t.file;if(e.preview)return we("img",{"class":"uppy-DashboardItem-previewImg",alt:e.name,src:e.preview});var n=be(e.type),i=n.color,r=n.icon;return we("div",{"class":"uppy-DashboardItem-previewIconWrap"},we("span",{"class":"uppy-DashboardItem-previewIcon",style:{color:i}},r),we("svg",{"class":"uppy-DashboardItem-previewIconBg",width:"72",height:"93",viewBox:"0 0 72 93"},we("g",null,we("path",{d:"M24.08 5h38.922A2.997 2.997 0 0 1 66 8.003v74.994A2.997 2.997 0 0 1 63.004 86H8.996A2.998 2.998 0 0 1 6 83.01V22.234L24.08 5z",fill:"#FFF"}),we("path",{d:"M24 5L6 22.248h15.007A2.995 2.995 0 0 0 24 19.244V5z",fill:"#E4E4E4"}))))},xe=Z.h,ke=function(n){function i(t){!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return e.meta={},e.tempStoreMetaOrSubmit=e.tempStoreMetaOrSubmit.bind(e),e.renderMetaFields=e.renderMetaFields.bind(e),e.handleSave=e.handleSave.bind(e),e.handleCancel=e.handleCancel.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i.prototype.tempStoreMetaOrSubmit=function(t){var e=this.props.files[this.props.fileCardFor];if(13===t.keyCode)return t.stopPropagation(),t.preventDefault(),void this.props.saveFileCard(this.meta,e.id);var n=t.target.value,i=t.target.dataset.name;this.meta[i]=n},i.prototype.renderMetaFields=function(e){var n=this;return(this.props.metaFields||[]).map(function(t){return xe("fieldset",{"class":"uppy-DashboardFileCard-fieldset"},xe("label",{"class":"uppy-DashboardFileCard-label"},t.name),xe("input",{"class":"uppy-c-textInput uppy-DashboardFileCard-input",type:"text","data-name":t.id,value:e.meta[t.id],placeholder:t.placeholder,onkeyup:n.tempStoreMetaOrSubmit,onkeydown:n.tempStoreMetaOrSubmit,onkeypress:n.tempStoreMetaOrSubmit}))})},i.prototype.handleSave=function(){var t=this.props.fileCardFor;this.props.saveFileCard(this.meta,t)},i.prototype.handleCancel=function(){this.meta={},this.props.toggleFileCard()},i.prototype.render=function(){var t=this.props.files[this.props.fileCardFor];return xe("div",{"class":"uppy-DashboardFileCard","aria-hidden":!this.props.fileCardFor},this.props.fileCardFor&&xe("div",{style:"width: 100%; height: 100%;"},xe("div",{"class":"uppy-DashboardContent-bar"},xe("h2",{"class":"uppy-DashboardContent-title"},this.props.i18n("editing")," ",xe("span",{"class":"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)),xe("button",{"class":"uppy-DashboardContent-back",type:"button",title:this.props.i18n("finishEditingFile"),onclick:this.handleSave},this.props.i18n("done"))),xe("div",{"class":"uppy-DashboardFileCard-inner"},xe("div",{"class":"uppy-DashboardFileCard-preview",style:{backgroundColor:be(t.type).color}},xe(_e,{file:t})),xe("div",{"class":"uppy-DashboardFileCard-info"},this.renderMetaFields(t)),xe("div",{"class":"uppy-Dashboard-actions"},xe("button",{"class":"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-actionsBtn",type:"button",title:this.props.i18n("finishEditingFiles"),onclick:this.handleSave},"Save changes"),xe("button",{
"class":"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-actionsBtn",type:"button",title:this.props.i18n("finishEditingFiles"),onclick:this.handleCancel},"Cancel")))))},i}(Z.Component),Ce=Z.h,Se=function(n){function i(t){!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return e.handleClick=e.handleClick.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i.prototype.handleClick=function(){this.input.click()},i.prototype.render=function(){var e=this;return Ce("span",null,0===this.props.acquirers.length?this.props.i18n("dropPaste"):this.props.i18n("dropPasteImport")," ",Ce("button",{type:"button","class":"uppy-Dashboard-browse",onclick:this.handleClick},this.props.i18n("browse")),Ce("input",{"class":"uppy-Dashboard-input",hidden:"true","aria-hidden":"true",tabindex:"-1",type:"file",name:"files[]",multiple:"true",onchange:this.props.handleInputChange,value:"",ref:function(t){e.input=t}}))},i}(Z.Component),Te=Z.h,$e=2*Math.PI*15,Ee=function(t){return Te("svg",{width:"70",height:"70",viewBox:"0 0 36 36","class":"UppyIcon UppyIcon-progressCircle"},Te("g",{"class":"progress-group"},Te("circle",{r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none","class":"bg"}),Te("circle",{r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)","stroke-width":"2",fill:"none","class":"progress","stroke-dasharray":$e,"stroke-dashoffset":$e-$e/100*t.progress})),Te("polygon",{transform:"translate(3, 3)",points:"12 20 12 10 20 15","class":"play"}),Te("g",{transform:"translate(14.5, 13)","class":"pause"},Te("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),Te("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})),Te("polygon",{transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634","class":"check"}),Te("polygon",{"class":"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))},Ae=pt.getFileNameAndExtension,De=pt.truncateString,Me=pt.copyToClipboard,Pe=pe,Ie=de,Le=he,Oe=Z.h,Fe=Z.h,Ne=function(f){var t=0===f.totalFileCount,e=le("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":t});return Fe("ul",{"class":e},t&&Fe("div",{"class":"uppy-Dashboard-bgIcon"},Fe("div",{"class":"uppy-Dashboard-dropFilesTitle"},Fe(Se,{acquirers:f.acquirers,handleInputChange:f.handleInputChange,i18n:f.i18n})),f.note&&Fe("div",{"class":"uppy-Dashboard-note"},f.note)),Object.keys(f.files).map(function(t){return e={acquirers:f.acquirers,file:f.files[t],toggleFileCard:f.toggleFileCard,showProgressDetails:f.showProgressDetails,info:f.info,log:f.log,i18n:f.i18n,removeFile:f.removeFile,pauseUpload:f.pauseUpload,cancelUpload:f.cancelUpload,retryUpload:f.retryUpload,resumableUploads:f.resumableUploads,isWide:f.isWide,showLinkToFileUploadResult:f.showLinkToFileUploadResult,metaFields:f.metaFields},n=e.file,i=e.acquirers,r=n.progress.preprocess||n.progress.postprocess,o=n.progress.uploadComplete&&!r&&!n.error,a=n.progress.uploadStarted||r,s=n.progress.uploadStarted&&!n.progress.uploadComplete||r,l=n.isPaused||!1,u=n.error||!1,c=Ae(n.meta.name).name,d=e.isWide?De(c,14):c,h=le("uppy-DashboardItem",{"is-inprogress":s},{"is-processing":r},{"is-complete":o},{"is-paused":l},{"is-error":u},{"is-resumable":e.resumableUploads}),p=o?e.i18n("uploadComplete"):e.resumableUploads?n.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):u?e.i18n("retryUpload"):e.i18n("cancelUpload"),Oe("li",{"class":h,id:"uppy_"+n.id,title:n.meta.name},Oe("div",{"class":"uppy-DashboardItem-preview"},Oe("div",{"class":"uppy-DashboardItem-previewInnerWrap",style:{backgroundColor:be(n.type).color}},e.showLinkToFileUploadResult&&n.uploadURL?Oe("a",{"class":"uppy-DashboardItem-previewLink",href:n.uploadURL,target:"_blank"}):null,Oe(_e,{file:n})),Oe("div",{"class":"uppy-DashboardItem-progress"},o?Oe("div",{"class":"uppy-DashboardItem-progressIndicator"},Ee({progress:n.progress.percentage,fileID:n.id})):Oe("button",{"class":"uppy-DashboardItem-progressIndicator",type:"button","aria-label":p,title:p,onclick:function(){o||(u?e.retryUpload(n.id):e.resumableUploads?e.pauseUpload(n.id):e.cancelUpload(n.id))}},u?Le():Ee({progress:n.progress.percentage,fileID:n.id})))),Oe("div",{"class":"uppy-DashboardItem-info"},Oe("h4",{"class":"uppy-DashboardItem-name",title:c},n.uploadURL?Oe("a",{href:n.uploadURL,target:"_blank"},n.extension?d+"."+n.extension:d):n.extension?d+"."+n.extension:d),Oe("div",{"class":"uppy-DashboardItem-status"},n.data.size?Oe("div",{"class":"uppy-DashboardItem-statusSize"},Pt(n.data.size)):null,n.source&&Oe("div",{"class":"uppy-DashboardItem-sourceIcon"},i.map(function(t){if(t.id===n.source)return Oe("span",{title:e.i18n("fileSource")+": "+t.name},t.icon())}))),!a&&e.metaFields&&e.metaFields.length?Oe("button",{"class":"uppy-DashboardItem-edit",type:"button","aria-label":e.i18n("editFile"),title:e.i18n("editFile"),onclick:function(){return e.toggleFileCard(n.id)}},Pe()):null,n.uploadURL&&Oe("button",{"class":"uppy-DashboardItem-copyLink",type:"button","aria-label":e.i18n("copyLink"),title:e.i18n("copyLink"),onclick:function(){Me(n.uploadURL,e.i18n("copyLinkToClipboardFallback")).then(function(){e.log("Link copied to clipboard."),e.info(e.i18n("copyLinkToClipboardSuccess"),"info",3e3)})["catch"](e.log)}},Ie())),Oe("div",{"class":"uppy-DashboardItem-action"},!o&&Oe("button",{"class":"uppy-DashboardItem-remove",type:"button","aria-label":e.i18n("removeFile"),title:e.i18n("removeFile"),onclick:function(){return e.removeFile(n.id)}},Oe("svg",{"aria-hidden":"true","class":"UppyIcon",width:"60",height:"60",viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},Oe("path",{stroke:"#FFF","stroke-width":"1","fill-rule":"nonzero","vector-effect":"non-scaling-stroke",d:"M30 1C14 1 1 14 1 30s13 29 29 29 29-13 29-29S46 1 30 1z"}),Oe("path",{fill:"#FFF","vector-effect":"non-scaling-stroke",d:"M42 39.667L39.667 42 30 32.333 20.333 42 18 39.667 27.667 30 18 20.333 20.333 18 30 27.667 39.667 18 42 20.333 32.333 30z"})))));var e,n,i,r,o,a,s,l,u,c,d,h,p}))},Re=fe,je=Z.h,ze=function(n){function i(t){!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return e.handleClick=e.handleClick.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i.prototype.handleClick=function(){this.input.click()},i.prototype.render=function(){var e=this,t=0===Object.keys(this.props.files).length;return 0!==this.props.acquirers.length?je("div",{"class":"uppy-DashboardTabs"},je("ul",{"class":"uppy-DashboardTabs-list",role:"tablist"},je("li",{"class":"uppy-DashboardTab",role:"presentation"},je("button",{type:"button","class":"uppy-DashboardTab-btn",role:"tab",tabindex:"0",onclick:this.handleClick},Re(),je("div",{"class":"uppy-DashboardTab-name"},this.props.i18n("myDevice"))),je("input",{"class":"uppy-Dashboard-input",hidden:"true","aria-hidden":"true",tabindex:"-1",type:"file",name:"files[]",multiple:"true",onchange:this.props.handleInputChange,value:"",ref:function(t){e.input=t}})),this.props.acquirers.map(function(t){return je("li",{"class":"uppy-DashboardTab",role:"presentation"},je("button",{"class":"uppy-DashboardTab-btn",type:"button",role:"tab",tabindex:"0","aria-controls":"uppy-DashboardContent-panel--"+t.id,"aria-selected":e.props.activePanel.id===t.id,onclick:function(){return e.props.showPanel(t.id)}},t.icon(),je("h5",{"class":"uppy-DashboardTab-name"},t.name)))}))):je("div",{"class":"uppy-DashboardTabs","aria-hidden":t},je("div",{"class":"uppy-DashboardTabs-title"},je(Se,{acquirers:this.props.acquirers,handleInputChange:this.props.handleInputChange,i18n:this.props.i18n})))},i}(Z.Component),qe=pt.isTouchDevice,Be=Z.h,Ue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},He=Z.h,We=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.type="progressindicator",n.id=n.opts.id||"Informer",n.title="Informer",n.opts=Ue({},{typeColors:{info:{text:"#fff",bg:"#000"},warning:{text:"#fff",bg:"#F6A623"},error:{text:"#fff",bg:"#D32F2F"},success:{text:"#fff",bg:"#1BB240"}}},e),n.render=n.render.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.render=function(t){var e=t.info,n=e.isHidden,i=e.type,r=e.message,o=e.details,a={backgroundColor:this.opts.typeColors[i].bg,color:this.opts.typeColors[i].text};return He("div",{"class":"uppy uppy-Informer",style:a,"aria-hidden":n},He("p",{role:"alert"},r," ",o&&He("span",{style:{color:this.opts.typeColors[i].bg},"aria-label":o,"data-microtip-position":"top","data-microtip-size":"large",role:"tooltip"},"?")))},r.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},r}(vt),Ve="error",Ye="waiting",Ge="preprocessing",Ke="uploading",Xe="postprocessing",Je="complete",Qe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ze=Z.h,tn=function(t){var e=le("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":t.uploadState===Ye});return Ze("button",{type:"button","class":e,"aria-label":t.i18n("uploadXFiles",{smart_count:t.newFiles}),onclick:t.startUpload},t.newFiles&&t.uploadStarted?t.i18n("uploadXNewFiles",{smart_count:t.newFiles}):t.i18n("uploadXFiles",{smart_count:t.newFiles}))},en=function(t){return Ze("button",{type:"button","class":"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t.i18n("retryUpload"),onclick:t.retryAll},t.i18n("retry"))},nn=function(t){return Ze("button",{type:"button","class":"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--cancel","aria-label":t.i18n("cancel"),onclick:t.cancelAll},"Cancel",t.i18n("cancel"))},rn=function(t){var e=t.resumableUploads,n=t.isAllPaused,i=(0,t.i18n)(e?n?"resumeUpload":"pauseUpload":"cancelUpload");return Ze("button",{title:i,"class":"uppy-u-reset uppy-StatusBar-statusIndicator",type:"button",onclick:function(){return function(t){if(!t.isAllComplete)return t.resumableUploads?t.isAllPaused?t.resumeAll():t.pauseAll():t.cancelAll()}(t)}},e?n?Ze("svg",{"aria-hidden":"true","class":"UppyIcon",width:"15",height:"17",viewBox:"0 0 11 13"},Ze("path",{d:"M1.26 12.534a.67.67 0 0 1-.674.012.67.67 0 0 1-.336-.583v-11C.25.724.38.5.586.382a.658.658 0 0 1 .673.012l9.165 5.5a.66.66 0 0 1 .325.57.66.66 0 0 1-.325.573l-9.166 5.5z"})):Ze("svg",{"aria-hidden":"true","class":"UppyIcon",width:"16",height:"17",viewBox:"0 0 12 13"},Ze("path",{d:"M4.888.81v11.38c0 .446-.324.81-.722.81H2.722C2.324 13 2 12.636 2 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81zM9.888.81v11.38c0 .446-.324.81-.722.81H7.722C7.324 13 7 12.636 7 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81z"})):Ze("svg",{"aria-hidden":"true","class":"UppyIcon",width:"16px",height:"16px",viewBox:"0 0 19 19"},Ze("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"})))},on=function(t){var e=Math.round(100*t.value);return Ze("div",{"class":"uppy-StatusBar-content"},"determinate"===t.mode?e+"%\u30fb":"",t.message)},an=ut(function(t){return Ze("span",{"class":"uppy-StatusBar-statusSecondary"},1<t.inProgress&&t.i18n("filesUploadedOfTotal",{complete:t.complete,smart_count:t.inProgress})+"\u30fb",t.i18n("dataUploadedOfTotal",{complete:t.totalUploadedSize,total:t.totalSize}),"\u30fb",t.i18n("xTimeLeft",{time:t.totalETA}))},500,{leading:!0,trailing:!0}),sn=function(t){return!t.isUploadStarted||t.isAllComplete?null:Ze("div",{"class":"uppy-StatusBar-content",title:t.isAllPaused?t.i18n("paused"):t.i18n("uploading")},Ze(rn,t),Ze("div",{"class":"uppy-StatusBar-status"},Ze("span",{"class":"uppy-StatusBar-statusPrimary"},t.isAllPaused?t.i18n("paused"):t.i18n("uploading"),": ",t.totalProgress,"%"),Ze("br",null),!t.isAllPaused&&Ze(an,t)))},ln=function(t){t.totalProgress;var e=t.i18n;return Ze("div",{"class":"uppy-StatusBar-content",role:"status",title:e("complete")},Ze("svg",{"aria-hidden":"true","class":"uppy-StatusBar-statusIndicator UppyIcon",width:"18",height:"17",viewBox:"0 0 23 17"},Ze("path",{d:"M8.944 17L0 7.865l2.555-2.61 6.39 6.525L20.41 0 23 2.645z"})),e("complete"))},un=function(t){var e=t.error,n=(t.retryAll,t.i18n);return Ze("div",{"class":"uppy-StatusBar-content",role:"alert"},Ze("strong",null,n("uploadFailed"),"."),Ze("span",null,n("pleasePressRetry")),Ze("span",{"class":"uppy-StatusBar-details","aria-label":e,"data-microtip-position":"top","data-microtip-size":"large",role:"tooltip"},"?"))},cn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dn=pt.getSpeed,hn=pt.getBytesRemaining,pn=pt.prettyETA,fn=function(o){function a(t,e){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));n.id=n.opts.id||"StatusBar",n.title="StatusBar";var i={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",pleasePressRetry:"Please press Retry to upload again",paused:"Paused",error:"Error",retry:"Retry",pressToRetry:"Press to retry",retryUpload:"Retry upload",resumeUpload:"Resume upload",cancelUpload:"Cancel upload",pauseUpload:"Pause upload",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"}}},r={target:"body",hideUploadButton:!(n.type="progressindicator"),showProgressDetails:!1,locale:i,hideAfterFinish:!0};return n.opts=cn({},r,e),n.locale=cn({},i,n.opts.locale),n.locale.strings=cn({},i.strings,n.opts.locale.strings),n.translator=new Lt({locale:n.locale}),n.i18n=n.translator.translate.bind(n.translator),n.startUpload=n.startUpload.bind(n),n.render=n.render.bind(n),n.install=n.install.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.getTotalSpeed=function(t){var e=0;return t.forEach(function(t){e+=dn(t.progress)}),e},a.prototype.getTotalETA=function(t){var e=this.getTotalSpeed(t);if(0===e)return 0;var n=t.reduce(function(t,e){return t+hn(e.progress)},0);return Math.round(n/e*10)/10},a.prototype.startUpload=function(){var e=this;return this.uppy.upload()["catch"](function(t){e.uppy.log(t.stack||t.message||t)})},a.prototype.getUploadingState=function(t,e,n){if(t)return Ve;if(e)return Je;for(var i=Ye,r=Object.keys(n),o=0;o<r.length;o++){var a=n[r[o]].progress;if(a.uploadStarted&&!a.uploadComplete)return Ke;a.preprocess&&i!==Ke&&(i=Ge),a.postprocess&&i!==Ke&&i!==Ge&&(i=Xe)}return i},a.prototype.render=function(t){var e=t.files,n=Object.keys(e).filter(function(t){return e[t].progress.uploadStarted}),i=Object.keys(e).filter(function(t){return!e[t].progress.uploadStarted&&!e[t].progress.preprocess&&!e[t].progress.postprocess}),r=Object.keys(e).filter(function(t){return e[t].progress.uploadComplete}),o=Object.keys(e).filter(function(t){return e[t].error}),a=Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted&&!e[t].isPaused}),s=Object.keys(e).filter(function(t){return e[t].progress.preprocess||e[t].progress.postprocess}),l=a.map(function(t){return e[t]}),u=Pt(this.getTotalSpeed(l)),c=pn(this.getTotalETA(l)),d=0,h=0;l.forEach(function(t){d+=t.progress.bytesTotal||0,h+=t.progress.bytesUploaded||0}),d=Pt(d),h=Pt(h);var p=0<n.length,f=100===t.totalProgress&&r.length===Object.keys(e).length&&0===s.length,m=p&&o.length===n.length,g=0===a.length&&!f&&!m&&0<n.length,v=t.capabilities.resumableUploads||!1;return function(t){var e=(t=t||{}).uploadState,n=t.totalProgress,i=void 0,r=void 0;if(e===Ge||e===Xe){var o=function(n){var i=[];Object.keys(n).forEach(function(t){var e=n[t].progress;e.preprocess&&i.push(e.preprocess),e.postprocess&&i.push(e.postprocess)});var t=i[0];return{mode:t.mode,message:t.message,value:i.filter(function(t){return"determinate"===t.mode}).reduce(function(t,e,n,i){return t+e.value/i.length},0)}}(t.files);"determinate"===(i=o.mode)&&(n=100*o.value),r=on(o)}else e===Je?r=ln(t):e===Ke?r=sn(t):e===Ve&&(n=void 0,r=un(t));var a="number"==typeof n?n:100,s=e===Ye&&t.hideUploadButton||e===Ye&&0<!t.newFiles||e===Je&&t.hideAfterFinish,l="uppy-StatusBar-progress\n                           "+(i?"is-"+i:""),u=le("uppy","uppy-StatusBar","is-"+e,{"uppy-StatusBar--detailedProgress":t.showProgressDetails});return Ze("div",{"class":u,"aria-hidden":s},Ze("div",{"class":l,style:{width:a+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n}),r,Ze("div",{"class":"uppy-StatusBar-actions"},t.newFiles&&!t.hideUploadButton?Ze(tn,Qe({},t,{uploadState:e})):null,t.error?Ze(en,t):null,e!==Ye&&e!==Je?Ze(nn,t):null))}({error:t.error,uploadState:this.getUploadingState(m,f,t.files||{}),totalProgress:t.totalProgress,totalSize:d,totalUploadedSize:h,uploadStarted:n.length,isAllComplete:f,isAllPaused:g,isAllErrored:m,isUploadStarted:p,complete:r.length,newFiles:i.length,inProgress:a.length,totalSpeed:u,totalETA:c,files:t.files,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,resumableUploads:v,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideAfterFinish:this.opts.hideAfterFinish})},a.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},a.prototype.uninstall=function(){this.unmount()},a}(vt),mn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gn="undefined"==typeof Promise?lt.Promise:Promise,vn=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.type="thumbnail",n.id="ThumbnailGenerator",n.title="Thumbnail Generator",n.queue=[],n.queueProcessing=!1,n.opts=mn({},{thumbnailWidth:200},e),n.addToQueue=n.addToQueue.bind(n),n.onRestored=n.onRestored.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.createThumbnail=function(t,i){var r=this,o=URL.createObjectURL(t.data);return new gn(function(t,e){var n=new Image;n.src=o,n.onload=function(){URL.revokeObjectURL(o),t(n)},n.onerror=function(){URL.revokeObjectURL(o),e(new Error("Could not create thumbnail"))}}).then(function(t){var e=r.getProportionalHeight(t,i),n=r.resizeImage(t,i,e);return r.canvasToBlob(n,"image/png")}).then(function(t){return URL.createObjectURL(t)})},r.prototype.protect=function(t){var e=t.width/t.height,n=Math.floor(Math.sqrt(5e6*e)),i=Math.floor(5e6/Math.sqrt(5e6*e));if(4096<n&&(n=4096,i=Math.round(n/e)),4096<i&&(i=4096,n=Math.round(e*i)),t.width>n){var r=document.createElement("canvas");r.width=n,r.height=i,r.getContext("2d").drawImage(t,0,0,n,i),t.src="about:blank",t.width=1,t.height=1,t=r}return t},r.prototype.resizeImage=function(t,e,n){t=this.protect(t);var i=Math.ceil(Math.log2(t.width/e));i<1&&(i=1);for(var r=e*Math.pow(2,i-1),o=n*Math.pow(2,i-1);i--;){var a=document.createElement("canvas");a.width=r,a.height=o,a.getContext("2d").drawImage(t,0,0,r,o),t=a,r=Math.round(r/2),o=Math.round(o/2)}return t},r.prototype.canvasToBlob=function(e,n,i){return e.toBlob?new gn(function(t){e.toBlob(t,n,i)}):gn.resolve().then(function(){return pt.dataURItoBlob(e.toDataURL(n,i),{})})},r.prototype.getProportionalHeight=function(t,e){var n=t.width/t.height;return Math.round(e/n)},r.prototype.setPreviewURL=function(t,e){var n,i=this.uppy.state.files;this.uppy.setState({files:mn({},i,(n={},n[t]=mn({},i[t],{preview:e}),n))})},r.prototype.addToQueue=function(t){this.queue.push(t),!1===this.queueProcessing&&this.processQueue()},r.prototype.processQueue=function(){var t=this;if(this.queueProcessing=!0,0<this.queue.length){var e=this.queue.shift();return this.requestThumbnail(e)["catch"](function(){}).then(function(){return t.processQueue()})}this.queueProcessing=!1},r.prototype.requestThumbnail=function(e){var n=this;return pt.isPreviewSupported(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth).then(function(t){n.setPreviewURL(e.id,t)})["catch"](function(t){console.warn(t.stack||t.message)}):gn.resolve()},r.prototype.onRestored=function(){var n=this;Object.keys(this.uppy.getState().files).forEach(function(t){var e=n.uppy.getFile(t);e.isRestored&&(e.preview&&!/^blob:/.test(e.preview)||n.addToQueue(e))})},r.prototype.install=function(){this.uppy.on("file-added",this.addToQueue),this.uppy.on("restored",this.onRestored)},r.prototype.uninstall=function(){this.uppy.off("file-added",this.addToQueue),this.uppy.off("restored",this.onRestored)},r}(vt),yn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bn=pt.findAllDOMElements,wn=pt.toArray,_n=ce,xn=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],kn=function(o){function a(t,e){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));n.id=n.opts.id||"Dashboard",n.title="Dashboard";var i={strings:{selectToUpload:"Select files to upload",closeModal:"Close Modal",upload:"Upload",importFrom:"Import from",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",fileSource:"File source",done:"Done",name:"Name",removeFile:"Remove file",editFile:"Edit file",editing:"Editing",finishEditingFile:"Finish editing file",localDisk:"Local Disk",myDevice:"My Device",dropPasteImport:"Drop files here, paste, import from one of the locations above or",dropPaste:"Drop files here, paste or",browse:"browse",fileProgress:"File progress: upload speed and ETA",numberOfSelectedFiles:"Number of selected files",uploadAllNewFiles:"Upload all new files",emptyFolderAdded:"No files were added from empty folder",uploadComplete:"Upload complete",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},r={target:"body",metaFields:[],trigger:"#uppy-select-files",inline:!(n.type="orchestrator"),width:750,height:550,thumbnailWidth:280,defaultTabIcon:_n,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return n.closeModal()},locale:i};return n.opts=yn({},r,e),n.locale=yn({},i,n.opts.locale),n.locale.strings=yn({},i.strings,n.opts.locale.strings),n.translator=new Lt({locale:n.locale}),n.i18n=n.translator.translate.bind(n.translator),n.openModal=n.openModal.bind(n),n.closeModal=n.closeModal.bind(n),n.requestCloseModal=n.requestCloseModal.bind(n),n.isModalOpen=n.isModalOpen.bind(n),n.addTarget=n.addTarget.bind(n),n.hideAllPanels=n.hideAllPanels.bind(n),n.showPanel=n.showPanel.bind(n),n.getFocusableNodes=n.getFocusableNodes.bind(n),n.setFocusToFirstNode=n.setFocusToFirstNode.bind(n),n.maintainFocus=n.maintainFocus.bind(n),n.initEvents=n.initEvents.bind(n),n.onKeydown=n.onKeydown.bind(n),n.handleClickOutside=n.handleClickOutside.bind(n),n.toggleFileCard=n.toggleFileCard.bind(n),n.handleDrop=n.handleDrop.bind(n),n.handlePaste=n.handlePaste.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.updateDashboardElWidth=n.updateDashboardElWidth.bind(n),n.render=n.render.bind(n),n.install=n.install.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.addTarget=function(t){var e=t.id||t.constructor.name,n=t.title||e,i=t.type;if("acquirer"===i||"progressindicator"===i||"presenter"===i){var r={id:e,name:n,type:i},o=this.getPluginState().targets.slice();return o.push(r),this.setPluginState({targets:o}),this.el}this.uppy.log("Dashboard: Modal can only be used by plugins of types: acquirer, progressindicator, presenter")},a.prototype.hideAllPanels=function(){this.setPluginState({activePanel:!1})},a.prototype.showPanel=function(e){var t=this.getPluginState().targets.filter(function(t){return"acquirer"===t.type&&t.id===e})[0];this.setPluginState({activePanel:t})},a.prototype.requestCloseModal=function(){if(this.opts.onRequestCloseModal)return this.opts.onRequestCloseModal();this.closeModal()},a.prototype.getFocusableNodes=function(){var e=this.el.querySelectorAll(xn);return Object.keys(e).map(function(t){return e[t]})},a.prototype.setFocusToFirstNode=function(){var t=this.getFocusableNodes();t.length&&t[0].focus()},a.prototype.setFocusToBrowse=function(){var t=this.el.querySelector(".uppy-Dashboard-browse");t&&t.focus()},a.prototype.maintainFocus=function(t){var e=this.getFocusableNodes(),n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),t.shiftKey||n!==e.length-1||(e[0].focus(),t.preventDefault())},a.prototype.openModal=function(){this.setPluginState({isHidden:!1}),this.savedScrollPosition=window.scrollY,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isOpen"),this.updateDashboardElWidth(),this.setFocusToBrowse()},a.prototype.closeModal=function(){this.setPluginState({isHidden:!0}),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isOpen"),this.savedActiveElement.focus()},a.prototype.isModalOpen=function(){return!this.getPluginState().isHidden||!1},a.prototype.onKeydown=function(t){27===t.keyCode&&this.requestCloseModal(t),9===t.keyCode&&this.maintainFocus(t)},a.prototype.handleClickOutside=function(){this.opts.closeModalOnClickOutside&&this.requestCloseModal()},a.prototype.handlePaste=function(t){var n=this;wn(t.clipboardData.items).forEach(function(t){if("file"===t.kind){var e=t.getAsFile();if(!e)return n.uppy.log("[Dashboard] File pasted, but the file blob is empty"),void n.uppy.info("Error pasting file","error");n.uppy.log("[Dashboard] File pasted"),n.uppy.addFile({source:n.id,name:t.name,type:t.type,data:e})}})},a.prototype.handleInputChange=function(t){var e=this;t.preventDefault(),wn(t.target.files).forEach(function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})})},a.prototype.initEvents=function(){var e=this,t=bn(this.opts.trigger);!this.opts.inline&&t&&t.forEach(function(t){return t.addEventListener("click",e.openModal)}),this.opts.inline||t||this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options unless you are planning to call openModal() method yourself"),this.opts.inline||document.addEventListener("keydown",this.onKeydown),this.removeDragDropListener=se(this.el,function(t){e.handleDrop(t)}),this.updateDashboardElWidth(),window.addEventListener("resize",this.updateDashboardElWidth)},a.prototype.removeEvents=function(){var e=this,t=bn(this.opts.trigger);!this.opts.inline&&t&&t.forEach(function(t){return t.removeEventListener("click",e.openModal)}),this.opts.inline||document.removeEventListener("keydown",this.onKeydown),this.removeDragDropListener(),window.removeEventListener("resize",this.updateDashboardElWidth)},a.prototype.updateDashboardElWidth=function(){var t=this.el.querySelector(".uppy-Dashboard-inner");this.uppy.log("Dashboard width: "+t.offsetWidth),this.setPluginState({containerWidth:t.offsetWidth})},a.prototype.toggleFileCard=function(t){this.setPluginState({fileCardFor:t||!1})},a.prototype.handleDrop=function(t){var e=this;this.uppy.log("[Dashboard] Files were dropped"),t.forEach(function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})})},a.prototype.render=function(t){var i=this,e=this.getPluginState(),n=t.files,r=Object.keys(n).filter(function(t){return!n[t].progress.uploadStarted}),o=[];Object.keys(n).filter(function(t){return!n[t].progress.uploadComplete&&n[t].progress.uploadStarted&&!n[t].isPaused}).forEach(function(t){o.push(n[t])});var a=0,s=0;o.forEach(function(t){a+=t.progress.bytesTotal||0,s+=t.progress.bytesUploaded||0}),a=Pt(a),s=Pt(s);var l,u,c,d=function(t){var e=i.uppy.getPlugin(t.id);return yn({},t,{icon:e.icon||i.opts.defaultTabIcon,render:e.render})},h=e.targets.filter(function(t){return"acquirer"===t.type&&(e=t,"function"!=typeof(n=i.uppy.getPlugin(e.id)).isSupported||n.isSupported());var e,n}).map(d),p=e.targets.filter(function(t){return"progressindicator"===t.type}).map(d);return l={state:t,modal:e,newFiles:r,files:n,totalFileCount:Object.keys(n).length,totalProgress:t.totalProgress,acquirers:h,activePanel:e.activePanel,
getPlugin:this.uppy.getPlugin,progressindicators:p,autoProceed:this.uppy.opts.autoProceed,hideUploadButton:this.opts.hideUploadButton,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,log:this.uppy.log,i18n:this.i18n,addFile:this.uppy.addFile,removeFile:this.uppy.removeFile,info:this.uppy.info,note:this.opts.note,metaFields:e.metaFields,resumableUploads:this.uppy.state.capabilities.resumableUploads||!1,startUpload:function(){i.uppy.upload()["catch"](function(t){i.uppy.log(t.stack||t.message||t)})},pauseUpload:this.uppy.pauseResume,retryUpload:this.uppy.retryUpload,cancelUpload:function(t){i.uppy.emit("upload-cancel",t),i.uppy.removeFile(t)},fileCardFor:e.fileCardFor,toggleFileCard:this.toggleFileCard,saveFileCard:function(t,e){i.uppy.setFileMeta(e,t),i.toggleFileCard()},updateDashboardElWidth:this.updateDashboardElWidth,maxWidth:this.opts.maxWidth,maxHeight:this.opts.maxHeight,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,currentWidth:e.containerWidth,isWide:400<e.containerWidth,isTargetDOMEl:this.isTargetDOMEl},u=le({"uppy-Root":l.isTargetDOMEl},"uppy-Dashboard",{"Uppy--isTouchDevice":qe()},{"uppy-Dashboard--modal":!l.inline},{"uppy-Dashboard--wide":l.isWide}),Be("div",{"class":u,"aria-hidden":l.inline?"false":l.modal.isHidden,"aria-label":l.inline?l.i18n("dashboardTitle"):l.i18n("dashboardWindowTitle"),onpaste:l.handlePaste},Be("div",{"class":"uppy-Dashboard-overlay",tabindex:"-1",onclick:l.handleClickOutside}),Be("div",{"class":"uppy-Dashboard-inner","aria-modal":!l.inline&&"true",role:!l.inline&&"dialog",style:{maxWidth:l.inline&&l.maxWidth?l.maxWidth:"",maxHeight:l.inline&&l.maxHeight?l.maxHeight:""}},Be("button",{"class":"uppy-Dashboard-close",type:"button","aria-label":l.i18n("closeModal"),title:l.i18n("closeModal"),onclick:l.closeModal},Be("span",{"aria-hidden":"true"},"\xd7")),Be("div",{"class":"uppy-Dashboard-innerWrap"},Be(ze,l),Be(ke,l),Be("div",{"class":"uppy-Dashboard-filesContainer"},Be(Ne,l)),Be("div",{"class":"uppy-DashboardContent-panel",role:"tabpanel",id:l.activePanel&&"uppy-DashboardContent-panel--"+l.activePanel.id,"aria-hidden":l.activePanel?"false":"true"},l.activePanel&&Be("div",{style:{width:"100%",height:"100%"}},Be("div",{"class":"uppy-DashboardContent-bar"},Be("div",{"class":"uppy-DashboardContent-title"},(c=l).i18n("importFrom")," ",c.activePanel?c.activePanel.name:null),Be("button",{"class":"uppy-DashboardContent-back",type:"button",onclick:c.hideAllPanels},c.i18n("done"))),c.getPlugin(c.activePanel.id).render(c.state))),Be("div",{"class":"uppy-Dashboard-progressindicators"},l.progressindicators.map(function(t){return l.getPlugin(t.id).render(l.state)}))),l.proudlyDisplayPoweredByUppy&&Be("a",{href:"https://uppy.io",target:"_blank","class":"uppy-Dashboard-poweredBy"},"Powered by ",Be("svg",{"aria-hidden":"true","class":"uppy-Dashboard-poweredByIcon",width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},Be("path",{"fill-rule":"nonzero",d:"M8.57 7.554v4.149H3.424V7.554H0L6 0l6 7.554H8.57z"})),Be("span",{"class":"uppy-Dashboard-poweredByUppy"},"Uppy"))))},a.prototype.discoverProviderPlugins=function(){var e=this;this.uppy.iteratePlugins(function(t){t&&!t.target&&t.opts&&t.opts.target===e.constructor&&e.addTarget(t)})},a.prototype.install=function(){var n=this;this.setPluginState({isHidden:!0,showFileCard:!1,activePanel:!1,metaFields:this.opts.metaFields,targets:[]});var t=this.opts.target;t&&this.mount(t,this),(this.opts.plugins||[]).forEach(function(t){var e=n.uppy.getPlugin(t);e&&e.mount(n,e)}),this.opts.disableStatusBar||this.uppy.use(fn,{target:this,hideUploadButton:this.opts.hideUploadButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale}),this.opts.disableInformer||this.uppy.use(We,{target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(vn,{thumbnailWidth:this.opts.thumbnailWidth}),this.discoverProviderPlugins(),this.initEvents()},a.prototype.uninstall=function(){var n=this;if(!this.opts.disableInformer){var t=this.uppy.getPlugin("Informer");t&&this.uppy.removePlugin(t)}if(!this.opts.disableStatusBar){var e=this.uppy.getPlugin("StatusBar");e&&this.uppy.removePlugin(e)}if(!this.opts.disableThumbnailGenerator){var i=this.uppy.getPlugin("ThumbnailGenerator");i&&this.uppy.removePlugin(i)}(this.opts.plugins||[]).forEach(function(t){var e=n.uppy.getPlugin(t);e&&e.unmount()}),this.unmount(),this.removeEvents()},a}(vt),Cn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sn=pt.toArray,Tn=Z.h,$n=function(o){function a(t,e){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));n.type="acquirer",n.id=n.opts.id||"DragDrop",n.title="Drag & Drop";var i={strings:{dropHereOr:"Drop files here or",browse:"browse"}},r={target:null,width:"100%",height:"100%",note:"",locale:i};return n.opts=Cn({},r,e),n.isDragDropSupported=n.checkDragDropSupport(),n.locale=Cn({},i,n.opts.locale),n.locale.strings=Cn({},i.strings,n.opts.locale.strings),n.translator=new Lt({locale:n.locale}),n.i18n=n.translator.translate.bind(n.translator),n.handleDrop=n.handleDrop.bind(n),n.handleBrowseClick=n.handleBrowseClick.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.checkDragDropSupport=n.checkDragDropSupport.bind(n),n.render=n.render.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.checkDragDropSupport=function(){var t=document.createElement("div");return"draggable"in t&&"ondragstart"in t&&"ondrop"in t&&"FormData"in window&&"FileReader"in window},a.prototype.handleDrop=function(t){var e=this;this.uppy.log("[DragDrop] Files dropped"),t.forEach(function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})})},a.prototype.handleInputChange=function(t){var e=this;this.uppy.log("[DragDrop] Files selected through input"),Sn(t.target.files).forEach(function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})})},a.prototype.handleBrowseClick=function(t){t.stopPropagation(),this.input.click()},a.prototype.render=function(){var e=this,t="uppy uppy-DragDrop-container "+(this.isDragDropSupported?"is-dragdrop-supported":""),n={width:this.opts.width,height:this.opts.height};return Tn("div",{"class":t,style:n},Tn("div",{"class":"uppy-DragDrop-inner"},Tn("svg",{"aria-hidden":"true","class":"UppyIcon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},Tn("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0","fill-rule":"evenodd"})),Tn("input",{"class":"uppy-DragDrop-input",type:"file",name:"files[]",multiple:"true",ref:function(t){e.input=t},onchange:this.handleInputChange}),Tn("label",{"class":"uppy-DragDrop-label",onclick:this.handleBrowseClick},this.i18n("dropHereOr")," ",Tn("span",{"class":"uppy-DragDrop-dragText"},this.i18n("browse"))),Tn("span",{"class":"uppy-DragDrop-note"},this.opts.note)))},a.prototype.install=function(){var e=this,t=this.opts.target;t&&this.mount(t,this),this.removeDragDropListener=se(this.el,function(t){e.handleDrop(t),e.uppy.log(t)})},a.prototype.uninstall=function(){this.unmount(),this.removeDragDropListener()},a}(vt),En=Z.h,An={folder:function(){return En("svg",{"aria-hidden":"true","class":"UppyIcon",style:"width:16px;margin-right:3px",viewBox:"0 0 276.157 276.157"},En("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))},file:function(){return En("svg",{"aria-hidden":"true","class":"UppyIcon",width:"11",height:"14.5",viewBox:"0 0 44 58"},En("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}};!function(t){"use strict";function i(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return p.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function e(t){var e=new FileReader,n=l(e);return e.readAsArrayBuffer(t),n}function n(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(p.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(p.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(p.arrayBuffer&&p.blob&&m(t))this._bodyArrayBuffer=n(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!g(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=n(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(e)}),this.text=function(){var t,e,n,i=s(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,n=l(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t,e){var n,i,r=(e=e||{}).body;if(t instanceof c){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new a(e.headers)),this.method=(i=(n=e.method||this.method||"GET").toUpperCase(),-1<v.indexOf(i)?i:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function d(t){var r=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),n=e.shift().replace(/\+/g," "),i=e.join("=").replace(/\+/g," ");r.append(decodeURIComponent(n),decodeURIComponent(i))}}),r}function h(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new a(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var p={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(p.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},g=ArrayBuffer.isView||function(t){return t&&-1<f.indexOf(Object.prototype.toString.call(t))};a.prototype.append=function(t,e){t=i(t),e=r(e);var n=this.map[t];this.map[t]=n?n+","+e:e},a.prototype["delete"]=function(t){delete this.map[i(t)]},a.prototype.get=function(t){return t=i(t),this.has(t)?this.map[t]:null},a.prototype.has=function(t){return this.map.hasOwnProperty(i(t))},a.prototype.set=function(t,e){this.map[i(t)]=r(e)},a.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},a.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),o(n)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},a.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),o(n)},p.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this,{body:this._bodyInit})},u.call(c.prototype),u.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},h.error=function(){var t=new h(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];h.redirect=function(t,e){if(-1===y.indexOf(e))throw new RangeError("Invalid status code");return new h(null,{status:e,headers:{location:t}})},t.Headers=a,t.Request=c,t.Response=h,t.fetch=function(n,r){return new Promise(function(i,t){var e=new c(n,r),o=new XMLHttpRequest;o.onload=function(){var t,r,e={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",r=new a,t.split(/\r?\n/).forEach(function(t){var e=t.split(":"),n=e.shift().trim();if(n){var i=e.join(":").trim();r.append(n,i)}}),r)};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var n="response"in o?o.response:o.responseText;i(new h(n,e))},o.onerror=function(){t(new TypeError("Network request failed"))},o.ontimeout=function(){t(new TypeError("Network request failed"))},o.open(e.method,e.url,!0),"include"===e.credentials&&(o.withCredentials=!0),"responseType"in o&&p.blob&&(o.responseType="blob"),e.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===e._bodyInit?null:e._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);var Dn,Mn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pn=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),In=function(t){return t.split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(" ")},Ln={RequestClient:Dn=function(){function n(t,e){!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.uppy=t,this.opts=e,this.onReceiveResponse=this.onReceiveResponse.bind(this)}return n.prototype.onReceiveResponse=function(t){var e,n=this.uppy.state.uppyServer||{},i=this.opts.host,r=t.headers;return r.has("i-am")&&r.get("i-am")!==n[i]&&this.uppy.setState({uppyServer:Mn({},n,(e={},e[i]=r.get("i-am"),e))}),t},n.prototype.get=function(t){return fetch(this.hostname+"/"+t,{method:"get",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(this.onReceiveResponse).then(function(t){return t.json()})},n.prototype.post=function(t,e){return fetch(this.hostname+"/"+t,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(this.onReceiveResponse).then(function(t){return t.json()})},Pn(n,[{key:"hostname",get:function(){var t=this.uppy.state.uppyServer||{},e=this.opts.host;return t[e]||e}}]),n}(),Provider:function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.provider=e.provider,n.id=n.provider,n.authProvider=e.authProvider||n.provider,n.name=n.opts.name||In(n.id),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.checkAuth=function(){return this.get(this.id+"/authorized").then(function(t){return t.authenticated})},r.prototype.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},r.prototype.fileUrl=function(t){return this.hostname+"/"+this.id+"/get/"+t},r.prototype.list=function(t){return this.get(this.id+"/list/"+(t||""))},r.prototype.logout=function(t){var e=0<arguments.length&&void 0!==t?t:location.href;return this.get(this.id+"/logout?redirect="+e)},r}(Dn)},On=Z.h,Fn=function(){return On("div",{"class":"uppy-Provider-loading"},On("span",null,"Loading..."))},Nn=Z.h,Rn=function(t){function e(){return function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.props.checkAuth()},e.prototype.render=function(){return Nn("div",{style:"height: 100%;"},this.props.checkAuthInProgress?Fn():Nn("div",{"class":"uppy-Provider-auth"},Nn("div",{"class":"uppy-Provider-authIcon"},this.props.pluginIcon()),Nn("h1",{"class":"uppy-Provider-authTitle"},"Please authenticate with ",Nn("span",{"class":"uppy-Provider-authTitleName"},this.props.pluginName),Nn("br",null)," to select files"),Nn("button",{type:"button","class":"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onclick:this.props.handleAuth},"Connect to ",this.props.pluginName),this.props.demo&&Nn("button",{"class":"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onclick:this.props.handleDemoAuth},"Proceed with Demo Account")))},e}(Z.Component),jn=Z.h,zn=Z.h,qn=function(n){function i(t){!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return e.isEmpty=!0,e.handleKeyPress=e.handleKeyPress.bind(e),e.handleClear=e.handleClear.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i.prototype.handleKeyPress=function(t){if(13===t.keyCode)return t.stopPropagation(),void t.preventDefault();this.isEmpty=0<!this.input.value.length,this.props.filterQuery(t)},i.prototype.handleClear=function(){this.input.value="",this.props.filterQuery()},i.prototype.render=function(){var e=this;return zn("div",{"class":"uppy-u-reset uppy-ProviderBrowser-search"},zn("svg",{"class":"UppyIcon uppy-ProviderBrowser-searchIcon",viewBox:"0 0 100 100"},zn("path",{d:"M87.533 80.03L62.942 55.439c3.324-4.587 5.312-10.207 5.312-16.295 0-.312-.043-.611-.092-.908.05-.301.093-.605.093-.922 0-15.36-12.497-27.857-27.857-27.857-.273 0-.536.043-.799.08-.265-.037-.526-.08-.799-.08-15.361 0-27.858 12.497-27.858 27.857 0 .312.042.611.092.909a5.466 5.466 0 0 0-.093.921c0 15.36 12.496 27.858 27.857 27.858.273 0 .535-.043.8-.081.263.038.524.081.798.081 5.208 0 10.071-1.464 14.245-3.963L79.582 87.98a5.603 5.603 0 0 0 3.976 1.647 5.621 5.621 0 0 0 3.975-9.597zM39.598 55.838c-.265-.038-.526-.081-.8-.081-9.16 0-16.612-7.452-16.612-16.612 0-.312-.042-.611-.092-.908.051-.301.093-.605.093-.922 0-9.16 7.453-16.612 16.613-16.612.272 0 .534-.042.799-.079.263.037.525.079.799.079 9.16 0 16.612 7.452 16.612 16.612 0 .312.043.611.092.909-.05.301-.094.604-.094.921 0 9.16-7.452 16.612-16.612 16.612-.274 0-.536.043-.798.081z"})),zn("input",{"class":"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:"Filter","aria-label":"Filter",onkeyup:this.handleKeyPress,onkeydown:this.handleKeyPress,onkeypress:this.handleKeyPress,value:this.props.filterInput,ref:function(t){e.input=t}}),!this.isEmpty&&zn("button",{"class":"uppy-u-reset uppy-ProviderBrowser-searchClose",type:"button",onclick:this.handleClear},zn("svg",{"class":"UppyIcon",viewBox:"0 0 19 19"},zn("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))},i}(Z.Component),Bn=Z.h,Un=function(e){var t=function(t){13===t.keyCode&&(t.stopPropagation(),t.preventDefault())};return Bn("li",{"class":"uppy-ProviderBrowserItem"+(e.isChecked?" uppy-ProviderBrowserItem--selected":"")},Bn("div",{"class":"uppy-ProviderBrowserItem-checkbox"},Bn("input",{type:"checkbox",role:"option",tabindex:"0","aria-label":"Select "+e.title,id:e.id,checked:e.isChecked,disabled:e.isDisabled,onchange:e.handleCheckboxClick,onkeyup:t,onkeydown:t,onkeypress:t}),Bn("label",{"for":e.id,onclick:e.handleCheckboxClick})),Bn("button",{type:"button","class":"uppy-ProviderBrowserItem-inner","aria-label":"Select "+e.title,tabindex:"0",onclick:function(t){if(t.preventDefault(),"folder"===e.type)return e.handleClick(t);e.handleCheckboxClick(t)}},e.getItemIcon()," ",e.showTitles&&e.title))},Hn=Z.h,Wn=Z.h,Vn=function(t){var i,r,e=t.folders,n=t.files;return""!==t.filterInput&&(e=t.filterItems(t.folders),n=t.filterItems(t.files)),Wn("div",{"class":"uppy-ProviderBrowser uppy-ProviderBrowser-viewType--"+t.viewType},Wn("div",{"class":"uppy-ProviderBrowser-header"},Wn("div",{"class":"uppy-ProviderBrowser-headerBar "+(t.showBreadcrumbs?"":"uppy-ProviderBrowser-headerBar--simple")},Wn("div",{"class":"uppy-Provider-breadcrumbsIcon"},t.pluginIcon&&t.pluginIcon()),t.showBreadcrumbs&&(r={getFolder:t.getFolder,directories:t.directories,title:t.title},jn("ul",{"class":"uppy-Provider-breadcrumbs"},r.directories.map(function(t,e){return n={getFolder:function(){return r.getFolder(t.id)},title:0===e?r.title:t.title},jn("li",null,jn("button",{type:"button",onclick:n.getFolder},n.title));var n}))),Wn("button",{type:"button",onclick:t.logout,"class":"uppy-ProviderBrowser-userLogout"},"Log out"))),t.showFilter&&Wn(qn,t),(i={columns:[{name:"Name",key:"title"}],folders:e,files:n,activeRow:t.isActiveRow,sortByTitle:t.sortByTitle,sortByDate:t.sortByDate,handleFileClick:t.addFile,handleFolderClick:t.getNextFolder,isChecked:t.isChecked,toggleCheckbox:t.toggleCheckbox,getItemName:t.getItemName,getItemIcon:t.getItemIcon,handleScroll:t.handleScroll,title:t.title,showTitles:t.showTitles,getItemId:t.getItemId},Hn("div",{"class":"uppy-ProviderBrowser-body"},Hn("ul",{"class":"uppy-ProviderBrowser-list",onscroll:i.handleScroll,role:"listbox","aria-label":"List of files from "+i.title},i.folders.map(function(e){var t=!1,n=i.isChecked(e);return n&&(t=n.loading),Un({title:i.getItemName(e),id:i.getItemId(e),type:"folder",getItemIcon:function(){return i.getItemIcon(e)},handleClick:function(){return i.handleFolderClick(e)},isDisabled:t,isChecked:n,handleCheckboxClick:function(t){return i.toggleCheckbox(t,e)},columns:i.columns,showTitles:i.showTitles})}),i.files.map(function(e){return Un({title:i.getItemName(e),id:i.getItemId(e),type:"file",getItemIcon:function(){return i.getItemIcon(e)},handleClick:function(){return i.handleFileClick(e)},isDisabled:!1,isChecked:i.isChecked(e),handleCheckboxClick:function(t){return i.toggleCheckbox(t,e)},columns:i.columns,showTitles:i.showTitles})})))),Wn("button",{"class":"UppyButton--circular UppyButton--blue uppy-ProviderBrowser-doneBtn",type:"button","aria-label":"Done picking files",title:"Done picking files",onclick:t.done},Wn("svg",{"aria-hidden":"true","class":"UppyIcon",width:"13px",height:"9px",viewBox:"0 0 13 9"},Wn("polygon",{points:"5 7.293 1.354 3.647 0.646 4.354 5 8.707 12.354 1.354 11.646 0.647"}))))},Yn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gn=Z.h,Kn={ProviderView:function(){function n(t,e){!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.plugin=t,this.Provider=t[t.id],this.opts=Yn({},{viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},e),this.updateFolderState=this.updateFolderState.bind(this),this.addFile=this.addFile.bind(this),this.filterItems=this.filterItems.bind(this),this.filterQuery=this.filterQuery.bind(this),this.toggleSearch=this.toggleSearch.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.checkAuth=this.checkAuth.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleDemoAuth=this.handleDemoAuth.bind(this),this.sortByTitle=this.sortByTitle.bind(this),this.sortByDate=this.sortByDate.bind(this),this.isActiveRow=this.isActiveRow.bind(this),this.isChecked=this.isChecked.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.handleError=this.handleError.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.plugin.uppy.on("file-removed",this.updateFolderState),this.render=this.render.bind(this)}return n.prototype.tearDown=function(){this.plugin.uppy.off("file-removed",this.updateFolderState)},n.prototype._updateFilesAndFolders=function(t,e,n){var i=this;this.plugin.getItemSubList(t).forEach(function(t){i.plugin.isFolder(t)?n.push(t):e.push(t)}),this.plugin.setPluginState({folders:n,files:e})},n.prototype.checkAuth=function(){var e=this;this.plugin.setPluginState({checkAuthInProgress:!0}),this.Provider.checkAuth().then(function(t){e.plugin.setPluginState({checkAuthInProgress:!1}),e.plugin.onAuth(t)})["catch"](function(t){e.plugin.setPluginState({checkAuthInProgress:!1}),e.handleError(t)})},n.prototype.getFolder=function(r,o){var a=this;return this._loaderWrapper(this.Provider.list(r),function(t){var e,n=a.plugin.getPluginState(),i=n.directories.findIndex(function(t){return r===t.id});e=-1!==i?n.directories.slice(0,i+1):n.directories.concat([{id:r,title:o||a.plugin.getItemName(t)}]),a._updateFilesAndFolders(t,[],[]),a.plugin.setPluginState({directories:e})},this.handleError)},n.prototype.getNextFolder=function(t){var e=this.plugin.getItemRequestPath(t);this.getFolder(e,this.plugin.getItemName(t)),this.lastCheckbox=void 0},n.prototype.addFile=function(t,e){var n=1<arguments.length&&void 0!==e&&e,i={source:this.plugin.id,data:this.plugin.getItemData(t),name:this.plugin.getItemName(t)||this.plugin.getItemId(t),type:this.plugin.getMimeType(t),isRemote:!0,body:{fileId:this.plugin.getItemId(t)},remote:{host:this.plugin.opts.host,url:""+this.Provider.fileUrl(this.plugin.getItemRequestPath(t)),body:{fileId:this.plugin.getItemId(t)}}},r=pt.getFileType(i);r&&pt.isPreviewSupported(r)&&(i.preview=this.plugin.getItemThumbnailUrl(t)),this.plugin.uppy.log("Adding remote file"),this.plugin.uppy.addFile(i),n||this.donePicking()},n.prototype.logout=function(){var e=this;this.Provider.logout(location.href).then(function(t){t.ok&&e.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[]})})["catch"](this.handleError)},n.prototype.filterQuery=function(t){var e=this.plugin.getPluginState();this.plugin.setPluginState(Yn({},e,{filterInput:t?t.target.value:""}))},n.prototype.toggleSearch=function(){var t=this.plugin.getPluginState();this.plugin.setPluginState({isSearchVisible:!t.isSearchVisible,filterInput:""})},n.prototype.filterItems=function(t){var e=this,n=this.plugin.getPluginState();return t.filter(function(t){return-1!==e.plugin.getItemName(t).toLowerCase().indexOf(n.filterInput.toLowerCase())})},n.prototype.sortByTitle=function(){var n=this,t=Yn({},this.plugin.getPluginState()),e=t.files,i=t.folders,r=t.sorting,o=e.sort(function(t,e){return"titleDescending"===r?n.plugin.getItemName(e).localeCompare(n.plugin.getItemName(t)):n.plugin.getItemName(t).localeCompare(n.plugin.getItemName(e))}),a=i.sort(function(t,e){return"titleDescending"===r?n.plugin.getItemName(e).localeCompare(n.plugin.getItemName(t)):n.plugin.getItemName(t).localeCompare(n.plugin.getItemName(e))});this.plugin.setPluginState(Yn({},t,{files:o,folders:a,sorting:"titleDescending"===r?"titleAscending":"titleDescending"}))},n.prototype.sortByDate=function(){var r=this,t=Yn({},this.plugin.getPluginState()),e=t.files,n=t.folders,o=t.sorting,i=e.sort(function(t,e){var n=new Date(r.plugin.getItemModifiedDate(t)),i=new Date(r.plugin.getItemModifiedDate(e));return"dateDescending"===o?i<n?-1:n<i?1:0:i<n?1:n<i?-1:0}),a=n.sort(function(t,e){var n=new Date(
r.plugin.getItemModifiedDate(t)),i=new Date(r.plugin.getItemModifiedDate(e));return"dateDescending"===o?i<n?-1:n<i?1:0:i<n?1:n<i?-1:0});this.plugin.setPluginState(Yn({},t,{files:i,folders:a,sorting:"dateDescending"===o?"dateAscending":"dateDescending"}))},n.prototype.sortBySize=function(){var r=this,t=Yn({},this.plugin.getPluginState()),e=t.files,o=t.sorting;if(e.length&&this.plugin.getItemData(e[0]).size){var n=e.sort(function(t,e){var n=r.plugin.getItemData(t).size,i=r.plugin.getItemData(e).size;return"sizeDescending"===o?i<n?-1:n<i?1:0:i<n?1:n<i?-1:0});this.plugin.setPluginState(Yn({},t,{files:n,sorting:"sizeDescending"===o?"sizeAscending":"sizeDescending"}))}},n.prototype.isActiveRow=function(t){return this.plugin.getPluginState().activeRow===this.plugin.getItemId(t)},n.prototype.isChecked=function(t){var e=this.providerFileToId(t);if(this.plugin.isFolder(t)){var n=this.plugin.getPluginState().selectedFolders||{};return e in n&&n[e]}return e in this.plugin.uppy.getState().files},n.prototype.addFolder=function(r){var o=this,a=this.providerFileToId(r),s=this.plugin.getPluginState(),l=s.selectedFolders||{};a in l&&l[a].loading||(l[a]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:l}),this.Provider.list(this.plugin.getItemRequestPath(r)).then(function(t){var e=[];o.plugin.getItemSubList(t).forEach(function(t){o.plugin.isFolder(t)||(o.addFile(t,!0),e.push(o.providerFileToId(t)))}),(s=o.plugin.getPluginState()).selectedFolders[a]={loading:!1,files:e},o.plugin.setPluginState({selectedFolders:l});var n,i=o.plugin.uppy.getPlugin("Dashboard");n=e.length?i.i18n("folderAdded",{smart_count:e.length,folder:o.plugin.getItemName(r)}):i.i18n("emptyFolderAdded"),o.plugin.uppy.info(n)})["catch"](function(t){delete(s=o.plugin.getPluginState()).selectedFolders[a],o.plugin.setPluginState({selectedFolders:s.selectedFolders}),o.handleError(t)}))},n.prototype.removeFolder=function(t){var e=this.plugin.getPluginState().selectedFolders||{};if(t in e){var n=e[t];if(!n.loading){var i=n.files.concat([]),r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if((o=i.next()).done)break;a=o.value}var s=a;s in this.plugin.uppy.getState().files&&this.plugin.uppy.removeFile(s)}delete e[t],this.plugin.setPluginState({selectedFolders:e})}}},n.prototype.updateFolderState=function(t){var e=this.plugin.getPluginState().selectedFolders||{};for(var n in e){var i=e[n];if(!i.loading){var r=i.files.indexOf(t.id);-1<r&&i.files.splice(r,1),i.files.length||delete e[n]}}this.plugin.setPluginState({selectedFolders:e})},n.prototype.toggleCheckbox=function(t,e){t.stopPropagation(),t.preventDefault();var n=this.plugin.getPluginState(),i=n.folders,r=n.files,o=n.filterInput,a=i.concat(r);""!==o&&(a=this.filterItems(a));var s=[e];if(this.lastCheckbox&&t.shiftKey){var l=a.indexOf(this.lastCheckbox),u=a.indexOf(e);s=l<u?a.slice(l,u+1):a.slice(u,l+1)}if(this.lastCheckbox=e,this.isChecked(e)){var c=s,d=Array.isArray(c),h=0;for(c=d?c:c[Symbol.iterator]();;){var p;if(d){if(h>=c.length)break;p=c[h++]}else{if((h=c.next()).done)break;p=h.value}var f=p,m=this.providerFileToId(f);this.plugin.isFolder(f)?this.removeFolder(m):m in this.plugin.uppy.getState().files&&this.plugin.uppy.removeFile(m)}}else{var g=s,v=Array.isArray(g),y=0;for(g=v?g:g[Symbol.iterator]();;){var b;if(v){if(y>=g.length)break;b=g[y++]}else{if((y=g.next()).done)break;b=y.value}var w=b;this.plugin.isFolder(w)?this.addFolder(w):this.addFile(w,!0)}}},n.prototype.providerFileToId=function(t){return pt.generateFileID({data:this.plugin.getItemData(t),name:this.plugin.getItemName(t)||this.plugin.getItemId(t),type:this.plugin.getMimeType(t)})},n.prototype.handleDemoAuth=function(){var t=this.plugin.getPluginState();this.plugin.setPluginState({},t,{authenticated:!0})},n.prototype.handleAuth=function(){var e=this,n=Math.floor(999999*Math.random())+1,i=location.href+(location.search?"&":"?")+"id="+n,t=btoa(JSON.stringify({redirect:i})),r=this.Provider.authUrl()+"?state="+t,o=window.open(r,"_blank");!function n(){var t=void 0;try{t=o.location.href}catch(e){if(e instanceof DOMException||e instanceof TypeError)return setTimeout(n,100);throw e}t&&t.split("#")[0]===i?(o.close(),e._loaderWrapper(e.Provider.checkAuth(),e.plugin.onAuth,e.handleError)):setTimeout(n,100)}()},n.prototype.handleError=function(t){var e=this.plugin.uppy,n=e.i18n("uppyServerError");e.log(t.toString()),e.info({message:n,details:t.toString()},"error",5e3)},n.prototype.handleScroll=function(t){var r=this,e=t.target.scrollHeight-(t.target.scrollTop+t.target.offsetHeight),n=this.plugin.getNextPagePath?this.plugin.getNextPagePath():null;e<50&&n&&!this._isHandlingScroll&&(this.Provider.list(n).then(function(t){var e=r.plugin.getPluginState(),n=e.files,i=e.folders;r._updateFilesAndFolders(t,n,i)})["catch"](this.handleError).then(function(){r._isHandlingScroll=!1}),this._isHandlingScroll=!0)},n.prototype.donePicking=function(){var t=this.plugin.uppy.getPlugin("Dashboard");t&&t.hideAllPanels()},n.prototype._loaderWrapper=function(t,e,n){var i=this;t.then(e)["catch"](n).then(function(){return i.plugin.setPluginState({loading:!1})}),this.plugin.setPluginState({loading:!0})},n.prototype.render=function(){var t=this.plugin.getPluginState(),e=t.authenticated,n=t.checkAuthInProgress;if(t.loading)return Fn();if(!e)return Gn(Rn,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,demo:this.plugin.opts.demo,checkAuth:this.checkAuth,handleAuth:this.handleAuth,handleDemoAuth:this.handleDemoAuth,checkAuthInProgress:n});var i=Yn({},this.plugin.getPluginState(),{getNextFolder:this.getNextFolder,getFolder:this.getFolder,addFile:this.addFile,filterItems:this.filterItems,filterQuery:this.filterQuery,toggleSearch:this.toggleSearch,sortByTitle:this.sortByTitle,sortByDate:this.sortByDate,logout:this.logout,demo:this.plugin.opts.demo,isActiveRow:this.isActiveRow,isChecked:this.isChecked,toggleCheckbox:this.toggleCheckbox,getItemId:this.plugin.getItemId,getItemName:this.plugin.getItemName,getItemIcon:this.plugin.getItemIcon,handleScroll:this.handleScroll,done:this.donePicking,title:this.plugin.title,viewType:this.opts.viewType,showTitles:this.opts.showTitles,showFilter:this.opts.showFilter,showBreadcrumbs:this.opts.showBreadcrumbs,pluginIcon:this.plugin.icon});return Vn(i)},n}()},Xn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jn=Ln.Provider,Qn=Kn.ProviderView,Zn=Z.h,ti=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.type="acquirer",n.id=n.opts.id||"Dropbox",n.title="Dropbox",n.icon=function(){return Zn("svg",{"class":"UppyIcon",width:"128",height:"118",viewBox:"0 0 128 118"},Zn("path",{d:"M38.145.777L1.108 24.96l25.608 20.507 37.344-23.06z"}),Zn("path",{d:"M1.108 65.975l37.037 24.183L64.06 68.525l-37.343-23.06zM64.06 68.525l25.917 21.633 37.036-24.183-25.61-20.51z"}),Zn("path",{d:"M127.014 24.96L89.977.776 64.06 22.407l37.345 23.06zM64.136 73.18l-25.99 21.567-11.122-7.262v8.142l37.112 22.256 37.114-22.256v-8.142l-11.12 7.262z"}))},n[n.id]=new Jn(t,{host:n.opts.host,provider:"dropbox"}),n.files=[],n.onAuth=n.onAuth.bind(n),n.render=n.render.bind(n),n.opts=Xn({},{},e),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.install=function(){this.view=new Qn(this),this.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1});var t=this.opts.target;t&&this.mount(t,this)},r.prototype.uninstall=function(){this.view.tearDown(),this.unmount()},r.prototype.onAuth=function(t){this.setPluginState({authenticated:t}),t&&this.view.getFolder()},r.prototype.isFolder=function(t){return"folder"===t[".tag"]},r.prototype.getItemData=function(t){return t},r.prototype.getItemIcon=function(t){return An[t[".tag"]]()},r.prototype.getItemSubList=function(t){return t.entries},r.prototype.getItemName=function(t){return t.name||""},r.prototype.getMimeType=function(){return null},r.prototype.getItemId=function(t){return t.id},r.prototype.getItemRequestPath=function(t){return encodeURIComponent(t.path_lower)},r.prototype.getItemModifiedDate=function(t){return t.server_modified},r.prototype.getItemThumbnailUrl=function(t){return this.opts.host+"/"+this.Dropbox.id+"/thumbnail/"+this.getItemRequestPath(t)},r.prototype.render=function(t){return this.view.render(t)},r}(vt),ei=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ni=pt.toArray,ii=Z.h,ri=function(o){function a(t,e){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));n.id=n.opts.id||"FileInput",n.title="File Input",n.type="acquirer";var i={strings:{chooseFiles:"Choose files"}},r={target:null,allowMultipleFiles:!0,pretty:!0,inputName:"files[]",locale:i};return n.opts=ei({},r,e),n.locale=ei({},i,n.opts.locale),n.locale.strings=ei({},i.strings,n.opts.locale.strings),n.translator=new Lt({locale:n.locale}),n.i18n=n.translator.translate.bind(n.translator),n.render=n.render.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleClick=n.handleClick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.handleInputChange=function(t){var e=this;this.uppy.log("[FileInput] Something selected through input..."),ni(t.target.files).forEach(function(t){e.uppy.addFile({source:e.id,name:t.name,type:t.type,data:t})})},a.prototype.handleClick=function(){this.input.click()},a.prototype.render=function(){var e=this;return ii("div",{"class":"uppy uppy-FileInput-container"},ii("input",{"class":"uppy-FileInput-input",style:this.opts.pretty&&{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},type:"file",name:this.opts.inputName,onchange:this.handleInputChange,multiple:this.opts.allowMultipleFiles,ref:function(t){e.input=t}}),this.opts.pretty&&ii("button",{"class":"uppy-FileInput-btn",type:"button",onclick:this.handleClick},this.i18n("chooseFiles")))},a.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},a.prototype.uninstall=function(){this.unmount()},a}(vt),oi={__esModule:!0};oi["default"]=b,oi.getFieldData=w;var ai={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},si={button:!0,fieldset:!0,reset:!0,submit:!0},li={checkbox:!0,radio:!0},ui=/^\s+|\s+$/g,ci=Array.prototype.slice,di=Object.prototype.toString;b.getFieldData=w;var hi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pi=pt.findDOMElement,fi=oi["default"]||oi,mi=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.type="acquirer",n.id="Form",n.title="Form",n.opts=hi({},{target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1},e),n.handleFormSubmit=n.handleFormSubmit.bind(n),n.handleUploadStart=n.handleUploadStart.bind(n),n.handleSuccess=n.handleSuccess.bind(n),n.addResultToForm=n.addResultToForm.bind(n),n.getMetaFromForm=n.getMetaFromForm.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.handleUploadStart=function(){this.opts.getMetaFromForm&&this.getMetaFromForm()},r.prototype.handleSuccess=function(t){this.opts.addResultToForm&&this.addResultToForm(t),this.opts.submitOnSuccess&&this.form.submit()},r.prototype.handleFormSubmit=function(t){var e=this;this.opts.triggerUploadOnSubmit&&(t.preventDefault(),this.uppy.upload()["catch"](function(t){e.uppy.log(t.stack||t.message||t)}))},r.prototype.addResultToForm=function(t){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(t);var e=this.form.querySelector('[name="'+this.opts.resultName+'"]');e?e.value=JSON.stringify(t):((e=document.createElement("input")).name=this.opts.resultName,e.type="hidden",e.value=JSON.stringify(t),this.form.appendChild(e))},r.prototype.getMetaFromForm=function(){var t=fi(this.form);this.uppy.setMeta(t)},r.prototype.install=function(){this.form=pi(this.opts.target),this.form&&"FORM"!==!this.form.nodeName?(this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)):console.error("Form plugin requires a <form> target element passed in options to operate, none was found","error")},r.prototype.uninstall=function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)},r}(vt),gi={},vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yi="undefined"==typeof Promise?lt.Promise:Promise,bi="undefined"!=typeof window&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),wi=!!bi,_i="uppy-blobs",xi="files",ki=864e5,Ci=3,Si=!1,Ti=function(){function i(t){var e=this;!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.opts=vi({dbName:_i,storeName:"default",expires:ki,maxFileSize:10485760,maxTotalSize:314572800},t),this.name=this.opts.storeName;var n=function(){return x(e.opts.dbName)};this.ready=Si?n():(Si=!0,i.cleanup().then(n,n))}return i.prototype.key=function(t){return this.name+"!"+t},i.prototype.list=function(){var e=this;return this.ready.then(function(t){return k(t.transaction([xi],"readonly").objectStore(xi).index("store").getAll(IDBKeyRange.only(e.name)))}).then(function(t){var e={};return t.forEach(function(t){e[t.fileID]=t.data}),e})},i.prototype.get=function(e){var n=this;return this.ready.then(function(t){return k(t.transaction([xi],"readonly").objectStore(xi).get(n.key(e)))}).then(function(t){return{id:t.data.fileID,data:t.data.data}})},i.prototype.getSize=function(){var n=this;return this.ready.then(function(t){var e=t.transaction([xi],"readonly").objectStore(xi).index("store").openCursor(IDBKeyRange.only(n.name));return new yi(function(n,t){var i=0;e.onsuccess=function(t){var e=t.target.result;e?(i+=e.value.data.size,e["continue"]()):n(i)},e.onerror=function(){t(new Error("Could not retrieve stored blobs size"))}})})},i.prototype.put=function(e){var n=this;return e.data.size>this.opts.maxFileSize?yi.reject(new Error("File is too big to store.")):this.getSize().then(function(t){return t>n.opts.maxTotalSize?yi.reject(new Error("No space left")):n.ready}).then(function(t){return k(t.transaction([xi],"readwrite").objectStore(xi).add({id:n.key(e.id),fileID:e.id,store:n.name,expires:Date.now()+n.opts.expires,data:e.data}))})},i.prototype["delete"]=function(e){var n=this;return this.ready.then(function(t){return k(t.transaction([xi],"readwrite").objectStore(xi)["delete"](n.key(e)))})},i.cleanup=function(){return x(_i).then(function(r){var e=r.transaction([xi],"readwrite").objectStore(xi).index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new yi(function(i,t){e.onsuccess=function(t){var e=t.target.result;if(e){var n=e.value;console.log("[IndexedDBStore] Deleting record",n.fileID,"of size",Pt(n.data.size),"- expired on",new Date(n.expires)),e["delete"](),e["continue"]()}else i(r)},e.onerror=t})}).then(function(t){t.close()})},i}();Ti.isSupported=wi,gi=Ti;var $i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ei=!1,Ai=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.opts=$i({expires:864e5},t),this.name="uppyState:"+t.storeName,Ei||(Ei=!0,e.cleanup())}return e.prototype.load=function(){var t=localStorage.getItem(this.name);if(!t)return null;var e=C(t);return e?e.metadata?e.metadata:(this.save(e),e):null},e.prototype.save=function(t){var e=Date.now()+this.opts.expires,n=JSON.stringify({metadata:t,expires:e});localStorage.setItem(this.name,n)},e.cleanup=function(){var t=function(){for(var t=[],e=0;e<localStorage.length;e++){var n=localStorage.key(e);/^uppyState:/.test(n)&&t.push(n.slice("uppyState:".length))}return t}(),i=Date.now();t.forEach(function(t){var e=localStorage.getItem("uppyState:"+t);if(!e)return null;var n=C(e);if(!n)return null;n.expires&&n.expires<i&&localStorage.removeItem("uppyState:"+t)})},e}(),Di={},Mi="undefined"==typeof Promise?lt.Promise:Promise,Pi="undefined"!=typeof navigator&&"serviceWorker"in navigator,Ii=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.ready=new Mi(function(t,e){Pi?navigator.serviceWorker.controller?t():navigator.serviceWorker.addEventListener("controllerchange",function(){t()}):e(new Error("Unsupported"))}),this.name=t.storeName}return e.prototype.list=function(){var e=this,n={},i=new Mi(function(t,e){n.resolve=t,n.reject=e});console.log("Loading stored blobs from Service Worker");var t=function i(t){if(t.data.store===e.name)switch(t.data.type){case"uppy/ALL_FILES":n.resolve(t.data.files),navigator.serviceWorker.removeEventListener("message",i)}};return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",t),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:e.name})}),i},e.prototype.put=function(t){var e=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:e.name,file:t})})},e.prototype["delete"]=function(t){var e=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:e.name,fileID:t})})},e}();Ii.isSupported=Pi,Di=Ii;var Li,Oi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fi="undefined"==typeof Promise?lt.Promise:Promise,Ni=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.type="debugger",n.id="GoldenRetriever",n.title="Golden Retriever",n.opts=Oi({},{expires:864e5,serviceWorker:!1},e),n.MetaDataStore=new Ai({expires:n.opts.expires,storeName:t.getID()}),n.ServiceWorkerStore=null,n.opts.serviceWorker&&(n.ServiceWorkerStore=new Di({storeName:t.getID()})),n.IndexedDBStore=new gi(Oi({expires:n.opts.expires},e.indexedDB||{},{storeName:t.getID()})),n.saveFilesStateToLocalStorage=n.saveFilesStateToLocalStorage.bind(n),n.loadFilesStateFromLocalStorage=n.loadFilesStateFromLocalStorage.bind(n),n.loadFileBlobsFromServiceWorker=n.loadFileBlobsFromServiceWorker.bind(n),n.loadFileBlobsFromIndexedDB=n.loadFileBlobsFromIndexedDB.bind(n),n.onBlobsLoaded=n.onBlobsLoaded.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.loadFilesStateFromLocalStorage=function(){var t=this.MetaDataStore.load();t&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:t.currentUploads||{},files:t.files||{}}),this.savedPluginData=t.pluginData)},r.prototype.getWaitingFiles=function(){var n=this,i={},t=this.uppy.state.files;return Object.keys(t).forEach(function(t){var e=n.uppy.getFile(t);e.progress&&e.progress.uploadStarted||(i[t]=e)}),i},r.prototype.getUploadingFiles=function(){var e=this,n={},i=this.uppy.state.currentUploads;return i&&Object.keys(i).forEach(function(t){i[t].fileIDs.forEach(function(t){n[t]=e.uppy.getFile(t)})}),n},r.prototype.saveFilesStateToLocalStorage=function(){var t=Oi(this.getWaitingFiles(),this.getUploadingFiles()),e={};this.uppy.emit("restore:get-data",function(t){Oi(e,t)}),this.MetaDataStore.save({currentUploads:this.uppy.state.currentUploads,files:t,pluginData:e})},r.prototype.loadFileBlobsFromServiceWorker=function(){var n=this;this.ServiceWorkerStore.list().then(function(t){var e=Object.keys(t).length;return e===Object.keys(n.uppy.state.files).length?(n.uppy.log("[GoldenRetriever] Successfully recovered "+e+" blobs from Service Worker!"),n.uppy.info("Successfully recovered "+e+" files","success",3e3),n.onBlobsLoaded(t)):(n.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),n.loadFileBlobsFromIndexedDB())})["catch"](function(t){n.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),n.uppy.log(t)})},r.prototype.loadFileBlobsFromIndexedDB=function(){var n=this;this.IndexedDBStore.list().then(function(t){var e=Object.keys(t).length;if(0<e)return n.uppy.log("[GoldenRetriever] Successfully recovered "+e+" blobs from IndexedDB!"),n.uppy.info("Successfully recovered "+e+" files","success",3e3),n.onBlobsLoaded(t);n.uppy.log("[GoldenRetriever] No blobs found in IndexedDB")})["catch"](function(t){n.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),n.uppy.log(t)})},r.prototype.onBlobsLoaded=function(r){var o=this,a=[],s=Oi({},this.uppy.state.files);Object.keys(r).forEach(function(t){var e=o.uppy.getFile(t);if(e){var n=r[t],i=Oi({},e,{data:n,isRestored:!0});s[t]=i}else a.push(t)}),this.uppy.setState({files:s}),this.uppy.emit("restored",this.savedPluginData),a.length&&this.deleteBlobs(a).then(function(){o.uppy.log("[GoldenRetriever] Cleaned up "+a.length+" old files")})["catch"](function(t){o.uppy.log("[GoldenRetriever] Could not clean up "+a.length+" old files","warning"),o.uppy.log(t)})},r.prototype.deleteBlobs=function(t){var e=this,n=[];return t.forEach(function(t){e.ServiceWorkerStore&&n.push(e.ServiceWorkerStore["delete"](t)),e.IndexedDBStore&&n.push(e.IndexedDBStore["delete"](t))}),Fi.all(n)},r.prototype.install=function(){var i=this;this.loadFilesStateFromLocalStorage(),0<Object.keys(this.uppy.state.files).length?this.ServiceWorkerStore?(this.uppy.log("[GoldenRetriever] Attempting to load files from Service Worker..."),this.loadFileBlobsFromServiceWorker()):(this.uppy.log("[GoldenRetriever] Attempting to load files from Indexed DB..."),this.loadFileBlobsFromIndexedDB()):(this.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),this.onBlobsLoaded([])),this.uppy.on("file-added",function(t){t.isRemote||(i.ServiceWorkerStore&&i.ServiceWorkerStore.put(t)["catch"](function(t){i.uppy.log("[GoldenRetriever] Could not store file","warning"),i.uppy.log(t)}),i.IndexedDBStore.put(t)["catch"](function(t){i.uppy.log("[GoldenRetriever] Could not store file","warning"),i.uppy.log(t)}))}),this.uppy.on("file-removed",function(t){i.ServiceWorkerStore&&i.ServiceWorkerStore["delete"](t.id)["catch"](function(t){i.uppy.log("[GoldenRetriever] Failed to remove file","warning"),i.uppy.log(t)}),i.IndexedDBStore["delete"](t.id)["catch"](function(t){i.uppy.log("[GoldenRetriever] Failed to remove file","warning"),i.uppy.log(t)})}),this.uppy.on("complete",function(t){var e=t.successful,n=e.map(function(t){return t.id});i.deleteBlobs(n).then(function(){i.uppy.log("[GoldenRetriever] Removed "+e.length+" files that finished uploading")})["catch"](function(t){i.uppy.log("[GoldenRetriever] Could not remove "+e.length+" files that finished uploading","warning"),i.uppy.log(t)})}),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restored",function(){var e=i.uppy.getState().currentUploads;e&&Object.keys(e).forEach(function(t){i.uppy.restore(t,e[t])})})},r}(vt),Ri=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ji=Ln.Provider,zi=Kn.ProviderView,qi=Z.h,Bi=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.type="acquirer",n.id=n.opts.id||"GoogleDrive",n.title="Google Drive",n.icon=function(){return qi("svg",{"aria-hidden":"true","class":"UppyIcon UppyModalTab-icon",width:"28",height:"28",viewBox:"0 0 16 16"},qi("path",{d:"M2.955 14.93l2.667-4.62H16l-2.667 4.62H2.955zm2.378-4.62l-2.666 4.62L0 10.31l5.19-8.99 2.666 4.62-2.523 4.37zm10.523-.25h-5.333l-5.19-8.99h5.334l5.19 8.99z"}))},n[n.id]=new ji(t,{host:n.opts.host,provider:"drive",authProvider:"google"}),n.files=[],n.onAuth=n.onAuth.bind(n),n.render=n.render.bind(n),n.opts=Ri({},{},e),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.install=function(){this.view=new zi(this),this.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1});var t=this.opts.target;t&&this.mount(t,this)},r.prototype.uninstall=function(){this.view.tearDown(),this.unmount()},r.prototype.onAuth=function(t){this.setPluginState({authenticated:t}),t&&this.view.getFolder("root")},r.prototype.isFolder=function(t){return"application/vnd.google-apps.folder"===t.mimeType},r.prototype.getItemData=function(t){return Ri({},t,{size:parseFloat(t.fileSize)})},r.prototype.getItemIcon=function(t){return qi("img",{src:t.iconLink})},r.prototype.getItemSubList=function(t){var e=this;return t.items.filter(function(t){return e.isFolder(t)||!t.mimeType.startsWith("application/vnd.google")})},r.prototype.getItemName=function(t){return t.title?t.title:"/"},r.prototype.getMimeType=function(t){return t.mimeType},r.prototype.getItemId=function(t){return t.id},r.prototype.getItemRequestPath=function(t){return this.getItemId(t)},r.prototype.getItemModifiedDate=function(t){return t.modifiedByMeDate},r.prototype.getItemThumbnailUrl=function(t){return this.opts.host+"/"+this.GoogleDrive.id+"/thumbnail/"+this.getItemRequestPath(t)},r.prototype.render=function(t){return this.view.render(t)},r}(vt),Ui=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hi=Ln.Provider,Wi=Kn.ProviderView,Vi=Z.h,Yi=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.type="acquirer",n.id=n.opts.id||"Instagram",n.title="Instagram",n.icon=function(){return Vi("svg",{"aria-hidden":"true","class":"UppyIcon",width:"28",height:"28",viewBox:"0 0 512 512"},Vi("path",{d:"M256,49.471c67.266,0,75.233.257,101.8,1.469,24.562,1.121,37.9,5.224,46.778,8.674a78.052,78.052,0,0,1,28.966,18.845,78.052,78.052,0,0,1,18.845,28.966c3.45,8.877,7.554,22.216,8.674,46.778,1.212,26.565,1.469,34.532,1.469,101.8s-0.257,75.233-1.469,101.8c-1.121,24.562-5.225,37.9-8.674,46.778a83.427,83.427,0,0,1-47.811,47.811c-8.877,3.45-22.216,7.554-46.778,8.674-26.56,1.212-34.527,1.469-101.8,1.469s-75.237-.257-101.8-1.469c-24.562-1.121-37.9-5.225-46.778-8.674a78.051,78.051,0,0,1-28.966-18.845,78.053,78.053,0,0,1-18.845-28.966c-3.45-8.877-7.554-22.216-8.674-46.778-1.212-26.564-1.469-34.532-1.469-101.8s0.257-75.233,1.469-101.8c1.121-24.562,5.224-37.9,8.674-46.778A78.052,78.052,0,0,1,78.458,78.458a78.053,78.053,0,0,1,28.966-18.845c8.877-3.45,22.216-7.554,46.778-8.674,26.565-1.212,34.532-1.469,101.8-1.469m0-45.391c-68.418,0-77,.29-103.866,1.516-26.815,1.224-45.127,5.482-61.151,11.71a123.488,123.488,0,0,0-44.62,29.057A123.488,123.488,0,0,0,17.3,90.982C11.077,107.007,6.819,125.319,5.6,152.134,4.369,179,4.079,187.582,4.079,256S4.369,333,5.6,359.866c1.224,26.815,5.482,45.127,11.71,61.151a123.489,123.489,0,0,0,29.057,44.62,123.486,123.486,0,0,0,44.62,29.057c16.025,6.228,34.337,10.486,61.151,11.71,26.87,1.226,35.449,1.516,103.866,1.516s77-.29,103.866-1.516c26.815-1.224,45.127-5.482,61.151-11.71a128.817,128.817,0,0,0,73.677-73.677c6.228-16.025,10.486-34.337,11.71-61.151,1.226-26.87,1.516-35.449,1.516-103.866s-0.29-77-1.516-103.866c-1.224-26.815-5.482-45.127-11.71-61.151a123.486,123.486,0,0,0-29.057-44.62A123.487,123.487,0,0,0,421.018,17.3C404.993,11.077,386.681,6.819,359.866,5.6,333,4.369,324.418,4.079,256,4.079h0Z"}),Vi("path",{d:"M256,126.635A129.365,129.365,0,1,0,385.365,256,129.365,129.365,0,0,0,256,126.635Zm0,213.338A83.973,83.973,0,1,1,339.974,256,83.974,83.974,0,0,1,256,339.973Z"}),Vi("circle",{cx:"390.476",cy:"121.524",r:"30.23"}))},n[n.id]=new Hi(t,{host:n.opts.host,provider:"instagram",authProvider:"instagram"}),n.files=[],n.onAuth=n.onAuth.bind(n),n.render=n.render.bind(n),n.opts=Ui({},{},e),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.install=function(){this.view=new Wi(this,{viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1}),this.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1});var t=this.opts.target;t&&this.mount(t,this)},r.prototype.uninstall=function(){this.view.tearDown(),this.unmount()},r.prototype.onAuth=function(t){this.setPluginState({authenticated:t}),t&&this.view.getFolder("recent")},r.prototype.isFolder=function(){return!1},r.prototype.getItemData=function(t){return t},r.prototype.getItemIcon=function(t){return Vi("img",{src:t.images.thumbnail.url})},r.prototype.getItemSubList=function(t){var a=[];return t.data.forEach(function(o){o.carousel_media?o.carousel_media.forEach(function(t,e){var n=o.id,i=o.created_time,r=Ui({},t,{id:n,created_time:i});r.carousel_id=e,a.push(r)}):a.push(o)}),a},r.prototype.getItemName=function(t){if(t&&t.created_time){var e=new Date(1e3*t.created_time);return"Instagram "+(e=e.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}))+" "+(t.carousel_id||"")}return""},r.prototype.getMimeType=function(t){return"video"===t.type?"video/mp4":"image/jpeg"},r.prototype.getItemId=function(t){return""+t.id+(t.carousel_id||"")},r.prototype.getItemRequestPath=function(t){var e=isNaN(t.carousel_id)?"":"?carousel_id="+t.carousel_id;return""+t.id+e},r.prototype.getItemModifiedDate=function(t){return t.created_time},r.prototype.getItemThumbnailUrl=function(t){return t.images.thumbnail.url},
r.prototype.getNextPagePath=function(){var t=this.getPluginState().files;return"recent?max_id="+this.getItemId(t[t.length-1])},r.prototype.render=function(t){return this.view.render(t)},r}(vt),Gi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ki=Z.h,Xi=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.id=n.opts.id||"ProgressBar",n.title="Progress Bar",n.type="progressindicator",n.opts=Gi({},{target:"body",replaceTargetContent:!1,fixed:!1,hideAfterFinish:!0},e),n.render=n.render.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.render=function(t){var e=t.totalProgress||0,n=100===e&&this.opts.hideAfterFinish;return Ki("div",{"class":"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},Ki("div",{"class":"uppy-ProgressBar-inner",style:{width:e+"%"}}),Ki("div",{"class":"uppy-ProgressBar-percentage"},e))},r.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},r.prototype.uninstall=function(){this.unmount()},r}(vt),Ji=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qi=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.type="debugger",n.id="ReduxDevTools",n.title="Redux DevTools",n.opts=Ji({},{},e),n.handleStateChange=n.handleStateChange.bind(n),n.initDevTools=n.initDevTools.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.handleStateChange=function(t,e){this.devTools.send("UPPY_STATE_UPDATE",e)},r.prototype.initDevTools=function(){var n=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(t){if("DISPATCH"===t.type)switch(console.log(t.payload.type),t.payload.type){case"RESET":return void n.uppy.reset();case"IMPORT_STATE":var e=t.payload.nextLiftedState.computedStates;return n.uppy.state=Ji({},n.uppy.state,e[e.length-1].state),void n.uppy.updateAll(n.uppy.state);case"JUMP_TO_STATE":case"JUMP_TO_ACTION":n.uppy.store.state=Ji({},n.uppy.state,JSON.parse(t.state)),n.uppy.updateAll(n.uppy.state)}})},r.prototype.install=function(){this.withDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))},r.prototype.uninstall=function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))},r}(vt),Zi="undefined"==typeof Promise?lt.Promise:Promise,tr=function(){function n(t){var e=0<arguments.length&&void 0!==t?t:{};!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.opts=e}return n.prototype.createAssembly=function(t){t.templateId;var e=t.params,n=t.fields,i=t.signature,r=t.expectedFiles,o=new FormData;return o.append("params","string"==typeof e?e:JSON.stringify(e)),i&&o.append("signature",i),Object.keys(n).forEach(function(t){o.append(t,n[t])}),o.append("num_expected_upload_files",r),fetch(this.opts.service+"/assemblies",{method:"post",body:o}).then(function(t){return t.json()}).then(function(t){if(t.error){var e=new Error(t.message);throw e.code=t.error,e.status=t,e}return t})},n.prototype.reserveFile=function(t,e){var n=encodeURIComponent(e.size);return fetch(t.assembly_ssl_url+"/reserve_file?size="+n,{method:"post"}).then(function(t){return t.json()})},n.prototype.addFile=function(t,e){if(!e.uploadURL)return Zi.reject(new Error("File does not have an `uploadURL`."));var n=encodeURIComponent(e.size),i=encodeURIComponent(e.uploadURL),r="size="+n+"&filename="+encodeURIComponent(e.name)+"&fieldname=file&s3Url="+i;return fetch(t.assembly_ssl_url+"/add_file?"+r,{method:"post"}).then(function(t){return t.json()})},n.prototype.getAssemblyStatus=function(t){return fetch(t).then(function(t){return t.json()})},n}(),er=1e3,nr=6e4,ir=864e5,rr=function(t,e){e=e||{};var n,i,r=typeof t;if("string"===r&&0<t.length)return function(t){if(!(100<(t=String(t)).length)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*ir;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return n*nr;case"seconds":case"second":case"secs":case"sec":case"s":return n*er;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===r&&!1===isNaN(t))return e["long"]?S(n=t,ir,"day")||S(n,36e5,"hour")||S(n,nr,"minute")||S(n,er,"second")||n+" ms":ir<=(i=t)?Math.round(i/ir)+"d":36e5<=i?Math.round(i/36e5)+"h":nr<=i?Math.round(i/nr)+"m":er<=i?Math.round(i/er)+"s":i+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))},or={};(or=or=T.debug=T["default"]=T).coerce=function(t){return t instanceof Error?t.stack||t.message:t},or.disable=function(){or.enable("")},or.enable=function(t){or.save(t),or.names=[],or.skips=[];for(var e=("string"==typeof t?t:"").split(/[\s,]+/),n=e.length,i=0;i<n;i++)e[i]&&("-"===(t=e[i].replace(/\*/g,".*?"))[0]?or.skips.push(new RegExp("^"+t.substr(1)+"$")):or.names.push(new RegExp("^"+t+"$")))},or.enabled=function(t){var e,n;for(e=0,n=or.skips.length;e<n;e++)if(or.skips[e].test(t))return!1;for(e=0,n=or.names.length;e<n;e++)if(or.names[e].test(t))return!0;return!1},or.humanize=rr,or.names=[],or.skips=[],or.formatters={};var ar={};(function(e){function t(){var t;try{t=ar.storage.debug}catch(e){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t}(ar=ar=or).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},ar.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+ar.humanize(this.diff),e){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(r=++i)}),t.splice(r,0,n)}},ar.save=function(t){try{null==t?ar.storage.removeItem("debug"):ar.storage.debug=t}catch(t){}},ar.load=t,ar.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},ar.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),ar.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],ar.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},ar.enable(t())}).call(this,tt);var sr={};(sr=$).prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},$.prototype.reset=function(){this.attempts=0},$.prototype.setMin=function(t){this.ms=t},$.prototype.setMax=function(t){this.max=t},$.prototype.setJitter=function(t){this.jitter=t};var lr=[].slice,ur=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=lr.call(arguments,2);return function(){return e.apply(t,n.concat(lr.call(arguments)))}},cr={exports:{}};(cr.exports=E).prototype.on=E.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},E.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},E.prototype.off=E.prototype.removeListener=E.prototype.removeAllListeners=E.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},E.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},E.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},E.prototype.hasListeners=function(t){return!!this.listeners(t).length},cr=cr.exports;var dr=function(t,n,i){function r(t,e){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(o=!0,n(t),n=i):0!==r.count||o||n(null,e)}var o=!1;return i=i||A,0===(r.count=t)?n():r},hr=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),i<n&&(n=i),i<=e||n<=e||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(t),o=new Uint8Array(n-e),a=e,s=0;a<n;a++,s++)o[s]=r[a];return o.buffer},pr={};!function(){"use strict";for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=new Uint8Array(256),t=0;t<o.length;t++)d[o.charCodeAt(t)]=t;pr.encode=function(t){var e,n=new Uint8Array(t),i=n.length,r="";for(e=0;e<i;e+=3)r+=o[n[e]>>2],r+=o[(3&n[e])<<4|n[e+1]>>4],r+=o[(15&n[e+1])<<2|n[e+2]>>6],r+=o[63&n[e+2]];return i%3==2?r=r.substring(0,r.length-1)+"=":i%3==1&&(r=r.substring(0,r.length-2)+"=="),r},pr.decode=function(t){var e,n,i,r,o,a=.75*t.length,s=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),c=new Uint8Array(u);for(e=0;e<s;e+=4)n=d[t.charCodeAt(e)],i=d[t.charCodeAt(e+1)],r=d[t.charCodeAt(e+2)],o=d[t.charCodeAt(e+3)],c[l++]=n<<2|i>>4,c[l++]=(15&i)<<4|r>>2,c[l++]=(3&r)<<6|63&o;return u}}();var fr={};(function(t){function r(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=r.buffer}t[e]=i}}}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,e=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),n=e&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),i=o&&o.prototype.append&&o.prototype.getBlob;fr=e?n?t.Blob:function(t,e){return r(t),new Blob(t,e||{})}:i?function(t,e){e=e||{};var n=new o;r(t);for(var i=0;i<t.length;i++)n.append(t[i]);return e.type?n.getBlob(e.type):n.getBlob()}:void 0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var mr=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e},gr={exports:{}};(function(v){!function(t){function s(t){for(var e,n,i=[],r=0,o=t.length;r<o;)55296<=(e=t.charCodeAt(r++))&&e<=56319&&r<o?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function i(t,e){if(55296<=t&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function r(t,e){return p(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return p(t);var n="";return 0==(4294965248&t)?n=p(t>>6&31|192):0==(4294901760&t)?(i(t,e)||(t=65533),n=p(t>>12&15|224),n+=r(t,6)):0==(4292870144&t)&&(n=p(t>>18&7|240),n+=r(t,12),n+=r(t,6)),n+p(63&t|128)}function o(){if(d<=h)throw Error("Invalid byte index");var t=255&c[h];if(h++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function a(t){var e,n;if(d<h)throw Error("Invalid byte index");if(h==d)return!1;if(e=255&c[h],h++,0==(128&e))return e;if(192==(224&e)){if(128<=(n=(31&e)<<6|o()))return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if(2048<=(n=(15&e)<<12|o()<<6|o()))return i(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&65536<=(n=(7&e)<<18|o()<<12|o()<<6|o())&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var e="object"==typeof gr.exports&&gr.exports,n=gr&&gr.exports==e&&gr,u="object"==typeof v&&v;u.global!==u&&u.window!==u||(t=u);var c,d,h,p=String.fromCharCode,f={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,i=s(t),r=i.length,o=-1,a="";++o<r;)a+=l(i[o],n);return a},decode:function(t,e){var n=!1!==(e=e||{}).strict;c=s(t),d=c.length,h=0;for(var i,r=[];!1!==(i=a(n));)r.push(i);return function(t){for(var e,n=t.length,i=-1,r="";++i<n;)65535<(e=t[i])&&(r+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),r+=p(e);return r}(r)}};if(e&&!e.nodeType)if(n)n.exports=f;else{var m={}.hasOwnProperty;for(var g in f)m.call(f,g)&&(e[g]=f[g])}else t.utf8=f}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),gr=gr.exports;var vr={}.toString,yr=Array.isArray||function(t){return"[object Array]"==vr.call(t)},br={};(function(r){var o=Object.prototype.toString,a="function"==typeof r.Blob||"[object BlobConstructor]"===o.call(r.Blob),s="function"==typeof r.File||"[object FileConstructor]"===o.call(r.File);br=function o(t){if(!t||"object"!=typeof t)return!1;if(yr(t)){for(var e=0,n=t.length;e<n;e++)if(o(t[e]))return!0;return!1}if("function"==typeof r.Buffer&&r.Buffer.isBuffer&&r.Buffer.isBuffer(t)||"function"==typeof r.ArrayBuffer&&t instanceof ArrayBuffer||a&&t instanceof Blob||s&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return o(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&o(t[i]))return!0;return!1}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wr={};(function(l){function r(t,e,n){for(var r=new Array(t.length),i=dr(t.length,n),o=function(n,t,i){e(t,function(t,e){r[n]=e,i(t,r)})},a=0;a<t.length;a++)o(a,t[a],i)}var o;l&&l.ArrayBuffer&&(o=pr);var t="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),e="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),a=t||e;wr.protocol=3;var u=wr.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},s=mr(u),h={type:"error",data:"parser error"};wr.encodePacket=function(t,s,e,n){"function"==typeof s&&(n=s,s=!1),"function"==typeof e&&(n=e,e=null);var i,r=void 0===t.data?void 0:t.data.buffer||t.data;if(l.ArrayBuffer&&r instanceof ArrayBuffer)return function(t,e,n){if(!s)return wr.encodeBase64Packet(t,n);var i=t.data,r=new Uint8Array(i),o=new Uint8Array(1+i.byteLength);o[0]=u[t.type];for(var a=0;a<r.length;a++)o[a+1]=r[a];return n(o.buffer)}(t,0,n);if(fr&&r instanceof l.Blob)return function(t,e,n){if(!e)return wr.encodeBase64Packet(t,n);if(a)return function(t,e,n){if(!e)return wr.encodeBase64Packet(t,n);var i=new FileReader;return i.onload=function(){t.data=i.result,wr.encodePacket(t,e,!0,n)},i.readAsArrayBuffer(t.data)}(t,e,n);var i=new Uint8Array(1);return i[0]=u[t.type],n(new fr([i.buffer,t.data]))}(t,s,n);if(r&&r.base64)return i=t,n("b"+wr.packets[i.type]+i.data.data);var o=u[t.type];return void 0!==t.data&&(o+=e?gr.encode(String(t.data),{strict:!1}):String(t.data)),n(""+o)},wr.encodeBase64Packet=function(t,e){var n,i="b"+wr.packets[t.type];if(fr&&t.data instanceof l.Blob){var r=new FileReader;return r.onload=function(){var t=r.result.split(",")[1];e(i+t)},r.readAsDataURL(t.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(l){for(var o=new Uint8Array(t.data),a=new Array(o.length),s=0;s<o.length;s++)a[s]=o[s];n=String.fromCharCode.apply(null,a)}return i+=l.btoa(n),e(i)},wr.decodePacket=function(t,e,n){if(void 0===t)return h;if("string"==typeof t){if("b"===t.charAt(0))return wr.decodeBase64Packet(t.substr(1),e);if(n&&!1===(t=function(t){try{t=gr.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return h;var i=t.charAt(0);return Number(i)==i&&s[i]?1<t.length?{type:s[i],data:t.substring(1)}:{type:s[i]}:h}i=new Uint8Array(t)[0];var r=hr(t,1);return fr&&"blob"===e&&(r=new fr([r])),{type:s[i],data:r}},wr.decodeBase64Packet=function(t,e){var n=s[t.charAt(0)];if(!o)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=o.decode(t.substr(1));return"blob"===e&&fr&&(i=new fr([i])),{type:n,data:i}},wr.encodePayload=function(t,e,n){"function"==typeof e&&(n=e,e=null);var i=br(t);return e&&i?fr&&!a?wr.encodePayloadAsBlob(t,n):wr.encodePayloadAsArrayBuffer(t,n):t.length?void r(t,function(t,n){wr.encodePacket(t,!!i&&e,!1,function(t){var e;n(null,(e=t).length+":"+e)})},function(t,e){return n(e.join(""))}):n("0:")},wr.decodePayload=function(t,e,n){if("string"!=typeof t)return wr.decodePayloadAsBinary(t,e,n);var i;if("function"==typeof e&&(n=e,e=null),""===t)return n(h,0,1);for(var r,o,a="",s=0,l=t.length;s<l;s++){var u=t.charAt(s);if(":"===u){if(""===a||a!=(r=Number(a)))return n(h,0,1);if(a!=(o=t.substr(s+1,r)).length)return n(h,0,1);if(o.length){if(i=wr.decodePacket(o,e,!1),h.type===i.type&&h.data===i.data)return n(h,0,1);if(!1===n(i,s+r,l))return}s+=r,a=""}else a+=u}return""!==a?n(h,0,1):void 0},wr.encodePayloadAsArrayBuffer=function(t,i){if(!t.length)return i(new ArrayBuffer(0));r(t,function(t,e){wr.encodePacket(t,!0,!0,function(t){return e(null,t)})},function(t,e){var n=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),a=new Uint8Array(n),s=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);n=i.buffer}a[s++]=e?0:1;var o=n.byteLength.toString();for(r=0;r<o.length;r++)a[s++]=parseInt(o[r]);for(a[s++]=255,i=new Uint8Array(n),r=0;r<i.length;r++)a[s++]=i[r]}),i(a.buffer)})},wr.encodePayloadAsBlob=function(t,n){r(t,function(t,s){wr.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);t=n.buffer,e[0]=0}var r=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),o=new Uint8Array(r.length+1);for(i=0;i<r.length;i++)o[i]=parseInt(r[i]);if(o[r.length]=255,fr){var a=new fr([e.buffer,o.buffer,t]);s(null,a)}})},function(t,e){return n(new fr(e))})},wr.decodePayloadAsBinary=function(t,n,i){"function"==typeof n&&(i=n,n=null);for(var e=t,r=[];0<e.byteLength;){for(var o=new Uint8Array(e),a=0===o[0],s="",l=1;255!==o[l];l++){if(310<s.length)return i(h,0,1);s+=o[l]}e=hr(e,2+s.length),s=parseInt(s);var u=hr(e,0,s);if(a)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(t){var c=new Uint8Array(u);for(u="",l=0;l<c.length;l++)u+=String.fromCharCode(c[l])}r.push(u),e=hr(e,s)}var d=r.length;r.forEach(function(t,e){i(wr.decodePacket(t,n,!0),e,d)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var _r={};cr((_r=D).prototype),D.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},D.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},D.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},D.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},D.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},D.prototype.onData=function(t){var e=wr.decodePacket(t,this.socket.binaryType);this.onPacket(e)},D.prototype.onPacket=function(t){this.emit("packet",t)},D.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var xr=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},kr={};try{kr="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Z){kr=!1}var Cr={};(function(r){Cr=function(t){var e=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||kr))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(r){}if(!e)try{return new(r[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Sr={};(Sr=Sr=M.debug=M["default"]=M).coerce=function(t){return t instanceof Error?t.stack||t.message:t},Sr.disable=function(){Sr.enable("")},Sr.enable=function(t){var e;Sr.save(t),Sr.names=[],Sr.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?Sr.skips.push(new RegExp("^"+t.substr(1)+"$")):Sr.names.push(new RegExp("^"+t+"$")));for(e=0;e<Sr.instances.length;e++){var r=Sr.instances[e];r.enabled=Sr.enabled(r.namespace)}},Sr.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=Sr.skips.length;e<n;e++)if(Sr.skips[e].test(t))return!1;for(e=0,n=Sr.names.length;e<n;e++)if(Sr.names[e].test(t))return!0;return!1},Sr.humanize=rr,Sr.instances=[],Sr.names=[],Sr.skips=[],Sr.formatters={};var Tr={};(function(e){function t(){var t;try{t=Tr.storage.debug}catch(e){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t}(Tr=Tr=Sr).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},Tr.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+Tr.humanize(this.diff),e){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(r=++i)}),t.splice(r,0,n)}},Tr.save=function(t){try{null==t?Tr.storage.removeItem("debug"):Tr.storage.debug=t}catch(t){}},Tr.load=t,Tr.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},Tr.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),Tr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],Tr.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},Tr.enable(t())}).call(this,tt);for(var $r,Er={encode:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},decode:function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},Ar={},Dr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Mr=64,Pr={},Ir=0,Lr=0;Lr<Mr;Lr++)Pr[Dr[Lr]]=Lr;L.encode=I,L.decode=function(t){var e=0;for(Lr=0;Lr<t.length;Lr++)e=e*Mr+Pr[t.charAt(Lr)];return e},Ar=L;var Or=Tr("engine.io-client:polling"),Fr=O,Nr=null!=new Cr({xdomain:!1}).responseType;xr(O,_r),O.prototype.name="polling",O.prototype.doOpen=function(){this.poll()},O.prototype.pause=function(t){function e(){Or("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(Or("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){Or("pre-pause polling complete"),--i||e()})),this.writable||(Or("we are currently writing - waiting to pause"),i++,this.once("drain",function(){Or("pre-pause writing complete"),--i||e()}))}else e()},O.prototype.poll=function(){Or("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},O.prototype.onData=function(t){var e=this;Or("polling got data %s",t),wr.decodePayload(t,this.socket.binaryType,function(t){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Or('ignoring poll - transport state "%s"',this.readyState))},O.prototype.doClose=function(){function t(){Or("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(Or("transport open - closing"),t()):(Or("transport not open - deferring close"),this.once("open",t))},O.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};wr.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},O.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=Ar()),this.supportsBinary||t.sid||(t.b64=1),t=Er.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t};var Rr={};(function(n){function i(){}function t(t){Fr.call(this,t),this.query=this.query||{},r||(n.___eio||(n.___eio=[]),r=n.___eio),this.index=r.length;var e=this;r.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=i)},!1)}var r,u=/\n/g,c=/\\n/g;xr(Rr=t,Fr),t.prototype.supportsBinary=!1,t.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Fr.prototype.doClose.call(this)},t.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},t.prototype.doWrite=function(t,e){function n(){i(),e()}function i(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';o=document.createElement(t)}catch(t){(o=document.createElement("iframe")).name=r.iframeId,o.src="javascript:0"}o.id=r.iframeId,r.form.appendChild(o),r.iframe=o}var r=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=l,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),i(),t=t.replace(c,"\\\n"),this.area.value=t.replace(u,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var jr={};(function(r){function e(){}function t(t){if(Fr.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,r.location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd=t.hostname!==r.location.hostname||n!==t.port,this.xs=t.secure!==e}}function o(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function n(){for(var t in o.requests)o.requests.hasOwnProperty(t)&&o.requests[t].abort()}var a=Tr("engine.io-client:polling-xhr");(jr=t).Request=o,xr(t,Fr),t.prototype.supportsBinary=!0,t.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new o(t)},t.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),r=this;i.on("success",e),i.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=i},t.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},cr(o.prototype),o.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new Cr(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&e.setRequestHeader(i,this.extraHeaders[i])}catch(r){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{e.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(
e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},a("xhr data %s",this.data),e.send(this.data)}catch(r){return void setTimeout(function(){n.onError(r)},0)}r.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},o.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},o.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=e:this.xhr.onreadystatechange=e,t)try{this.xhr.abort()}catch(r){}r.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},o.prototype.hasXDR=function(){return void 0!==r.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},o.requestsCount=0,o.requests={},r.document&&(r.attachEvent?r.attachEvent("onunload",n):r.addEventListener&&r.addEventListener("beforeunload",n,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var zr={},qr={};(function(o){function t(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=n&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(i=e),_r.call(this,t)}var e,a=Tr("engine.io-client:websocket"),n=o.WebSocket||o.MozWebSocket;if("undefined"==typeof window)try{e=zr}catch(o){}var i=n;i||"undefined"!=typeof window||(i=e),xr(qr=t,_r),t.prototype.name="websocket",t.prototype.supportsBinary=!0,t.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new i(t,e):new i(t):new i(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},t.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},t.prototype.write=function(t){var i=this;this.writable=!1;for(var r=t.length,e=0,n=r;e<n;e++)!function(n){wr.encodePacket(n,i.supportsBinary,function(t){if(!i.usingBrowserWebSocket){var e={};n.options&&(e.compress=n.options.compress),i.perMessageDeflate&&("string"==typeof t?o.Buffer.byteLength(t):t.length)<i.perMessageDeflate.threshold&&(e.compress=!1)}try{i.usingBrowserWebSocket?i.ws.send(t):i.ws.send(t,e)}catch(o){a("websocket closed before onclose event")}--r||(i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0))})}(t[e])},t.prototype.onClose=function(){_r.prototype.onClose.call(this)},t.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},t.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=Ar()),this.supportsBinary||(t.b64=1),(t=Er.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},t.prototype.check=function(){return!(!i||"__initialize"in i&&this.name===t.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Br={};(function(a){Br.polling=function(t){var e=!1,n=!1,i=!1!==t.jsonp;if(a.location){var r="https:"===location.protocol,o=location.port;o||(o=r?443:80),e=t.hostname!==location.hostname||o!==t.port,n=t.secure!==r}if(t.xdomain=e,t.xscheme=n,"open"in new Cr(t)&&!t.forceJSONP)return new jr(t);if(!i)throw new Error("JSONP disabled");return new Rr(t)},Br.websocket=qr}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ur=[].indexOf,Hr=function(t,e){if(Ur)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1},Wr=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Yr=function(t){var e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));for(var r=Wr.exec(t||""),o={},a=14;a--;)o[Vr[a]]=r[a]||"";return-1!=n&&-1!=i&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o},Gr={};(function(i){function d(t,e){if(!(this instanceof d))return new d(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=Yr(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=Yr(e.host).host),this.secure=null!=e.secure?e.secure:i.location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(i.location?location.hostname:"localhost"),this.port=e.port||(i.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=Er.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode;var n="object"==typeof i&&i;n.global===n&&(e.extraHeaders&&0<Object.keys(e.extraHeaders).length&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}var h=Tr("engine.io-client:socket");(Gr=d).priorWebsocketSuccess=!1,cr(d.prototype),d.protocol=wr.protocol,(d.Socket=d).Transport=_r,d.transports=Br,d.parser=wr,d.prototype.createTransport=function(t){h('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=wr.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new Br[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},d.prototype.open=function(){var t;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},d.prototype.setTransport=function(t){h("setting transport %s",t.name);var e=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=t).on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},d.prototype.probe=function(n){function t(){if(c.onlyBinaryUpgrades){var t=!this.supportsBinary&&c.transport.supportsBinary;u=u||t}u||(h('probe transport "%s" opened',n),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(t){if(!u)if("pong"===t.type&&"probe"===t.data){if(h('probe transport "%s" pong',n),c.upgrading=!0,c.emit("upgrading",l),!l)return;d.priorWebsocketSuccess="websocket"===l.name,h('pausing current transport "%s"',c.transport.name),c.transport.pause(function(){u||"closed"!==c.readyState&&(h("changing transport and sending upgrade packet"),s(),c.setTransport(l),l.send([{type:"upgrade"}]),c.emit("upgrade",l),l=null,c.upgrading=!1,c.flush())})}else{h('probe transport "%s" failed',n);var e=new Error("probe error");e.transport=l.name,c.emit("upgradeError",e)}}))}function i(){u||(u=!0,s(),l.close(),l=null)}function e(t){var e=new Error("probe error: "+t);e.transport=l.name,i(),h('probe transport "%s" failed because of error: %s',n,t),c.emit("upgradeError",e)}function r(){e("transport closed")}function o(){e("socket closed")}function a(t){l&&t.name!==l.name&&(h('"%s" works - aborting "%s"',t.name,l.name),i())}function s(){l.removeListener("open",t),l.removeListener("error",e),l.removeListener("close",r),c.removeListener("close",o),c.removeListener("upgrading",a)}h('probing transport "%s"',n);var l=this.createTransport(n,{probe:1}),u=!1,c=this;d.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",e),l.once("close",r),this.once("close",o),this.once("upgrading",a),l.open()},d.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},d.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else h('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},d.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},d.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},d.prototype.sendPacket=function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}},d.prototype.close=function(){function t(){i.onClose("forced close"),h("socket closing - telling transport to close"),i.transport.close()}function e(){i.removeListener("upgrade",e),i.removeListener("upgradeError",e),t()}function n(){i.once("upgrade",e),i.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},d.prototype.onError=function(t){h("socket error %j",t),d.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},d.prototype.onClose=function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(h('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},d.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~Hr(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Kr={};(Kr=Gr).parser=wr;var Xr=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}},Jr={};(function(e){Jr=function(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Qr={};(function(t){var e=Object.prototype.toString,c="function"==typeof t.Blob||"[object BlobConstructor]"===e.call(t.Blob),d="function"==typeof t.File||"[object FileConstructor]"===e.call(t.File);Qr.deconstructPacket=function(a){var t=[],e=a.data,n=a;return n.data=function a(t,e){if(!t)return t;if(Jr(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(yr(t)){for(var i=new Array(t.length),r=0;r<t.length;r++)i[r]=a(t[r],e);return i}if("object"!=typeof t||t instanceof Date)return t;for(var o in i={},t)i[o]=a(t[o],e);return i}(e,t),n.attachments=t.length,{packet:n,buffers:t}},Qr.reconstructPacket=function(r,t){return r.data=function r(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(yr(t))for(var n=0;n<t.length;n++)t[n]=r(t[n],e);else if("object"==typeof t)for(var i in t)t[i]=r(t[i],e);return t}(r.data,t),r.attachments=void 0,r},Qr.removeBlobs=function(a,s){var l=0,u=a;!function a(t,e,n){if(!t)return t;if(c&&t instanceof Blob||d&&t instanceof File){l++;var i=new FileReader;i.onload=function(){n?n[e]=this.result:u=this.result,--l||s(u)},i.readAsArrayBuffer(t)}else if(yr(t))for(var r=0;r<t.length;r++)a(t[r],r,t);else if("object"==typeof t&&!Jr(t))for(var o in t)a(t[o],o,t)}(u),l||s(u)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Zr={};(Zr=Zr=F.debug=F["default"]=F).coerce=function(t){return t instanceof Error?t.stack||t.message:t},Zr.disable=function(){Zr.enable("")},Zr.enable=function(t){var e;Zr.save(t),Zr.names=[],Zr.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?Zr.skips.push(new RegExp("^"+t.substr(1)+"$")):Zr.names.push(new RegExp("^"+t+"$")));for(e=0;e<Zr.instances.length;e++){var r=Zr.instances[e];r.enabled=Zr.enabled(r.namespace)}},Zr.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=Zr.skips.length;e<n;e++)if(Zr.skips[e].test(t))return!1;for(e=0,n=Zr.names.length;e<n;e++)if(Zr.names[e].test(t))return!0;return!1},Zr.humanize=rr,Zr.instances=[],Zr.names=[],Zr.skips=[],Zr.formatters={};var to={};(function(e){function t(){var t;try{t=to.storage.debug}catch(e){}return!t&&void 0!==e&&"env"in e&&(t=e.env.DEBUG),t}(to=to=Zr).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},to.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+to.humanize(this.diff),e){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(r=++i)}),t.splice(r,0,n)}},to.save=function(t){try{null==t?to.storage.removeItem("debug"):to.storage.debug=t}catch(t){}},to.load=t,to.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},to.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),to.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],to.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},to.enable(t())}).call(this,tt);var eo={},no=to("socket.io-parser");eo.protocol=4,eo.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],eo.CONNECT=0,eo.DISCONNECT=1,eo.EVENT=2,eo.ACK=3,eo.ERROR=4,eo.BINARY_EVENT=5,eo.BINARY_ACK=6,eo.Encoder=R,eo.Decoder=z,R.prototype.encode=function(t,e){var n,r;t.type!==eo.EVENT&&t.type!==eo.ACK||!br(t.data)||(t.type=t.type===eo.EVENT?eo.BINARY_EVENT:eo.BINARY_ACK),no("encoding packet %j",t),eo.BINARY_EVENT===t.type||eo.BINARY_ACK===t.type?(n=t,r=e,Qr.removeBlobs(n,function(t){var e=Qr.deconstructPacket(t),n=j(e.packet),i=e.buffers;i.unshift(n),r(i)})):e([j(t)])},cr(z.prototype),z.prototype.add=function(t){var e;if("string"==typeof t)e=function(t){var e=0,n={type:Number(t.charAt(0))};if(null==eo.types[n.type])return B("unknown packet type "+n.type);if(eo.BINARY_EVENT===n.type||eo.BINARY_ACK===n.type){for(var i="";"-"!==t.charAt(++e)&&(i+=t.charAt(e),e!=t.length););if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1))for(n.nsp="";++e&&","!==(o=t.charAt(e))&&(n.nsp+=o,e!==t.length););else n.nsp="/";var r=t.charAt(e+1);if(""!==r&&Number(r)==r){for(n.id="";++e;){var o;if(null==(o=t.charAt(e))||Number(o)!=o){--e;break}if(n.id+=t.charAt(e),e===t.length)break}n.id=Number(n.id)}if(t.charAt(++e)){var a=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e));if(!1===a||n.type!==eo.ERROR&&!yr(a))return B("invalid payload");n.data=a}return no("decoded %s as %j",t,n),n}(t),eo.BINARY_EVENT===e.type||eo.BINARY_ACK===e.type?(this.reconstructor=new q(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!Jr(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},z.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},q.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length!==this.reconPack.attachments)return null;var e=Qr.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e},q.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};var io=function(t,e){for(var n=[],i=(e=e||0)||0;i<t.length;i++)n[i-e]=t[i];return n},ro={},oo=ar("socket.io-client:socket");ro=ro=U;var ao={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},so=cr.prototype.emit;cr(U.prototype),U.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[Xr(t,"open",ur(this,"onopen")),Xr(t,"packet",ur(this,"onpacket")),Xr(t,"close",ur(this,"onclose"))]}},U.prototype.open=U.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},U.prototype.send=function(){var t=io(arguments);return t.unshift("message"),this.emit.apply(this,t),this},U.prototype.emit=function(t){if(ao.hasOwnProperty(t))return so.apply(this,arguments),this;var e=io(arguments),n={type:eo.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(oo("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},U.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},U.prototype.onopen=function(){if(oo("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?Er.encode(this.query):this.query;oo("sending connect packet with query %s",t),this.packet({type:eo.CONNECT,query:t})}else this.packet({type:eo.CONNECT})},U.prototype.onclose=function(t){oo("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},U.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case eo.CONNECT:this.onconnect();break;case eo.EVENT:case eo.BINARY_EVENT:this.onevent(t);break;case eo.ACK:case eo.BINARY_ACK:this.onack(t);break;case eo.DISCONNECT:this.ondisconnect();break;case eo.ERROR:this.emit("error",t.data)}},U.prototype.onevent=function(t){var e=t.data||[];oo("emitting event %j",e),null!=t.id&&(oo("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?so.apply(this,e):this.receiveBuffer.push(e)},U.prototype.ack=function(e){var n=this,i=!1;return function(){if(!i){i=!0;var t=io(arguments);oo("sending ack %j",t),n.packet({type:eo.ACK,id:e,data:t})}}},U.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(oo("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):oo("bad ack %s",t.id)},U.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},U.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)so.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},U.prototype.ondisconnect=function(){oo("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},U.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},U.prototype.close=U.prototype.disconnect=function(){return this.connected&&(oo("performing disconnect (%s)",this.nsp),this.packet({type:eo.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},U.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this};var lo={},uo=ar("socket.io-client:manager"),co=Object.prototype.hasOwnProperty;(lo=H).prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)co.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},H.prototype.updateSocketIds=function(){for(var t in this.nsps)co.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},H.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},cr(H.prototype),H.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},H.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},H.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},H.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},H.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},H.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},H.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},H.prototype.open=H.prototype.connect=function(n){if(uo("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;uo("opening %s",this.uri),this.engine=Kr(this.uri,this.opts);var t=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var e=Xr(t,"open",function(){i.onopen(),n&&n()}),r=Xr(t,"error",function(t){if(uo("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),n){var e=new Error("Connection error");e.data=t,n(e)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;uo("connect attempt will timeout after %d",o);var a=setTimeout(function(){uo("connect attempt timed out after %d",o),e.destroy(),t.close(),t.emit("error","timeout"),i.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(e),this.subs.push(r),this},H.prototype.onopen=function(){uo("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(Xr(t,"data",ur(this,"ondata"))),this.subs.push(Xr(t,"ping",ur(this,"onping"))),this.subs.push(Xr(t,"pong",ur(this,"onpong"))),this.subs.push(Xr(t,"error",ur(this,"onerror"))),this.subs.push(Xr(t,"close",ur(this,"onclose"))),this.subs.push(Xr(this.decoder,"decoded",ur(this,"ondecoded")))},H.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},H.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},H.prototype.ondata=function(t){this.decoder.add(t)},H.prototype.ondecoded=function(t){this.emit("packet",t)},H.prototype.onerror=function(t){uo("error",t),this.emitAll("error",t)},H.prototype.socket=function(t,e){function n(){~Hr(r.connecting,i)||r.connecting.push(i)}var i=this.nsps[t];if(!i){i=new ro(this,t,e),this.nsps[t]=i;var r=this;i.on("connecting",n),i.on("connect",function(){i.id=r.generateId(t)}),this.autoConnect&&n()}return i},H.prototype.destroy=function(t){var e=Hr(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},H.prototype.packet=function(n){uo("writing packet %j",n);var i=this;n.query&&0===n.type&&(n.nsp+="?"+n.query),i.encoding?i.packetBuffer.push(n):(i.encoding=!0,this.encoder.encode(n,function(t){for(var e=0;e<t.length;e++)i.engine.write(t[e],n.options);i.encoding=!1,i.processPacketQueue()}))},H.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},H.prototype.cleanup=function(){uo("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},H.prototype.close=H.prototype.disconnect=function(){uo("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},H.prototype.onclose=function(t){uo("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},H.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)uo("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();uo("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(uo("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(uo("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(uo("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},H.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)};var ho={};(function(r){var o=ar("socket.io-client:url");ho=function(t,e){var n=t;e=e||r.location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),n=Yr(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(e&&e.port===n.port?"":":"+n.port),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var po={},fo=ar("socket.io-client"),mo=(po=po=W).managers={};po.protocol=eo.protocol,po.connect=W,po.Manager=lo,po.Socket=ro;var go={},vo=Object.prototype.hasOwnProperty;go.stringify=function(t,e){e=e||"";var n=[];for(var i in"string"!=typeof e&&(e="?"),t)vo.call(t,i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return n.length?e+n.join("&"):""
},go.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,i={};e=n.exec(t);i[V(e[1])]=V(e[2]));return i};var yo=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t},bo={};(function(r){"use strict";function p(t){var e,n={},i=typeof(t=t||r.location||{});if("blob:"===t.protocol)n=new m(unescape(t.pathname),{});else if("string"===i)for(e in n=new m(t,{}),a)delete n[e];else if("object"===i){for(e in t)e in a||(n[e]=t[e]);void 0===n.slashes&&(n.slashes=o.test(t.href))}return n}function f(t){var e=n.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function m(t,a,e){if(!(this instanceof m))return new m(t,a,e);var n,i,r,o,s,l,u=g.slice(),c=typeof a,d=this,h=0;for("object"!==c&&"string"!==c&&(e=a,a=null),e&&"function"!=typeof e&&(e=go.parse),a=p(a),n=!(i=f(t||"")).protocol&&!i.slashes,d.slashes=i.slashes||n&&a.slashes,d.protocol=i.protocol||a.protocol||"",t=i.rest,i.slashes||(u[2]=[/(.*)/,"pathname"]);h<u.length;h++)r=(o=u[h])[0],l=o[1],r!=r?d[l]=t:"string"==typeof r?~(s=t.indexOf(r))&&(t="number"==typeof o[2]?(d[l]=t.slice(0,s),t.slice(s+o[2])):(d[l]=t.slice(s),t.slice(0,s))):(s=r.exec(t))&&(d[l]=s[1],t=t.slice(0,s.index)),d[l]=d[l]||n&&o[3]&&a[l]||"",o[4]&&(d[l]=d[l].toLowerCase());e&&(d.query=e(d.query)),n&&a.slashes&&"/"!==d.pathname.charAt(0)&&(""!==d.pathname||""!==a.pathname)&&(d.pathname=function(t){for(var e=(a.pathname||"/").split("/").slice(0,-1).concat(t.split("/")),n=e.length,i=e[n-1],r=!1,o=0;n--;)"."===e[n]?e.splice(n,1):".."===e[n]?(e.splice(n,1),o++):o&&(0===n&&(r=!0),e.splice(n,1),o--);return r&&e.unshift(""),"."!==i&&".."!==i||e.push(""),e.join("/")}(d.pathname)),yo(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(o=d.auth.split(":"),d.username=o[0]||"",d.password=o[1]||""),d.origin=d.protocol&&d.host&&"file:"!==d.protocol?d.protocol+"//"+d.host:"null",d.href=d.toString()}var n=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,g=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],a={hash:1,query:1};m.prototype={set:function(t,e,n){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||go.parse)(e)),i[t]=e;break;case"port":i[t]=e,yo(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,/:\d+$/.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(e){var r="pathname"===t?"/":"#";i[t]=e.charAt(0)!==r?r+e:e}else i[t]=e;break;default:i[t]=e}for(var o=0;o<g.length;o++){var a=g[o];a[4]&&(i[a[1]]=i[a[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(t){t&&"function"==typeof t||(t=go.stringify);var e,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var r=i+(n.slashes?"//":"");return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(r+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(r+=n.hash),r}},m.extractProtocol=f,m.location=p,m.qs=go,bo=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_o=function(){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=Mt();this.on=n.on.bind(n),this.off=n.off.bind(n),this.emit=n.emit.bind(n);var i=bo(t);this.assembly=e,this.socket=po.connect(i.origin,{path:i.pathname}),this.attachDefaultHandlers()}return r.prototype.attachDefaultHandlers=function(){var n=this;this.socket.on("connect",function(){n.socket.emit("assembly_connect",{id:n.assembly.assembly_id}),n.emit("connect")}),this.socket.on("assembly_finished",function(){n.emit("finished"),n.close()}),this.socket.on("assembly_upload_finished",function(t){n.emit("upload",t)}),this.socket.on("assembly_uploading_finished",function(){n.emit("executing")}),this.socket.on("assembly_upload_meta_data_extracted",function(){n.emit("metadata")}),this.socket.on("assembly_result_finished",function(t,e){n.emit("result",t,e)}),this.socket.on("assembly_error",function(t){n.emit("error",wo(new Error(t.message),t))})},r.prototype.close=function(){this.socket.disconnect()},r}(),xo={};Object.defineProperty(xo,"__esModule",{value:!0}),xo.setItem=function(t,e){if(ko)return localStorage.setItem(t,e)},xo.getItem=function(t){if(ko)return localStorage.getItem(t)};var ko=!(xo.removeItem=function(t){if(ko)return localStorage.removeItem(t)});try{ko="localStorage"in window;var Co="tusSupport";localStorage.setItem(Co,localStorage.getItem(Co))}catch(Z){if(Z.code!==Z.SECURITY_ERR&&Z.code!==Z.QUOTA_EXCEEDED_ERR)throw Z;ko=!1}xo.canStoreURLs=ko;var So=Object.prototype.hasOwnProperty,To=Object.prototype.toString,$o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===To.call(t)},Eo=function(t){if(!t||"[object Object]"!==To.call(t))return!1;var e,n=So.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&So.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||So.call(t,e)},Ao={};Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.encode=function(t){return Do(unescape(encodeURIComponent(t)))};var Do=window.btoa;Ao.isSupported="btoa"in window;var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.newRequest=function(){return new window.XMLHttpRequest},Mo.resolveUrl=function(t,e){return(0,Io["default"])(t,e)};var Po,Io=(Po=Wt)&&Po.__esModule?Po:{"default":Po},Lo={},Oo=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.getSource=function(t){if("function"==typeof t.slice&&void 0!==t.size)return new Fo(t);throw new Error("source object may only be an instance of File or Blob in this environment")};var Fo=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._file=t,this.size=t.size}return Oo(e,[{key:"slice",value:function(t,e){return this._file.slice(t,e)}},{key:"close",value:function(){}}]),e}(),No={};Object.defineProperty(No,"__esModule",{value:!0});var Ro=function(){function s(t,e,n){var i=arguments.length<=1||void 0===e?null:e,r=arguments.length<=2||void 0===n?null:n;!function(t){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Object.getPrototypeOf(s).call(this,t.message));o.originalRequest=r,o.causingError=i;var a=t.message;return null!=i&&(a+=", caused by "+i.toString()),null!=r&&(a+=", originated from request (response code: "+r.status+", response text: "+r.responseText+")"),o.message=a,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,Error),s}();No["default"]=Ro;var jo={};Object.defineProperty(jo,"__esModule",{value:!0}),jo["default"]=function(t){return["tus",t.name,t.type,t.size,t.lastModified].join("-")};var zo={},qo=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();Object.defineProperty(zo,"__esModule",{value:!0});var Bo=G(jo),Uo=G(No),Ho=G(function Z(t,e){var n,i,r,o,a,s,l=t,u=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=e||{},u=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});u<c;++u)if(null!=(n=arguments[u]))for(i in n)r=l[i],l!==(o=n[i])&&(d&&o&&(Eo(o)||(a=$o(o)))?(s=a?(a=!1,r&&$o(r)?r:[]):r&&Eo(r)?r:{},l[i]=Z(d,s,o)):void 0!==o&&(l[i]=o));return l}),Wo=Y(Ao),Vo=Y(xo),Yo={endpoint:"",fingerprint:Bo["default"],resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null},Go=function(){function n(t,e){!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.options=(0,Ho["default"])(!0,{},Yo,e),this.file=t,this.url=null,this._xhr=null,this._fingerprint=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0}return qo(n,[{key:"start",value:function(){var i=this,t=this.file;if(t)if(this.options.endpoint){var e=this._source=(0,Lo.getSource)(t,this.options.chunkSize);if(null!=this.options.uploadSize){var n=+this.options.uploadSize;if(isNaN(n))throw new Error("tus: cannot convert `uploadSize` option into a number");this._size=n}else{if(null==(n=e.size))throw new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option");this._size=n}var r,o=this.options.retryDelays;if(null!=o){if("[object Array]"!==Object.prototype.toString.call(o))throw new Error("tus: the `retryDelays` option must either be an array or null");r=i.options.onError,i.options.onError=function(t){i.options.onError=r,null!=i._offset&&i._offset>i._offsetBeforeRetry&&(i._retryAttempt=0);var e=!0;if("undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(e=!1),i._retryAttempt<o.length&&null!=t.originalRequest&&!K(t.originalRequest.status,400)&&e){var n=o[i._retryAttempt++];i._offsetBeforeRetry=i._offset,i.options.uploadUrl=i.url,i._retryTimeout=setTimeout(function(){i.start()},n)}else i._emitError(t)}}if(this._aborted=!1,null==this.url){if(null!=this.options.uploadUrl)return this.url=this.options.uploadUrl,void this._resumeUpload();if(this.options.resume){this._fingerprint=this.options.fingerprint(t);var a=Vo.getItem(this._fingerprint);if(null!=a)return this.url=a,void this._resumeUpload()}this._createUpload()}else this._resumeUpload()}else this._emitError(new Error("tus: no endpoint provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"abort",value:function(){null!==this._xhr&&(this._xhr.abort(),this._source.close(),this._aborted=!0),null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null)}},{key:"_emitXhrError",value:function(t,e,n){this._emitError(new Uo["default"](e,n,t))}},{key:"_emitError",value:function(t){if("function"!=typeof this.options.onError)throw t;this.options.onError(t)}},{key:"_emitSuccess",value:function(){"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(t,e){"function"==typeof this.options.onProgress&&this.options.onProgress(t,e)}},{key:"_emitChunkComplete",value:function(t,e,n){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(t,e,n)}},{key:"_setupXHR",value:function(t){(this._xhr=t).setRequestHeader("Tus-Resumable","1.0.0");var e=this.options.headers;for(var n in e)t.setRequestHeader(n,e[n]);t.withCredentials=this.options.withCredentials}},{key:"_createUpload",value:function(){var e=this,n=(0,Mo.newRequest)();n.open("POST",this.options.endpoint,!0),n.onload=function(){if(K(n.status,200)){var t=n.getResponseHeader("Location");null!=t?(e.url=(0,Mo.resolveUrl)(e.options.endpoint,t),e.options.resume&&Vo.setItem(e._fingerprint,e.url),e._offset=0,e._startUpload()):e._emitXhrError(n,new Error("tus: invalid or missing Location header"))}else e._emitXhrError(n,new Error("tus: unexpected response while creating upload"))},n.onerror=function(t){e._emitXhrError(n,new Error("tus: failed to create upload"),t)},this._setupXHR(n),n.setRequestHeader("Upload-Length",this._size);var t=function(t){if(!Wo.isSupported)return"";var e=[];for(var n in t)e.push(n+" "+Wo.encode(t[n]));return e.join(",")}(this.options.metadata);""!==t&&n.setRequestHeader("Upload-Metadata",t),n.send(null)}},{key:"_resumeUpload",value:function(){var n=this,i=(0,Mo.newRequest)();i.open("HEAD",this.url,!0),i.onload=function(){if(!K(i.status,200))return n.options.resume&&K(i.status,400)&&Vo.removeItem(n._fingerprint),423===i.status?void n._emitXhrError(i,new Error("tus: upload is currently locked; retry later")):(n.url=null,void n._createUpload());var t=parseInt(i.getResponseHeader("Upload-Offset"),10);if(isNaN(t))n._emitXhrError(i,new Error("tus: invalid or missing offset value"));else{var e=parseInt(i.getResponseHeader("Upload-Length"),10);if(isNaN(e))n._emitXhrError(i,new Error("tus: invalid or missing length value"));else{if(t===e)return n._emitProgress(e,e),void n._emitSuccess();n._offset=t,n._startUpload()}}},i.onerror=function(t){n._emitXhrError(i,new Error("tus: failed to resume upload"),t)},this._setupXHR(i),i.send(null)}},{key:"_startUpload",value:function(){var e=this;if(!this._aborted){var n=(0,Mo.newRequest)();this.options.overridePatchMethod?(n.open("POST",this.url,!0),n.setRequestHeader("X-HTTP-Method-Override","PATCH")):n.open("PATCH",this.url,!0),n.onload=function(){if(K(n.status,200)){var t=parseInt(n.getResponseHeader("Upload-Offset"),10);if(isNaN(t))e._emitXhrError(n,new Error("tus: invalid or missing offset value"));else{if(e._emitProgress(t,e._size),e._emitChunkComplete(t-e._offset,t,e._size),(e._offset=t)==e._size)return e._emitSuccess(),void e._source.close();e._startUpload()}}else e._emitXhrError(n,new Error("tus: unexpected response while uploading chunk"))},n.onerror=function(t){e._aborted||e._emitXhrError(n,new Error("tus: failed to upload chunk at offset "+e._offset),t)},"upload"in n&&(n.upload.onprogress=function(t){t.lengthComputable&&e._emitProgress(i+t.loaded,e._size)}),this._setupXHR(n),n.setRequestHeader("Upload-Offset",this._offset),n.setRequestHeader("Content-Type","application/offset+octet-stream");var i=this._offset,t=this._offset+this.options.chunkSize;(t===1/0||t>this._size)&&(t=this._size),n.send(this._source.slice(i,t)),this._emitProgress(this._offset,this._size)}}}]),n}();Go.defaultOptions=Yo,zo["default"]=Go;var Ko,Xo=(Ko=zo)&&Ko.__esModule?Ko:{"default":Ko};if(Xo["default"].defaultOptions,"undefined"!=typeof window){var Jo=window,Qo=Jo.XMLHttpRequest,Zo=Jo.Blob;Qo&&Zo&&Zo.prototype.slice}var ta,ea={Upload:Xo["default"]},na=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ia="undefined"==typeof Promise?lt.Promise:Promise,ra=pt.emitSocketProgress,oa=pt.getSocketHost,aa=pt.settle,sa={endpoint:"",resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null},la=function(i){function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t,e));return n.type="uploader",n.id="Tus",n.title="Tus",n.opts=na({},{resume:!0,autoRetry:!0,retryDelays:[0,1e3,3e3,5e3]},e),n.uploaders=Object.create(null),n.uploaderEvents=Object.create(null),n.uploaderSockets=Object.create(null),n.handleResetProgress=n.handleResetProgress.bind(n),n.handleUpload=n.handleUpload.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.handleResetProgress=function(){var n=na({},this.uppy.state.files);Object.keys(n).forEach(function(t){if(n[t].tus&&n[t].tus.uploadUrl){var e=na({},n[t].tus);delete e.uploadUrl,n[t]=na({},n[t],{tus:e})}}),this.uppy.setState({files:n})},r.prototype.resetUploaderReferences=function(t){this.uploaders[t]&&(this.uploaders[t].abort(),this.uploaders[t]=null),this.uploaderEvents[t]&&(this.uploaderEvents[t].remove(),this.uploaderEvents[t]=null),this.uploaderSockets[t]&&(this.uploaderSockets[t].close(),this.uploaderSockets[t]=null)},r.prototype.upload=function(r){var o=this;return this.resetUploaderReferences(r.id),new ia(function(e,n){var t=na({},sa,o.opts,r.tus||{});t.onError=function(t){o.uppy.log(t),o.uppy.emit("upload-error",r,t),t.message="Failed because: "+t.message,o.resetUploaderReferences(r.id),n(t)},t.onProgress=function(t,e){o.onReceiveUploadUrl(r,i.url),o.uppy.emit("upload-progress",r,{uploader:o,bytesUploaded:t,bytesTotal:e})},t.onSuccess=function(){o.uppy.emit("upload-success",r,i,i.url),i.url&&o.uppy.log("Download "+i.file.name+" from "+i.url),o.resetUploaderReferences(r.id),e(i)},t.metadata=r.meta;var i=new ea.Upload(r.data,t);o.uploaders[r.id]=i,o.uploaderEvents[r.id]=X(o.uppy),o.onFileRemove(r.id,function(t){o.resetUploaderReferences(r.id),e("upload "+t+" was removed")}),o.onPause(r.id,function(t){t?i.abort():i.start()}),o.onPauseAll(r.id,function(){i.abort()}),o.onCancelAll(r.id,function(){o.resetUploaderReferences(r.id)}),o.onResumeAll(r.id,function(){r.error&&i.abort(),i.start()}),r.isPaused||i.start(),r.isRestored||o.uppy.emit("upload-started",r,i)})},r.prototype.uploadRemote=function(n){var i=this;this.resetUploaderReferences(n.id);var r=na({},this.opts,n.tus||{});return new ia(function(t,e){if(i.uppy.log(n.remote.url),n.serverToken)return i.connectToServerSocket(n).then(function(){return t()})["catch"](e);i.uppy.emit("upload-started",n),fetch(n.remote.url,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(na({},n.remote.body,{endpoint:r.endpoint,uploadUrl:r.uploadUrl,protocol:"tus",size:n.data.size,metadata:n.meta}))}).then(function(t){return t.status<200||300<t.status?e(t.statusText):t.json().then(function(t){return i.uppy.setFileState(n.id,{serverToken:t.token}),n=i.getFile(n.id)})}).then(function(t){return i.connectToServerSocket(t)}).then(function(){t()})["catch"](function(t){e(new Error(t))})})},r.prototype.connectToServerSocket=function(o){var a=this;return new ia(function(e,n){var t=o.serverToken,i=oa(o.remote.host),r=new Vt({target:i+"/api/"+t});a.uploaderSockets[o.id]=r,a.uploaderEvents[o.id]=X(a.uppy),a.onFileRemove(o.id,function(){r.send("pause",{}),e("upload "+o.id+" was removed")}),a.onPause(o.id,function(t){t?r.send("pause",{}):r.send("resume",{})}),a.onPauseAll(o.id,function(){return r.send("pause",{})}),a.onCancelAll(o.id,function(){return r.send("pause",{})}),a.onResumeAll(o.id,function(){o.error&&r.send("pause",{}),r.send("resume",{})}),a.onRetry(o.id,function(){r.send("pause",{}),r.send("resume",{})}),a.onRetryAll(o.id,function(){r.send("pause",{}),r.send("resume",{})}),o.isPaused&&r.send("pause",{}),r.on("progress",function(t){return ra(a,t,o)}),r.on("error",function(t){a.uppy.emit("upload-error",o,new Error(t.error)),n(new Error(t.error))}),r.on("success",function(t){a.uppy.emit("upload-success",o,t,t.url),a.resetUploaderReferences(o.id),e()})})},r.prototype.getFile=function(t){return this.uppy.state.files[t]},r.prototype.updateFile=function(t){var e,n=na({},this.uppy.state.files,((e={})[t.id]=t,e));this.uppy.setState({files:n})},r.prototype.onReceiveUploadUrl=function(t,e){var n=this.getFile(t.id);if(n&&(!n.tus||n.tus.uploadUrl!==e)&&this.opts.resume){this.uppy.log("[Tus] Storing upload url");var i=na({},n,{tus:na({},n.tus,{uploadUrl:e})});this.updateFile(i)}},r.prototype.onFileRemove=function(e,n){this.uploaderEvents[e].on("file-removed",function(t){e===t.id&&n(t.id)})},r.prototype.onPause=function(n,i){this.uploaderEvents[n].on("upload-pause",function(t,e){n===t&&i(e)})},r.prototype.onRetry=function(e,n){this.uploaderEvents[e].on("upload-retry",function(t){e===t&&n()})},r.prototype.onRetryAll=function(t,e){var n=this;this.uploaderEvents[t].on("retry-all",function(){n.uppy.getFile(t)&&e()})},r.prototype.onPauseAll=function(t,e){var n=this;this.uploaderEvents[t].on("pause-all",function(){n.uppy.getFile(t)&&e()})},r.prototype.onCancelAll=function(t,e){var n=this;this.uploaderEvents[t].on("cancel-all",function(){n.uppy.getFile(t)&&e()})},r.prototype.onResumeAll=function(t,e){var n=this;this.uploaderEvents[t].on("resume-all",function(){n.uppy.getFile(t)&&e()})},r.prototype.uploadFiles=function(r){var o=this,t=r.map(function(t,e){var n=parseInt(e,10)+1,i=r.length;return t.error?ia.reject(new Error(t.error)):(o.uppy.log("uploading "+n+" of "+i),t.isRemote?o.uploadRemote(t,n,i):o.upload(t,n,i))});return aa(t)},r.prototype.handleUpload=function(t){var e=this;if(0===t.length)return this.uppy.log("Tus: no files to upload!"),ia.resolve();this.uppy.log("Tus is uploading...");var n=t.map(function(t){return e.uppy.getFile(t)});return this.uploadFiles(n).then(function(){return null})},r.prototype.addResumableUploadsCapabilityFlag=function(){var t=na({},this.uppy.getState().capabilities);t.resumableUploads=!0,this.uppy.setState({capabilities:t})},r.prototype.install=function(){this.addResumableUploadsCapabilityFlag(),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress),this.opts.autoRetry&&this.uppy.on("back-online",this.uppy.retryAll)},r.prototype.uninstall=function(){this.uppy.removeUploader(this.handleUpload),this.opts.autoRetry&&this.uppy.off("back-online",this.uppy.retryAll)},r}(vt),ua=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ca="undefined"==typeof Promise?lt.Promise:Promise,da=function(o){function a(t,e){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));n.type="uploader",n.id="Transloadit";var i={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}},r={service:"https://api2.transloadit.com",waitForEncoding:!(n.title="Transloadit"),waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:J,locale:i};return n.opts=ua({},r,e),n.locale=ua({},i,n.opts.locale),n.locale.strings=ua({},i.strings,n.opts.locale.strings),n.translator=new Lt({locale:n.locale}),n.i18n=n.translator.translate.bind(n.translator),n.prepareUpload=n.prepareUpload.bind(n),n.afterUpload=n.afterUpload.bind(n),n.onFileUploadURLAvailable=n.onFileUploadURLAvailable.bind(n),n.onRestored=n.onRestored.bind(n),n.getPersistentData=n.getPersistentData.bind(n),n.opts.params&&n.validateParams(n.opts.params),n.client=new tr({service:n.opts.service}),n.sockets={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.validateParams=function(t){if(!t)throw new Error("Transloadit: The `params` option is required.");if("string"==typeof t)try{t=JSON.parse(t)}catch(t){throw t.message="Transloadit: The `params` option is a malformed JSON string: "+t.message,t}if(!t.auth||!t.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/accounts/credentials.")},a.prototype.getAssemblyOptions=function(t){var i=this,r=this.opts;return ca.all(t.map(function(e){var n=i.uppy.getFile(e);return ca.resolve().then(function(){return r.getAssemblyOptions(n,r)}).then(function(t){return function(e,n){if(Array.isArray(n.fields)){var t=n.fields;n.fields={},t.forEach(function(t){n.fields[t]=e.meta[t]})}return n.fields||(n.fields={}),n}(n,t)}).then(function(t){return i.validateParams(t.params),{fileIDs:[e],options:t}})}))},a.prototype.dedupeAssemblyOptions=function(t){var o=Object.create(null);return t.forEach(function(t){var e,n=t.fileIDs,i=t.options,r=JSON.stringify(i);o[r]?(e=o[r].fileIDs).push.apply(e,n):o[r]={options:i,fileIDs:[].concat(n)}}),Object.keys(o).map(function(t){return o[t]})},a.prototype.createAssembly=function(s,l,t){var u=this,c=this.opts;return this.uppy.log("[Transloadit] create Assembly"),this.client.createAssembly({params:t.params,fields:t.fields,expectedFiles:s.length,signature:t.signature}).then(function(e){var t,n,i=u.getPluginState(),r=i.uploadsAssemblies[l],o=ua({},i.uploadsAssemblies,((t={})[l]=r.concat([e.assembly_id]),t));u.setPluginState({assemblies:ua(i.assemblies,(n={},n[e.assembly_id]=e,n)),uploadsAssemblies:o});var a=ua({},u.uppy.state.files);return s.forEach(function(t){a[t]=function(t,e){var n={assembly_url:e.assembly_url,filename:t.name,fieldname:"file"},i=ua({},t.meta,n),r=ua({},t.tus,{endpoint:e.tus_url}),o=void 0;if(t.remote){var a=e.uppyserver_url;a.endsWith("/")&&(a=a.slice(0,-1));var s=t.remote.url.replace(t.remote.host,"");s.startsWith("/")&&(s=s.slice(1)),o=ua({},t.remote,{host:a,url:a+"/"+s})}var l={assembly:e.assembly_id},u=ua({},t,{transloadit:l});return c.importFromUploadURLs||ua(u,{meta:i,tus:r,remote:o}),u}(a[t],e)}),u.uppy.setState({files:a}),u.uppy.emit("transloadit:assembly-created",e,s),u.connectSocket(e).then(function(){return e})}).then(function(t){return u.uppy.log("[Transloadit] Created Assembly"),t})["catch"](function(t){throw u.uppy.info(u.i18n("creatingAssemblyFailed"),"error",0),t})},a.prototype.shouldWait=function(){return this.opts.waitForEncoding||this.opts.waitForMetadata},a.prototype.reserveFiles=function(n,t){var i=this;return ca.all(t.map(function(t){var e=i.uppy.getFile(t);return i.client.reserveFile(n,e)}))},a.prototype.onFileUploadURLAvailable=function(e){var n=this;if(e&&e.transloadit&&e.transloadit.assembly){var i=this.getPluginState().assemblies[e.transloadit.assembly];this.client.addFile(i,e)["catch"](function(t){n.uppy.log(t),n.uppy.emit("transloadit:import-error",i,e.id,t)})}},a.prototype.findFile=function(t){var e=this.uppy.state.files;for(var n in e)if(e.hasOwnProperty(n)){if(e[n].uploadURL===t.tus_upload_url)return e[n];if(e[n].tus&&e[n].tus.uploadUrl===t.tus_upload_url)return e[n];if(!t.is_tus_file&&e[n].name===t.name&&e[n].size===t.size)return e[n]}},a.prototype.onFileUploadComplete=function(t,e){var n,i=this.getPluginState(),r=this.findFile(e);r?(this.setPluginState({files:ua({},i.files,(n={},n[e.id]={assembly:t,id:r.id,uploadedFile:e},n))}),this.uppy.emit("transloadit:upload",e,this.getAssembly(t))):this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process")},a.prototype.onResult=function(t,e,n){var i=this.getPluginState(),r=i.files[n.original_id];n.localId=r?r.id:null;var o={result:n,stepName:e,id:n.id,assembly:t};this.setPluginState({results:[].concat(i.results,[o])}),this.uppy.emit("transloadit:result",e,n,this.getAssembly(t))},a.prototype.onAssemblyFinished=function(t){var i=this;this.client.getAssemblyStatus(t).then(function(t){var e,n=i.getPluginState();i.setPluginState({assemblies:ua({},n.assemblies,(e={},e[t.assembly_id]=t,e))}),i.uppy.emit("transloadit:complete",t)})},a.prototype.getPersistentData=function(t){var e,n=this.getPluginState(),i=n.assemblies,r=n.uploadsAssemblies,o=Object.keys(n.files),a=n.results.map(function(t){return t.id});t(((e={})[this.id]={assemblies:i,uploadsAssemblies:r,uploads:o,results:a},e))},a.prototype.emitEventsDiff=function(n){var o=this,a=this.opts,s=this.getPluginState();!function(){var t=Object.keys(s.files).filter(function(t){return!n.files.hasOwnProperty(t)}).map(function(t){return s.files[t]}),e=s.results.filter(function(e){return!n.results.some(function(t){return t.id===e.id})});o.uppy.log("[Transloadit] New fully uploaded files since restore:"),o.uppy.log(t),t.forEach(function(t){var e=t.assembly,n=t.uploadedFile;o.uppy.log("[Transloadit]  emitting transloadit:upload "+n.id),o.uppy.emit("transloadit:upload",n,o.getAssembly(e))}),o.uppy.log("[Transloadit] New results since restore:"),o.uppy.log(e),e.forEach(function(t){var e=t.assembly,n=t.stepName,i=t.result,r=t.id;o.uppy.log("[Transloadit]  emitting transloadit:result "+n+", "+r),o.uppy.emit("transloadit:result",n,i,o.getAssembly(e))});var i=s.assemblies,r=n.assemblies;o.uppy.log("[Transloadit] Current Assembly status after restore"),o.uppy.log(i),o.uppy.log("[Transloadit] Assembly status before restore"),o.uppy.log(r),Object.keys(i).forEach(function(t){var e,n;e=r[t],n=i[t],o.uppy.log("[Transloadit] Diff assemblies"),o.uppy.log(e),o.uppy.log(n),a.waitForEncoding&&"ASSEMBLY_COMPLETED"===n.ok&&"ASSEMBLY_COMPLETED"!==e.ok?(o.uppy.log("[Transloadit]  Emitting transloadit:complete for "+n.assembly_id),o.uppy.log(n),o.uppy.emit("transloadit:complete",n)):a.waitForMetadata&&n.upload_meta_data_extracted&&!e.upload_meta_data_extracted&&(o.uppy.log("[Transloadit]  Emitting transloadit:complete after metadata extraction for "+n.assembly_id),o.uppy.log(n),o.uppy.emit("transloadit:complete",n)),n.error&&!e.error&&(o.uppy.log("[Transloadit]  !!! Emitting transloadit:assembly-error for "+n.assembly_id),o.uppy.log(n),o.uppy.emit("transloadit:assembly-error",n,new Error(n.message)))})}()},a.prototype.onRestored=function(t){var s=this,e=t&&t[this.id]?t[this.id]:{},i=e.files||[],r=e.results||[],o=e.assemblies||{},l=e.uploadsAssemblies||{};0!==Object.keys(l).length&&(this.restored=ca.resolve().then(function(){var e=[];return Object.keys(l).forEach(function(t){e.push.apply(e,l[t])}),ca.all(e.map(function(t){var e="https://api2.transloadit.com/assemblies/"+t;return s.client.getAssemblyStatus(e)}))}).then(function(t){return n={},o={},a=[],t.forEach(function(i){(n[i.assembly_id]=i).uploads.forEach(function(t){var e=s.findFile(t);o[t.id]={id:e.id,assembly:i.assembly_id,uploadedFile:t}});var r=s.getPluginState();Object.keys(i.results).forEach(function(n){i.results[n].forEach(function(t){var e=r.files[t.original_id];t.localId=e?e.id:null,a.push({id:t.id,result:t,stepName:n,assembly:i.assembly_id})})})}),s.setPluginState({assemblies:n,files:o,results:a,uploadsAssemblies:l}),e=t,ca.all(e.map(function(t){return"ASSEMBLY_COMPLETE"===t.ok?null:s.connectSocket(t)}));var e,n,o,a}).then(function(){var e=s.getPluginState(),n={};return i.forEach(function(t){n[t]=e.files[t]}),function(){return s.emitEventsDiff({assemblies:o,files:n,results:e.results.filter(function(t){var e=t.id;return-1!==r.indexOf(e)}),uploadsAssemblies:l})}}),this.restored.then(function(){s.restored=null}))},a.prototype.connectSocket=function(e){var n=this,i=new _o(e.websocket_url,e);return(this.sockets[e.assembly_id]=i).on("upload",this.onFileUploadComplete.bind(this,e.assembly_id)),i.on("error",function(t){n.uppy.emit("transloadit:assembly-error",e,t)}),i.on("executing",function(){n.uppy.emit("transloadit:assembly-executing",e)}),this.opts.waitForEncoding&&i.on("result",this.onResult.bind(this,e.assembly_id)),this.opts.waitForEncoding?i.on("finished",function(){n.onAssemblyFinished(e.assembly_ssl_url)}):this.opts.waitForMetadata&&i.on("metadata",function(){n.onAssemblyFinished(e.assembly_ssl_url)}),new ca(function(t,e){i.on("connect",t),i.on("error",e)}).then(function(){n.uppy.log("[Transloadit] Socket is ready")})},a.prototype.prepareUpload=function(e,i){var t,r=this;(e=e.filter(function(t){return!t.error})).forEach(function(t){var e=r.uppy.getFile(t);r.uppy.emit("preprocess-progress",e,{mode:"indeterminate",message:r.i18n("creatingAssembly")})});var n=function(t){var e=t.fileIDs,n=t.options;return r.createAssembly(e,i,n).then(function(t){if(r.opts.importFromUploadURLs)return r.reserveFiles(t,e)}).then(function(){e.forEach(function(t){var e=r.uppy.getFile(t);r.uppy.emit("preprocess-complete",e)})})["catch"](
function(n){throw e.forEach(function(t){var e=r.uppy.getFile(t);r.uppy.emit("preprocess-complete",e),r.uppy.emit("upload-error",e,n)}),n})},o=this.getPluginState(),a=ua({},o.uploadsAssemblies,((t={})[i]=[],t));this.setPluginState({uploadsAssemblies:a});var s=void 0;if(0<e.length)s=this.getAssemblyOptions(e).then(function(t){return r.dedupeAssemblyOptions(t)});else{if(!this.opts.alwaysRunAssembly)return ca.resolve();s=ca.resolve(this.opts.getAssemblyOptions(null,this.opts)).then(function(t){return r.validateParams(t.params),[{fileIDs:e,options:t}]})}return s.then(function(t){return ca.all(t.map(n))})},a.prototype.afterUpload=function(a,s){var l=this;a=a.filter(function(t){return!t.error});var t=this.getPluginState();if(this.restored)return this.restored.then(function(t){var e=l.afterUpload(a,s);return t(),e});var u=t.uploadsAssemblies[s];if(!this.shouldWait()){u.forEach(function(t){l.sockets[t].close()});var e=u.map(function(t){return l.getAssembly(t)});return this.uppy.addResultData(s,{transloadit:e}),ca.resolve()}if(0===u.length)return this.uppy.addResultData(s,{transloadit:[]}),ca.resolve();var c=0;return new ca(function(e){a.forEach(function(t){var e=l.uppy.getFile(t);l.uppy.emit("postprocess-progress",e,{mode:"indeterminate",message:l.i18n("encoding")})});var t=function(t){-1!==u.indexOf(t.assembly_id)?(l.uppy.log("[Transloadit] afterUpload(): Got Assembly finish "+t.assembly_id),l.getAssemblyFiles(t.assembly_id).forEach(function(t){l.uppy.emit("postprocess-complete",t)}),r()):l.uppy.log("[Transloadit] afterUpload(): Ignoring finished Assembly "+t.assembly_id)},i=function(t,e){-1!==u.indexOf(t.assembly_id)?(l.uppy.log("[Transloadit] afterUpload(): Got Assembly error "+t.assembly_id),l.uppy.log(e),l.getAssemblyFiles(t.assembly_id).forEach(function(t){l.uppy.emit("upload-error",t,e),l.uppy.emit("postprocess-complete",t)}),r()):l.uppy.log("[Transloadit] afterUpload(): Ignoring errored Assembly "+t.assembly_id)},n=function(t,e,n){-1!==u.indexOf(t.assembly_id)&&i(t,n)},r=function(){if((c+=1)===u.length){o();var t=u.map(function(t){return l.getAssembly(t)});l.uppy.addResultData(s,{transloadit:t}),e()}},o=function(){l.uppy.off("transloadit:complete",t),l.uppy.off("transloadit:assembly-error",i),l.uppy.off("transloadit:import-error",n)};l.uppy.on("transloadit:complete",t),l.uppy.on("transloadit:assembly-error",i),l.uppy.on("transloadit:import-error",n)}).then(function(t){var e=l.getPluginState(),n=ua({},e.uploadsAssemblies);return delete n[s],l.setPluginState({uploadsAssemblies:n}),t})},a.prototype.install=function(){this.uppy.addPreProcessor(this.prepareUpload),this.uppy.addPostProcessor(this.afterUpload),this.opts.importFromUploadURLs?this.uppy.on("upload-success",this.onFileUploadURLAvailable):this.uppy.use(la,{resume:!1,metaFields:["assembly_url","filename","fieldname"]}),this.uppy.on("restore:get-data",this.getPersistentData),this.uppy.on("restored",this.onRestored),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]})},a.prototype.uninstall=function(){this.uppy.removePreProcessor(this.prepareUpload),this.uppy.removePostProcessor(this.afterUpload),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",this.onFileUploadURLAvailable)},a.prototype.getAssembly=function(t){return this.getPluginState().assemblies[t]},a.prototype.getAssemblyFiles=function(e){var n=this;return Object.keys(this.uppy.state.files).map(function(t){return n.uppy.getFile(t)}).filter(function(t){return t&&t.transloadit&&t.transloadit.assembly===e})},a}(vt),ha=Z.h,pa=function(n){function i(t){!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return e.handleKeyPress=e.handleKeyPress.bind(e),e.handleClick=e.handleClick.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i.prototype.componentDidMount=function(){var t=this;this.input.value="",setTimeout(function(){t.input.focus({preventScroll:!0})},150)},i.prototype.handleKeyPress=function(t){13===t.keyCode&&this.props.addFile(this.input.value)},i.prototype.handleClick=function(){this.props.addFile(this.input.value)},i.prototype.render=function(){var e=this;return ha("div",{"class":"uppy-Url"},ha("input",{"class":"uppy-c-textInput uppy-Url-input",type:"text",placeholder:this.props.i18n("enterUrlToImport"),onkeyup:this.handleKeyPress,ref:function(t){e.input=t}}),ha("button",{"class":"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button","aria-label":this.props.i18n("import"),onclick:this.handleClick},this.props.i18n("import")))},i}(Z.Component),fa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ma=Z.h,ga=Ln.RequestClient;ta=function(o){function a(t,e){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));n.id=n.opts.id||"Url",n.title="Link",n.type="acquirer",n.icon=function(){return ma("svg",{"aria-hidden":"true","class":"UppyIcon UppyModalTab-icon",width:"64",height:"64",viewBox:"0 0 64 64"},ma("circle",{cx:"32",cy:"32",r:"31"}),ma("g",{"fill-rule":"nonzero",fill:"#FFF"},ma("path",{d:"M25.774 47.357a4.077 4.077 0 0 1-5.76 0L16.9 44.24a4.076 4.076 0 0 1 0-5.758l5.12-5.12-1.817-1.818-5.12 5.122a6.651 6.651 0 0 0 0 9.392l3.113 3.116a6.626 6.626 0 0 0 4.699 1.943c1.7 0 3.401-.649 4.697-1.943l10.241-10.243a6.591 6.591 0 0 0 1.947-4.696 6.599 6.599 0 0 0-1.947-4.696l-3.116-3.114-1.817 1.817 3.116 3.114a4.045 4.045 0 0 1 1.194 2.88 4.045 4.045 0 0 1-1.194 2.878L25.774 47.357z"}),ma("path",{d:"M46.216 14.926a6.597 6.597 0 0 0-4.696-1.946h-.001a6.599 6.599 0 0 0-4.696 1.945L26.582 25.167a6.595 6.595 0 0 0-1.947 4.697 6.599 6.599 0 0 0 1.946 4.698l3.114 3.114 1.818-1.816-3.114-3.114a4.05 4.05 0 0 1-1.194-2.882c0-1.086.424-2.108 1.194-2.878L38.64 16.744a4.042 4.042 0 0 1 2.88-1.194c1.089 0 2.11.425 2.88 1.194l3.114 3.114a4.076 4.076 0 0 1 0 5.758l-5.12 5.12 1.818 1.817 5.12-5.122a6.649 6.649 0 0 0 0-9.393l-3.113-3.114-.003.002z"})))};var i={strings:{"import":"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Uppy Server failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}},r={locale:i};if(n.opts=fa({},r,e),n.locale=fa({},i,n.opts.locale),n.locale.strings=fa({},i.strings,n.opts.locale.strings),n.translator=new Lt({locale:n.locale}),n.i18n=n.translator.translate.bind(n.translator),n.hostname=n.opts.host,!n.hostname)throw new Error("Uppy Server hostname is required, please consult https://uppy.io/docs/server");return n.getMeta=n.getMeta.bind(n),n.addFile=n.addFile.bind(n),n.server=new ga(t,{host:n.opts.host}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.getFileNameFromUrl=function(t){return t.substring(t.lastIndexOf("/")+1)},a.prototype.checkIfCorrectURL=function(t){if(!t)return!1;var e=t.match(/^([a-z0-9]+):\/\//)[1];return"http"===e||"https"===e},a.prototype.addProtocolToURL=function(t){return/^[a-z0-9]+:\/\//.test(t)?t:"http://"+t},a.prototype.getMeta=function(t){var e=this;return this.server.post("url/meta",{url:t}).then(function(t){if(t.error)throw e.uppy.log("[URL] Error:"),e.uppy.log(t.error),new Error("Failed to fetch the file");return t})},a.prototype.addFile=function(e){var n=this;return e=this.addProtocolToURL(e),this.checkIfCorrectURL(e)?this.getMeta(e).then(function(t){return{source:n.id,name:n.getFileNameFromUrl(e),type:t.type,data:{size:t.size},isRemote:!0,body:{url:e},remote:{host:n.opts.host,url:n.hostname+"/url/get",body:{fileId:e,url:e}}}}).then(function(t){return n.uppy.log("[Url] Adding remote file"),n.uppy.addFile(t)}).then(function(){var t=n.uppy.getPlugin("Dashboard");t&&t.hideAllPanels()})["catch"](function(t){n.uppy.log(t),n.uppy.info({message:n.i18n("failedToFetch"),details:t},"error",4e3)}):(this.uppy.log("[URL] Incorrect URL entered: "+e),void this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3))},a.prototype.render=function(){return ma(pa,{i18n:this.i18n,addFile:this.addFile})},a.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},a.prototype.uninstall=function(){this.unmount()},a}(vt);var va=Z.h,ya=function(){return va("svg",{"aria-hidden":"true","class":"UppyIcon",width:"66",height:"55",viewBox:"0 0 66 55",xmlns:"http://www.w3.org/2000/svg"},va("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z","fill-rule":"evenodd"}))},ba=Z.h,wa=Z.h,_a=Z.h,xa=function(t){function e(){return function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.props.onFocus(),this.btnContainer.firstChild.focus()},e.prototype.componentWillUnmount=function(){this.props.onStop()},e.prototype.render=function(){var t,e,n,i,r,o,a,s,l=this,u=this.props.supportsRecording&&(Q(this.props.modes,"video-only")||Q(this.props.modes,"audio-only")||Q(this.props.modes,"video-audio")),c=Q(this.props.modes,"picture");return _a("div",{"class":"uppy uppy-Webcam-container"},_a("div",{"class":"uppy-Webcam-videoContainer"},_a("video",{"class":"uppy-Webcam-video  "+(this.props.mirror?"uppy-Webcam-video--mirrored":""),autoplay:!0,muted:!0,playsinline:!0,srcObject:this.props.src||""})),_a("div",{"class":"uppy-Webcam-buttonContainer",ref:function(t){l.btnContainer=t}},c?(e=(t=this.props).onSnapshot,n=t.i18n,wa("button",{"class":"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:n("takePicture"),"aria-label":n("takePicture"),onclick:e},ya())):null," ",u?(i=this.props,r=i.recording,o=i.onStartRecording,a=i.onStopRecording,s=i.i18n,r?ba("button",{"class":"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:s("stopRecording"),"aria-label":s("stopRecording"),onclick:a},ba("svg",{"aria-hidden":"true","class":"UppyIcon",width:"100",height:"100",viewBox:"0 0 100 100"},ba("circle",{cx:"50",cy:"50",r:"40"}))):ba("button",{"class":"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:s("startRecording"),"aria-label":s("startRecording"),onclick:o},ba("svg",{"aria-hidden":"true","class":"UppyIcon",width:"100",height:"100",viewBox:"0 0 100 100"},ba("rect",{x:"15",y:"15",width:"70",height:"70"})))):null))},e}(Z.Component),ka=Z.h,Ca=function(t){return ka("div",{"class":"uppy-Webcam-permissons"},ka("div",{"class":"uppy-Webcam-permissonsIcon"},t.icon()),ka("h1",{"class":"uppy-Webcam-Title"},"Please allow access to your camera"),ka("p",null,"You have been prompted to allow camera access from this site.",ka("br",null),"In order to take pictures with your camera you must approve this request."))},Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$a="undefined"==typeof Promise?lt.Promise:Promise,Ea=Z.h,Aa=pt.getFileTypeExtension,Da=pt.canvasToBlob,Ma=function(o){function a(t,e){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,e));n.mediaDevices=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices;var i=navigator.mozGetUserMedia||navigator.webkitGetUserMedia;return i?{getUserMedia:function(n){return new $a(function(t,e){i.call(navigator,n,t,e)})}}:null}(),n.supportsUserMedia=!!n.mediaDevices,n.protocol=location.protocol.match(/https/i)?"https":"http",n.id=n.opts.id||"Webcam",n.title="Camera",n.type="acquirer",n.icon=ya;var i={strings:{smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording"}},r={onBeforeSnapshot:function(){return $a.resolve()},countdown:!1,locale:i,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,facingMode:"user"};return n.opts=Ta({},r,e),n.locale=Ta({},i,n.opts.locale),n.locale.strings=Ta({},i.strings,n.opts.locale.strings),n.translator=new Lt({locale:n.locale}),n.i18n=n.translator.translate.bind(n.translator),n.install=n.install.bind(n),n.setPluginState=n.setPluginState.bind(n),n.render=n.render.bind(n),n.start=n.start.bind(n),n.stop=n.stop.bind(n),n.takeSnapshot=n.takeSnapshot.bind(n),n.startRecording=n.startRecording.bind(n),n.stopRecording=n.stopRecording.bind(n),n.oneTwoThreeSmile=n.oneTwoThreeSmile.bind(n),n.focus=n.focus.bind(n),n.webcamActive=!1,n.opts.countdown&&(n.opts.onBeforeSnapshot=n.oneTwoThreeSmile),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.isSupported=function(){return!!this.mediaDevices},a.prototype.getConstraints=function(){return{audio:-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("audio-only"),video:!(-1===this.opts.modes.indexOf("video-audio")&&-1===this.opts.modes.indexOf("video-only")&&-1===this.opts.modes.indexOf("picture"))&&{facingMode:this.opts.facingMode}}},a.prototype.start=function(){var e=this;if(!this.isSupported())return $a.reject(new Error("Webcam access not supported"));this.webcamActive=!0;var t=this.getConstraints();return this.mediaDevices.getUserMedia(t).then(function(t){e.stream=t,e.setPluginState({cameraReady:!0})})["catch"](function(t){e.setPluginState({cameraError:t})})},a.prototype.startRecording=function(){var e=this;this.recorder=new MediaRecorder(this.stream),this.recordingChunks=[],this.recorder.addEventListener("dataavailable",function(t){e.recordingChunks.push(t.data)}),this.recorder.start(),this.setPluginState({isRecording:!0})},a.prototype.stopRecording=function(){var e=this;return new $a(function(t){e.recorder.addEventListener("stop",function(){t()}),e.recorder.stop()}).then(function(){return e.setPluginState({isRecording:!1}),e.getVideo()}).then(function(t){return e.uppy.addFile(t)}).then(function(){e.recordingChunks=null,e.recorder=null;var t=e.uppy.getPlugin("Dashboard");t&&t.hideAllPanels()},function(t){throw e.recordingChunks=null,e.recorder=null,t})},a.prototype.stop=function(){this.stream.getAudioTracks().forEach(function(t){t.stop()}),this.stream.getVideoTracks().forEach(function(t){t.stop()}),this.webcamActive=!1,this.stream=null},a.prototype.getVideoElement=function(){return this.el.querySelector(".uppy-Webcam-video")},a.prototype.oneTwoThreeSmile=function(){var r=this;return new $a(function(t,e){var n=r.opts.countdown,i=setInterval(function(){if(!r.webcamActive)return clearInterval(i),r.captureInProgress=!1,e(new Error("Webcam is not active"));0<n?(r.uppy.info(n+"...","warning",800),n--):(clearInterval(i),r.uppy.info(r.i18n("smile"),"success",1500),setTimeout(function(){return t()},1500))},1e3)})},a.prototype.takeSnapshot=function(){var n=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot()["catch"](function(t){var e="object"===(void 0===t?"undefined":Sa(t))?t.message:t;return n.uppy.info(e,"error",5e3),$a.reject(new Error("onBeforeSnapshot: "+e))}).then(function(){return n.getImage()}).then(function(t){n.captureInProgress=!1;var e=n.uppy.getPlugin("Dashboard");return e&&e.hideAllPanels(),n.uppy.addFile(t)["catch"](function(){})},function(t){throw n.captureInProgress=!1,t}))},a.prototype.getImage=function(){var e=this,t=this.getVideoElement();if(!t)return $a.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var n="webcam-"+Date.now()+".jpg",i=t.videoWidth,r=t.videoHeight,o=document.createElement("canvas");return o.width=i,o.height=r,o.getContext("2d").drawImage(t,0,0),Da(o,"image/jpeg").then(function(t){return{source:e.id,name:n,data:new File([t],n,{type:"image/jpeg"}),type:"image/jpeg"}})},a.prototype.getVideo=function(){var t=this.recordingChunks[0].type,e=Aa(t);if(!e)return $a.reject(new Error('Could not retrieve recording: Unsupported media type "'+t+'"'));var n="webcam-"+Date.now()+"."+e,i=new Blob(this.recordingChunks,{type:t}),r={source:this.id,name:n,data:new File([i],n,{type:t}),type:t};return $a.resolve(r)},a.prototype.focus=function(){var t=this;this.opts.countdown||setTimeout(function(){t.uppy.info(t.i18n("smile"),"success",1500)},1e3)},a.prototype.render=function(){this.webcamActive||this.start();var t=this.getPluginState();return t.cameraReady?Ea(xa,Ta({},t,{onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,supportsRecording:"function"==typeof MediaRecorder&&!!MediaRecorder.prototype&&"function"==typeof MediaRecorder.prototype.start,recording:t.isRecording,mirror:this.opts.mirror,src:this.stream})):Ea(Ca,{icon:ya})},a.prototype.install=function(){this.setPluginState({cameraReady:!1});var t=this.opts.target;t&&this.mount(t,this)},a.prototype.uninstall=function(){this.stream&&this.stop(),this.unmount()},a}(vt);return{Core:Ht,views:Kn,server:Ln,Plugin:vt,StatusBar:fn,ProgressBar:Xi,Informer:We,DragDrop:$n,GoogleDrive:Bi,Dropbox:ti,Instagram:Yi,Url:ta,FileInput:ri,Tus:la,XHRUpload:Zt,Transloadit:da,AwsS3:re,Dashboard:kn,Webcam:Ma,Form:mi,ThumbnailGenerator:vn,GoldenRetriever:Ni,ReduxDevTools:Qi}}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=t()}(function(){return function c(o,a,s){function l(e,t){if(!a[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[e]={exports:{}};o[e][0].call(r.exports,function(t){return l(o[e][1][t]||t)},r,r.exports,c,o,a,s)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(){},{}],2:[function(t,e){function n(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3})$/i);if(i){i=i[1];for(var r=0;r<e.length;r++)e[r]=parseInt(i[r]+i[r],16)}else if(i=t.match(/^#([a-fA-F0-9]{6})$/i))for(i=i[1],r=0;r<e.length;r++)e[r]=parseInt(i.slice(2*r,2*r+2),16);else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=parseInt(i[r+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=Math.round(2.55*parseFloat(i[r+1]));n=parseFloat(i[4])}else if(i=t.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=c[i[1]]))return}for(r=0;r<e.length;r++)e[r]=l(e[r],0,255);return n=n||0==n?l(n,0,1):1,e[3]=n,e}}function i(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[l(parseInt(e[1]),0,360),l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(n)?1:n,0,1)]}}}function r(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[l(parseInt(e[1]),0,360),l(parseFloat(e[2]),0,100),l(parseFloat(e[3]),0,100),l(isNaN(n)?1:n,0,1)]}}}function o(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function a(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function s(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function l(t,e,n){return Math.min(Math.max(e,t),n)}function u(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var c=t(6);e.exports={getRgba:n,getHsla:i,getRgb:function(t){var e=n(t);return e&&e.slice(0,3)},getHsl:function(t){var e=i(t);return e&&e.slice(0,3)},getHwb:r,getAlpha:function(t){var e=n(t);return e?e[3]:(e=i(t))?e[3]:(e=r(t))?e[3]:void 0},hexString:function(t){return"#"+u(t[0])+u(t[1])+u(t[2])},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?o(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:o,percentString:function(t,e){return e<1||t[3]&&t[3]<1?a(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:a,hslString:function(t,e){return e<1||t[3]&&t[3]<1?s(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:s,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return d[t.slice(0,3)]}};var d={};for(var h in c)d[c[h]]=h},{6:6}],3:[function(t,e){var c=t(5),n=t(2),a=function(t){return t instanceof a?t:this instanceof a?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=n.getRgba(t))?this.setValues("rgb",e):(e=n.getHsla(t))?this.setValues("hsl",e):(e=n.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new a(t);var e};a.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return n<e?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,i=t,r=void 0===e?.5:e,o=2*r-1,a=n.alpha()-i.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new a,i=this.values,r=n.values;for(var o in i)i.hasOwnProperty(o)&&(t=i[o],"[object Array]"===(e={}.toString.call(t))?r[o]=t.slice(0):"[object Number]"===e?r[o]=t:console.error("unexpected color value:",t));return n}},a.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},a.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},a.prototype.setValues=function(t,e){var n,i,r=this.values,o=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[o[t][0]]){var l=o[t];for(n=0;n<t.length;n++)r[t][n]=e[l[n]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(a[t][n],r[t][n])),r[t][n]=Math.round(i);for(var u in o)u!==t&&(r[u]=c[t][u](r[t]));return!0},a.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},a.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:(n===i[e]||(i[e]=n,this.setValues(t,i)),this)},"undefined"!=typeof window&&(window.Color=a),e.exports=a},{2:2,5:5}],4:[function(t,e){function o(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return s==a?e=0:i==s?e=(r-o)/l:r==s?e=2+(o-i)/l:o==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function n(t){var e,n,i=t[0],r=t[1],o=t[2],a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?e=0:i==s?e=(r-o)/l:r==s?e=2+(o-i)/l:o==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]}function i(t){var e=t[0],n=t[1],i=t[2];return[o(t)[0],1/255*Math.min(e,Math.min(n,i))*100,100*(i=1-1/255*Math.max(e,Math.max(n,i)))]}function a(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]}function s(t){return C[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function u(t){var e=l(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))]}function c(t){var e,n,i,r,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[o=255*l,o,o];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(i=a+1/3*-(u-1))<0&&i++,1<i&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[u]=255*o;return r}function d(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function h(t){var e,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(1<u&&(s/=u,l/=u),i=6*a-(e=Math.floor(6*a)),0!=(1&e)&&(i=1-i),o=s+i*((n=1-l)-s),e){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function p(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function f(t){var e,n,i,r=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,e=.0031308<(e=3.2406*r+-1.5372*o+-.4986*a)?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function m(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]}function v(t){var e,n,i,r,o=t[0],a=t[1],s=t[2];return r=o<=8?(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),n,
i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function y(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]}function w(t){return f(v(t))}function _(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]}function x(t){return k[t]}e.exports={rgb2hsl:o,rgb2hsv:n,rgb2hwb:i,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:u,rgb2lch:function(t){return y(u(t))},hsl2rgb:c,hsl2hsv:function(t){var e=t[0],n=t[1]/100,i=t[2]/100;return 0===i?[0,0,0]:[e,2*(n*=(i*=2)<=1?i:2-i)/(i+n)*100,(i+n)/2*100]},hsl2hwb:function(t){return i(c(t))},hsl2cmyk:function(t){return a(c(t))},hsl2keyword:function(t){return s(c(t))},hsv2rgb:d,hsv2hsl:function(t){var e,n,i=t[0],r=t[1]/100,o=t[2]/100;return e=r*o,[i,100*(e=(e/=(n=(2-r)*o)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(t){return i(d(t))},hsv2cmyk:function(t){return a(d(t))},hsv2keyword:function(t){return s(d(t))},hwb2rgb:h,hwb2hsl:function(t){return o(h(t))},hwb2hsv:function(t){return n(h(t))},hwb2cmyk:function(t){return a(h(t))},hwb2keyword:function(t){return s(h(t))},cmyk2rgb:p,cmyk2hsl:function(t){return o(p(t))},cmyk2hsv:function(t){return n(p(t))},cmyk2hwb:function(t){return i(p(t))},cmyk2keyword:function(t){return s(p(t))},keyword2rgb:x,keyword2hsl:function(t){return o(x(t))},keyword2hsv:function(t){return n(x(t))},keyword2hwb:function(t){return i(x(t))},keyword2cmyk:function(t){return a(x(t))},keyword2lab:function(t){return u(x(t))},keyword2xyz:function(t){return l(x(t))},xyz2rgb:f,xyz2lab:m,xyz2lch:function(t){return y(m(t))},lab2xyz:v,lab2rgb:w,lab2lch:y,lch2lab:_,lch2xyz:function(t){return v(_(t))},lch2rgb:function(t){return w(_(t))}};var k={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},C={};for(var S in k)C[JSON.stringify(k[S])]=S},{}],5:[function(t,e){var r=t(4),o=function(){return new l};for(var n in r){o[n+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(n);var i=/(\w+)2(\w+)/.exec(n),a=i[1],s=i[2];(o[a]=o[a]||{})[s]=o[n]=function(i){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var e=r[i](t);if("string"==typeof e||void 0===e)return e;for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]);return e}}(n)}var l=function(){this.convs={}};l.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},l.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},l.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=o[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){l.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),e.exports=o},{4:4}],6:[function(t,e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e){var n=t(29)();n.helpers=t(45),t(27)(n),n.defaults=t(25),n.Element=t(26),n.elements=t(40),n.Interaction=t(28),n.layouts=t(30),n.platform=t(48),n.plugins=t(31),n.Ticks=t(34),t(22)(n),t(23)(n),t(24)(n),t(33)(n),t(32)(n),t(35)(n),t(55)(n),t(53)(n),t(54)(n),t(56)(n),t(57)(n),t(58)(n),t(15)(n),t(16)(n),t(17)(n),t(18)(n),t(19)(n),t(20)(n),t(21)(n),t(8)(n),t(9)(n),t(10)(n),t(11)(n),t(12)(n),t(13)(n),t(14)(n);var i=t(49);for(var r in i)i.hasOwnProperty(r)&&n.plugins.register(i[r]);n.platform.initialize(),e.exports=n,"undefined"!=typeof window&&(window.Chart=n),n.Legend=i.legend._element,n.Title=i.title._element,n.pluginService=n.plugins,n.PluginBase=n.Element.extend({}),n.canvasHelpers=n.helpers.canvas,n.layoutService=n.layouts},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,40:40,45:45,48:48,49:49,53:53,54:54,55:55,56:56,57:57,58:58,8:8,9:9}],8:[function(t,e){"use strict";e.exports=function(n){n.Bar=function(t,e){return e.type="bar",new n(t,e)}}},{}],9:[function(t,e){"use strict";e.exports=function(n){n.Bubble=function(t,e){return e.type="bubble",new n(t,e)}}},{}],10:[function(t,e){"use strict";e.exports=function(n){n.Doughnut=function(t,e){return e.type="doughnut",new n(t,e)}}},{}],11:[function(t,e){"use strict";e.exports=function(n){n.Line=function(t,e){return e.type="line",new n(t,e)}}},{}],12:[function(t,e){"use strict";e.exports=function(n){n.PolarArea=function(t,e){return e.type="polarArea",new n(t,e)}}},{}],13:[function(t,e){"use strict";e.exports=function(n){n.Radar=function(t,e){return e.type="radar",new n(t,e)}}},{}],14:[function(t,e){"use strict";e.exports=function(n){n.Scatter=function(t,e){return e.type="scatter",new n(t,e)}}},{}],15:[function(t,e){"use strict";var n=t(25),i=t(40),S=t(45);n._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),n._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return 0<t.length&&(t[0].yLabel?n=t[0].yLabel:0<e.labels.length&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}},mode:"index",axis:"y"}}),e.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:i.Rectangle,initialize:function(){var t;e.DatasetController.prototype.initialize.apply(this,arguments),(t=this.getMeta()).stack=this.getDataset().stack,t.bar=!0},update:function(t){var e,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=i.length;e<n;++e)this.updateElement(i[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.chart,o=i.getMeta(),a=i.getDataset(),s=t.custom||{},l=r.options.elements.rectangle;t._xScale=i.getScaleForId(o.xAxisID),t._yScale=i.getScaleForId(o.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={datasetLabel:a.label,label:r.data.labels[e],borderSkipped:s.borderSkipped?s.borderSkipped:l.borderSkipped,backgroundColor:s.backgroundColor?s.backgroundColor:S.valueAtIndexOrDefault(a.backgroundColor,e,l.backgroundColor),borderColor:s.borderColor?s.borderColor:S.valueAtIndexOrDefault(a.borderColor,e,l.borderColor),borderWidth:s.borderWidth?s.borderWidth:S.valueAtIndexOrDefault(a.borderWidth,e,l.borderWidth)},i.updateElementGeometry(t,e,n),t.pivot()},updateElementGeometry:function(t,e,n){var i=this,r=t._model,o=i.getValueScale(),a=o.getBasePixel(),s=o.isHorizontal(),l=i._ruler||i.getRuler(),u=i.calculateBarValuePixels(i.index,e),c=i.calculateBarIndexPixels(i.index,e,l);r.horizontal=s,r.base=n?a:u.base,r.x=s?n?a:u.head:c.center,r.y=s?c.center:n?a:u.head,r.height=s?c.size:void 0,r.width=s?void 0:c.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(t){var e,n,i=this.chart,r=this.getIndexScale().options.stacked,o=void 0===t?i.data.datasets.length:t+1,a=[];for(e=0;e<o;++e)(n=i.getDatasetMeta(e)).bar&&i.isDatasetVisible(e)&&(!1===r||!0===r&&-1===a.indexOf(n.stack)||void 0===r&&(void 0===n.stack||-1===a.indexOf(n.stack)))&&a.push(n.stack);return a},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this.getIndexScale(),i=this.getStackCount(),r=this.index,o=n.isHorizontal(),a=o?n.left:n.top,s=a+(o?n.width:n.height),l=[];for(t=0,e=this.getMeta().data.length;t<e;++t)l.push(n.getPixelForValue(null,t,r));return{min:S.isNullOrUndef(n.options.barThickness)?function(t,e){var n,i,r,o,a=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(r=1,o=e.length;r<o;++r)a=Math.min(a,e[r]-e[r-1]);for(r=0,o=s.length;r<o;++r)i=t.getPixelForTick(r),a=0<r?Math.min(a,i-n):a,n=i;return a}(n,l):-1,pixels:l,start:a,end:s,stackCount:i,scale:n}},calculateBarValuePixels:function(t,e){var n,i,r,o,a,s,l=this.chart,u=this.getMeta(),c=this.getValueScale(),d=l.data.datasets,h=c.getRightValue(d[t].data[e]),p=c.options.stacked,f=u.stack,m=0;if(p||void 0===p&&void 0!==f)for(n=0;n<t;++n)(i=l.getDatasetMeta(n)).bar&&i.stack===f&&i.controller.getValueScaleId()===c.id&&l.isDatasetVisible(n)&&(r=c.getRightValue(d[n].data[e]),(h<0&&r<0||0<=h&&0<r)&&(m+=r));return o=c.getPixelForValue(m),{size:s=((a=c.getPixelForValue(m+h))-o)/2,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(t,e,n){var i,r,o,a,s,l,u,c,d,h,p,f,m,g,v,y,b,w=n.scale.options,_="flex"===w.barThickness?(d=e,p=w,g=(m=(h=n).pixels)[d],v=0<d?m[d-1]:null,y=d<m.length-1?m[d+1]:null,b=p.categoryPercentage,null===v&&(v=g-(null===y?h.end-g:y-g)),null===y&&(y=g+g-v),f=g-(g-v)/2*b,{chunk:(y-v)/2*b/h.stackCount,ratio:p.barPercentage,start:f}):(i=e,r=n,l=(o=w).barThickness,u=r.stackCount,c=r.pixels[i],s=S.isNullOrUndef(l)?(a=r.min*o.categoryPercentage,o.barPercentage):(a=l*u,1),{chunk:a/u,ratio:s,start:c-a/2}),x=this.getStackIndex(t,this.getMeta().stack),k=_.start+_.chunk*x+_.chunk/2,C=Math.min(S.valueOrDefault(w.maxBarThickness,1/0),_.chunk*_.ratio);return{base:k-C/2,head:k+C/2,center:k,size:C}},draw:function(){var t=this.chart,e=this.getValueScale(),n=this.getMeta().data,i=this.getDataset(),r=n.length,o=0;for(S.canvas.clipArea(t.ctx,t.chartArea);o<r;++o)isNaN(e.getRightValue(i.data[o]))||n[o].draw();S.canvas.unclipArea(t.ctx)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model;r.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:S.valueAtIndexOrDefault(e.hoverBackgroundColor,n,S.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor?i.hoverBorderColor:S.valueAtIndexOrDefault(e.hoverBorderColor,n,S.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:S.valueAtIndexOrDefault(e.hoverBorderWidth,n,r.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model,o=this.chart.options.elements.rectangle;r.backgroundColor=i.backgroundColor?i.backgroundColor:S.valueAtIndexOrDefault(e.backgroundColor,n,o.backgroundColor),r.borderColor=i.borderColor?i.borderColor:S.valueAtIndexOrDefault(e.borderColor,n,o.borderColor),r.borderWidth=i.borderWidth?i.borderWidth:S.valueAtIndexOrDefault(e.borderWidth,n,o.borderWidth)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(t,e){"use strict";var n=t(25),i=t(40),f=t(45);n._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}}),e.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:i.Point,update:function(n){var i=this,t=i.getMeta().data;f.each(t,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){var i=this,r=i.getMeta(),o=t.custom||{},a=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveElementOptions(t,e),u=i.getDataset().data[e],c=i.index,d=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof u?u:NaN,e,c),h=n?s.getBasePixel():s.getPixelForValue(u,e,c);t._xScale=a,t._yScale=s,t._options=l,t._datasetIndex=c,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,radius:n?0:l.radius,skip:o.skip||isNaN(d)||isNaN(h),x:d,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=f.valueOrDefault(n.hoverBackgroundColor,f.getHoverColor(n.backgroundColor)),e.borderColor=f.valueOrDefault(n.hoverBorderColor,f.getHoverColor(n.borderColor)),e.borderWidth=f.valueOrDefault(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},removeHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=n.backgroundColor,e.borderColor=n.borderColor,e.borderWidth=n.borderWidth,e.radius=n.radius},_resolveElementOptions:function(t,e){var n,i,r,o=this.chart,a=o.data.datasets[this.index],s=t.custom||{},l=o.options.elements.point,u=f.options.resolve,c=a.data[e],d={},h={chart:o,dataIndex:e,dataset:a,datasetIndex:this.index},p=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(n=0,i=p.length;n<i;++n)d[r=p[n]]=u([s[r],a[r],l[r]],h,e);return d.radius=u([s.radius,c?c.r:void 0,a.radius,l.radius],h,e),d}})}},{25:25,40:40,45:45}],17:[function(t,e){"use strict";var n=t(25),i=t(40),D=t(45);n._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(l){var u=l.data;return u.labels.length&&u.datasets.length?u.labels.map(function(t,e){var n=l.getDatasetMeta(0),i=u.datasets[0],r=n.data[e],o=r&&r.custom||{},a=D.valueAtIndexOrDefault,s=l.options.elements.arc;return{text:t,fillStyle:o.backgroundColor?o.backgroundColor:a(i.backgroundColor,e,s.backgroundColor),strokeStyle:o.borderColor?o.borderColor:a(i.borderColor,e,s.borderColor),lineWidth:o.borderWidth?o.borderWidth:a(i.borderWidth,e,s.borderWidth),hidden:isNaN(i.data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return D.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}}),n._set("pie",D.clone(n.doughnut)),n._set("pie",{cutoutPercentage:0}),e.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:i.Arc,linkScales:D.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(n){var i=this,t=i.chart,e=t.chartArea,r=t.options,o=r.elements.arc,a=e.right-e.left-o.borderWidth,s=e.bottom-e.top-o.borderWidth,l=Math.min(a,s),u={x:0,y:0},c=i.getMeta(),d=r.cutoutPercentage,h=r.circumference;if(h<2*Math.PI){var p=r.rotation%(2*Math.PI),f=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+h,m=Math.cos(p),g=Math.sin(p),v=Math.cos(f),y=Math.sin(f),b=p<=0&&0<=f||p<=2*Math.PI&&2*Math.PI<=f,w=p<=.5*Math.PI&&.5*Math.PI<=f||p<=2.5*Math.PI&&2.5*Math.PI<=f,_=p<=-Math.PI&&-Math.PI<=f||p<=Math.PI&&Math.PI<=f,x=p<=.5*-Math.PI&&.5*-Math.PI<=f||p<=1.5*Math.PI&&1.5*Math.PI<=f,k=d/100,C=_?-1:Math.min(m*(m<0?1:k),v*(v<0?1:k)),S=x?-1:Math.min(g*(g<0?1:k),y*(y<0?1:k)),T=b?1:Math.max(m*(0<m?1:k),v*(0<v?1:k)),$=w?1:Math.max(g*(0<g?1:k),y*(0<y?1:k)),E=.5*(T-C),A=.5*($-S);l=Math.min(a/E,s/A),u={x:-.5*(T+C),y:-.5*($+S)}}t.borderWidth=i.getMaxBorderWidth(c.data),t.outerRadius=Math.max((l-t.borderWidth)/2,0),t.innerRadius=Math.max(d?t.outerRadius/100*d:0,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),t.offsetX=u.x*t.outerRadius,t.offsetY=u.y*t.outerRadius,c.total=i.calculateTotal(),i.outerRadius=t.outerRadius-t.radiusLength*i.getRingIndex(i.index),i.innerRadius=Math.max(i.outerRadius-t.radiusLength,0),D.each(c.data,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){var i=this,r=i.chart,o=r.chartArea,a=r.options,s=a.animation,l=(o.left+o.right)/2,u=(o.top+o.bottom)/2,c=a.rotation,d=a.rotation,h=i.getDataset(),p=n&&s.animateRotate?0:t.hidden?0:i.calculateCircumference(h.data[e])*(a.circumference/(2*Math.PI)),f=n&&s.animateScale?0:i.innerRadius,m=n&&s.animateScale?0:i.outerRadius,g=D.valueAtIndexOrDefault;D.extend(t,{_datasetIndex:i.index,_index:e,_model:{x:l+r.offsetX,y:u+r.offsetY,startAngle:c,endAngle:d,circumference:p,outerRadius:m,innerRadius:f,label:g(h.label,e,r.data.labels[e])}});var v=t._model;this.removeHoverStyle(t),n&&s.animateRotate||(v.startAngle=0===e?a.rotation:i.getMeta().data[e-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var n,i=this.getDataset(),t=this.getMeta(),r=0;return D.each(t.data,function(t,e){n=i.data[e],isNaN(n)||t.hidden||(r+=Math.abs(n))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return 0<e&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){for(var e,n,i=0,r=this.index,o=t.length,a=0;a<o;a++)e=t[a]._model?t[a]._model.borderWidth:0,i=(n=t[a]._chart?t[a]._chart.config.data.datasets[r].hoverBorderWidth:0)>(i=i<e?e:i)?n:i;return i}})}},{25:25,40:40,45:45}],18:[function(t,e){"use strict";var n=t(25),i=t(40),f=t(45);n._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),e.exports=function(t){function p(t,e){return f.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,update:function(t){var e,n,i,r=this,o=r.getMeta(),a=o.dataset,s=o.data||[],l=r.chart.options,u=l.elements.line,c=r.getScaleForId(o.yAxisID),d=r.getDataset(),h=p(d,l);for(h&&(i=a.custom||{},void 0!==d.tension&&void 0===d.lineTension&&(d.lineTension=d.tension),a._scale=c,a._datasetIndex=r.index,a._children=s,a._model={spanGaps:d.spanGaps?d.spanGaps:l.spanGaps,tension:i.tension?i.tension:f.valueOrDefault(d.lineTension,u.tension),backgroundColor:i.backgroundColor?i.backgroundColor:d.backgroundColor||u.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:d.borderWidth||u.borderWidth,borderColor:i.borderColor?i.borderColor:d.borderColor||u.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:d.borderCapStyle||u.borderCapStyle,borderDash:i.borderDash?i.borderDash:d.borderDash||u.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:d.borderDashOffset||u.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:d.borderJoinStyle||u.borderJoinStyle,fill:i.fill?i.fill:void 0!==d.fill?d.fill:u.fill,steppedLine:i.steppedLine?i.steppedLine:f.valueOrDefault(d.steppedLine,u.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:f.valueOrDefault(d.cubicInterpolationMode,u.cubicInterpolationMode)},a.pivot()),e=0,n=s.length;e<n;++e)r.updateElement(s[e],e,t);for(h&&0!==a._model.tension&&r.updateBezierControlPoints(),e=0,n=s.length;e<n;++e)s[e].pivot()},getPointBackgroundColor:function(t,e){var n=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),r=t.custom||{};return r.backgroundColor?n=r.backgroundColor:i.pointBackgroundColor?n=f.valueAtIndexOrDefault(i.pointBackgroundColor,e,n):i.backgroundColor&&(n=i.backgroundColor),n},getPointBorderColor:function(t,e){var n=this.chart.options.elements.point.borderColor,i=this.getDataset(),r=t.custom||{};return r.borderColor?n=r.borderColor:i.pointBorderColor?n=f.valueAtIndexOrDefault(i.pointBorderColor,e,n):i.borderColor&&(n=i.borderColor),n},getPointBorderWidth:function(t,e){var n=this.chart.options.elements.point.borderWidth,i=this.getDataset(),r=t.custom||{};return isNaN(r.borderWidth)?!isNaN(i.pointBorderWidth)||f.isArray(i.pointBorderWidth)?n=f.valueAtIndexOrDefault(i.pointBorderWidth,e,n):isNaN(i.borderWidth)||(n=i.borderWidth):n=r.borderWidth,n},updateElement:function(t,e,n){var i,r,o=this,a=o.getMeta(),s=t.custom||{},l=o.getDataset(),u=o.index,c=l.data[e],d=o.getScaleForId(a.yAxisID),h=o.getScaleForId(a.xAxisID),p=o.chart.options.elements.point;void 0!==l.radius&&void 0===l.pointRadius&&(l.pointRadius=l.radius),void 0!==l.hitRadius&&void 0===l.pointHitRadius&&(l.pointHitRadius=l.hitRadius),i=h.getPixelForValue("object"==typeof c?c:NaN,e,u),r=n?d.getBasePixel():o.calculatePointY(c,e,u),t._xScale=h,t._yScale=d,t._datasetIndex=u,t._index=e,t._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:s.radius||f.valueAtIndexOrDefault(l.pointRadius,e,p.radius),pointStyle:s.pointStyle||f.valueAtIndexOrDefault(l.pointStyle,e,p.pointStyle),backgroundColor:o.getPointBackgroundColor(t,e),borderColor:o.getPointBorderColor(t,e),borderWidth:o.getPointBorderWidth(t,e),tension:a.dataset._model?a.dataset._model.tension:0,steppedLine:!!a.dataset._model&&a.dataset._model.steppedLine,hitRadius:s.hitRadius||f.valueAtIndexOrDefault(l.pointHitRadius,e,p.hitRadius)}},calculatePointY:function(t,e,n){var i,r,o,a=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),u=0,c=0;if(l.options.stacked){for(i=0;i<n;i++)if(r=a.data.datasets[i],"line"===(o=a.getDatasetMeta(i)).type&&o.yAxisID===l.id&&a.isDatasetVisible(i)){var d=Number(l.getRightValue(r.data[e]));d<0?c+=d||0:u+=d||0}var h=Number(l.getRightValue(t));return h<0?l.getPixelForValue(c+h):l.getPixelForValue(u+h)}return l.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,i,r,o=this.getMeta(),a=this.chart.chartArea,s=o.data||[];if(o.dataset._model.spanGaps&&(s=s.filter(function(t){return!t._model.skip})),"monotone"===o.dataset._model.cubicInterpolationMode)f.splineCurveMonotone(s);else for(e=0,n=s.length;e<n;++e)i=s[e]._model,r=f.splineCurve(f.previousItem(s,e)._model,i,f.nextItem(s,e)._model,o.dataset._model.tension),i.controlPointPreviousX=r.previous.x,i.controlPointPreviousY=r.previous.y,i.controlPointNextX=r.next.x,i.controlPointNextY=r.next.y;if(this.chart.options.elements.line.capBezierPoints)for(e=0,n=s.length;e<n;++e)(i=s[e]._model).controlPointPreviousX=t(i.controlPointPreviousX,a.left,a.right),i.controlPointPreviousY=t(i.controlPointPreviousY,a.top,a.bottom),i.controlPointNextX=t(i.controlPointNextX,a.left,a.right),i.controlPointNextY=t(i.controlPointNextY,a.top,a.bottom)},draw:function(){var t=this.chart,e=this.getMeta(),n=e.data||[],i=t.chartArea,r=n.length,o=0;for(f.canvas.clipArea(t.ctx,i),p(this.getDataset(),t.options)&&e.dataset.draw(),f.canvas.unclipArea(t.ctx);o<r;++o)n[o].draw(i)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model;r.radius=i.hoverRadius||f.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),r.backgroundColor=i.hoverBackgroundColor||f.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,f.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor||f.valueAtIndexOrDefault(e.pointHoverBorderColor,n,f.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth||f.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,r.borderWidth)},removeHoverStyle:function(t){var e=this,n=e.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=t._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),o.radius=r.radius||f.valueAtIndexOrDefault(n.pointRadius,i,e.chart.options.elements.point.radius),o.backgroundColor=e.getPointBackgroundColor(t,i),o.borderColor=e.getPointBorderColor(t,i),o.borderWidth=e.getPointBorderWidth(t,i)}})}},{25:25,40:40,45:45}],19:[function(t,e){"use strict";var n=t(25),i=t(40),_=t(45);n._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(s){var l=s.data;return l.labels.length&&l.datasets.length?l.labels.map(function(t,e){var n=s.getDatasetMeta(0),i=l.datasets[0],r=n.data[e].custom||{},o=_.valueAtIndexOrDefault,a=s.options.elements.arc;return{text:t,fillStyle:r.backgroundColor?r.backgroundColor:o(i.backgroundColor,e,a.backgroundColor),strokeStyle:r.borderColor?r.borderColor:o(i.borderColor,e,a.borderColor),lineWidth:r.borderWidth?r.borderWidth:o(i.borderWidth,e,a.borderWidth),hidden:isNaN(i.data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}}),e.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:i.Arc,linkScales:_.noop,update:function(n){var i=this,t=i.chart,e=t.chartArea,r=i.getMeta(),o=t.options,a=o.elements.arc,s=Math.min(e.right-e.left,e.bottom-e.top);t.outerRadius=Math.max((s-a.borderWidth/2)/2,0),t.innerRadius=Math.max(o.cutoutPercentage?t.outerRadius/100*o.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),i.outerRadius=t.outerRadius-t.radiusLength*i.index,i.innerRadius=i.outerRadius-t.radiusLength,r.count=i.countVisibleElements(),_.each(r.data,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){for(var i=this,r=i.chart,o=i.getDataset(),a=r.options,s=a.animation,l=r.scale,u=r.data.labels,c=i.calculateCircumference(
o.data[e]),d=l.xCenter,h=l.yCenter,p=0,f=i.getMeta(),m=0;m<e;++m)isNaN(o.data[m])||f.data[m].hidden||++p;var g=a.startAngle,v=t.hidden?0:l.getDistanceFromCenterForValue(o.data[e]),y=g+c*p,b=y+(t.hidden?0:c),w=s.animateScale?0:l.getDistanceFromCenterForValue(o.data[e]);_.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{x:d,y:h,innerRadius:0,outerRadius:n?w:v,startAngle:n&&s.animateRotate?g:y,endAngle:n&&s.animateRotate?g:b,label:_.valueAtIndexOrDefault(u,e,u[e])}}),i.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var n=this.getDataset(),t=this.getMeta(),i=0;return _.each(t.data,function(t,e){isNaN(n.data[e])||t.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return 0<e&&!isNaN(t)?2*Math.PI/e:0}})}},{25:25,40:40,45:45}],20:[function(t,e){"use strict";var n=t(25),i=t(40),u=t(45);n._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),e.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,linkScales:u.noop,update:function(n){var i=this,t=i.getMeta(),e=t.dataset,r=t.data,o=e.custom||{},a=i.getDataset(),s=i.chart.options.elements.line,l=i.chart.scale;void 0!==a.tension&&void 0===a.lineTension&&(a.lineTension=a.tension),u.extend(t.dataset,{_datasetIndex:i.index,_scale:l,_children:r,_loop:!0,_model:{tension:o.tension?o.tension:u.valueOrDefault(a.lineTension,s.tension),backgroundColor:o.backgroundColor?o.backgroundColor:a.backgroundColor||s.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:a.borderWidth||s.borderWidth,borderColor:o.borderColor?o.borderColor:a.borderColor||s.borderColor,fill:o.fill?o.fill:void 0!==a.fill?a.fill:s.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:a.borderCapStyle||s.borderCapStyle,borderDash:o.borderDash?o.borderDash:a.borderDash||s.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:a.borderDashOffset||s.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:a.borderJoinStyle||s.borderJoinStyle}}),t.dataset.pivot(),u.each(r,function(t,e){i.updateElement(t,e,n)},i),i.updateBezierControlPoints()},updateElement:function(t,e,n){var i=this,r=t.custom||{},o=i.getDataset(),a=i.chart.scale,s=i.chart.options.elements.point,l=a.getPointPositionForValue(e,o.data[e]);void 0!==o.radius&&void 0===o.pointRadius&&(o.pointRadius=o.radius),void 0!==o.hitRadius&&void 0===o.pointHitRadius&&(o.pointHitRadius=o.hitRadius),u.extend(t,{_datasetIndex:i.index,_index:e,_scale:a,_model:{x:n?a.xCenter:l.x,y:n?a.yCenter:l.y,tension:r.tension?r.tension:u.valueOrDefault(o.lineTension,i.chart.options.elements.line.tension),radius:r.radius?r.radius:u.valueAtIndexOrDefault(o.pointRadius,e,s.radius),backgroundColor:r.backgroundColor?r.backgroundColor:u.valueAtIndexOrDefault(o.pointBackgroundColor,e,s.backgroundColor),borderColor:r.borderColor?r.borderColor:u.valueAtIndexOrDefault(o.pointBorderColor,e,s.borderColor),borderWidth:r.borderWidth?r.borderWidth:u.valueAtIndexOrDefault(o.pointBorderWidth,e,s.borderWidth),pointStyle:r.pointStyle?r.pointStyle:u.valueAtIndexOrDefault(o.pointStyle,e,s.pointStyle),hitRadius:r.hitRadius?r.hitRadius:u.valueAtIndexOrDefault(o.pointHitRadius,e,s.hitRadius)}}),t._model.skip=r.skip?r.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var r=this.chart.chartArea,o=this.getMeta();u.each(o.data,function(t,e){var n=t._model,i=u.splineCurve(u.previousItem(o.data,e,!0)._model,n,u.nextItem(o.data,e,!0)._model,n.tension);n.controlPointPreviousX=Math.max(Math.min(i.previous.x,r.right),r.left),n.controlPointPreviousY=Math.max(Math.min(i.previous.y,r.bottom),r.top),n.controlPointNextX=Math.max(Math.min(i.next.x,r.right),r.left),n.controlPointNextY=Math.max(Math.min(i.next.y,r.bottom),r.top),t.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,r=t._model;r.radius=n.hoverRadius?n.hoverRadius:u.valueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),r.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:u.valueAtIndexOrDefault(e.pointHoverBackgroundColor,i,u.getHoverColor(r.backgroundColor)),r.borderColor=n.hoverBorderColor?n.hoverBorderColor:u.valueAtIndexOrDefault(e.pointHoverBorderColor,i,u.getHoverColor(r.borderColor)),r.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:u.valueAtIndexOrDefault(e.pointHoverBorderWidth,i,r.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,r=t._model,o=this.chart.options.elements.point;r.radius=n.radius?n.radius:u.valueAtIndexOrDefault(e.pointRadius,i,o.radius),r.backgroundColor=n.backgroundColor?n.backgroundColor:u.valueAtIndexOrDefault(e.pointBackgroundColor,i,o.backgroundColor),r.borderColor=n.borderColor?n.borderColor:u.valueAtIndexOrDefault(e.pointBorderColor,i,o.borderColor),r.borderWidth=n.borderWidth?n.borderWidth:u.valueAtIndexOrDefault(e.pointBorderWidth,i,o.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(t,e){"use strict";t(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),e.exports=function(t){t.controllers.scatter=t.controllers.line}},{25:25}],22:[function(t,e){"use strict";var n=t(25),i=t(26),o=t(45);n._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:o.noop,onComplete:o.noop}}),e.exports=function(t){t.Animation=i.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){var r,o,a=this.animations;for(e.chart=t,i||(t.animating=!0),r=0,o=a.length;r<o;++r)if(a[r].chart===t)return void(a[r]=e);a.push(e),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=o.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=o.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;1<t.dropFrames&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+n);var i=Date.now();t.dropFrames+=(i-e)/t.frameDuration,0<t.animations.length&&t.requestAnimationFrame()},advance:function(t){for(var e,n,i=this.animations,r=0;r<i.length;)n=(e=i[r]).chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),o.callback(e.render,[n,e],n),o.callback(e.onAnimationProgress,[e],n),e.currentStep>=e.numSteps?(o.callback(e.onAnimationComplete,[e],n),n.animating=!1,i.splice(r,1)):++r}},Object.defineProperty(t.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})}},{25:25,26:26,45:45}],23:[function(t,e){"use strict";var d=t(25),h=t(45),r=t(28),a=t(30),p=t(48),l=t(31);e.exports=function(u){function c(t){return"top"===t||"bottom"===t}u.types={},u.instances={},u.controllers={},h.extend(u.prototype,{construct:function(t,e){var n,i,r=this;(i=(n=(n=e)||{}).data=n.data||{}).datasets=i.datasets||[],i.labels=i.labels||[],n.options=h.configMerge(d.global,d[n.type],n.options||{}),e=n;var o=p.acquireContext(t,e),a=o&&o.canvas,s=a&&a.height,l=a&&a.width;r.id=h.uid(),r.ctx=o,r.canvas=a,r.config=e,r.width=l,r.height=s,r.aspectRatio=s?l/s:null,r.options=e.options,r._bufferedRender=!1,(r.chart=r).controller=r,u.instances[r.id]=r,Object.defineProperty(r,"data",{get:function(){return r.config.data},set:function(t){r.config.data=t}}),o&&a?(r.initialize(),r.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return l.notify(t,"beforeInit"),h.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),l.notify(t,"afterInit"),t},clear:function(){return h.canvas.clear(this),this},stop:function(){return u.animationService.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,r=n.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(h.getMaximumWidth(i))),a=Math.max(0,Math.floor(r?o/r:h.getMaximumHeight(i)));if((e.width!==o||e.height!==a)&&(i.width=e.width=o,i.height=e.height=a,i.style.width=o+"px",i.style.height=a+"px",h.retinaScale(e,n.devicePixelRatio),!t)){var s={width:o,height:a};l.notify(e,"resize",[s]),e.options.onResize&&e.options.onResize(e,s),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;h.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),h.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var a=this,t=a.options,s=a.scales||{},e=[],l=Object.keys(s).reduce(function(t,e){return t[e]=!1,t},{});t.scales&&(e=e.concat((t.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),t.scale&&e.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),h.each(e,function(t){var e=t.options,n=e.id,i=h.valueOrDefault(e.type,t.dtype);c(e.position)!==c(t.dposition)&&(e.position=t.dposition),l[n]=!0;var r=null;if(n in s&&s[n].type===i)(r=s[n]).options=e,r.ctx=a.ctx,r.chart=a;else{var o=u.scaleService.getScaleConstructor(i);if(!o)return;r=new o({id:n,type:i,options:e,ctx:a.ctx,chart:a}),s[r.id]=r}r.mergeTicksOptions(),t.isDefault&&(a.scale=r)}),h.each(l,function(t,e){t||delete s[e]}),a.scales=s,u.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var o=this,a=[],s=[];return h.each(o.data.datasets,function(t,e){var n=o.getDatasetMeta(e),i=t.type||o.config.type;if(n.type&&n.type!==i&&(o.destroyDatasetMeta(e),n=o.getDatasetMeta(e)),n.type=i,a.push(n.type),n.controller)n.controller.updateIndex(e),n.controller.linkScales();else{var r=u.controllers[n.type];if(void 0===r)throw new Error('"'+n.type+'" is not a chart type.');n.controller=new r(o,e),s.push(n.controller)}},o),s},resetElements:function(){var n=this;h.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.reset()},n)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t,e){var n,i,r=this;if(t&&"object"==typeof t||(t={duration:t,lazy:e}),i=(n=r).options,h.each(n.scales,function(t){a.removeBox(n,t)}),i=h.configMerge(u.defaults.global,u.defaults[n.config.type],i),n.options=n.config.options=i,n.ensureScalesHaveIDs(),n.buildOrUpdateScales(),n.tooltip._options=i.tooltips,n.tooltip.initialize(),l._invalidate(r),!1!==l.notify(r,"beforeUpdate")){r.tooltip._data=r.data;var o=r.buildOrUpdateControllers();h.each(r.data.datasets,function(t,e){r.getDatasetMeta(e).controller.buildOrUpdateElements()},r),r.updateLayout(),r.options.animation&&r.options.animation.duration&&h.each(o,function(t){t.reset()}),r.updateDatasets(),r.tooltip.initialize(),r.lastActive=[],l.notify(r,"afterUpdate"),r._bufferedRender?r._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:r.render(t)}},updateLayout:function(){!1!==l.notify(this,"beforeLayout")&&(a.update(this,this.width,this.height),l.notify(this,"afterScaleUpdate"),l.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==l.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);l.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==l.notify(this,"beforeDatasetUpdate",[n])&&(e.controller.update(),l.notify(this,"afterDatasetUpdate",[n]))},render:function(t,e){var n=this;t&&"object"==typeof t||(t={duration:t,lazy:e});var i=t.duration,r=t.lazy;if(!1!==l.notify(n,"beforeRender")){var o=n.options.animation,a=function(t){l.notify(n,"afterRender"),h.callback(o&&o.onComplete,[t],n)};if(o&&(void 0!==i&&0!==i||void 0===i&&0!==o.duration)){var s=new u.Animation({numSteps:(i||o.duration)/16.66,easing:t.easing||o.easing,render:function(t,e){var n=h.easing.effects[e.easing],i=e.currentStep,r=i/e.numSteps;t.draw(n(r),r,i)},onAnimationProgress:o.onProgress,onAnimationComplete:a});u.animationService.addAnimation(n,s,i,r)}else n.draw(),a(new u.Animation({numSteps:0,chart:n}));return n}},draw:function(t){var e=this;e.clear(),h.isNullOrUndef(t)&&(t=1),e.transition(t),!1!==l.notify(e,"beforeDraw",[t])&&(h.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),l.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==l.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;0<=n;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);l.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this.getDatasetMeta(t),i={meta:n,index:t,easingValue:e};!1!==l.notify(this,"beforeDatasetDraw",[i])&&(n.controller.draw(e),l.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==l.notify(this,"beforeTooltipDraw",[n])&&(e.draw(),l.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return r.modes.single(this,t)},getElementsAtEvent:function(t){return r.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return r.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=r.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return r.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),h.canvas.clear(n),p.releaseContext(n.ctx),n.canvas=null,n.ctx=null),l.notify(n,"destroy"),delete u.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new u.Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this,n=e._listeners={},i=function(){e.eventHandler.apply(e,arguments)};h.each(e.options.events,function(t){p.addEventListener(e,t,i),n[t]=i}),e.options.responsive&&(i=function(){e.resize()},p.addEventListener(e,"resize",i),n.resize=i)},unbindEvents:function(){var n=this,t=n._listeners;t&&(delete n._listeners,h.each(t,function(t,e){p.removeEventListener(n,e,t)}))},updateHoverStyle:function(t,e,n){var i,r,o,a=n?"setHoverStyle":"removeHoverStyle";for(r=0,o=t.length;r<o;++r)(i=t[r])&&this.getDatasetMeta(i._datasetIndex).controller[a](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==l.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),l.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):i&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],"mouseout"===t.type?n.active=[]:n.active=n.getElementsAtEventForMode(t,r.mode,r),h.callback(i.onHover||i.hover.onHover,[t["native"],n.active],n),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(n,t["native"],n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),e=!h.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),u.Controller=u}},{25:25,28:28,30:30,31:31,45:45,48:48}],24:[function(t,e){"use strict";var s=t(45);e.exports=function(t){function o(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),0<i.length||(a.forEach(function(t){delete e[t]}),delete e._chartjs)}}var a=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},s.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&o(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),i=this.getDataset().data||[],r=n.data;for(t=0,e=i.length;t<e;++t)r[t]=r[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var r,t,e=this,n=e.getDataset(),i=n.data||(n.data=[]);e._data!==i&&(e._data&&o(e._data,e),t=e,(r=i)._chartjs?r._chartjs.listeners.push(t):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),a.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),t=i.apply(this,e);return s.each(r._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),t}})})),e._data=i),e.resyncElements()},update:s.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,r=0;r<i;++r)n[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},removeHoverStyle:function(t,e){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=s.valueAtIndexOrDefault,a=t._model;a.backgroundColor=r.backgroundColor?r.backgroundColor:o(n.backgroundColor,i,e.backgroundColor),a.borderColor=r.borderColor?r.borderColor:o(n.borderColor,i,e.borderColor),a.borderWidth=r.borderWidth?r.borderWidth:o(n.borderWidth,i,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=s.valueAtIndexOrDefault,o=s.getHoverColor,a=t._model;a.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:r(e.hoverBackgroundColor,n,o(a.backgroundColor)),a.borderColor=i.hoverBorderColor?i.hoverBorderColor:r(e.hoverBorderColor,n,o(a.borderColor)),a.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:r(e.hoverBorderWidth,n,a.borderWidth)},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,i=e.length;i<n?t.data.splice(i,n-i):n<i&&this.insertElements(n,i-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=s.inherits}},{45:45}],25:[function(t,e){"use strict";var n=t(45);e.exports={_set:function(t,e){return n.merge(this[t]||(this[t]={}),e)}}},{45:45}],26:[function(t,e){"use strict";var f=t(3),n=t(45),i=function(t){n.extend(this,t),this.initialize.apply(this,arguments)};n.extend(i.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=n.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,r=e._view;return n&&1!==t?(r||(r=e._view={}),i||(i=e._start={}),function(t,e,n,i){var r,o,a,s,l,u,c,d,h,p=Object.keys(n);for(r=0,o=p.length;r<o;++r)if(u=n[a=p[r]],e.hasOwnProperty(a)||(e[a]=u),(s=e[a])!==u&&"_"!==a[0]){if(t.hasOwnProperty(a)||(t[a]=s),(c=typeof u)==typeof(l=t[a]))if("string"===c){if((d=f(l)).valid&&(h=f(u)).valid){e[a]=h.mix(d,i).rgbString();continue}}else if("number"===c&&isFinite(l)&&isFinite(u)){e[a]=l+(u-l)*i;continue}e[a]=u}}(i,r,n,t)):(e._view=n,e._start=null),e},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return n.isNumber(this._model.x)&&n.isNumber(this._model.y)}}),i.extend=n.inherits,e.exports=i},{3:3,45:45}],27:[function(t,e){"use strict";var n=t(3),i=t(25),f=t(45);e.exports=function(l){function c(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function d(t){return null!=t&&"none"!==t}function e(t,e,n){var i=document.defaultView,r=t.parentNode,o=i.getComputedStyle(t)[e],a=i.getComputedStyle(r)[e],s=d(o),l=d(a),u=Number.POSITIVE_INFINITY;return s||l?Math.min(s?c(o,t,n):u,l?c(a,r,n):u):"none"}f.configMerge=function(t){return f.merge(f.clone(t),[].slice.call(arguments,1),{merger:function(t,e,n,i){var r=e[t]||{},o=n[t];"scales"===t?e[t]=f.scaleMerge(r,o):"scale"===t?e[t]=f.merge(r,[l.scaleService.getScaleDefaults(o.type),o]):f._merger(t,e,n,i)}})},f.scaleMerge=function(t){return f.merge(f.clone(t),[].slice.call(arguments,1),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var r,o,a,s=n[t].length;for(e[t]||(e[t]=[]),r=0;r<s;++r)a=n[t][r],o=f.valueOrDefault(a.type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),!e[t][r].type||a.type&&a.type!==e[t][r].type?f.merge(e[t][r],[l.scaleService.getScaleDefaults(o),a]):f.merge(e[t][r],a)}else f._merger(t,e,n,i)}})},f.where=function(t,e){if(f.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return f.each(t,function(t){e(t)&&n.push(t)}),n},f.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},f.findNextWhere=function(t,e,n){f.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},f.findPreviousWhere=function(t,e,n){f.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;0<=i;i--){var r=t[i];if(e(r))return r}},f.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f.almostEquals=function(t,e,n){return Math.abs(t-e)<n},f.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&t<n+e},f.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},f.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},f.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:0<t?1:-1},f.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e},f.toRadians=function(t){return t*(Math.PI/180)},f.toDegrees=function(t){return t*(180/Math.PI)},f.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},f.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},f.aliasPixel=function(t){return t%2==0?0:.5},f.splineCurve=function(t,e,n,i){var r=t.skip?e:t,o=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=i*(u=isNaN(u)?0:u),h=i*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}},f.EPSILON=Number.EPSILON||1e-14,f.splineCurveMonotone=function(t){var e,n,i,r,o,a,s,l,u,c=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),d=c.length;for(e=0;e<d;++e)if(!(i=c[e]).model.skip){if(n=0<e?c[e-1]:null,(r=e<d-1?c[e+1]:null)&&!r.model.skip){var h=r.model.x-i.model.x;i.deltaK=0!==h?(r.model.y-i.model.y)/h:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(e=0;e<d-1;++e)i=c[e],r=c[e+1],i.model.skip||r.model.skip||(f.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(o=i.mK/i.deltaK,a=r.mK/i.deltaK,(l=Math.pow(o,2)+Math.pow(a,2))<=9||(s=3/Math.sqrt(l),i.mK=o*s*i.deltaK,r.mK=a*s*i.deltaK)));for(e=0;e<d;++e)(i=c[e]).model.skip||(n=0<e?c[e-1]:null,r=e<d-1?c[e+1]:null,n&&!n.model.skip&&(u=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-u,i.model.controlPointPreviousY=i.model.y-u*i.mK),r&&!r.model.skip&&(u=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+u,i.model.controlPointNextY=i.model.y+u*i.mK))},f.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},f.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},f.niceNum=function(t,e){var n=Math.floor(f.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},f.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},f.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,o=t.currentTarget||t.srcElement,a=o.getBoundingClientRect(),s=r.touches;i=s&&0<s.length?(n=s[0].clientX,s[0].clientY):(n=r.clientX,r.clientY);var l=parseFloat(f.getStyle(o,"padding-left")),u=parseFloat(f.getStyle(o,"padding-top")),c=parseFloat(f.getStyle(o,"padding-right")),d=parseFloat(f.getStyle(o,"padding-bottom")),h=a.right-a.left-l-c,p=a.bottom-a.top-u-d;return{x:n=Math.round((n-a.left-l)/h*o.width/e.currentDevicePixelRatio),y:i=Math.round((i-a.top-u)/p*o.height/e.currentDevicePixelRatio)}},f.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")},f.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")},f.getMaximumWidth=function(t){var e=t.parentNode;if(!e)return t.clientWidth;var n=parseInt(f.getStyle(e,"padding-left"),10),i=parseInt(f.getStyle(e,"padding-right"),10),r=e.clientWidth-n-i,o=f.getConstraintWidth(t);return isNaN(o)?r:Math.min(r,o)},f.getMaximumHeight=function(t){var e=t.parentNode;if(!e)return t.clientHeight;var n=parseInt(f.getStyle(e,"padding-top"),10),i=parseInt(f.getStyle(e,"padding-bottom"),10),r=e.clientHeight-n-i,o=f.getConstraintHeight(t);return isNaN(o)?r:Math.min(r,o)},f.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},f.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||window.devicePixelRatio||1;if(1!==n){var i=t.canvas,r=t.height,o=t.width;i.height=r*n,i.width=o*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=o+"px")}},f.fontString=function(t,e,n){return e+" "+t+"px "+n},f.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.font=t;var a=0;f.each(n,function(t){null!=t&&!0!==f.isArray(t)?a=f.measureText(e,r,o,a,t):f.isArray(t)&&f.each(t,function(t){null==t||f.isArray(t)||(a=f.measureText(e,r,o,a,t))})});var s=o.length/2;if(s>n.length){for(var l=0;l<s;l++)delete r[o[l]];o.splice(0,s)}return a},f.measureText=function(t,e,n,i,r){var o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),i<o&&(i=o),i},f.numberOfLabelLines=function(t){var e=1;return f.each(t,function(t){f.isArray(t)&&t.length>e&&(e=t.length)}),e},f.color=n?function(t){return t instanceof CanvasGradient&&(t=i.global.defaultColor),n(t)}:function(t){return console.error("Color.js not found!"),t},f.getHoverColor=function(t){return t instanceof CanvasPattern?t:f.color(t).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(t,e){"use strict";function s(t,e){return t["native"]?{x:t.x,y:t.y}:i.getRelativePosition(t,e)}function l(t,e){var n,i,r,o,a;for(i=0,o=t.data.datasets.length;i<o;++i)if(t.isDatasetVisible(i))for(r=0,a=(n=t.getDatasetMeta(i)).data.length;r<a;++r){var s=n.data[r];s._view.skip||e(s)}}function u(t,e){var n=[];return l(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function c(t,i,r,o){var a=Number.POSITIVE_INFINITY,s=[];return l(t,function(t){if(!r||t.inRange(i.x,i.y)){var e=t.getCenterPoint(),n=o(i,e);n<a?(s=[t],a=n):n===a&&s.push(t)}}),s}function d(t){var r=-1!==t.indexOf("x"),o=-1!==t.indexOf("y");return function(t,e){var n=r?Math.abs(t.x-e.x):0,i=o?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}}function n(i,t,e){var n=s(t,i);e.axis=e.axis||"x";var r=d(e.axis),o=e.intersect?u(i,n):c(i,n,!1,r),a=[];return o.length?(i.data.datasets.forEach(function(t,e){if(i.isDatasetVisible(e)){var n=i.getDatasetMeta(e).data[o[0]._index];n&&!n._view.skip&&a.push(n)}}),a):[]}var i=t(45);e.exports={modes:{single:function(t,e){var n=s(e,t),i=[];return l(t,function(t){if(t.inRange(n.x,n.y))return i.push(t),i}),i.slice(0,1)},label:n,index:n,dataset:function(t,e,n){var i=s(e,t);n.axis=n.axis||"xy";var r=d(n.axis),o=n.intersect?u(t,i):c(t,i,!1,r);return 0<o.length&&(o=t.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(t,e){return n(t,e,{intersect:!1})},point:function(t,e){return u(t,s(e,t))},nearest:function(t,e,n){var i=s(e,t);n.axis=n.axis||"xy";var r=d(n.axis),o=c(t,i,n.intersect,r);return 1<o.length&&o.sort(function(t,e){var n=t.getArea()-e.getArea();return 0===n&&(n=t._datasetIndex-e._datasetIndex),n}),o.slice(0,1)},x:function(t,e,n){var i=s(e,t),r=[],o=!1;return l(t,function(t){t.inXRange(i.x)&&r.push(t),t.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r},y:function(t,e,n){var i=s(e,t),r=[],o=!1;return l(t,function(t){t.inYRange(i.y)&&r.push(t),t.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r}}}},{45:45}],29:[function(t,e){"use strict";t(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t}},{25:25}],30:[function(t,e){"use strict";function R(t,e){return z.where(t,function(t){return t.position===e})}function j(t,r){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,e){var n=r?e:t,i=r?t:e;return n.weight===i.weight?n._tmpIndex_-i._tmpIndex_:n.weight-i.weight}),t.forEach(function(t){delete t._tmpIndex_})}var z=t(45);e.exports={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,r=["fullWidth","position","weight"],o=r.length,a=0;a<o;++a)i=r[a],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(e,n,t){function i(e){var t=z.findNextWhere(k,function(t){
return t.box===e});if(t)if(e.isHorizontal()){var n={left:Math.max(E,C),right:Math.max(A,S),top:0,bottom:0};e.update(e.fullWidth?g:_,v/2,n)}else e.update(t.minSize.width,x)}function r(t){t.isHorizontal()?(t.left=t.fullWidth?s:E,t.right=t.fullWidth?n-l:E+_,t.top=N,t.bottom=N+t.height,N=t.bottom):(t.left=F,t.right=F+t.width,t.top=D,t.bottom=D+x,F=t.right)}if(e){var o=e.options.layout||{},a=z.options.toPadding(o.padding),s=a.left,l=a.right,u=a.top,c=a.bottom,d=R(e.boxes,"left"),h=R(e.boxes,"right"),p=R(e.boxes,"top"),f=R(e.boxes,"bottom"),m=R(e.boxes,"chartArea");j(d,!0),j(h,!1),j(p,!0),j(f,!1);var g=n-s-l,v=t-u-c,y=v/2,b=(n-g/2)/(d.length+h.length),w=(t-y)/(p.length+f.length),_=g,x=v,k=[];z.each(d.concat(h,p,f),function(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?g:_,w),x-=e.height):(e=t.update(b,x),_-=e.width),k.push({horizontal:n,minSize:e,box:t})});var C=0,S=0,T=0,$=0;z.each(p.concat(f),function(t){if(t.getPadding){var e=t.getPadding();C=Math.max(C,e.left),S=Math.max(S,e.right)}}),z.each(d.concat(h),function(t){if(t.getPadding){var e=t.getPadding();T=Math.max(T,e.top),$=Math.max($,e.bottom)}});var E=s,A=l,D=u,M=c;z.each(d.concat(h),i),z.each(d,function(t){E+=t.width}),z.each(h,function(t){A+=t.width}),z.each(p.concat(f),i),z.each(p,function(t){D+=t.height}),z.each(f,function(t){M+=t.height}),z.each(d.concat(h),function(e){var t=z.findNextWhere(k,function(t){return t.box===e}),n={left:0,right:0,top:D,bottom:M};t&&e.update(t.minSize.width,x,n)}),E=s,A=l,D=u,M=c,z.each(d,function(t){E+=t.width}),z.each(h,function(t){A+=t.width}),z.each(p,function(t){D+=t.height}),z.each(f,function(t){M+=t.height});var P=Math.max(C-E,0);E+=P,A+=Math.max(S-A,0);var I=Math.max(T-D,0);D+=I,M+=Math.max($-M,0);var L=t-D-M,O=n-E-A;O===_&&L===x||(z.each(d,function(t){t.height=L}),z.each(h,function(t){t.height=L}),z.each(p,function(t){t.fullWidth||(t.width=O)}),z.each(f,function(t){t.fullWidth||(t.width=O)}),x=L,_=O);var F=s+P,N=u+I;z.each(d.concat(p),r),F+=_,N+=x,z.each(h,r),z.each(f,r),e.chartArea={left:E,top:D,right:E+_,bottom:D+x},z.each(m,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(_,x)})}}}},{45:45}],31:[function(t,e){"use strict";var a=t(25),s=t(45);a._set("global",{plugins:{}}),e.exports={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var n=this._plugins;[].concat(t).forEach(function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,r,o,a,s,l=this.descriptors(t),u=l.length;for(i=0;i<u;++i)if("function"==typeof(s=(o=(r=l[i]).plugin)[e])&&((a=[t].concat(n||[])).push(r.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],r=[],n=t&&t.config||{},o=n.options&&n.options.plugins||{};return this._plugins.concat(n.plugins||[]).forEach(function(t){if(-1===i.indexOf(t)){var e=t.id,n=o[e];!1!==n&&(!0===n&&(n=s.clone(a.global.plugins[e])),i.push(t),r.push({plugin:t,options:n||{}}))}}),e.descriptors=r,e.id=this._cacheId,r},_invalidate:function(t){delete t.$plugins}}},{25:25,45:45}],32:[function(t,e){"use strict";function C(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(t[e].label);return i}function B(t,e,n){var i=t.getPixelForTick(e);return n&&(i-=0===e?(t.getPixelForTick(1)-i)/2:(i-t.getPixelForTick(e-1))/2),i}var w=t(25),n=t(26),U=t(45),i=t(34);w._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:i.formatters.values,minor:{},major:{}}}),e.exports=function(t){function _(t,e,n){return U.isArray(e)?U.longestText(t,n,e):t.measureText(e).width}function x(t){var e=U.valueOrDefault,n=w.global,i=e(t.fontSize,n.defaultFontSize),r=e(t.fontStyle,n.defaultFontStyle),o=e(t.fontFamily,n.defaultFontFamily);return{size:i,style:r,family:o,font:U.fontString(i,r,o)}}function k(t){return U.options.toLineHeight(U.valueOrDefault(t.lineHeight,1.2),U.valueOrDefault(t.fontSize,w.global.defaultFontSize))}t.Scale=n.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){U.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,r,o,a,s,l,u=this;for(u.beforeUpdate(),u.maxWidth=t,u.maxHeight=e,u.margins=U.extend({left:0,right:0,top:0,bottom:0},n),u.longestTextCache=u.longestTextCache||{},u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),s=u.buildTicks()||[],u.afterBuildTicks(),u.beforeTickToLabelConversion(),o=u.convertTicksToLabels(s)||u.ticks,u.afterTickToLabelConversion(),i=0,r=(u.ticks=o).length;i<r;++i)a=o[i],(l=s[i])?l.label=a:s.push(l={label:a,major:!1});return u._ticks=s,u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u.afterUpdate(),u.minSize},afterUpdate:function(){U.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){U.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){U.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){U.callback(this.options.beforeDataLimits,[this])},determineDataLimits:U.noop,afterDataLimits:function(){U.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){U.callback(this.options.beforeBuildTicks,[this])},buildTicks:U.noop,afterBuildTicks:function(){U.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){U.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){U.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){U.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,n=t.options.ticks,i=C(t._ticks),r=x(n);e.font=r.font;var o=n.minRotation||0;if(i.length&&t.options.display&&t.isHorizontal())for(var a,s=U.longestText(e,r.font,i,t.longestTextCache),l=s,u=t.getPixelForTick(1)-t.getPixelForTick(0)-6;u<l&&o<n.maxRotation;){var c=U.toRadians(o);if(a=Math.cos(c),Math.sin(c)*s>t.maxHeight){o--;break}o++,l=a*s}t.labelRotation=o},afterCalculateTickRotation:function(){U.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){U.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=C(t._ticks),i=t.options,r=i.ticks,o=i.scaleLabel,a=i.gridLines,s=i.display,l=t.isHorizontal(),u=x(r),c=i.gridLines.tickMarkLength;if(e.width=l?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:s&&a.drawTicks?c:0,e.height=l?s&&a.drawTicks?c:0:t.maxHeight,o.display&&s){var d=k(o)+U.options.toPadding(o.padding).height;l?e.height+=d:e.width+=d}if(r.display&&s){var h=U.longestText(t.ctx,u.font,n,t.longestTextCache),p=U.numberOfLabelLines(n),f=.5*u.size,m=t.options.ticks.padding;if(l){t.longestLabelWidth=h;var g=U.toRadians(t.labelRotation),v=Math.cos(g),y=Math.sin(g)*h+u.size*p+f*(p-1)+f;e.height=Math.min(t.maxHeight,e.height+y+m),t.ctx.font=u.font;var b=_(t.ctx,n[0],u.font),w=_(t.ctx,n[n.length-1],u.font);0!==t.labelRotation?(t.paddingLeft="bottom"===i.position?v*b+3:v*f+3,t.paddingRight="bottom"===i.position?v*f+3:v*w+3):(t.paddingLeft=b/2+3,t.paddingRight=w/2+3)}else r.mirror?h=0:h+=m+f,e.width=Math.min(t.maxWidth,e.width+h),t.paddingTop=u.size/2,t.paddingBottom=u.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){U.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(U.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:U.noop,getPixelForValue:U.noop,getValueForPixel:U.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(n?0:1),1),r=i*t+e.paddingLeft;return n&&(r+=i/2),e.left+Math.round(r)+(e.isFullWidth()?e.margins.left:0)}var o=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(o/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft;return e.left+Math.round(n)+(e.isFullWidth()?e.margins.left:0)}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0},_autoSkip:function(t){var e,n,i,r,o=this,a=o.isHorizontal(),s=o.options.ticks.minor,l=t.length,u=U.toRadians(o.labelRotation),c=Math.cos(u),d=o.longestLabelWidth*c,h=[];for(s.maxTicksLimit&&(r=s.maxTicksLimit),a&&(e=!1,(d+s.autoSkipPadding)*l>o.width-(o.paddingLeft+o.paddingRight)&&(e=1+Math.floor((d+s.autoSkipPadding)*l/(o.width-(o.paddingLeft+o.paddingRight)))),r&&r<l&&(e=Math.max(e,Math.floor(l/r)))),n=0;n<l;n++)i=t[n],(1<e&&0<n%e||n%e==0&&l<=n+e)&&n!==l-1&&delete i.label,h.push(i);return h},draw:function(S){var T=this,$=T.options;if($.display){var a=T.ctx,E=w.global,A=$.ticks.minor,t=$.ticks.major||A,D=$.gridLines,e=$.scaleLabel,M=0!==T.labelRotation,P=T.isHorizontal(),I=A.autoSkip?T._autoSkip(T.getTicks()):T.getTicks(),s=U.valueOrDefault(A.fontColor,E.defaultFontColor),l=x(A),u=U.valueOrDefault(t.fontColor,E.defaultFontColor),c=x(t),L=D.drawTicks?D.tickMarkLength:0,n=U.valueOrDefault(e.fontColor,E.defaultFontColor),i=x(e),r=U.options.toPadding(e.padding),O=U.toRadians(T.labelRotation),F=[],N=T.options.gridLines.lineWidth,R="right"===$.position?T.right:T.right-N-L,j="right"===$.position?T.right+L:T.right,z="bottom"===$.position?T.top+N:T.bottom-L-N,q="bottom"===$.position?T.top+N+L:T.bottom+N;if(U.each(I,function(t,e){if(!U.isNullOrUndef(t.label)){var n,i,r,o,a,s,l,u,c,d,h,p,f,m,g=t.label;o=e===T.zeroLineIndex&&$.offset===D.offsetGridLines?(n=D.zeroLineWidth,i=D.zeroLineColor,r=D.zeroLineBorderDash,D.zeroLineBorderDashOffset):(n=U.valueAtIndexOrDefault(D.lineWidth,e),i=U.valueAtIndexOrDefault(D.color,e),r=U.valueOrDefault(D.borderDash,E.borderDash),U.valueOrDefault(D.borderDashOffset,E.borderDashOffset));var v="middle",y="middle",b=A.padding;if(P){var w=L+b;m="bottom"===$.position?(y=M?"middle":"top",v=M?"right":"center",T.top+w):(y=M?"middle":"bottom",v=M?"left":"center",T.bottom-w);var _=B(T,e,D.offsetGridLines&&1<I.length);_<T.left&&(i="rgba(0,0,0,0)"),_+=U.aliasPixel(n),f=T.getPixelForTick(e)+A.labelOffset,a=l=c=h=_,s=z,u=q,d=S.top,p=S.bottom+N}else{var x,k="left"===$.position;x=A.mirror?(v=k?"left":"right",b):(v=k?"right":"left",L+b),f=k?T.right-x:T.left+x;var C=B(T,e,D.offsetGridLines&&1<I.length);C<T.top&&(i="rgba(0,0,0,0)"),C+=U.aliasPixel(n),m=T.getPixelForTick(e)+A.labelOffset,a=R,l=j,c=S.left,h=S.right+N,s=u=d=p=C}F.push({tx1:a,ty1:s,tx2:l,ty2:u,x1:c,y1:d,x2:h,y2:p,labelX:f,labelY:m,glWidth:n,glColor:i,glBorderDash:r,glBorderDashOffset:o,rotation:-1*O,label:g,major:t.major,textBaseline:y,textAlign:v})}}),U.each(F,function(t){if(D.display&&(a.save(),a.lineWidth=t.glWidth,a.strokeStyle=t.glColor,a.setLineDash&&(a.setLineDash(t.glBorderDash),a.lineDashOffset=t.glBorderDashOffset),a.beginPath(),D.drawTicks&&(a.moveTo(t.tx1,t.ty1),a.lineTo(t.tx2,t.ty2)),D.drawOnChartArea&&(a.moveTo(t.x1,t.y1),a.lineTo(t.x2,t.y2)),a.stroke(),a.restore()),A.display){a.save(),a.translate(t.labelX,t.labelY),a.rotate(t.rotation),a.font=t.major?c.font:l.font,a.fillStyle=t.major?u:s,a.textBaseline=t.textBaseline,a.textAlign=t.textAlign;var e=t.label;if(U.isArray(e))for(var n=e.length,i=1.5*l.size,r=T.isHorizontal()?0:-i*(n-1)/2,o=0;o<n;++o)a.fillText(""+e[o],0,r),r+=i;else a.fillText(e,0,0);a.restore()}}),e.display){var o,d,h=0,p=k(e)/2;if(P)o=T.left+(T.right-T.left)/2,d="bottom"===$.position?T.bottom-p-r.bottom:T.top+p+r.top;else{var f="left"===$.position;o=f?T.left+p+r.top:T.right-p-r.top,d=T.top+(T.bottom-T.top)/2,h=f?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(o,d),a.rotate(h),a.textAlign="center",a.textBaseline="middle",a.fillStyle=n,a.font=i.font,a.fillText(e.labelString,0,0),a.restore()}if(D.drawBorder){a.lineWidth=U.valueAtIndexOrDefault(D.lineWidth,0),a.strokeStyle=U.valueAtIndexOrDefault(D.color,0);var m=T.left,g=T.right+N,v=T.top,y=T.bottom+N,b=U.aliasPixel(a.lineWidth);P?(v=y="top"===$.position?T.bottom:T.top,v+=b,y+=b):(m=g="left"===$.position?T.right:T.left,m+=b,g+=b),a.beginPath(),a.moveTo(m,v),a.lineTo(g,y),a.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(t,e){"use strict";var n=t(25),i=t(45),r=t(30);e.exports=function(t){t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=i.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?i.merge({},[n.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=i.extend(this.defaults[t],e))},addScalesToLayout:function(e){i.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,r.addBox(e,t)})}}}},{25:25,30:30,45:45}],34:[function(t,e){"use strict";var s=t(45);e.exports={formatters:{values:function(t){return s.isArray(t)?t:""+t},linear:function(t,e,n){var i=3<n.length?n[2]-n[1]:n[1]-n[0];1<Math.abs(i)&&t!==Math.floor(t)&&(i=t-Math.floor(t));var r=s.log10(Math.abs(i)),o="";if(0!==t){var a=-1*Math.floor(r);a=Math.max(Math.min(a,20),0),o=t.toFixed(a)}else o="0";return o},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(s.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}}},{45:45}],35:[function(t,e){"use strict";var i=t(25),n=t(26),F=t(45);i._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:F.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(0<t.length){var o=t[0];o.xLabel?n=o.xLabel:0<r&&o.index<r&&(n=i[o.index])}return n},afterTitle:F.noop,beforeBody:F.noop,beforeLabel:F.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:F.noop,afterBody:F.noop,beforeFooter:F.noop,footer:F.noop,afterFooter:F.noop}}}),e.exports=function(L){function h(t,e){var n=F.color(t);return n.alpha(e*n.alpha()).rgbaString()}function a(t,e){return e&&(F.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function O(t){var e=i.global,n=F.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,e.defaultFontStyle),titleFontSize:n(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,e.defaultFontStyle),footerFontSize:n(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}L.Tooltip=n.extend({initialize:function(){this._model=O(this._options),this._lastActive=[]},getTitle:function(){var t=this._options.callbacks,e=t.beforeTitle.apply(this,arguments),n=t.title.apply(this,arguments),i=t.afterTitle.apply(this,arguments),r=[];return a(r=a(r=a(r,e),n),i)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return F.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,n){var i=this,r=i._options.callbacks,o=[];return F.each(t,function(t){var e={before:[],lines:[],after:[]};a(e.before,r.beforeLabel.call(i,t,n)),a(e.lines,r.label.call(i,t,n)),a(e.after,r.afterLabel.call(i,t,n)),o.push(e)}),o},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return F.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this._options.callbacks,e=t.beforeFooter.apply(this,arguments),n=t.footer.apply(this,arguments),i=t.afterFooter.apply(this,arguments),r=[];return a(r=a(r=a(r,e),n),i)},update:function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,m,g,v,y,b,w,_=this,x=_._options,k=_._model,C=_._model=O(x),S=_._active,T=_._data,$={xAlign:k.xAlign,yAlign:k.yAlign},E={x:k.x,y:k.y},A={width:k.width,height:k.height},D={x:k.caretX,y:k.caretY};if(S.length){C.opacity=1;var M=[],P=[];D=L.Tooltip.positioners[x.position].call(_,S,_._eventPosition);var I=[];for(e=0,n=S.length;e<n;++e)I.push((y=v=void 0,v=(g=S[e])._xScale,y=g._yScale||g._scale,b=g._index,w=g._datasetIndex,{xLabel:v?v.getLabelForIndex(b,w):"",yLabel:y?y.getLabelForIndex(b,w):"",index:b,datasetIndex:w,x:g._model.x,y:g._model.y}));x.filter&&(I=I.filter(function(t){return x.filter(t,T)})),x.itemSort&&(I=I.sort(function(t,e){return x.itemSort(t,e,T)})),F.each(I,function(t){M.push(x.callbacks.labelColor.call(_,t,_._chart)),P.push(x.callbacks.labelTextColor.call(_,t,_._chart))}),C.title=_.getTitle(I,T),C.beforeBody=_.getBeforeBody(I,T),C.body=_.getBody(I,T),C.afterBody=_.getAfterBody(I,T),C.footer=_.getFooter(I,T),C.x=Math.round(D.x),C.y=Math.round(D.y),C.caretPadding=x.caretPadding,C.labelColors=M,C.labelTextColors=P,C.dataPoints=I,$=function(t,e){var n,i,r,o,a,s=t._model,l=t._chart,u=t._chart.chartArea,c="center",d="center";s.y<e.height?d="top":s.y>l.height-e.height&&(d="bottom");var h=(u.left+u.right)/2,p=(u.top+u.bottom)/2;i="center"===d?(n=function(t){return t<=h},function(t){return h<t}):(n=function(t){return t<=e.width/2},function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},o=function(t){return t-e.width-s.caretSize-s.caretPadding<0},a=function(t){return t<=p?"top":"bottom"},n(s.x)?(c="left",r(s.x)&&(c="center",d=a(s.y))):i(s.x)&&(c="right",o(s.x)&&(c="center",d=a(s.y)));var f=t._options;return{xAlign:f.xAlign?f.xAlign:c,yAlign:f.yAlign?f.yAlign:d}}(this,A=function(t,e){var n=t._chart.ctx,i=2*e.yPadding,r=0,o=e.body,a=o.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);a+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,u=e.titleFontSize,c=e.bodyFontSize,d=e.footerFontSize;i+=s*u,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=a*c,i+=a?(a-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*d,i+=l?(l-1)*e.footerSpacing:0;var h=0,p=function(t){r=Math.max(r,n.measureText(t).width+h)};return n.font=F.fontString(u,e._titleFontStyle,e._titleFontFamily),F.each(e.title,p),n.font=F.fontString(c,e._bodyFontStyle,e._bodyFontFamily),F.each(e.beforeBody.concat(e.afterBody),p),h=e.displayColors?c+2:0,F.each(o,function(t){F.each(t.before,p),F.each(t.lines,p),F.each(t.after,p)}),h=0,n.font=F.fontString(d,e._footerFontStyle,e._footerFontFamily),F.each(e.footer,p),{width:r+=2*e.xPadding,height:i}}(this,C)),i=C,r=A,o=$,a=_._chart,s=i.x,l=i.y,u=i.caretSize,c=i.caretPadding,d=i.cornerRadius,h=o.xAlign,p=o.yAlign,f=u+c,m=d+c,"right"===h?s-=r.width:"center"===h&&((s-=r.width/2)+r.width>a.width&&(s=a.width-r.width),s<0&&(s=0)),"top"===p?l+=f:l-="bottom"===p?r.height+f:r.height/2,"center"===p?"left"===h?s+=f:"right"===h&&(s-=f):"left"===h?s-=m:"right"===h&&(s+=m),E={x:s,y:l}}else C.opacity=0;return C.xAlign=$.xAlign,C.yAlign=$.yAlign,C.x=E.x,C.y=E.y,C.width=A.width,C.height=A.height,C.caretX=D.x,C.caretY=D.y,_._model=C,t&&x.custom&&x.custom.call(_,C),_},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(t,e,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,n){var i,r,o,a,s,l,u=n.caretSize,c=n.cornerRadius,d=n.xAlign,h=n.yAlign,p=t.x,f=t.y,m=e.width,g=e.height;if("center"===h)s=f+g/2,l="left"===d?(r=(i=p)-u,o=i,a=s+u,s-u):(r=(i=p+m)+u,o=i,a=s-u,s+u);else if(o=(i="left"===d?(r=p+c+u)-u:"right"===d?(r=p+m-c-u)-u:(r=n.caretX)-u,r+u),"top"===h)s=(a=f)-u,l=a;else{s=(a=f+g)+u,l=a;var v=o;o=i,i=v}return{x1:i,x2:r,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(t,e,n,i){var r=e.title;if(r.length){n.textAlign=e._titleAlign,n.textBaseline="top";var o,a,s=e.titleFontSize,l=e.titleSpacing;for(n.fillStyle=h(e.titleFontColor,i),n.font=F.fontString(s,e._titleFontStyle,e._titleFontFamily),o=0,a=r.length;o<a;++o)n.fillText(r[o],t.x,t.y),t.y+=s+l,o+1===r.length&&(t.y+=e.titleMarginBottom-l)}},drawBody:function(i,r,o,a){var s=r.bodyFontSize,e=r.bodySpacing,t=r.body;o.textAlign=r._bodyAlign,o.textBaseline="top",o.font=F.fontString(s,r._bodyFontStyle,r._bodyFontFamily);var n=0,l=function(t){o.fillText(t,i.x+n,i.y),i.y+=s+e};o.fillStyle=h(r.bodyFontColor,a),F.each(r.beforeBody,l);var u=r.displayColors;n=u?s+2:0,F.each(t,function(t,e){var n=h(r.labelTextColors[e],a);o.fillStyle=n,F.each(t.before,l),F.each(t.lines,function(t){u&&(o.fillStyle=h(r.legendColorBackground,a),o.fillRect(i.x,i.y,s,s),o.lineWidth=1,o.strokeStyle=h(r.labelColors[e].borderColor,a),o.strokeRect(i.x,i.y,s,s),o.fillStyle=h(r.labelColors[e].backgroundColor,a),o.fillRect(i.x+1,i.y+1,s-2,s-2),o.fillStyle=n),l(t)}),F.each(t.after,l)}),n=0,F.each(r.afterBody,l),i.y-=e},drawFooter:function(e,n,i,t){var r=n.footer;r.length&&(e.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=h(n.footerFontColor,t),i.font=F.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),F.each(r,function(t){i.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,e,n,i,r){n.fillStyle=h(e.backgroundColor,r),n.strokeStyle=h(e.borderColor,r),n.lineWidth=e.borderWidth;var o=e.xAlign,a=e.yAlign,s=t.x,l=t.y,u=i.width,c=i.height,d=e.cornerRadius;n.beginPath(),n.moveTo(s+d,l),"top"===a&&this.drawCaret(t,i),n.lineTo(s+u-d,l),n.quadraticCurveTo(s+u,l,s+u,l+d),"center"===a&&"right"===o&&this.drawCaret(t,i),n.lineTo(s+u,l+c-d),n.quadraticCurveTo(s+u,l+c,s+u-d,l+c),"bottom"===a&&this.drawCaret(t,i),n.lineTo(s+d,l+c),n.quadraticCurveTo(s,l+c,s,l+c-d),"center"===a&&"left"===o&&this.drawCaret(t,i),n.lineTo(s,l+d),n.quadraticCurveTo(s,l,s+d,l),n.closePath(),n.fill(),0<e.borderWidth&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity,o=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&o&&(this.drawBackground(i,e,t,n,r),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,r),this.drawBody(i,e,t,r),this.drawFooter(i,e,t,r))}},handleEvent:function(t){var e,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===t.type?n._active=[]:n._active=n._chart.getElementsAtEventForMode(t,i.mode,i),(e=!F.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}}),L.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,n,i=0,r=0,o=0;for(e=0,n=t.length;e<n;++e){var a=t[e];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,r+=s.y,++o}}return{x:Math.round(i/o),y:Math.round(r/o)}},nearest:function(t,e){var n,i,r,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var l=t[n];if(l&&l.hasValue()){var u=l.getCenterPoint(),c=F.distanceBetweenPoints(e,u);c<s&&(s=c,r=l)}}if(r){var d=r.tooltipPosition();o=d.x,a=d.y}return{x:o,y:a}}}}},{25:25,26:26,45:45}],36:[function(t,e){"use strict";var n=t(25),i=t(26),c=t(45);n._set("global",{elements:{arc:{backgroundColor:n.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),e.exports=i.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=c.getAngleFromPoint(n,{x:t,y:e}),r=i.angle,o=i.distance,a=n.startAngle,s=n.endAngle;s<a;)s+=2*Math.PI;for(;s<r;)r-=2*Math.PI;for(;r<a;)r+=2*Math.PI;var l=a<=r&&r<=s,u=o>=n.innerRadius&&o<=n.outerRadius;return l&&u}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,i),t.arc(e.x,e.y,e.innerRadius,i,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})},{25:25,26:26,45:45}],37:[function(t,e){"use strict";var n=t(25),i=t(26),c=t(45),d=n.global;n._set("global",{elements:{line:{tension:.4,backgroundColor:d.defaultColor,borderWidth:3,borderColor:d.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),e.exports=i.extend({draw:function(){var t,e,n,i,r=this._view,o=this._chart.ctx,a=r.spanGaps,s=this._children.slice(),l=d.elements.line,u=-1;for(this._loop&&s.length&&s.push(s[0]),o.save(),o.lineCap=r.borderCapStyle||l.borderCapStyle,o.setLineDash&&o.setLineDash(r.borderDash||l.borderDash),o.lineDashOffset=r.borderDashOffset||l.borderDashOffset,o.lineJoin=r.borderJoinStyle||l.borderJoinStyle,o.lineWidth=r.borderWidth||l.borderWidth,o.strokeStyle=r.borderColor||d.defaultColor,o.beginPath(),u=-1,t=0;t<s.length;++t)e=s[t],n=c.previousItem(s,t),i=e._view,0===t?i.skip||(o.moveTo(i.x,i.y),u=t):(n=-1===u?n:s[u],i.skip||(u!==t-1&&!a||-1===u?o.moveTo(i.x,i.y):c.canvas.lineTo(o,n._view,e._view),u=t));o.stroke(),o.restore()}})},{25:25,26:26,45:45}],38:[function(t,e){"use strict";function n(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}var c=t(25),i=t(26),d=t(45),h=c.global.defaultColor;c._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:h,borderColor:h,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=i.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:n,inXRange:n,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._model,i=this._chart.ctx,r=e.pointStyle,o=e.radius,a=e.x,s=e.y,l=d.color,u=0;e.skip||(i.strokeStyle=e.borderColor||h,i.lineWidth=d.valueOrDefault(e.borderWidth,c.global.elements.point.borderWidth),i.fillStyle=e.backgroundColor||h,void 0!==t&&(n.x<t.left||1.01*t.right<n.x||n.y<t.top||1.01*t.bottom<n.y)&&(n.x<t.left?u=(a-n.x)/(t.left-n.x):1.01*t.right<n.x?u=(n.x-a)/(n.x-t.right):n.y<t.top?u=(s-n.y)/(t.top-n.y):1.01*t.bottom<n.y&&(u=(n.y-s)/(n.y-t.bottom)),u=Math.round(100*u)/100,i.strokeStyle=l(i.strokeStyle).alpha(u).rgbString(),i.fillStyle=l(i.fillStyle).alpha(u).rgbString()),d.canvas.drawPoint(i,r,o,a,s))}})},{25:25,26:26,45:45}],39:[function(t,e){"use strict";function l(t){return void 0!==t._view.width}function r(t){var e,n,i,r,o=t._view;if(l(t)){var a=o.width/2;e=o.x-a,n=o.x+a,i=Math.min(o.y,o.base),r=Math.max(o.y,o.base)}else{var s=o.height/2;e=Math.min(o.x,o.base),n=Math.max(o.x,o.base),i=o.y-s,r=o.y+s}return{left:e,top:i,right:n,bottom:r}}var n=t(25),i=t(26);n._set("global",{elements:{rectangle:{backgroundColor:n.global.defaultColor,borderColor:n.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),e.exports=i.extend({draw:function(){function t(t){return v[(y+t)%4]}var e,n,i,r,o,a,s,l=this._chart.ctx,u=this._view,c=u.borderWidth;if(s=u.horizontal?(e=u.base,n=u.x,i=u.y-u.height/2,r=u.y+u.height/2,o=e<n?1:-1,a=1,u.borderSkipped||"left"):(e=u.x-u.width/2,n=u.x+u.width/2,i=u.y,o=1,a=(r=u.base)>i?1:-1,u.borderSkipped||"bottom"),c){var d=Math.min(Math.abs(e-n),Math.abs(i-r)),h=(c=d<c?d:c)/2,p=e+("left"!==s?h*o:0),f=n+("right"!==s?-h*o:0),m=i+("top"!==s?h*a:0),g=r+("bottom"!==s?-h*a:0);p!==f&&(i=m,r=g),m!==g&&(e=p,n=f)}l.beginPath(),l.fillStyle=u.backgroundColor,l.strokeStyle=u.borderColor,l.lineWidth=c;var v=[[e,r],[e,i],[n,i],[n,r]],y=["bottom","left","top","right"].indexOf(s,0);-1===y&&(y=0);var b=t(0);l.moveTo(b[0],b[1]);for(var w=1;w<4;w++)b=t(w),l.lineTo(b[0],b[1]);l.fill(),c&&l.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=!1;if(this._view){var i=r(this);n=t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom}return n},inLabelRange:function(t,e){if(!this._view)return!1;var n=r(this);return l(this)?t>=n.left&&t<=n.right:e>=n.top&&e<=n.bottom},inXRange:function(t){var e=r(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=r(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return e=l(this)?(t=n.x,(n.y+n.base)/2):(t=(n.x+n.base)/2,n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},{25:25,26:26}],40:[function(t,e){"use strict";e.exports={},e.exports.Arc=t(36),e.exports.Line=t(37),e.exports.Point=t(38),e.exports.Rectangle=t(39)},{36:36,37:37,38:38,39:39}],41:[function(t,e,n){"use strict";var i=t(42);n=e.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,r,o){if(o){var a=Math.min(o,i/2),s=Math.min(o,r/2);t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.quadraticCurveTo(e+i,n,e+i,n+s),t.lineTo(e+i,n+r-s),t.quadraticCurveTo(e+i,n+r,e+i-a,n+r),t.lineTo(e+a,n+r),t.quadraticCurveTo(e,n+r,e,n+r-s),t.lineTo(e,n+s),
t.quadraticCurveTo(e,n,e+a,n)}else t.rect(e,n,i,r)},drawPoint:function(t,e,n,i,r){var o,a,s,l,u,c;if(!e||"object"!=typeof e||"[object HTMLImageElement]"!==(o=e.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(n)||n<=0)){switch(e){default:t.beginPath(),t.arc(i,r,n,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),u=(a=3*n/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(i-a/2,r+u/3),t.lineTo(i+a/2,r+u/3),t.lineTo(i,r-2*u/3),t.closePath(),t.fill();break;case"rect":c=1/Math.SQRT2*n,t.beginPath(),t.fillRect(i-c,r-c,2*c,2*c),t.strokeRect(i-c,r-c,2*c,2*c);break;case"rectRounded":var d=n/Math.SQRT2,h=i-d,p=r-d,f=Math.SQRT2*n;t.beginPath(),this.roundedRect(t,h,p,f,f,n/2),t.closePath(),t.fill();break;case"rectRot":c=1/Math.SQRT2*n,t.beginPath(),t.moveTo(i-c,r),t.lineTo(i,r+c),t.lineTo(i+c,r),t.lineTo(i,r-c),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(i,r+n),t.lineTo(i,r-n),t.moveTo(i-n,r),t.lineTo(i+n,r),t.closePath();break;case"crossRot":t.beginPath(),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i-s,r+l),t.lineTo(i+s,r-l),t.closePath();break;case"star":t.beginPath(),t.moveTo(i,r+n),t.lineTo(i,r-n),t.moveTo(i-n,r),t.lineTo(i+n,r),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i-s,r+l),t.lineTo(i+s,r-l),t.closePath();break;case"line":t.beginPath(),t.moveTo(i-n,r),t.lineTo(i+n,r),t.closePath();break;case"dash":t.beginPath(),t.moveTo(i,r),t.lineTo(i+n,r),t.closePath()}t.stroke()}}else t.drawImage(e,i-e.width/2,r-e.height/2,e.width,e.height)},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){if(n.steppedLine)return"after"===n.steppedLine&&!i||"after"!==n.steppedLine&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y),void t.lineTo(n.x,n.y);n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},i.clear=n.clear,i.drawRoundedRectangle=function(t){t.beginPath(),n.roundedRect.apply(n,arguments),t.closePath()}},{42:42}],42:[function(t,e){"use strict";var n,c={noop:function(){},uid:(n=0,function(){return n++}),isNullOrUndef:function(t){return null==t},isArray:Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return c.valueOrDefault(c.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var r,o,a;if(c.isArray(t))if(o=t.length,i)for(r=o-1;0<=r;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(c.isObject(t))for(o=(a=Object.keys(t)).length,r=0;r<o;r++)e.call(n,t[a[r]],a[r])},arrayEquals:function(t,e){var n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r instanceof Array&&o instanceof Array){if(!c.arrayEquals(r,o))return!1}else if(r!==o)return!1;return!0},clone:function(t){if(c.isArray(t))return t.map(c.clone);if(c.isObject(t)){for(var e={},n=Object.keys(t),i=n.length,r=0;r<i;++r)e[n[r]]=c.clone(t[n[r]]);return e}return t},_merger:function(t,e,n,i){var r=e[t],o=n[t];c.isObject(r)&&c.isObject(o)?c.merge(r,o,i):e[t]=c.clone(o)},_mergerIf:function(t,e,n){var i=e[t],r=n[t];c.isObject(i)&&c.isObject(r)?c.mergeIf(i,r):e.hasOwnProperty(t)||(e[t]=c.clone(r))},merge:function(t,e,n){var i,r,o,a,s,l=c.isArray(e)?e:[e],u=l.length;if(!c.isObject(t))return t;for(i=(n=n||{}).merger||c._merger,r=0;r<u;++r)if(e=l[r],c.isObject(e))for(s=0,a=(o=Object.keys(e)).length;s<a;++s)i(o[s],t,e,n);return t},mergeIf:function(t,e){return c.merge(t,e,{merger:c._mergerIf})},extend:function(n){for(var t=function(t,e){n[e]=t},e=1,i=arguments.length;e<i;++e)c.each(arguments[e],t);return n},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=c.inherits,t&&c.extend(n.prototype,t),n.__super__=e.prototype,n}};(e.exports=c).callCallback=c.callback,c.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},c.getValueOrDefault=c.valueOrDefault,c.getValueAtIndexOrDefault=c.valueAtIndexOrDefault},{}],43:[function(t,e){"use strict";var n=t(42),i={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return 1<=t?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),e=i<1?(i=1,n/4):n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),e=i<1?(i=1,n/4):n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),e=i<1?(i=1,n/4):n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-i.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*i.easeInBounce(2*t):.5*i.easeOutBounce(2*t-1)+.5}};e.exports={effects:i},n.easingEffects=i},{42:42}],44:[function(t,e){"use strict";var a=t(42);e.exports={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,r;return a.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,r=+t.left||0):e=n=i=r=+t||0,{top:e,right:n,bottom:i,left:r,height:e+i,width:r+n}},resolve:function(t,e,n){var i,r,o;for(i=0,r=t.length;i<r;++i)if(void 0!==(o=t[i])&&(void 0!==e&&"function"==typeof o&&(o=o(e)),void 0!==n&&a.isArray(o)&&(o=o[n]),void 0!==o))return o}}},{42:42}],45:[function(t,e){"use strict";e.exports=t(42),e.exports.easing=t(43),e.exports.canvas=t(41),e.exports.options=t(44)},{41:41,42:42,43:43,44:44}],46:[function(t,e){e.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}}},{}],47:[function(t,e){"use strict";function s(t,e){var n=m.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function p(t,e,n){t.addEventListener(e,n,r)}function a(t,e,n){t.removeEventListener(e,n,r)}function f(t,e,n,i,r){return{type:t,chart:e,"native":r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function i(e,t,n){var i,r,o,a,s,l,u,c,d=e[g]||(e[g]={}),h=d.resizer=function(t){var e=document.createElement("div"),n=v+"size-monitor",i="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";e.style.cssText=i,e.className=n,e.innerHTML='<div class="'+n+'-expand" style="'+i+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+i+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var r=e.childNodes[0],o=e.childNodes[1];e._reset=function(){r.scrollLeft=1e6,r.scrollTop=1e6,o.scrollLeft=1e6,o.scrollTop=1e6};var a=function(){e._reset(),t()};return p(r,"scroll",a.bind(r,"expand")),p(o,"scroll",a.bind(o,"shrink")),e}((o=!(i=function(){if(d.resizer)return t(f("resize",n))}),a=[],function(){a=Array.prototype.slice.call(arguments),r=r||this,o||(o=!0,m.requestAnimFrame.call(window,function(){o=!1,i.apply(r,a)}))}));l=function(){if(d.resizer){var t=e.parentNode;t&&t!==h.parentNode&&t.insertBefore(h,t.firstChild),h._reset()}},u=(s=e)[g]||(s[g]={}),c=u.renderProxy=function(t){t.animationName===b&&l()},m.each(w,function(t){p(s,t,c)}),u.reflow=!!s.offsetParent,s.classList.add(y)}function o(t){var e,n,i,r=t[g]||{},o=r.resizer;delete r.resizer,n=(e=t)[g]||{},(i=n.renderProxy)&&(m.each(w,function(t){a(e,t,i)}),delete n.renderProxy),e.classList.remove(y),o&&o.parentNode&&o.parentNode.removeChild(o)}var m=t(45),g="$chartjs",v="chartjs-",y=v+"render-monitor",b=v+"render-animation",w=["animationstart","webkitAnimationStart"],l={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},r=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};e.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var t,e,n,i="from{opacity:0.99}to{opacity:1}";e="@-webkit-keyframes "+b+"{"+i+"}@keyframes "+b+"{"+i+"}."+y+"{-webkit-animation:"+b+" 0.001s;animation:"+b+" 0.001s;}",n=(t=this)._style||document.createElement("style"),t._style||(e="/* Chart.js */\n"+e,(t._style=n).setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(e))},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){var n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[g]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var o=s(t,"width");void 0!==o&&(t.width=o)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var a=s(t,"height");void 0!==o&&(t.height=a)}}(t,e),n):null},releaseContext:function(t){var n=t.canvas;if(n[g]){var i=n[g].initial;["height","width"].forEach(function(t){var e=i[t];m.isNullOrUndef(e)?n.removeAttribute(t):n.setAttribute(t,e)}),m.each(i.style||{},function(t,e){n.style[e]=t}),n.width=n.width,delete n[g]}},addEventListener:function(r,t,o){var e=r.canvas;if("resize"!==t){var n=o[g]||(o[g]={});p(e,t,(n.proxies||(n.proxies={}))[r.id+"_"+t]=function(t){var e,n,i;o((n=r,f(l[(e=t).type]||e.type,n,(i=m.getRelativePosition(e,n)).x,i.y,e)))})}else i(e,o,r)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=((n[g]||{}).proxies||{})[t.id+"_"+e];r&&a(i,e,r)}else o(i)}},m.addEvent=p,m.removeEvent=a},{45:45}],48:[function(t,e){"use strict";var n=t(45),i=t(46),r=t(47),o=r._enabled?r:i;e.exports=n.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},o)},{45:45,46:46,47:47}],49:[function(t,e){"use strict";e.exports={},e.exports.filler=t(50),e.exports.legend=t(51),e.exports.title=t(52)},{50:50,51:51,52:52}],50:[function(t,e){"use strict";function h(t,e,n){var i,r=t._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return"-"!==o[0]&&"+"!==o[0]||(i=e+i),!(i===e||i<0||n<=i)&&i;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function p(t){var e,n=t.el._model||{},i=t.el._scale||{},r=t.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?o=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:i.getBasePosition?o=i.getBasePosition():i.getBasePixel&&(o=i.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if("number"==typeof o&&isFinite(o))return{x:(e=i.isHorizontal())?o:null,y:e?null:o}}return null}function f(t,e,n){var i,r=t[e].fill,o=[e];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(i=t[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function b(t){return t&&!t.skip}function w(t,e,n,i,r){var o;if(i&&r){for(t.moveTo(e[0].x,e[0].y),o=1;o<i;++o)c.canvas.lineTo(t,e[o-1],e[o]);for(t.lineTo(n[r-1].x,n[r-1].y),o=r-1;0<o;--o)c.canvas.lineTo(t,n[o],n[o-1],!0)}}var u=t(25),m=t(40),c=t(45);u._set("global",{plugins:{filler:{propagate:!0}}});var g={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),r=i&&n.isDatasetVisible(e)&&i.dataset._children||[],o=r.length||0;return o?function(t,e){return e<o&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};e.exports={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,r,o,a,s,l,u=(t.data.datasets||[]).length,c=e.propagate,d=[];for(i=0;i<u;++i)o=null,(r=(n=t.getDatasetMeta(i)).dataset)&&r._model&&r instanceof m.Line&&(o={visible:t.isDatasetVisible(i),fill:h(r,i,u),chart:t,el:r}),n.$filler=o,d.push(o);for(i=0;i<u;++i)(o=d[i])&&(o.fill=f(d,i,c),o.boundary=p(o),o.mapper=(l=void 0,!(l="dataset")===(s=(a=o).fill)?null:(isFinite(s)||(l="boundary"),g[l](a))))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var i=t.ctx,r=n.el,o=r._view,a=r._children||[],s=n.mapper,l=o.backgroundColor||u.global.defaultColor;s&&l&&a.length&&(c.canvas.clipArea(i,t.chartArea),function(t,e,n,i,r,o){var a,s,l,u,c,d,h,p=e.length,f=i.spanGaps,m=[],g=[],v=0,y=0;for(t.beginPath(),a=0,s=p+!!o;a<s;++a)c=n(u=e[l=a%p]._view,l,i),d=b(u),h=b(c),d&&h?(v=m.push(u),y=g.push(c)):v&&y&&(f?(d&&m.push(u),h&&g.push(c)):(w(t,m,g,v,y),v=y=0,m=[],g=[]));w(t,m,g,v,y),t.closePath(),t.fillStyle=r,t.fill()}(i,a,s,o,l,r._loop),c.canvas.unclipArea(i))}}}},{25:25,40:40,45:45}],51:[function(t,e){"use strict";function T(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function i(t,e){var n=new a({ctx:t.ctx,options:e,chart:t});r.configure(t,n,e),r.addBox(t,n),t.legend=n}var $=t(25),n=t(26),E=t(45),r=t(30),o=E.noop;$._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var t=n.data;return E.isArray(t.datasets)?t.datasets.map(function(t,e){return{text:t.label,fillStyle:E.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!n.isDatasetVisible(e),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:e}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var a=n.extend({initialize:function(t){E.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:o,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:function(){var e=this,n=e.options.labels||{},t=E.callback(n.generateLabels,[e.chart],e)||[];n.filter&&(t=t.filter(function(t){return n.filter(t,e.chart.data)})),e.options.reverse&&t.reverse(),e.legendItems=t},afterBuildLabels:o,beforeFit:o,fit:function(){var i=this,t=i.options,r=t.labels,e=t.display,o=i.ctx,n=$.global,a=E.valueOrDefault,s=a(r.fontSize,n.defaultFontSize),l=a(r.fontStyle,n.defaultFontStyle),u=a(r.fontFamily,n.defaultFontFamily),c=E.fontString(s,l,u),d=i.legendHitBoxes=[],h=i.minSize,p=i.isHorizontal();if(h.height=p?(h.width=i.maxWidth,e?10:0):(h.width=e?10:0,i.maxHeight),e)if(o.font=c,p){var f=i.lineWidths=[0],m=i.legendItems.length?s+r.padding:0;o.textAlign="left",o.textBaseline="top",E.each(i.legendItems,function(t,e){var n=T(r,s)+s/2+o.measureText(t.text).width;f[f.length-1]+n+r.padding>=i.width&&(m+=s+r.padding,f[f.length]=i.left),d[e]={left:0,top:0,width:n,height:s},f[f.length-1]+=n+r.padding}),h.height+=m}else{var g=r.padding,v=i.columnWidths=[],y=r.padding,b=0,w=0,_=s+g;E.each(i.legendItems,function(t,e){var n=T(r,s)+s/2+o.measureText(t.text).width;w+_>h.height&&(y+=b+r.padding,v.push(b),w=b=0),b=Math.max(b,n),w+=_,d[e]={left:0,top:0,width:n,height:s}}),y+=b,v.push(b),h.width+=y}i.width=h.width,i.height=h.height},afterFit:o,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var d=this,h=d.options,p=h.labels,f=$.global,m=f.elements.line,g=d.width,v=d.lineWidths;if(h.display){var y,b=d.ctx,w=E.valueOrDefault,t=w(p.fontColor,f.defaultFontColor),_=w(p.fontSize,f.defaultFontSize),e=w(p.fontStyle,f.defaultFontStyle),n=w(p.fontFamily,f.defaultFontFamily),i=E.fontString(_,e,n);b.textAlign="left",b.textBaseline="middle",b.lineWidth=.5,b.strokeStyle=t,b.fillStyle=t,b.font=i;var x=T(p,_),k=d.legendHitBoxes,C=d.isHorizontal();y=C?{x:d.left+(g-v[0])/2,y:d.top+p.padding,line:0}:{x:d.left+p.padding,y:d.top+p.padding,line:0};var S=_+p.padding;E.each(d.legendItems,function(t,e){var n,i,r,o,a,s=b.measureText(t.text).width,l=x+_/2+s,u=y.x,c=y.y;C?g<=u+l&&(c=y.y+=S,y.line++,u=y.x=d.left+(g-v[y.line])/2):c+S>d.bottom&&(u=y.x=u+d.columnWidths[y.line]+p.padding,c=y.y=d.top+p.padding,y.line++),function(t,e,n){if(!(isNaN(x)||x<=0)){b.save(),b.fillStyle=w(n.fillStyle,f.defaultColor),b.lineCap=w(n.lineCap,m.borderCapStyle),b.lineDashOffset=w(n.lineDashOffset,m.borderDashOffset),b.lineJoin=w(n.lineJoin,m.borderJoinStyle),b.lineWidth=w(n.lineWidth,m.borderWidth),b.strokeStyle=w(n.strokeStyle,f.defaultColor);var i=0===w(n.lineWidth,m.borderWidth);if(b.setLineDash&&b.setLineDash(w(n.lineDash,m.borderDash)),h.labels&&h.labels.usePointStyle){var r=_*Math.SQRT2/2,o=r/Math.SQRT2,a=t+o,s=e+o;E.canvas.drawPoint(b,n.pointStyle,r,a,s)}else i||b.strokeRect(t,e,x,_),b.fillRect(t,e,x,_);b.restore()}}(u,c,t),k[e].left=u,k[e].top=c,n=t,i=s,o=x+(r=_/2)+u,a=c+r,b.fillText(n.text,o,a),n.hidden&&(b.beginPath(),b.lineWidth=2,b.moveTo(o,a),b.lineTo(o+i,a),b.stroke()),C?y.x+=l+p.padding:y.y+=S})}},handleEvent:function(t){var e=this,n=e.options,i="mouseup"===t.type?"click":t.type,r=!1;if("mousemove"===i){if(!n.onHover)return}else{if("click"!==i)return;if(!n.onClick)return}var o=t.x,a=t.y;if(o>=e.left&&o<=e.right&&a>=e.top&&a<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(o>=u.left&&o<=u.left+u.width&&a>=u.top&&a<=u.top+u.height){if("click"===i){n.onClick.call(e,t["native"],e.legendItems[l]),r=!0;break}if("mousemove"===i){n.onHover.call(e,t["native"],e.legendItems[l]),r=!0;break}}}return r}});e.exports={id:"legend",_element:a,beforeInit:function(t){var e=t.options.legend;e&&i(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(E.mergeIf(e,$.global.legend),n?(r.configure(t,n,e),n.options=e):i(t,e)):n&&(r.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}}},{25:25,26:26,30:30,45:45}],52:[function(t,e){"use strict";function i(t,e){var n=new a({ctx:t.ctx,options:e,chart:t});r.configure(t,n,e),r.addBox(t,n),t.titleBlock=n}var x=t(25),n=t(26),k=t(45),r=t(30),o=k.noop;x._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var a=n.extend({initialize:function(t){k.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:o,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:o,afterBuildLabels:o,beforeFit:o,fit:function(){var t=this,e=k.valueOrDefault,n=t.options,i=n.display,r=e(n.fontSize,x.global.defaultFontSize),o=t.minSize,a=k.isArray(n.text)?n.text.length:1,s=k.options.toLineHeight(n.lineHeight,r),l=i?a*s+2*n.padding:0;t.isHorizontal()?(o.width=t.maxWidth,o.height=l):(o.width=l,o.height=t.maxHeight),t.width=o.width,t.height=o.height},afterFit:o,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=k.valueOrDefault,i=t.options,r=x.global;if(i.display){var o,a,s,l=n(i.fontSize,r.defaultFontSize),u=n(i.fontStyle,r.defaultFontStyle),c=n(i.fontFamily,r.defaultFontFamily),d=k.fontString(l,u,c),h=k.options.toLineHeight(i.lineHeight,l),p=h/2+i.padding,f=0,m=t.top,g=t.left,v=t.bottom,y=t.right;e.fillStyle=n(i.fontColor,r.defaultFontColor),e.font=d,t.isHorizontal()?(a=g+(y-g)/2,s=m+p,o=y-g):(a="left"===i.position?g+p:y-p,s=m+(v-m)/2,o=v-m,f=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(a,s),e.rotate(f),e.textAlign="center",e.textBaseline="middle";var b=i.text;if(k.isArray(b))for(var w=0,_=0;_<b.length;++_)e.fillText(b[_],0,w,o),w+=h;else e.fillText(b,0,0,o);e.restore()}}});e.exports={id:"title",_element:a,beforeInit:function(t){var e=t.options.title;e&&i(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(k.mergeIf(e,x.global.title),n?(r.configure(t,n,e),n.options=e):i(t,e)):n&&(r.removeBox(t,n),delete t.titleBlock)}}},{25:25,26:26,30:30,45:45}],53:[function(t,e){"use strict";e.exports=function(t){var e=t.Scale.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1,void 0!==e.options.ticks.min&&(t=n.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),void 0!==e.options.ticks.max&&(t=n.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,r=n.isHorizontal();return i.yLabels&&!r?n.getRightValue(i.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,i=this,r=i.options.offset,o=Math.max(i.maxIndex+1-i.minIndex-(r?0:1),1);if(null!=t&&(n=i.isHorizontal()?t.x:t.y),void 0!==n||void 0!==t&&isNaN(e)){t=n||t;var a=i.getLabels().indexOf(t);e=-1!==a?a:e}if(i.isHorizontal()){var s=i.width/o,l=s*(e-i.minIndex);return r&&(l+=s/2),i.left+Math.round(l)}var u=i.height/o,c=u*(e-i.minIndex);return r&&(c+=u/2),i.top+Math.round(c)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,i=Math.max(e._ticks.length-(n?0:1),1),r=e.isHorizontal(),o=(r?e.width:e.height)/i;return t-=r?e.left:e.top,n&&(t-=o/2),(t<=0?0:Math.round(t/o))+e.minIndex},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",e,{position:"bottom"})}},{}],54:[function(t,e){"use strict";var i=t(25),d=t(45),r=t(34);e.exports=function(t){var e={position:"left",ticks:{callback:r.formatters.linear}},n=t.LinearScaleBase.extend({determineDataLimits:function(){function a(t){return e?t.xAxisID===s.id:t.yAxisID===s.id}var s=this,l=s.options,u=s.chart,t=u.data.datasets,e=s.isHorizontal();s.min=null,s.max=null;var i=l.stacked;if(void 0===i&&d.each(t,function(t,e){if(!i){var n=u.getDatasetMeta(e);u.isDatasetVisible(e)&&a(n)&&void 0!==n.stack&&(i=!0)}}),l.stacked||i){var c={};d.each(t,function(t,e){var i=u.getDatasetMeta(e),n=[i.type,void 0===l.stacked&&void 0===i.stack?e:"",i.stack].join(".");void 0===c[n]&&(c[n]={positiveValues:[],negativeValues:[]});var r=c[n].positiveValues,o=c[n].negativeValues;u.isDatasetVisible(e)&&a(i)&&d.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||(r[e]=r[e]||0,o[e]=o[e]||0,l.relativePoints?r[e]=100:n<0?o[e]+=n:r[e]+=n)})}),d.each(c,function(t){var e=t.positiveValues.concat(t.negativeValues),n=d.min(e),i=d.max(e);s.min=null===s.min?n:Math.min(s.min,n),s.max=null===s.max?i:Math.max(s.max,i)})}else d.each(t,function(t,e){var i=u.getDatasetMeta(e);u.isDatasetVisible(e)&&a(i)&&d.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n))})});s.min=isFinite(s.min)&&!isNaN(s.min)?s.min:0,s.max=isFinite(s.max)&&!isNaN(s.max)?s.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this.options.ticks;if(this.isHorizontal())t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.width/50));else{var n=d.valueOrDefault(e.fontSize,i.global.defaultFontSize);t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.height/(2*n)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this,n=e.start,i=+e.getRightValue(t),r=e.end-n;return e.isHorizontal()?e.left+e.width/r*(i-n):e.bottom-e.height/r*(i-n)},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,r=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",n,e)}},{25:25,34:34,45:45}],55:[function(t,e){"use strict";var c=t(45);e.exports=function(e){var t=c.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(t){return"string"==typeof t?+t:e.Scale.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=c.sign(t.min),i=c.sign(t.max);n<0&&i<0?t.max=0:0<n&&0<i&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,o=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),r!==o&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,stepSize:c.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var n,i=[];if(t.stepSize&&0<t.stepSize)n=t.stepSize;else{var r=c.niceNum(e.max-e.min,!1);n=c.niceNum(r/(t.maxTicks-1),!0)}var o=Math.floor(e.min/n)*n,a=Math.ceil(e.max/n)*n;t.min&&t.max&&t.stepSize&&c.almostWhole((t.max-t.min)/t.stepSize,n/1e3)&&(o=t.min,a=t.max);var s=(a-o)/n;s=c.almostEquals(s,Math.round(s),n/1e3)?Math.round(s):Math.ceil(s);var l=1;n<1&&(l=Math.pow(10,n.toString().length-2),o=Math.round(o*l)/l,a=Math.round(a*l)/l),i.push(void 0!==t.min?t.min:o);for(var u=1;u<s;++u)i.push(Math.round((o+u*n)*l)/l);return i.push(void 0!==t.max?t.max:a),i}(i,t);t.handleDirectionalChanges(),t.max=c.max(r),t.min=c.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{45:45}],56:[function(t,e){"use strict";var h=t(45),n=t(34);e.exports=function(d){var t={position:"left",ticks:{callback:n.formatters.logarithmic}},e=d.Scale.extend({determineDataLimits:function(){function a(t){return e?t.xAxisID===s.id:t.yAxisID===s.id}var s=this,n=s.options,l=s.chart,t=l.data.datasets,e=s.isHorizontal();s.min=null,s.max=null,s.minNotZero=null;var i=n.stacked;if(void 0===i&&h.each(t,function(t,e){if(!i){var n=l.getDatasetMeta(e);l.isDatasetVisible(e)&&a(n)&&void 0!==n.stack&&(i=!0)}}),n.stacked||i){var u={};h.each(t,function(t,e){var r=l.getDatasetMeta(e),o=[r.type,void 0===n.stacked&&void 0===r.stack?e:"",r.stack].join(".");l.isDatasetVisible(e)&&a(r)&&(void 0===u[o]&&(u[o]=[]),h.each(t.data,function(t,e){var n=u[o],i=+s.getRightValue(t);isNaN(i)||r.data[e].hidden||i<0||(n[e]=n[e]||0,n[e]+=i)}))}),h.each(u,function(t){if(0<t.length){var e=h.min(t),n=h.max(t);s.min=null===s.min?e:Math.min(s.min,e),s.max=null===s.max?n:Math.max(s.max,n)}})}else h.each(t,function(t,e){var i=l.getDatasetMeta(e);l.isDatasetVisible(e)&&a(i)&&h.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||n<0||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n),0!==n&&(null===s.minNotZero||n<s.minNotZero)&&(s.minNotZero=n))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks,n=h.valueOrDefault;t.min=n(e.min,t.min),t.max=n(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(h.log10(t.min))-1),t.max=Math.pow(10,Math.floor(h.log10(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(h.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(h.log10(t.min))+1):10),null===t.minNotZero&&(0<t.min?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(h.log10(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:e.min,max:e.max},r=t.ticks=function(t,e){var n,i,r=[],o=h.valueOrDefault,a=o(t.min,Math.pow(10,Math.floor(h.log10(e.min)))),s=Math.floor(h.log10(e.max)),l=Math.ceil(e.max/Math.pow(10,s));0===a?(n=Math.floor(h.log10(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(a),a=i*Math.pow(10,n)):(n=Math.floor(h.log10(a)),i=Math.floor(a/Math.pow(10,n)));for(var u=n<0?Math.pow(10,Math.abs(n)):1;r.push(a),10==++i&&(i=1,u=0<=++n?1:u),a=Math.round(i*Math.pow(10,n)*u)/u,n<s||n===s&&i<l;);var c=o(t.max,a);return r.push(c),r}(i,t);t.max=h.max(r),t.min=h.min(r),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),d.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(h.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(t){var e,n,i,r,o,a=this,s=a.options.ticks.reverse,l=h.log10,u=a._getFirstTickValue(a.minNotZero),c=0;return t=+a.getRightValue(t),o=s?(i=a.end,r=a.start,-1):(
i=a.start,r=a.end,1),n=a.isHorizontal()?(e=a.width,s?a.right:a.left):(e=a.height,o*=-1,s?a.top:a.bottom),t!==i&&(0===i&&(e-=c=h.getValueOrDefault(a.options.ticks.fontSize,d.defaults.global.defaultFontSize),i=u),0!==t&&(c+=e/(l(r)-l(i))*(l(t)-l(i))),n+=o*c),n},getValueForPixel:function(t){var e,n,i,r,o=this,a=o.options.ticks.reverse,s=h.log10,l=o._getFirstTickValue(o.minNotZero);if(i=a?(n=o.end,o.start):(n=o.start,o.end),(r=o.isHorizontal()?(e=o.width,a?o.right-t:t-o.left):(e=o.height,a?t-o.top:o.bottom-t))!==n){if(0===n){var u=h.getValueOrDefault(o.options.ticks.fontSize,d.defaults.global.defaultFontSize);r-=u,e-=u,n=l}r*=s(i)-s(n),r/=e,r=Math.pow(10,s(n)+r)}return r}});d.scaleService.registerScaleType("logarithmic",e,t)}},{34:34,45:45}],57:[function(t,e){"use strict";var i=t(25),_=t(45),r=t(34);e.exports=function(e){function v(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function y(t){var e=t.options.pointLabels,n=_.valueOrDefault(e.fontSize,w.defaultFontSize),i=_.valueOrDefault(e.fontStyle,w.defaultFontStyle),r=_.valueOrDefault(e.fontFamily,w.defaultFontFamily);return{size:n,style:i,family:r,font:_.fontString(n,i,r)}}function g(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||r<t?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function b(t,e,n,i){if(_.isArray(e))for(var r=n.y,o=1.5*i,a=0;a<e.length;++a)t.fillText(e[a],n.x,r),r+=o;else t.fillText(e,n.x,n.y)}function s(t){return _.isNumber(t)?t:0}var w=i.global,t={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:r.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},n=e.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,n=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var i=_.min([t.height,t.width]),r=_.valueOrDefault(n.fontSize,w.defaultFontSize);t.drawingArea=e.display?i/2-(r/2+n.backdropPaddingY):i/2},determineDataLimits:function(){var r=this,n=r.chart,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;_.each(n.data.datasets,function(t,e){if(n.isDatasetVisible(e)){var i=n.getDatasetMeta(e);_.each(t.data,function(t,e){var n=+r.getRightValue(t);isNaN(n)||i.data[e].hidden||(o=Math.min(n,o),a=Math.max(n,a))})}}),r.min=o===Number.POSITIVE_INFINITY?0:o,r.max=a===Number.NEGATIVE_INFINITY?0:a,r.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=_.valueOrDefault(t.fontSize,w.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,e;this.options.pointLabels.display?function(t){var e,n,i,r=y(t),o=Math.min(t.height/2,t.width/2),a={r:t.width,l:0,t:t.height,b:0},s={};t.ctx.font=r.font,t._pointLabelSizes=[];var l,u,c,d=v(t);for(e=0;e<d;e++){i=t.getPointPosition(e,o),l=t.ctx,u=r.size,c=t.pointLabels[e]||"",n=_.isArray(c)?{w:_.longestText(l,l.font,c),h:c.length*u+1.5*(c.length-1)*u}:{w:l.measureText(c).width,h:u},t._pointLabelSizes[e]=n;var h=t.getIndexAngle(e),p=_.toDegrees(h)%360,f=g(p,i.x,n.w,0,180),m=g(p,i.y,n.h,90,270);f.start<a.l&&(a.l=f.start,s.l=h),f.end>a.r&&(a.r=f.end,s.r=h),m.start<a.t&&(a.t=m.start,s.t=h),m.end>a.b&&(a.b=m.end,s.b=h)}t.setReductions(o,a,s)}(this):(t=this,e=Math.min(t.height/2,t.width/2),t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0))},setReductions:function(t,e,n){var i=e.l/Math.sin(n.l),r=Math.max(e.r-this.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),a=-Math.max(e.b-this.height,0)/Math.cos(n.b);i=s(i),r=s(r),o=s(o),a=s(a),this.drawingArea=Math.min(Math.round(t-(i+r)/2),Math.round(t-(o+a)/2)),this.setCenterPoint(i,r,o,a)},setCenterPoint:function(t,e,n,i){var r=this,o=r.width-e-r.drawingArea,a=t+r.drawingArea,s=n+r.drawingArea,l=r.height-i-r.drawingArea;r.xCenter=Math.round((a+o)/2+r.left),r.yCenter=Math.round((s+l)/2+r.top)},getIndexAngle:function(t){return t*(2*Math.PI/v(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(n)*e)+this.xCenter,y:Math.round(Math.sin(n)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this.min,e=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0)},draw:function(){var o=this,t=o.options,a=t.gridLines,s=t.ticks,l=_.valueOrDefault;if(t.display){var u=o.ctx,c=this.getIndexAngle(0),d=l(s.fontSize,w.defaultFontSize),e=l(s.fontStyle,w.defaultFontStyle),n=l(s.fontFamily,w.defaultFontFamily),h=_.fontString(d,e,n);_.each(o.ticks,function(t,e){if(0<e||s.reverse){var n=o.getDistanceFromCenterForValue(o.ticksAsNumbers[e]);if(a.display&&0!==e&&function(t,e,n,i){var r=t.ctx;if(r.strokeStyle=_.valueAtIndexOrDefault(e.color,i-1),r.lineWidth=_.valueAtIndexOrDefault(e.lineWidth,i-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,n,0,2*Math.PI),r.closePath(),r.stroke();else{var o=v(t);if(0===o)return;r.beginPath();var a=t.getPointPosition(0,n);r.moveTo(a.x,a.y);for(var s=1;s<o;s++)a=t.getPointPosition(s,n),r.lineTo(a.x,a.y);r.closePath(),r.stroke()}}(o,a,n,e),s.display){var i=l(s.fontColor,w.defaultFontColor);if(u.font=h,u.save(),u.translate(o.xCenter,o.yCenter),u.rotate(c),s.showLabelBackdrop){var r=u.measureText(t).width;u.fillStyle=s.backdropColor,u.fillRect(-r/2-s.backdropPaddingX,-n-d/2-s.backdropPaddingY,r+2*s.backdropPaddingX,d+2*s.backdropPaddingY)}u.textAlign="center",u.textBaseline="middle",u.fillStyle=i,u.fillText(t,0,-n),u.restore()}}}),(t.angleLines.display||t.pointLabels.display)&&function(t){var e=t.ctx,n=t.options,i=n.angleLines,r=n.pointLabels;e.lineWidth=i.lineWidth,e.strokeStyle=i.color;var o,a,s,l,u=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),c=y(t);e.textBaseline="top";for(var d=v(t)-1;0<=d;d--){if(i.display){var h=t.getPointPosition(d,u);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(h.x,h.y),e.stroke(),e.closePath()}if(r.display){var p=t.getPointPosition(d,u+5),f=_.valueAtIndexOrDefault(r.fontColor,d,w.defaultFontColor);e.font=c.font,e.fillStyle=f;var m=t.getIndexAngle(d),g=_.toDegrees(m);e.textAlign=0===(l=g)||180===l?"center":l<180?"left":"right",o=g,a=t._pointLabelSizes[d],s=p,90===o||270===o?s.y-=a.h/2:(270<o||o<90)&&(s.y-=a.h),b(e,t.pointLabels[d]||"",p,c.size)}}}(o)}}});e.scaleService.registerScaleType("radialLinear",n,t)}},{25:25,34:34,45:45}],58:[function(t,e){"use strict";function m(t,e){return t-e}function g(t){var e,n,i,r={},o=[];for(e=0,n=t.length;e<n;++e)r[i=t[e]]||(r[i]=!0,o.push(i));return o}function b(t,e,n,i){var r=function(t,e,n){for(var i,r,o,a=0,s=t.length-1;0<=a&&a<=s;){if(r=t[(i=a+s>>1)-1]||null,o=t[i],!r)return{lo:null,hi:o};if(o[e]<n)a=i+1;else{if(!(r[e]>n))return{lo:r,hi:o};s=i-1}}return{lo:o,hi:null}}(t,e,n),o=r.lo?r.hi?r.lo:t[t.length-2]:t[0],a=r.lo?r.hi?r.hi:t[t.length-1]:t[1],s=a[e]-o[e],l=s?(n-o[e])/s:0,u=(a[i]-o[i])*l;return o[i]+u}function w(t,e){var n=e.parser,i=e.parser||e.format;return"function"==typeof n?n(t):"string"==typeof t&&"string"==typeof i?C(t,i):(t instanceof C||(t=C(t)),t.isValid()?t:"function"==typeof i?i(t):t)}function _(t,e){if(v.isNullOrUndef(t))return null;var n=e.options.time,i=w(e.getRightValue(t),n);return i.isValid()?(n.round&&i.startOf(n.round),i.valueOf()):null}function x(t){for(var e=$.indexOf(t)+1,n=$.length;e<n;++e)if(T[$[e]].common)return $[e]}function k(d,h,t,e){var n,i=e.time,p=i.unit||function(t,e,n,i){var r,o,a,s=$.length;for(r=$.indexOf(t);r<s-1;++r)if(a=(o=T[$[r]]).steps?o.steps[o.steps.length-1]:S,o.common&&Math.ceil((n-e)/(a*o.size))<=i)return $[r];return $[s-1]}(i.minUnit,d,h,t),r=x(p),o=v.valueOrDefault(i.stepSize,i.unitStepSize),a="week"===p&&i.isoWeekday,s=e.ticks.major.enabled,l=T[p],u=C(d),c=C(h),f=[];for(o||(o=function(t,e,n,i){var r,o,a,s=h-d,l=T[p],u=l.size,c=l.steps;if(!c)return Math.ceil(s/(i*u));for(r=0,o=c.length;r<o&&(a=c[r],!(Math.ceil(s/(u*a))<=i));++r);return a}(0,0,0,t)),a&&(u=u.isoWeekday(a),c=c.isoWeekday(a)),u=u.startOf(a?"day":p),(c=c.startOf(a?"day":p))<h&&c.add(1,p),n=C(u),s&&r&&!a&&!i.round&&(n.startOf(r),n.add(~~((u-n)/(l.size*o))*o,p));n<c;n.add(o,p))f.push(+n);return f.push(+n),f}var C=t(1);C="function"==typeof C?C:window.moment;var a=t(25),v=t(45),y=Number.MIN_SAFE_INTEGER||-9007199254740991,S=Number.MAX_SAFE_INTEGER||9007199254740991,T={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},$=Object.keys(T);e.exports=function(e){var t=e.Scale.extend({initialize:function(){if(!C)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),e.Scale.prototype.initialize.call(this)},update:function(){var t=this.options;return t.time&&t.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),e.Scale.prototype.update.apply(this,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),e.Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,r,o,a=this,s=a.chart,l=a.options.time,u=l.unit||"day",c=S,d=y,h=[],p=[],f=[];for(t=0,n=s.data.labels.length;t<n;++t)f.push(_(s.data.labels[t],a));for(t=0,n=(s.data.datasets||[]).length;t<n;++t)if(s.isDatasetVisible(t))if(r=s.data.datasets[t].data,v.isObject(r[0]))for(p[t]=[],e=0,i=r.length;e<i;++e)o=_(r[e],a),h.push(o),p[t][e]=o;else h.push.apply(h,f),p[t]=f.slice(0);else p[t]=[];f.length&&(f=g(f).sort(m),c=Math.min(c,f[0]),d=Math.max(d,f[f.length-1])),h.length&&(h=g(h).sort(m),c=Math.min(c,h[0]),d=Math.max(d,h[h.length-1])),c=_(l.min,a)||c,d=_(l.max,a)||d,c=c===S?+C().startOf(u):c,d=d===y?+C().endOf(u)+1:d,a.min=Math.min(c,d),a.max=Math.max(c+1,d),a._horizontal=a.isHorizontal(),a._table=[],a._timestamps={data:h,datasets:p,labels:f}},buildTicks:function(){var t,e,n,i,r,o,a,s,l,u,c,d,h=this,p=h.min,f=h.max,m=h.options,g=m.time,v=[],y=[];switch(m.ticks.source){case"data":v=h._timestamps.data;break;case"labels":v=h._timestamps.labels;break;case"auto":default:v=k(p,f,h.getLabelCapacity(p),m)}for("ticks"===m.bounds&&v.length&&(p=v[0],f=v[v.length-1]),p=_(g.min,h)||p,f=_(g.max,h)||f,t=0,e=v.length;t<e;++t)(n=v[t])>=p&&n<=f&&y.push(n);return h.min=p,h.max=f,h._unit=g.unit||function(t,e,n,i){var r,o,a=C.duration(C(i).diff(C(n)));for(r=$.length-1;r>=$.indexOf(e);r--)if(o=$[r],T[o].common&&a.as(o)>=t.length)return o;return $[e?$.indexOf(e):0]}(y,g.minUnit,h.min,h.max),h._majorUnit=x(h._unit),h._table=function(t,e,n){if("linear"===m.distribution||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var i,r,o,a,s,l=[],u=[e];for(i=0,r=t.length;i<r;++i)(a=t[i])>e&&a<n&&u.push(a);for(u.push(n),i=0,r=u.length;i<r;++i)s=u[i+1],o=u[i-1],a=u[i],void 0!==o&&void 0!==s&&Math.round((s+o)/2)===a||l.push({time:a,pos:i/(r-1)});return l}(h._timestamps.data,p,f),h._offsets=(i=h._table,r=y,o=p,a=f,d=c=0,(s=m).offset&&r.length&&(s.time.min||(l=1<r.length?r[1]:a,u=r[0],c=(b(i,"time",l,"pos")-b(i,"time",u,"pos"))/2),s.time.max||(l=r[r.length-1],u=1<r.length?r[r.length-2]:o,d=(b(i,"time",l,"pos")-b(i,"time",u,"pos"))/2)),{left:c,right:d}),h._labelFormat=function(t,e){var n,i,r,o=t.length;for(n=0;n<o;n++){if(0!==(i=w(t[n],e)).millisecond())return"MMM D, YYYY h:mm:ss.SSS a";0===i.second()&&0===i.minute()&&0===i.hour()||(r=!0)}return r?"MMM D, YYYY h:mm:ss a":"MMM D, YYYY"}(h._timestamps.data,g),function(t,e){var n,i,r,o,a=[];for(n=0,i=t.length;n<i;++n)r=t[n],o=!!e&&r===+C(r).startOf(e),a.push({value:r,major:o});return a}(y,h._majorUnit)},getLabelForIndex:function(t,e){var n=this.chart.data,i=this.options.time,r=n.labels&&t<n.labels.length?n.labels[t]:"",o=n.datasets[e].data[t];return v.isObject(o)&&(r=this.getRightValue(o)),i.tooltipFormat?w(r,i).format(i.tooltipFormat):"string"==typeof r?r:w(r,i).format(this._labelFormat)},tickFormatFunction:function(t,e,n,i){var r=this.options,o=t.valueOf(),a=r.time.displayFormats,s=a[this._unit],l=this._majorUnit,u=a[l],c=t.clone().startOf(l).valueOf(),d=r.ticks.major,h=d.enabled&&l&&u&&o===c,p=t.format(i||(h?u:s)),f=h?d:r.ticks.minor,m=v.valueOrDefault(f.callback,f.userCallback);return m?m(p,e,n):p},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(C(t[e].value),e,t));return i},getPixelForOffset:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,r=b(e._table,"time",t,"pos");return i+n*(e._offsets.left+r)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,n){var i=null;if(void 0!==e&&void 0!==n&&(i=this._timestamps.datasets[n][e]),null===i&&(i=_(t,this)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(t){var e=this.getTicks();return 0<=t&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,r=(n?(t-i)/n:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,o=b(e._table,"pos",r,"time");return C(o)},getLabelWidth:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,i=v.toRadians(e.maxRotation),r=Math.cos(i),o=Math.sin(i);return n*r+v.valueOrDefault(e.fontSize,a.global.defaultFontSize)*o},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,i=e.tickFormatFunction(C(t),0,[],n),r=e.getLabelWidth(i),o=e.isHorizontal()?e.width:e.height,a=Math.floor(o/r);return 0<a?a:1}});e.scaleService.registerScaleType("time",t,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Chartkick=e()}(this,function(){"use strict";function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Function}function i(t){return!s(t)&&t instanceof Object}function r(t,e){var n;for(n in e)i(e[n])||a(e[n])?(i(e[n])&&!i(t[n])&&(t[n]={}),a(e[n])&&!a(t[n])&&(t[n]=[]),r(t[n],e[n])):e[n]!==undefined&&(t[n]=e[n])}function B(t,e){var n={};return r(n,t),r(n,e),n}function o(t){var e,n,i,r,o,a,s,l,u,c,d;return"[object Date]"===(c=Object.prototype.toString.call(t))?t:"[object String]"===c&&(i=t.match(q))?(d=parseInt(i[1],10),a=parseInt(i[3],10)-1,e=parseInt(i[5],10),n=parseInt(i[7],10),o=i[9]?parseInt(i[9],10):0,u=i[11]?parseInt(i[11],10):0,r=i[12]?1e3*parseFloat(J+i[12].slice(1)):0,l=Date.UTC(d,a,e,n,o,u,r),i[13]&&i[14]&&(s=60*i[15],i[17]&&(s+=parseInt(i[17],10)),l-=60*(s*="-"===i[14]?-1:1)*1e3),new Date(l)):void 0}function p(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(i[n][1]<0)return!0;return!1}function f(t){return""+t}function U(t){return parseFloat(t)}function l(t){var e,n,i,r;if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{if(e=(t=f(t)).match(z))return n=parseInt(e[1],10),i=parseInt(e[3],10)-1,r=parseInt(e[5],10),new Date(n,i,r);t=o(t.replace(/ /,"T").replace(" ","").replace("UTC","Z"))||new Date(t)}return t}function u(t){if(!a(t)){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push([e,t[e]]);t=n}return t}function c(o,a,s,l,u,c,d,h){return function(t,e,n){var i=t.data,r=B({},o);return r=B(r,n||{}),(t.hideLegend||"legend"in e)&&a(r,e.legend,t.hideLegend),e.title&&s(r,e.title),"min"in e?l(r,e.min):p(i)||l(r,0),e.max&&u(r,e.max),"stacked"in e&&c(r,e.stacked),e.colors&&(r.colors=e.colors),e.xtitle&&d(r,e.xtitle),e.ytitle&&h(r,e.ytitle),r=B(r,e.library||{})}}function m(t,e){return t[0].getTime()-e[0].getTime()}function g(t,e){return t[0]-e[0]}function H(t,e){return t-e}function W(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}function V(t){return W(t)&&0===t.getMinutes()}function Y(t){return V(t)&&0===t.getHours()}function G(t,e){return Y(t)&&t.getDay()===e}function K(t){return Y(t)&&1===t.getDate()}function X(t){return K(t)&&0===t.getMonth()}function n(t){return!isNaN(l(t))&&6<=f(t).length}function d(t){return"number"==typeof t}function h(t,e,n){if(t=t||"",n.prefix&&(e<0&&(e*=-1,t+="-"),t+=n.prefix),n.thousands||n.decimal){var i=(e=f(e)).split(".");e=i[0],n.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,n.thousands)),1<i.length&&(e+=(n.decimal||".")+i[1])}return t+e+(n.suffix||"")}function v(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(0!=i[n][1])return!1;return!0}function y(t,e,n){Ot.push([t,e,n]),b()}function b(){if(Ft<Nt){var t=Ot.shift();t&&(Ft++,e(t[0],t[1],t[2]),b())}}function w(){Ft--,b()}function e(t,e,r){_(t,e,function(t,e,n){var i="string"==typeof n?n:n.message;r(i)})}function _(t,e,n){var i=window.jQuery||window.Zepto||window.$;if(i)i.ajax({dataType:"json",url:t,success:e,error:n,complete:w});else{var r=new XMLHttpRequest;r.open("GET",t,!0),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){w(),200===r.status?e(JSON.parse(r.responseText),r.statusText,r):n(r,"error",r.statusText)},r.send()}}function x(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function k(t,e){x(t,"Error Loading Chart: "+e),t.style.color="#ff0000"}function C(t){try{t.__render()}catch(e){throw k(t.element,e.message),e}}function S(e,t){"string"==typeof t?y(t,function(t){e.rawData=t,C(e)},function(t){k(e.element,t)}):(e.rawData=t,C(e))}function T(n){var i=n.element,r=document.createElement("a");r.download=!0===n.options.download?"chart.png":n.options.download,r.style.position="absolute",r.style.top="20px",r.style.right="20px",r.style.zIndex=1e3,r.style.lineHeight="20px",r.target="_blank";var t=document.createElement("img");t.alt="Download",t.style.border="none",t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",r.appendChild(t),i.style.position="relative",n.__downloadAttached=!0,n.__enterEvent=$(i,"mouseover",function(t){var e=t.relatedTarget;e&&(e===this||E(this,e))||!n.options.download||(r.href=n.toImage(),i.appendChild(r))}),n.__leaveEvent=$(i,"mouseout",function(t){var e=t.relatedTarget;e&&(e===this||E(this,e))||r.parentNode&&r.parentNode.removeChild(r)})}function $(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1),n;var i=function(){return n.call(t,window.event)};return t.attachEvent("on"+e,i),i}function t(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function E(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function A(t){if(t){if("Highcharts"===t.product)return _t;if(t.charts)return Lt;if(s(t))return mt}throw new Error("Unknown adapter")}function D(t){var e=new(A(t))(t);-1===jt.indexOf(e)&&jt.push(e)}function M(){"Chart"in window&&D(window.Chart),"Highcharts"in window&&D(window.Highcharts),window.google&&window.google.charts&&D(window.google)}function P(t,e){if("PieChart"===e||"GeoChart"===e||"Timeline"===e)return 0===t.length;for(var n=0;n<t.length;n++)if(0<t[n].data.length)return!1;return!0}function I(t,e){e.options.messages&&e.options.messages.empty&&P(e.data,t)?x(e.element,e.options.messages.empty):(L(t,e),e.options.download&&!e.__downloadAttached&&"chartjs"===e.adapter&&T(e))}function L(t,e){var n,i,r,o;for(r="render"+t,o=e.options.adapter,M(),n=0;n<jt.length;n++)if(i=jt[n],(!o||o===i.name)&&s(i[r]))return e.adapter=i.name,(e.__adapterObject=i)[r](e);throw 0<jt.length?new Error("No charting library found for "+t):new Error("No charting libraries found - be sure to include one before your charts")}function O(t,e){return F(t,d)?"number":!e&&F(t,n)?"datetime":"string"}function F(t,e){var n,i,r;for(n=0;n<t.length;n++)for(r=u(t[n].data),i=0;i<r.length;i++)if(!e(r[i][0]))return!1;return!0}function N(t){var e,n,i=[];for(e=0;e<t.length;e++){var r={};for(n in t[e])t[e].hasOwnProperty(n)&&(r[n]=t[e][n]);i.push(r)}return i}function R(t,e,n){var i,r=t.options,o=t.rawData;for(!a(o)||"object"!=typeof o[0]||a(o[0])?(o=[{name:r.label,data:o}],t.hideLegend=!0):t.hideLegend=!1,t.xtype=e||(r.discrete?"string":O(o,n)),o=N(o),i=0;i<o.length;i++)o[i].data=qt(u(o[i].data),t.xtype);return o}function j(t){var e,n=u(t.rawData);for(e=0;e<n.length;e++)n[e]=[f(n[e][0]),U(n[e][1])];return n}var z=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i,q=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([.,]\d+)?($|Z|([+-])(\d\d)(:)?(\d\d)?)/i,J=String(1.5).charAt(1),Q={maintainAspectRatio:!1,animation:!1,tooltips:{displayColors:!1,callbacks:{}},legend:{},title:{fontSize:20,fontColor:"#333"}},Z={scales:{yAxes:[{ticks:{maxTicksLimit:4},scaleLabel:{fontSize:16,fontColor:"#333"}}],xAxes:[{gridLines:{drawOnChartArea:!1},scaleLabel:{fontSize:16,fontColor:"#333"},time:{},ticks:{}}]}},tt=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],et=function(t,e,n){e!==undefined?(t.legend.display=!!e,e&&!0!==e&&(t.legend.position=e)):n&&(t.legend.display=!1)},nt=function(t,e){t.title.display=!0,t.title.text=e},it=function(t,e){null!==e&&(t.scales.yAxes[0].ticks.min=U(e))},rt=function(t,e){t.scales.yAxes[0].ticks.max=U(e)},ot=function(t,e){null!==e&&(t.scales.xAxes[0].ticks.min=U(e))},at=function(t,e){t.scales.xAxes[0].ticks.max=U(e)},st=function(t,e){t.scales.xAxes[0].stacked=!!e,t.scales.yAxes[0].stacked=!!e},lt=function(t,e){t.scales.xAxes[0].scaleLabel.display=!0,t.scales.xAxes[0].scaleLabel.labelString=e},ut=function(t,e){t.scales.yAxes[0].scaleLabel.display=!0,t.scales.yAxes[0].scaleLabel.labelString=e},ct=function(t,e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?"rgba("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+", "+e+")":t},dt=function(t,e,n){var i=Math.ceil(t.element.offsetWidth/4/e.labels.length);25<i?i=25:i<10&&(i=10),n.scales.xAxes[0].ticks.callback||(n.scales.xAxes[0].ticks.callback=function(t){return(t=f(t)).length>i?t.substring(0,i-2)+"...":t})},ht=function(t,e,n){var r={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal};if("pie"!==n){var i=e.scales.yAxes;"bar"===n&&(i=e.scales.xAxes),i[0].ticks.callback||(i[0].ticks.callback=function(t){return h("",t,r)})}if(!e.tooltips.callbacks.label)if("scatter"===n)e.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+"("+t.xLabel+", "+t.yLabel+")"};else if("bubble"===n)e.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";n&&(n+=": ");var i=e.datasets[t.datasetIndex].data[t.index];return n+"("+t.xLabel+", "+t.yLabel+", "+i.v+")"};else if("pie"===n)e.tooltips.callbacks.label=function(t,e){var n=e.labels[t.index],i=": ";return a(n)?(n=n.slice())[0]+=i:n+=i,h(n,e.datasets[t.datasetIndex].data[t.index],r)};else{var o="bar"===n?"xLabel":"yLabel";e.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),h(n,t[o],r)}}},pt=c(B(Q,Z),et,nt,it,rt,st,lt,ut),ft=function(t,e,n){var i,r=[],o=[],a=t.options.colors||tt,s=!0,l=!0,u=!0,c=!0,d=!0,h=!0,p=t.data,f=0;if("bubble"===n)for(var m=0;m<p.length;m++)for(var g=p[m],v=0;v<g.data.length;v++)g.data[v][2]>f&&(f=g.data[v][2]);var y,b,w,_,x,k=[],C=[];if("bar"===n||"column"===n||"number"!==t.xtype&&"bubble"!==t.xtype){var S,T,$=[];for(y=0;y<p.length;y++)for(w=p[y],b=0;b<w.data.length;b++)_=w.data[b],k[x="datetime"==t.xtype?_[0].getTime():_[0]]||(k[x]=new Array(p.length)),k[x][y]=U(_[1]),-1===$.indexOf(x)&&$.push(x);for("datetime"!==t.xtype&&"number"!==t.xtype||$.sort(H),b=0;b<p.length;b++)C.push([]);for(T=0;T<$.length;T++)for(y=$[T],"datetime"===t.xtype?(S=new Date(U(y)),s=s&&Y(S),i||(i=S.getDay()),l=l&&G(S,i),u=u&&K(S),c=c&&X(S),d=d&&V(S),h=h&&W(S)):S=y,o.push(S),b=0;b<p.length;b++)C[b].push(k[y][b]===undefined?null:k[y][b])}else for(var E=0;E<p.length;E++){for(var A=p[E],D=[],M=0;M<A.data.length;M++){var P={x:U(A.data[M][0]),y:U(A.data[M][1])};"bubble"===n&&(P.r=20*U(A.data[M][2])/f,P.v=A.data[M][2]),D.push(P)}C.push(D)}for(y=0;y<p.length;y++){var I=(w=p[y]).color||a[y],L="line"!==n?ct(I,.5):I,O={label:w.name||"",data:C[y],fill:"area"===n,borderColor:I,backgroundColor:L,pointBackgroundColor:I,borderWidth:2,pointHoverBackgroundColor:I};w.stack&&(O.stack=w.stack),!1===t.options.curve&&(O.lineTension=0),!1===t.options.points&&(O.pointRadius=0,O.pointHitRadius=5),O=B(O=B(O=B(O,t.options.dataset||{}),w.library||{}),w.dataset||{}),r.push(O)}if("datetime"===t.xtype&&0<o.length){var F=o[0].getTime(),N=o[0].getTime();for(y=1;y<o.length;y++){var R=o[y].getTime();R<F&&(F=R),N<R&&(N=R)}var j,z=(N-F)/864e5;if(!e.scales.xAxes[0].time.unit)if(c||3650<z?(e.scales.xAxes[0].time.unit="year",j=365):u||300<z?(e.scales.xAxes[0].time.unit="month",j=30):s||10<z?(e.scales.xAxes[0].time.unit="day",j=1):d||.5<z?(e.scales.xAxes[0].time.displayFormats={hour:"MMM D, h a"},e.scales.xAxes[0].time.unit="hour",j=1/24):h&&(e.scales.xAxes[0].time.displayFormats={minute:"h:mm a"},e.scales.xAxes[0].time.unit="minute",j=1/24/60),j&&0<z){var q=Math.ceil(z/j/(t.element.offsetWidth/100));l&&1===j&&(q=7*Math.ceil(q/7)),e.scales.xAxes[0].time.unitStepSize=q}e.scales.xAxes[0].time.tooltipFormat||(s?e.scales.xAxes[0].time.tooltipFormat="ll":d?e.scales.xAxes[0].time.tooltipFormat="MMM D, h a":h&&(e.scales.xAxes[0].time.tooltipFormat="h:mm a"))}return{labels:o,datasets:r}},mt=function mt(t){this.name="chartjs",this.library=t};mt.prototype.renderLineChart=function Ht(t,e){var n={};!t.options.max&&v(t.data)&&(n.max=1);var i=pt(t,B(n,t.options));ht(t,i,e);var r=ft(t,i,e||"line");"number"===t.xtype?(i.scales.xAxes[0].type="linear",i.scales.xAxes[0].position="bottom"):i.scales.xAxes[0].type="string"===t.xtype?"category":"time",this.drawChart(t,"line",r,i)},mt.prototype.renderPieChart=function Wt(t){var e=B({},Q);t.options.donut&&(e.cutoutPercentage=50),"legend"in t.options&&et(e,t.options.legend),t.options.title&&nt(e,t.options.title),e=B(e,t.options.library||{}),ht(t,e,"pie");for(var n=[],i=[],r=0;r<t.data.length;r++){var o=t.data[r];n.push(o[0]),i.push(o[1])}var a={data:i,backgroundColor:t.options.colors||tt},s={labels:n,datasets:[a=B(a,t.options.dataset||{})]};this.drawChart(t,"pie",s,e)},mt.prototype.renderColumnChart=function Vt(t,e){var n;n="bar"===e?c(B(Q,Z),et,nt,ot,at,st,lt,ut)(t,t.options):pt(t,t.options),ht(t,n,e);var i=ft(t,n,"column");"bar"!==e&&dt(t,i,n),this.drawChart(t,"bar"===e?"horizontalBar":"bar",i,n)},mt.prototype.renderAreaChart=function Yt(t){this.renderLineChart(t,"area")},mt.prototype.renderBarChart=function Gt(t){this.renderColumnChart(t,"bar")},mt.prototype.renderScatterChart=function Kt(t,e){e=e||"scatter";var n=pt(t,t.options);ht(t,n,e),"showLines"in n||(n.showLines=!1);var i=ft(t,n,e);n.scales.xAxes[0].type="linear",n.scales.xAxes[0].position="bottom",this.drawChart(t,e,i,n)},mt.prototype.renderBubbleChart=function Xt(t){this.renderScatterChart(t,"bubble")},mt.prototype.destroy=function Jt(t){t.chart&&t.chart.destroy()};var gt={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!(mt.prototype.drawChart=function Qt(t,e,n,i){this.destroy(t);var r={type:e,data:n,options:i};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(r)+");"),t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(o,r)})},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},series:{marker:{}}}},vt=function(t,e,n){e!==undefined?(t.legend.enabled=!!e,e&&!0!==e&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):n&&(t.legend.enabled=!1)},yt=function(t,e){t.title.text=e},bt=c(gt,vt,yt,function(t,e){t.yAxis.min=e},function(t,e){t.yAxis.max=e},function(t,e){t.plotOptions.series.stacking=e?!0===e?"normal":e:null},function(t,e){t.xAxis.title.text=e},function(t,e){t.yAxis.title.text=e}),wt=function(t,e,n){var i={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal};"pie"===n||e.yAxis.labels.formatter||(e.yAxis.labels.formatter=function(){return h("",this.value,i)}),e.tooltip.pointFormatter||(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+">\u25cf</span> "+h(this.series.name+": <b>",this.y,i)+"</b><br/>"})},_t=function mt(t){this.name="highcharts",this.library=t};_t.prototype.renderLineChart=function Ht(t,e){var n={};"areaspline"===(e=e||"spline")&&(n={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===t.options.curve&&("areaspline"===e?e="area":"spline"===e&&(e="line"));var i,r,o,a=bt(t,t.options,n);a.xAxis.type="string"===t.xtype?"category":"number"===t.xtype?"linear":"datetime",a.chart.type||(a.chart.type=e),wt(t,a,e);var s=t.data;for(r=0;r<s.length;r++){if(s[r].name=s[r].name||"Value",i=s[r].data,"datetime"===t.xtype)for(o=0;o<i.length;o++)i[o][0]=i[o][0].getTime();!(s[r].marker={symbol:"circle"})===t.options.points&&(s[r].marker.enabled=!1)}this.drawChart(t,s,a)},_t.prototype.renderScatterChart=function Kt(t){var e=bt(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)},_t.prototype.renderPieChart=function Wt(t){var e=B(gt,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&vt(e,t.options.legend),t.options.title&&yt(e,t.options.title);var n=B(e,t.options.library||{});wt(t,n,"pie");var i=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,i,n)},_t.prototype.renderColumnChart=function Vt(t,e){e=e||"column";var n,i,r,o,a=t.data,s=bt(t,t.options),l=[],u=[];for(s.chart.type=e,wt(t,s,e),n=0;n<a.length;n++)for(r=a[n],i=0;i<r.data.length;i++)l[(o=r.data[i])[0]]||(l[o[0]]=new Array(a.length),u.push(o[0])),l[o[0]][n]=o[1];"number"===t.xtype&&u.sort(H),s.xAxis.categories=u;var c,d=[];for(n=0;n<a.length;n++){for(o=[],i=0;i<u.length;i++)o.push(l[u[i]][n]||0);c={name:a[n].name||"Value",data:o},a[n].stack&&(c.stack=a[n].stack),d.push(c)}this.drawChart(t,d,s)},_t.prototype.renderBarChart=function Gt(t){this.renderColumnChart(t,"bar")},_t.prototype.renderAreaChart=function Yt(t){this.renderLineChart(t,"areaspline")},_t.prototype.destroy=function Jt(t){t.chart&&t.chart.destroy()},_t.prototype.drawChart=function Qt(t,e,n){this.destroy(t),n.chart.renderTo=t.element.id,n.series=e,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(n)+");"),t.chart=new this.library.Chart(n)};var xt={},kt=[],Ct={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"
},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},St=function(t,e,n){var i;e!==undefined?(i=e?!0===e?"right":e:"none",t.legend.position=i):n&&(t.legend.position="none")},Tt=function(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}},$t=function(t,e){t.hAxis.viewWindow.min=e},Et=function(t,e){t.hAxis.viewWindow.max=e},At=function(t,e){t.isStacked=e||!1},Dt=function(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1},Mt=function(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1},Pt=c(Ct,St,Tt,function(t,e){t.vAxis.viewWindow.min=e},function(t,e){t.vAxis.viewWindow.max=e},At,Dt,Mt),It=function(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0),t()},Lt=function mt(t){this.name="google",this.library=t};Lt.prototype.renderLineChart=function Ht(i){var r=this;this.waitForLoaded(i,function(){var t={};!1===i.options.curve&&(t.curveType="none"),!1===i.options.points&&(t.pointSize=0);var e=Pt(i,i.options,t),n=r.createDataTable(i.data,i.xtype);r.drawChart(i,"LineChart",n,e)})},Lt.prototype.renderPieChart=function Wt(i){var r=this;this.waitForLoaded(i,function(){var t={chartArea:{top:"10%",height:"80%"},legend:{}};i.options.colors&&(t.colors=i.options.colors),i.options.donut&&(t.pieHole=.5),"legend"in i.options&&St(t,i.options.legend),i.options.title&&Tt(t,i.options.title);var e=B(B(Ct,t),i.options.library||{}),n=new r.library.visualization.DataTable;n.addColumn("string",""),n.addColumn("number","Value"),n.addRows(i.data),r.drawChart(i,"PieChart",n,e)})},Lt.prototype.renderColumnChart=function Vt(n){var i=this;this.waitForLoaded(n,function(){var t=Pt(n,n.options),e=i.createDataTable(n.data,n.xtype);i.drawChart(n,"ColumnChart",e,t)})},Lt.prototype.renderBarChart=function Gt(i){var r=this;this.waitForLoaded(i,function(){var t={hAxis:{gridlines:{color:"#ccc"}}},e=c(Ct,St,Tt,$t,Et,At,Dt,Mt)(i,i.options,t),n=r.createDataTable(i.data,i.xtype);r.drawChart(i,"BarChart",n,e)})},Lt.prototype.renderAreaChart=function Yt(i){var r=this;this.waitForLoaded(i,function(){var t={isStacked:!0,pointSize:0,areaOpacity:.5},e=Pt(i,i.options,t),n=r.createDataTable(i.data,i.xtype);r.drawChart(i,"AreaChart",n,e)})},Lt.prototype.renderGeoChart=function Zt(i){var r=this;this.waitForLoaded(i,function(){var t={legend:"none",colorAxis:{colors:i.options.colors||["#f6c7b6","#ce502d"]}},e=B(B(Ct,t),i.options.library||{}),n=new r.library.visualization.DataTable;n.addColumn("string",""),n.addColumn("number",i.options.label||"Value"),n.addRows(i.data),r.drawChart(i,"GeoChart",n,e)})},Lt.prototype.renderScatterChart=function Kt(u){var c=this;this.waitForLoaded(u,function(){var t,e,n,i,r={},o=Pt(u,u.options,r),a=u.data,s=[];for(t=0;t<a.length;t++)for(a[t].name=a[t].name||"Value",i=a[t].data,e=0;e<i.length;e++){var l=new Array(a.length+1);l[0]=i[e][0],l[t+1]=i[e][1],s.push(l)}for((n=new c.library.visualization.DataTable).addColumn("number",""),t=0;t<a.length;t++)n.addColumn("number",a[t].name);n.addRows(s),c.drawChart(u,"ScatterChart",n,o)})},Lt.prototype.renderTimeline=function te(i){var r=this;this.waitForLoaded(i,"timeline",function(){var t={legend:"none"};i.options.colors&&(t.colors=i.options.colors);var e=B(B(Ct,t),i.options.library||{}),n=new r.library.visualization.DataTable;n.addColumn({type:"string",id:"Name"}),n.addColumn({type:"date",id:"Start"}),n.addColumn({type:"date",id:"End"}),n.addRows(i.data),i.element.style.lineHeight="normal",r.drawChart(i,"Timeline",n,e)})},Lt.prototype.destroy=function Jt(t){t.chart&&t.chart.clearChart()},Lt.prototype.drawChart=function Qt(t,e,n,i){this.destroy(t),t.options.code&&window.console.log("var data = new google.visualization.DataTable("+n.toJSON()+");\nvar chart = new google.visualization."+e+"(element);\nchart.draw(data, "+JSON.stringify(i)+");"),t.chart=new this.library.visualization[e](t.element),It(function(){t.chart.draw(n,i)})},Lt.prototype.waitForLoaded=function ee(t,e,n){var i=this;if(n||(n=e,e="corechart"),kt.push({pack:e,callback:n}),xt[e])this.runCallbacks();else{xt[e]=!0;var r={packages:[e],callback:function(){i.runCallbacks()}},o=t.__config();o.language&&(r.language=o.language),"corechart"===e&&o.mapsApiKey&&(r.mapsApiKey=o.mapsApiKey),this.library.charts.load("current",r)}},Lt.prototype.runCallbacks=function ne(){for(var t,e=this,n=0;n<kt.length;n++)t=kt[n],e.library.visualization&&("corechart"===t.pack&&e.library.visualization.LineChart||"timeline"===t.pack&&e.library.visualization.Timeline)&&(t.callback(),kt.splice(n,1),n--)},Lt.prototype.createDataTable=function ft(t,e){var n,i,r,o,a,s=[],l=[];for(n=0;n<t.length;n++)for(r=t[n],t[n].name=t[n].name||"Value",i=0;i<r.data.length;i++)o=r.data[i],s[a="datetime"===e?o[0].getTime():o[0]]||(s[a]=new Array(t.length),l.push(a)),s[a][n]=U(o[1]);var u,c=[],d=!0;for(i=0;i<l.length;i++)n=l[i],"datetime"===e?(u=new Date(U(n)),d=d&&Y(u)):u="number"===e?U(n):n,c.push([u].concat(s[n]));if("datetime"===e)c.sort(m);else if("number"===e){for(c.sort(g),n=0;n<c.length;n++)c[n][0]=f(c[n][0]);e="string"}var h=new this.library.visualization.DataTable;for(e="datetime"===e&&d?"date":e,h.addColumn(e,""),n=0;n<t.length;n++)h.addColumn("number",t[n].name);return h.addRows(c),h};var Ot=[],Ft=0,Nt=4,Rt={},jt=[],zt=function(t,e){return t="number"===e?U(t):"datetime"===e?l(t):f(t)},qt=function(t,e){var n,i,r=[];for(i=0;i<t.length;i++)"bubble"===e?r.push([U(t[i][0]),U(t[i][1]),U(t[i][2])]):(n=zt(t[i][0],e),r.push([n,U(t[i][1])]));return"datetime"===e?r.sort(m):"number"===e&&r.sort(g),r},Bt=function Bt(t,e,n){var i;if("string"==typeof t&&(i=t,!(t=document.getElementById(t))))throw new Error("No element with id "+i);this.element=t,this.options=B(Ut.options,n||{}),this.dataSource=e,S(Ut.charts[t.id]=this,e),this.options.refresh&&this.startRefresh()};Bt.prototype.getElement=function ie(){return this.element},Bt.prototype.getDataSource=function re(){return this.dataSource},Bt.prototype.getData=function oe(){return this.data},Bt.prototype.getOptions=function ae(){return this.options},Bt.prototype.getChartObject=function se(){return this.chart},Bt.prototype.getAdapter=function le(){return this.adapter},Bt.prototype.updateData=function ue(t,e){this.dataSource=t,e&&this.__updateOptions(e),S(this,t)},Bt.prototype.setOptions=function ce(t){this.__updateOptions(t),this.redraw()},Bt.prototype.redraw=function de(){S(this,this.rawData)},Bt.prototype.refreshData=function he(){if("string"==typeof this.dataSource){var t=-1===this.dataSource.indexOf("?")?"?":"&";S(this,this.dataSource+t+"_="+(new Date).getTime())}},Bt.prototype.startRefresh=function pe(){var t=this,e=this.options.refresh;if(!this.intervalId){if(!e)throw new Error("No refresh interval");this.intervalId=setInterval(function(){t.refreshData()},1e3*e)}},Bt.prototype.stopRefresh=function fe(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},Bt.prototype.toImage=function me(){return"chartjs"===this.adapter?this.chart.toBase64Image():null},Bt.prototype.destroy=function Jt(){this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&t(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&t(this.element,"mouseout",this.__leaveEvent)},Bt.prototype.__updateOptions=function ge(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=B(Ut.options,t),e&&(this.stopRefresh(),this.startRefresh())},Bt.prototype.__render=function ve(){this.data=this.__processData(),I(this.__chartName(),this)},Bt.prototype.__config=function ye(){return Rt};var Ut={LineChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return R(this)},e.prototype.__chartName=function i(){return"LineChart"},e}(Bt),PieChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return j(this)},e.prototype.__chartName=function i(){return"PieChart"},e}(Bt),ColumnChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return R(this,null,!0)},e.prototype.__chartName=function i(){return"ColumnChart"},e}(Bt),BarChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return R(this,null,!0)},e.prototype.__chartName=function i(){return"BarChart"},e}(Bt),AreaChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return R(this)},e.prototype.__chartName=function i(){return"AreaChart"},e}(Bt),GeoChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return j(this)},e.prototype.__chartName=function i(){return"GeoChart"},e}(Bt),ScatterChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return R(this,"number")},e.prototype.__chartName=function i(){return"ScatterChart"},e}(Bt),BubbleChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return R(this,"bubble")},e.prototype.__chartName=function i(){return"BubbleChart"},e}(Bt),Timeline:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){var t,e=this.rawData;for(t=0;t<e.length;t++)e[t][1]=l(e[t][1]),e[t][2]=l(e[t][2]);return e},e.prototype.__chartName=function i(){return"Timeline"},e}(Bt),charts:{},configure:function(t){for(var e in t)t.hasOwnProperty(e)&&(Rt[e]=t[e])},eachChart:function(t){for(var e in Ut.charts)Ut.charts.hasOwnProperty(e)&&t(Ut.charts[e])},config:Rt,options:{},adapters:jt,addAdapter:D};return Ut}),function(){var r,n,i,a,e,t,o;t=function(){var e;if(0<$(".edit_group_bpldi select").length&&(e=(all_students_bpldi||[]).map(function(t){return t.id}),n(e),$(".edit_group_bpldi select").change(function(){var t;return t=parseInt($(this).val()),i($(this),t),n(e)}),0<$("#batch_peer_learning_day_item_edit_button").length))return $("#batch_peer_learning_day_item_edit_button").on("click",function(){var t,e,n,i;return(e=$(this)).attr("disabled","disabled"),t=e.data("batch-peer-learning-day-item-id"),n=r(),i="/batch_peer_learning_day_items/"+t+"/update_assign.json",$.post(i,{result:JSON.stringify(n)},function(t){return e.removeAttr("disabled"),void 0!==t&&t.redirect?window.location=t.redirect:void 0!==t&&t.error?alert(t.error):alert(t)})})},a=function(e){if(void 0!==all_students_bpldi&&0!==all_students_bpldi.length&&!(void 0===e||e<=0))return all_students_bpldi.filter(function(t){return t.id===e})[0]},i=function(t,e){if(void 0!==t&&void 0!==e)return $(".edit_group_bpldi select").each(function(){if($(this).attr("id")!==t.attr("id")&&parseInt($(this).val())===e)return $(this).val("0")})},n=function(t){var n;return n=[],0<t.length&&(n=t.slice(),$(".edit_group_bpldi select").each(function(){var t,e;if(0<(e=parseInt($(this).val()))&&0<=(t=n.indexOf(e)))return n.splice(t,1)})),e(n)},e=function(t){var e,n,i,r,o;for($(".batch_peer_learning_day_item_not_assigned").empty(),i=[],e=0,n=t.length;e<n;e++)o=t[e],void 0!==(r=a(o))?i.push($(".batch_peer_learning_day_item_not_assigned").append($("<li>").html(r.name))):i.push(void 0);return i},r=function(){var t,i,e,n;for(e in n={send_email:!1,groups:[]},0<$("#send_email:checked").length&&(n.send_email=!0),i={},$(".edit_group_bpldi select").each(function(){var t,e,n;if(0<(n=parseInt($(this).val())))return e=$(this).data("bpldi-group-id"),(t=i[e]||[]).push(n),i[e]=t}),i)t=i[e],n.groups.push(t);return n},$(document).ready(t),$(document).on("page:load",t),o=function(){if(0<$(".user-pto-report-actions").length)return $(".user-pto-report-actions .btn").click(function(){var e,n,i,t,r,o,a,s;if(!(i=$(this)).hasClass("loading")&&!i.hasClass("active"))return s=i.data("user-id"),o=i.data("pld-id"),e=i.data("action"),n=$('.user-pto-report-actions .btn[data-user-id="'+s+'"]'),a=$('.user-pto-report-actions .btn[data-user-id="'+s+'"][data-action="remove"]'),r=$('.user-pto-report-actions .error_msg[data-user-id="'+s+'"]'),n.addClass("loading"),r.html(""),t={user_id:s,report:e},$.post("/batch_peer_learning_day_items/"+o+"/report_student.json",t,function(t){return n.removeClass("loading").removeClass("active"),t?t.success?(i.addClass("active"),"remove"!==e?a.show():a.hide()):r.html(t.error):r.html("An error occured")})})},$(document).ready(o),$(document).on("page:load",o)}.call(this),function(){var u,c,l,d,h,t,e;h={},d={},e=function(){var t,e,n,i;if(0<$("select.team_members").length){for(t in $("select.team_members").focus(function(){return d[$(this).attr("name")]=$(this).val()}),users_for_teams_hash)e=users_for_teams_hash[t],h[t]=e;for(t in $("select.team_members").each(function(){var t;if(0!==(t=parseInt($(this).val())))return delete h[t]}),(i=$(".team_members_not_assigned")).empty(),h)e=h[t],(n=$("<li>")).attr("data-user-id",t).text(e),i.append(n);return $("select.team_members").each(function(){return c($(this))}),$(".add_member_to_team").each(function(){return u($(this))}),$(".add_team span").click(function(){var t,e,n,i,r,o,a,s,l;for(a=$(this).data("team-idx"),s=$("ul.edit_teams"),r=$("<li>"),i=$('<span class="team_container" data-team-idx="'+a+'">'),r.append(i),(o=$('<select class="form-control select-inline team_members" name="team_'+a+'_0" id="team_'+a+'_0">')).append($('<option value="0">')),t=0,e=users_for_teams_array.length;t<e;t++)l=users_for_teams_array[t],o.append($('<option value="'+l.id+'">'+l.name+"</option>"));return i.append(o),(n=$('<span class="add_member_to_team" data-team-idx="'+a+'" data-team-member-idx="1">')).append($('<i class="fa fa-plus-circle"></i>')),r.append(n),s.append(r),u(n),c(o),$(this).data("team-idx",a+1)})}},u=function(t){return t.click(function(){var t,e,n,i,r,o,a;for(r=$(this).data("team-idx"),o=$(this).data("team-member-idx"),(i=$('.team_container[data-team-idx="'+r+'"]')).append(" - "),(n=$('<select class="form-control select-inline team_members" name="team_'+r+"_"+o+'" id="team_'+r+"_"+o+'">')).append($('<option value="0">')),t=0,e=users_for_teams_array.length;t<e;t++)a=users_for_teams_array[t],n.append($('<option value="'+a.id+'">'+a.name+"</option>"));return i.append(n),c(n),$(this).data("team-member-idx",o+1)})},c=function(t){return t.change(function(){var t,e,n,i,r,o,a,s;for(t in s=parseInt($(this).val()),a=parseInt(d[$(this).attr("name")]),0===(d[$(this).attr("name")]=s)?(o=l(s))||(h[a]=users_for_teams_hash[a]):((o=l(s,$(this)))&&(o.val("0"),d[o.attr("name")]=0),0!==a&&(h[a]=users_for_teams_hash[a]),delete h[s]),(i=$(".team_members_not_assigned")).empty(),r=[],h)e=h[t],t&&e?((n=$("<li>")).attr("data-user-id",t).text(e),r.push(i.append(n))):r.push(void 0);return r})},l=function(t,e){var n;return t&&0!==t?(n=null,$("select.team_members").each(function(){if(!(n||e&&e.attr("name")===$(this).attr("name"))&&parseInt($(this).val())===t)return n=$(this)}),n):null},$(document).ready(e),$(document).on("page:load",e),t=function(){if(0<$(".partial_copyright").length)return $(".partial_copyright").each(function(){var t,e,w;return e=$(this).data("task-id"),t=$(this).data("batch-planning-item-id"),(w=$(this)).append("<i>Loading...</i>"),$.getJSON("/batch_planning_items/"+t+"/copyright/"+e+".json",function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,m,g,v,y,b;if(w.empty(),t){for(i in r=$("<ul>"),t){if(l=t[i],(e=$("<li>")).append("<b>"+i+"</b>"),"Skipped"===l)e.append("Skipped");else{for(n=$("<ul>"),o=0,d=l.length;o<d;o++){for(a=l[o],(f=$("<li>")).append(a.percentage+"%: "),v=null,u=0,h=(g=a.users_pairs).length;u<h;u++){for(null===v?v="":v+=", ",v+="(",m=!0,c=0,p=(s=g[u]).length;c<p;c++)m||(v+=", "),m=!1,(y=(b=s[c]).url).startsWith("s3://")?v+='<a href="/batch_planning_items/sign_s3_url?s3_path='+y:v+='<a href="'+y,v+='" target="_blank"><code>'+b.id+"</code> "+b.name+"</a>";v+=")"}f.append(v),n.append(f)}e.append(n)}r.append(e)}return w.append(r)}return w.html("Error")})})},$(document).on("loadPartialCopyrights",t)}.call(this),function(){}.call(this),function(){var i,a,s,t,e;e=function(){var o;if(0<$("select.batch_reefinery_item_pairing").length)return o={},$("select.batch_reefinery_item_pairing").focus(function(){return o[$(this).attr("name")]=$(this).val()}),$("select.batch_reefinery_item_pairing").change(function(){var t,e,n,i,r;return i=$(this),r=parseInt($(this).val()),e=$(this).data("interviewer-or-candidate"),t=$(this).data("early-or-late"),parseInt(o[$(this).attr("name")]),0===(o[$(this).attr("name")]=r)?n=s(r):((n=s(r,t,e,$(this)))||"candidate"===e)&&($("[data-type=batch-reefinery-"+("early"===t?"late":"early")+"-candidate]").each(function(){return null===n&&$(this).val()===i.val()&&$(this).data("early-or-late")!==t&&e===$(this).data("interviewer-or-candidate")&&(e="candidate")?($(this).val("0"),o[$(this).attr("name")]=0):n&&$(this).val()===n.val()?($(this).val("0"),o[$(this).attr("name")]=0):void 0}),n&&(n.val("0"),o[n.attr("name")]=0)),a()})},s=function(t,e,n,i){var r;return t&&0!==t?(r=null,$("select.batch_reefinery_item_pairing").each(function(){if(!(r||i&&(i.attr("name")===$(this).attr("name")||e!==$(this).data("early-or-late"))||parseInt($(this).val())!==t||n!==$(this).data("interviewer-or-candidate")&&n===$(this).data("interviewer-or-candidate")))return r=$(this)}),r):null},a=function(){var e,t,n,i,r,o,a;for(t in a={},e={},$(".batch_reefinery_item_early_group").each(function(){var t;return t=$("[data-type=batch-reefinery-early-candidate]",this).val(),e[t]=!0}),$(".batch_reefinery_item_late_group").each(function(){var t;return t=$("[data-type=batch-reefinery-late-candidate]",this).val(),e[t]=!0}),Object.keys(all_candidates_hash_reefinery).forEach(function(t){if(!0!==e[[t]])return a[t]=all_candidates_hash_reefinery[t]}),(r=$(".batch_reefinery_item_pairing_not_assigned")).empty(),o=[],a)n=a[t],(i=$("<li>")).attr("data-user-id",t).text(n),o.push(r.append(i));return o},i=function(n){var i,r;return r={},i=0,$(".batch_reefinery_item_"+n+"_group").each(function(){var t,e;return e=$("[data-type=batch-reefinery-"+n+"-interviewer]",this).val(),t=$("[data-type=batch-reefinery-"+n+"-candidate]",this).val(),r["pair_"+i]=[e,t],i+=1}),r},t=function(){if(0<$("#batch_reefinery_edit_button").length)return e(),a(),$("#batch_reefinery_edit_button").on("click",function(){var e,t,n;return(e=$(this)).attr("disabled","disabled"),t={early_pairs:i("early"),late_pairs:i("late")},n="/batch_reefinery_items/"+$(this).data("batch-reefinery-item-id")+"/update_assign.json",$.post(n,{result:JSON.stringify(t)},function(t){if(e.removeAttr("disabled"),void 0===t||!t.redirect)return alert(t);window.location=t.redirect})})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t;t=function(){if(0<$('li[role="sub_presentation"]').length)return $('li[role="sub_presentation"]').each(function(){return $(this).on("click",function(){var t,e,n;if(!(n=$(this)).hasClass("active"))return t=$(this).data("control"),e=$(this).data("controls"),$('li[role="sub_presentation"]').each(function(){if(n!==$(this)&&$(this).data("control")===t)return $(this).removeClass("active")}),$('.sub_presentation_panel[data-control="'+t+'"]').hide(),n.addClass("active"),$("#"+e).show()})})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){}.call(this),function(){}.call(this),function(){var t,e,n,i;t=function(){if(0<$("[data-char-count]").length)return $("[data-char-count]").each(function(t,e){return i($(e))}),$("[data-char-count]").on("keyup",function(){return i($(this))})},i=function(t){var e,n,i;return n=t.data("char-count"),e=$(t.data("char-counter-selector")),i=t.val().length,e.html(n-i),e.removeClass("alert-danger").removeClass("alert-success").removeClass("alert-warning"),n<i?e.addClass("alert-danger"):3*n/4<i?e.addClass("alert-warning"):e.addClass("alert-success")},$(document).ready(t),$(document).on("page:load",t),e=function(){var t,e,n,i,r,o;if(0<$("#who_helped_you").length){for($("form").on("keypress",function(t){if(13===t.which)return t.preventDefault()}),i=JSON.parse(""+document.sourceLocalJSON),o=[],t=0,e=(n=JSON.parse(""+document.selectedUsersWhoHelpedJSON)).length;t<e;t++)r=n[t],o=o.concat(i.filter(function(t){if(t.value===r)return t}));return $("#who_helped_you").each(function(){var t;return(t=new Bloodhound({local:i,datumTokenizer:function(t){return t&&t.label?Bloodhound.tokenizers.whitespace(t.label):""},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:20})).initialize(),$(this).tokenfield({tokens:o,typeahead:[null,{source:t.ttAdapter(),displayKey:"label"}]})})}},$(document).ready(e),$(document).on("page:load",e),n=function(){var t,e,n,i,r,o;if(0<$("#who_you_helped").length){for($("form").on("keypress",function(t){if(13===t.which)return t.preventDefault()}),i=JSON.parse(""+document.sourceLocalJSON),o=[],t=0,e=(n=JSON.parse(""+document.selectedUsersHelpedJSON)).length;t<e;t++)r=n[t],o=o.concat(i.filter(function(t){if(t.value===r)return t}));return $("#who_you_helped").each(function(){var t;return(t=new Bloodhound({local:i,datumTokenizer:function(t){return t&&t.label?Bloodhound.tokenizers.whitespace(t.label):""},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:20})).initialize(),$(this).tokenfield({tokens:o,typeahead:[null,{source:t.ttAdapter(),displayKey:"label"}]})})}},$(document).ready(n),$(document).on("page:load",n)}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var t;t=function(){var t;if(0<$(".auto_refresh_page").length)return(void 0===(t=parseInt($(".auto_refresh_page").data("refresh")))||t<=0)&&(t=60),setTimeout(function(){return location.reload()},1e3*t)},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){}.call(this),function(){}.call(this),function(){var t,e;e=function(){if(0<$("div[data-toggle-checkbox]").length)return $("div[data-toggle-checkbox]").each(function(){return $(this).on("click",function(){var t;return(t=$($(this).data("toggle-checkbox"))).prop("checked",!t.prop("checked"))})})},$(document).ready(e),$(document).on("page:load",e),t=function(){if(0<$(".manual_review_item input[data-type=slider]").length)return $(".manual_review_item input[data-type=slider]").each(function(){var e,t,n;return e=$(".manual_review_item .score_value[data-check-id="+$(this).data("check-id")+"]"),t=parseInt($(this).data("points")),(n=$(this).data("scoreValue"))<0&&(n=0),t<n&&(n=t),$(this).slider({min:0,max:t,step:t/10,value:n,tooltip:"hide"}).on("change",function(t){return e.html(t.value.newValue)})})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t,e;t=function(){if(0<$("#admin-education-grid-dashboard").length)try{if($('.track-tabs a[data-toggle="tab"]').on("shown.bs.tab",function(t){return localStorage.setItem("lastShownTrackTab",$(t.target).attr("href"))}),localStorage.getItem("lastShownTrackTab"))return $('.track-tabs a[href="'+localStorage.getItem("lastShownTrackTab")+'"]').tab("show")}catch(t){t}},$(document).ready(t),$(document).on("page:load",t),e=function(){if(0<$("#gantt_here").length)return setTimeout(function(){return gantt.showDate(new Date)},2e3)},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){}.call(this),function(){var c,d,r,o,a,s,h,n,i,e,p,f,t,l;t=null,l=function(){if(0<$("#evaluation_quiz").length)return $("#evaluation_quiz section.actions button").click(function(){var t,e;return 0!==$("#evaluation_quiz section.question").data("question-id")?(e=$("#evaluation_quiz section.question").data("question-type"),t=[],"Input"===e?t.push($('#evaluation_quiz section.question .answers .answer[data-question-type="Input"] textarea').val()):"Select"!==e&&"SelectMultiple"!==e&&"Checkbox"!==e&&"Scored"!==e||$('#evaluation_quiz section.question .answers .answer[data-question-type="'+e+'"] input:checked').each(function(){return t.push($(this).data("value"))}),p({answers:t})):p({bp_action:1})}),""!==$("#evaluation_quiz").data("user-id")&&($(window).focus(function(){var t,e,n,i,r;if(r=Math.round((new Date).getTime()/1e3),(i=localStorage.getItem("hbtn_eq_last_out_"+$("#evaluation_quiz section.question").data("question-id")+"_"+$("#evaluation_quiz").data("user-id")))&&0<(n=parseInt(i))&&(t=0,(e=localStorage.getItem("hbtn_eq_duration_out_"+$("#evaluation_quiz section.question").data("question-id")+"_"+$("#evaluation_quiz").data("user-id")))&&(t=parseInt(e)),t<0&&(t=0),t+=r-n,localStorage.setItem("hbtn_eq_duration_out_"+$("#evaluation_quiz section.question").data("question-id")+"_"+$("#evaluation_quiz").data("user-id"),t),30<t&&0!==$("#evaluation_quiz section.question").data("question-id")))return $("#evaluation_quiz section.out_reminder").fadeIn(150)}),$(window).blur(function(){return localStorage.setItem("hbtn_eq_last_out_"+$("#evaluation_quiz section.question").data("question-id")+"_"+$("#evaluation_quiz").data("user-id"),Math.round((new Date).getTime()/1e3))})),e({is_tmp:1,is_init:1})},$(document).ready(l),$(document).on("page:load",l),i=function(){var t;return""!==$("#evaluation_quiz").data("user-id")&&(t=localStorage.getItem("hbtn_eq_duration_out_"+$("#evaluation_quiz section.question").data("question-id")+"_"+$("#evaluation_quiz").data("user-id")))?parseInt(t):0},c=function(){if(t)return clearInterval(t),t=null},d=function(){if(!t)return t=setInterval(function(){e({is_tmp:1})},2e4)},e=function(e){var t;return e||(e={}),t=$("#evaluation_quiz").data("evaluation-quiz-id"),e.evaluation_quiz_correction_id=$("#evaluation_quiz").data("evaluation-quiz-correction-id"),e.question_id=$("#evaluation_quiz section.question").data("question-id"),e.not_focus_duration=i(),$.post("/evaluation_quizzes/"+t+"/submit.json",e,function(t){n(e,t)})},p=function(t){return c(),$("#evaluation_quiz").fadeOut(150,function(){return e(t)})},n=function(t,e){var n,i;if(e||(e={}),a(e.nb_questions,e.nb_questions_done,e.time_left),1!==t.is_tmp||1===t.is_init)return $("#evaluation_quiz section.out_reminder").hide(),i=$("#evaluation_quiz section.html"),e.html?i.html(e.html).show():i.hide(),e.question?($("#evaluation_quiz section.question").data("question-id",e.question.id),$("#evaluation_quiz section.question").data("question-type",e.question.type)):($("#evaluation_quiz section.question").data("question-id",0),$("#evaluation_quiz section.question").removeData("question-type")),n=e.action,!e.question||e.question.auto_submit||n||(n="Submit"),s(e.question),r(n,e.question&&e.question.need_answer),$("#evaluation_quiz").fadeIn(150);e.question||(c(),o(e))},o=function(t){return $("#evaluation_quiz section.html").html(t.html||"").show(),$("#evaluation_quiz section.question").hide(),$("#evaluation_quiz div.progress_time_left").hide(),r(t.action)},r=function(t,e){var n,i;return i=$("#evaluation_quiz section.actions"),n=$("#evaluation_quiz section.actions button"),t?(n.html(t),i.show()):i.hide(),e?n.addClass("need_answer").attr("disabled","disabled"):n.removeClass("need_answer").removeAttr("disabled")},a=function(t,e,n){var i,r,o,a,s,l,u;return r=$("#evaluation_quiz div.progress_time_left"),t||n?((o=$("#evaluation_quiz div.progress_time_left .progress-bar")).hide(),t&&($("#evaluation_quiz div.progress_time_left .progress span").html(e+" / "+t),i=Math.round(e/t*100),o.attr("aria-valuenow",i).width(i+"%"),o.show()),(a=$("#evaluation_quiz div.progress_time_left .time_left")).hide(),l=(u=h(n))[0],s=u[1],l&&(a.html("<strong>Time left:</strong> "+s).show(),n<=5?r.removeClass("time_warning").addClass("time_alert"):n<=10&&r.addClass("time_warning")),r.show(),d()):(c(),r.hide())},s=function(t){var e,n,i,r,o,a,s,l,u,c,d,h;if((c=$("#evaluation_quiz section.question")).hide(),t){if(c.data("question-id",t.id),c.show(),(u=$("#evaluation_quiz section.question .category")).hide(),t.category&&($("#evaluation_quiz section.question .category span").html(t.category),u.show()),$("#evaluation_quiz section.question h4.title").html(t.title),(d=$("#evaluation_quiz section.question p.sub_title")).hide(),t.sub_title&&d.html(t.sub_title).show(),$("#evaluation_quiz section.question .answers .answer").hide(),"Input"===t.type)return $('#evaluation_quiz section.question .answers .answer[data-question-type="Input"]').show(),$('#evaluation_quiz section.question .answers .answer[data-question-type="Input"] textarea').html("").val("");if("Select"===t.type||"SelectMultiple"===t.type||"Checkbox"===t.type||"Scored"===t.type){for((l=$('#evaluation_quiz section.question .answers .answer[data-question-type="'+t.type+'"] ul')).empty(),e=n=0,s=(h=t.items).length;e<s;e++)r=h[e],o=$("<li>"),i=t.is_radio?"radio":"checkbox",a=$('<input type="'+i+'" name="question_'+t.id+'" id="question_checkbox_'+n+'" data-weak-value="1" >').data("value",r.value),o.append(a),o.append($('<label for="question_checkbox_'+n+'">').html(r.html)),t.cleanup_item&&t.cleanup_item===r.value&&a.attr("data-weak-value","0"),a.change(function(){return t.auto_submit?$(this).is(":checked")?p({answers:[$(this).data("value")]}):void 0:(t.cleanup_item&&$(this).is(":checked")&&(t.cleanup_item===$(this).data("value")?$('#evaluation_quiz section.question .answers .answer[data-question-type="'+t.type+'"] ul input[type="checkbox"][data-weak-value="1"]').prop("checked",!1):$('#evaluation_quiz section.question .answers .answer[data-question-type="'+t.type+'"] ul input[type="checkbox"][data-weak-value="0"]').prop("checked",!1)),f(t.id))}),l.append(o),n+=1;return $('#evaluation_quiz section.question .answers .answer[data-question-type="'+t.type+'"]').show()}}},f=function(t){var e;if(0<(e=$("#evaluation_quiz section.actions button")).length&&e.hasClass("need_answer"))return $('input[name="question_'+t+'"]').is(":checked")?e.removeAttr("disabled"):e.attr("disabled","disabled")},h=function(t){var e,n,i;return(!t||t<0)&&(t=0),e="",i=t,0<(n=Math.trunc(i/60))&&(e+=n+"h "),0<(i-=60*n)&&(e+=i+"min"),[t,e]}}.call(this),function(){var m,f,c,d,r,o,a,s,l,g,v,h,p,t;t=function(t,e){var n,i;if(!($('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+e+'"]').length<=0))return i=$('select.question-types[data-evaluation-quiz-question-id="'+e+'"]'),n=$(i).val(),r(e,n,!0),i.change(function(){return r(e,$(this).val(),!1)}),o(e),s(e),l(e),a(e)},$(document).on("new_evaluation_quiz_question",t),r=function(t,e,n){if($('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .answers_type').hide(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .answers_type[data-question-type="'+e+'"]').show(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_checkbox').empty(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select').empty(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select_multiple').empty(),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored').empty(),!n)return g(t),h(t),p(t),v(t)},o=function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p;h=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_checkbox'),o=[];try{o=JSON.parse($('input[data-evaluation-quiz-question-id="'+t+'"].checkbox_items').val())}catch(f){f,console.log("")}for(p=new showdown.Converter,s=0,d=o.length;s<d;s++)e=o[s],r=$('<li class="checkbox_item row">'),c=1e4*Math.random(),l=e.valid?"checked":"",n=$('<input type="checkbox" class="col-sm-1" data-evaluation-quiz-question-id="'+t+'" data-action="valid" data-id="'+c+'" '+l+" />").val(e.value),r.append(n),n.change(function(){return g(t)}),r.append($('<div class="checkbox_value col-sm-8">').append(p.makeHtml(e.value))),u=e.random?"checked":"",i=$('<input type="checkbox" class="col-sm-2" data-evaluation-quiz-question-id="'+t+'" data-action="random" data-id="'+c+'" '+u+" />"),r.append(i),i.change(function(){return g(t)}),r.append($("<spand>").html("random order?")),(a=$('<div class="checkbox_item_delete col-sm-1">')).append($('<i class="fa fa-minus-circle">')),r.append(a),a.click(function(){if(!0===confirm("Are you sure?"))return $(this).parent(
).remove(),g(t)}),h.append(r);return $('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .checkbox_item.add .checkbox_item_add').click(function(){return m(t)})},m=function(t){var e,n,i,r,o,a,s,l;if((l=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .checkbox_item_input_add').val()).trim())return a=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_checkbox'),s=new showdown.Converter,i=$('<li class="checkbox_item row">'),o=1e4*Math.random(),e=$('<input type="checkbox" class="col-sm-1"  data-evaluation-quiz-question-id="'+t+'" data-action="valid" data-id="'+o+'" />').val(l),i.append(e),e.change(function(){return g(t)}),i.append($('<div class="checkbox_value col-sm-8">').append(s.makeHtml(l))),n=$('<input type="checkbox" class="col-sm-2" data-evaluation-quiz-question-id="'+t+'" data-action="random" data-id="'+o+'" />'),i.append(n),n.change(function(){return g(t)}),i.append($("<span>").html("random order?")),(r=$('<div class="checkbox_item_delete col-sm-1">')).append($('<i class="fa fa-minus-circle">')),i.append(r),a.append(i),r.click(function(){if(!0===confirm("Are you sure?"))return $(this).parent().remove(),g(t)}),g(t),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .checkbox_item_input_add').val("")},g=function(i){var r;return r=[],$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+i+'"] .list_of_checkbox input[type="checkbox"][data-action="valid"]').each(function(){var t,e,n;if(e=$(this).val(),t=$(this).data("id"),e.trim())return n={value:e,valid:$(this).is(":checked"),random:$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+i+'"] .list_of_checkbox input[type="checkbox"][data-action="random"][data-id="'+t+'"]').is(":checked")},r.push(n)}),$('input[data-evaluation-quiz-question-id="'+i+'"].checkbox_items').val(JSON.stringify(r))},s=function(t){var e,n,i,r,o,a,s,l;r=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select'),l=[];try{l=JSON.parse($('input[data-evaluation-quiz-question-id="'+t+'"].select_items').val())}catch(u){u,console.log("")}for(o=new showdown.Converter,n=0,i=l.length;n<i;n++)a=l[n],(s=$('<li class="select_item row">')).append($('<div class="col-sm-1 w-20">').html("-")),s.append($('<div class="select_value col-sm-8">').append(o.makeHtml(a))),s.append($('<input type="hidden" class="select_value_input">').val(a)),(e=$('<div class="select_item_delete col-sm-1">')).append($('<i class="fa fa-minus-circle">')),s.append(e),e.click(function(){if(!0===confirm("Are you sure?"))return $(this).parent().remove(),h(t)}),s.append($('<div class="col-sm-2">')),r.append(s);return $('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_item.add .select_item_add').click(function(){return c(t)})},c=function(t){var e,n,i,r,o;if((r=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_item_input_add').val()).trim())return i=new showdown.Converter,n=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select'),(o=$('<li class="select_item row">')).append($('<div class="col-sm-1 w-20">').html("-")),o.append($('<span class="select_value col-sm-8">').append(i.makeHtml(r))),o.append($('<input type="hidden" class="select_value_input">').val(r)),(e=$('<div class="select_item_delete col-sm-1">')).append($('<i class="fa fa-minus-circle">')),o.append(e),o.append($('<div class="col-sm-2">')),n.append(o),e.click(function(){if(!0===confirm("Are you sure?"))return $(this).parent().remove(),h(t)}),h(t),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_item_input_add').val("")},h=function(t){var e;return e=[],$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select .select_value_input').each(function(){var t;if((t=$(this).val()).trim())return e.push(t)}),$('input[data-evaluation-quiz-question-id="'+t+'"].select_items').val(JSON.stringify(e))},l=function(t){var e,n,i,r,o,a,s,l;r=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select_multiple'),l=[];try{l=JSON.parse($('input[data-evaluation-quiz-question-id="'+t+'"].select_multiple_items').val())}catch(u){u,console.log("")}for(o=new showdown.Converter,n=0,i=l.length;n<i;n++)a=l[n],(s=$('<li class="select_multiple_item row">')).append($('<div class="col-sm-1 w-20">').html("-")),s.append($('<div class="select_value col-sm-8">').append(o.makeHtml(a))),s.append($('<input type="hidden" class="select_multiple_value_input">').val(a)),(e=$('<div class="select_item_delete col-sm-1">')).append($('<i class="fa fa-minus-circle">')),s.append(e),e.click(function(){if(!0===confirm("Are you sure?"))return $(this).parent().remove(),p(t)}),s.append($('<div class="col-sm-2">')),r.append(s);return $('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_multiple_item.add .select_multiple_item_add').click(function(){return d(t)})},d=function(t){var e,n,i,r,o;if((r=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_multiple_item_input_add').val()).trim())return i=new showdown.Converter,n=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select_multiple'),(o=$('<li class="select_multiple_item row">')).append($('<div class="col-sm-1 w-20">').html("-")),o.append($('<span class="select_value col-sm-8">').append(i.makeHtml(r))),o.append($('<input type="hidden" class="select_value_input">').val(r)),(e=$('<div class="select_item_delete col-sm-1">')).append($('<i class="fa fa-minus-circle">')),o.append(e),o.append($('<div class="col-sm-2">')),n.append(o),e.click(function(){if(!0===confirm("Are you sure?"))return $(this).parent().remove(),p(t)}),p(t),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .select_multiple_item_input_add').val("")},p=function(t){var e;return e=[],$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_select_multiple .select_multiple_value_input').each(function(){var t;if((t=$(this).val()).trim())return e.push(t)}),$('input[data-evaluation-quiz-question-id="'+t+'"].select_multiple_items').val(JSON.stringify(e))},a=function(t){var e,n,i,r,o,a,s,l,u,c,d,h;a=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored'),h=[];try{h=JSON.parse($('input[data-evaluation-quiz-question-id="'+t+'"].scored_items').val())}catch(p){p,console.log("")}for(s=new showdown.Converter,n=0,o=h.length;n<o;n++)l=h[n],r=1e4*Math.random(),c=$('<li class="scored_item row" data-id="'+r+'">'),d=$('<input type="number" step="1" class="col-sm-2 form-control" data-evaluation-quiz-question-id="'+t+'" data-action="score" data-id="'+r+'" />').val(l.score),c.append(d),d.change(function(){return v(t)}),c.append($('<div class="scored_value col-sm-7">').append(s.makeHtml(l.value))),i=l.random?"checked":"",u=$('<input type="checkbox" class="col-sm-2" data-evaluation-quiz-question-id="'+t+'" data-action="random" data-id="'+r+'" '+i+" />").val(l.value),c.append(u),u.change(function(){return v(t)}),c.append($("<spand>").html("random order?")),(e=$('<div class="scored_item_delete col-sm-1">')).append($('<i class="fa fa-minus-circle">')),c.append(e),e.click(function(){if(!0===confirm("Are you sure?"))return $(this).parent().remove(),v(t)}),a.append(c);return $('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .scored_item.add .scored_item_add').click(function(){return f(t)})},f=function(t){var e,n,i,r,o,a,s,l;if((o=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .scored_item_input_add').val()).trim())return i=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .list_of_scored'),r=new showdown.Converter,n=1e4*Math.random(),s=$('<li class="scored_item row" data-id="'+n+'">'),l=$('<input type="number" step="1" class="col-sm-2 form-control" data-evaluation-quiz-question-id="'+t+'" data-action="score" data-id="'+n+'" />').val(0),s.append(l),l.change(function(){return v(t)}),s.append($('<div class="scored_value col-sm-7">').append(r.makeHtml(o))),a=$('<input type="checkbox" class="col-sm-2" data-evaluation-quiz-question-id="'+t+'" data-action="random" data-id="'+n+'" />').val(o),s.append(a),a.change(function(){return v(t)}),s.append($("<span>").html("random order?")),(e=$('<div class="scored_item_delete col-sm-1">')).append($('<i class="fa fa-minus-circle">')),s.append(e),i.append(s),e.click(function(){if(!0===confirm("Are you sure?"))return $(this).parent().remove(),v(t)}),v(t),$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+t+'"] .scored_item_input_add').val("")},v=function(i){var r;return r=[],$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+i+'"] .list_of_scored .scored_item.row').each(function(){var t,e,n;if(t=$(this).data("id"),(e=$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+i+'"] .list_of_scored input[type="checkbox"][data-action="random"][data-id="'+t+'"]').val()).trim())return n={value:e,score:$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+i+'"] .list_of_scored input[type="number"][data-action="score"][data-id="'+t+'"]').val(),random:$('.evaluation_quiz_question_answers[data-evaluation-quiz-question-id="'+i+'"] .list_of_scored input[type="checkbox"][data-action="random"][data-id="'+t+'"]').is(":checked")},r.push(n)}),$('input[data-evaluation-quiz-question-id="'+i+'"].scored_items').val(JSON.stringify(r))}}.call(this),function(){var t,e,n,i;t=function(t){return t.each(function(){if(1!==$(this).data("already-converted"))return new SimpleMDE({element:this,toolbar:[{name:"bold",action:SimpleMDE.toggleBold,className:"fa fa-bold",title:"Bold","default":!0},{name:"italic",action:SimpleMDE.toggleItalic,className:"fa fa-italic",title:"Italic","default":!0},{name:"heading",action:SimpleMDE.toggleHeadingSmaller,className:"fa fa-header",title:"Heading","default":!0},"|",{name:"quote",action:SimpleMDE.toggleBlockquote,className:"fa fa-quote-left",title:"Quote","default":!0},{name:"unordered-list",action:SimpleMDE.toggleUnorderedList,className:"fa fa-list-ul",title:"Generic List","default":!0},{name:"code",action:SimpleMDE.toggleCodeBlock,className:"fa fa-code",title:"Code","default":!0},{name:"table",action:SimpleMDE.drawTable,className:"fa fa-table",title:"Table","default":!0},"|",{name:"link",action:SimpleMDE.drawLink,className:"fa fa-link",title:"Create Link","default":!0},{name:"image",action:SimpleMDE.drawImage,className:"fa fa-picture-o",title:"Insert Image","default":!0},"|",{name:"preview",action:SimpleMDE.togglePreview,className:"fa fa-eye no-disable",title:"Toggle Preview","default":!0},{name:"fullscreen",action:SimpleMDE.toggleFullScreen,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen","default":!0},"|",{name:"fileUpload",action:n,className:"fa fa-upload",title:"Upload a File","default":!0},"|",{name:"guide",action:i,className:"fa fa-question-circle",title:"Markdown Guide","default":!0}]}),$(this).data("already-converted",1)})},n=function(t){return window.current_markdown_editor=t,$("#uploaderModal").modal(),$(document).trigger("upload-reset-modal")},i=function(){return $("#markdownGuideModal").modal()},e=function(){return 0<$(".nested_markdown.nav-tabs").length?($('a[data-toggle="tab"]').on("shown.bs.tab",function(){return t($($(this).attr("href")+" .markdown"))}),$('li.active a[data-toggle="tab"]').each(function(){return t($($(this).attr("href")+" .markdown"))})):t($(".markdown"))},$(document).ready(e),$(document).on("page:load",e),$(document).on("new_markdown_field",e)}.call(this),function(){var t,e,n,i,r;t=function(){return $("#computed-role").text($(this).find(":selected").text())},r=function(){return $("#my_intentions_role").on("change",function(){return $("#computed-role").text($(this).find(":selected").text())})},$(document).ready(t),$(document).ready(r),i=function(){var t;if(0<$("#concepts_i_covered").length)return(t=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:20})).initialize(),$("#concepts_i_covered").tokenfield({typeahead:[null,{source:t.ttAdapter()}]})},$(document).ready(i),$(document).on("page:load",i),e=function(){return $("#my_intentions_form").on("submit",function(){var t;return $("#concepts_i_covered").val(JSON.stringify($("#concepts_i_covered").val())),t=$("#concepts_i_covered").val().split(","),$("#concepts_i_covered").val(JSON.stringify(t)),!0})},$(document).ready(e),$(document).on("page:load",e),n=function(){if(0<$("#my_intentions_toggle_more_info").length)return $("#my_intentions_toggle_more_info").click(function(){return 1===$(this).data("is-shown")?($(this).data("is-shown",0),$("#my_intentions_more_info").hide(),$(this).html("More information about Goal cohort, objective and key results")):($(this).data("is-shown",1),$("#my_intentions_more_info").show(),$(this).html("Hide"))})},$(document).ready(n),$(document).on("page:load",n)}.call(this),function(){}.call(this),function(){var t,e;e=function(){var t,e;if(0<$("#concepts_i_covered_this_week").length){e=[];try{e=JSON.parse(""+document.conceptsThatNeedReviewingJSON)}catch(n){e=[]}return(t=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.label)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:20})).initialize(),$("#concepts_i_covered_this_week").tokenfield({tokens:e,typeahead:[null,{source:t.ttAdapter(),displayKey:"label"}]})}},$(document).ready(e),$(document).on("page:load",e),t=function(){if($("#okr_checkins_form"))return $("#okr_checkins_form").on("submit",function(){var t;return $("#concepts_i_covered_this_week").val(JSON.stringify($("#concepts_i_covered_this_week").val())),t=$("#concepts_i_covered_this_week").val().split(","),$("#concepts_i_covered_this_week").val(JSON.stringify(t)),!0})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var o,t,e,n,i,r,a,s,l,u,c,d,h,p,f,m,g,v,y,b,w,_,x,k,C,S,T,E,A,D,M=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};E=function(){if(0<$(".auto-smart-check-concept").length&&$(".auto-smart-check-concept").each(function(){return $(this).on("cocoon:after-insert",function(){return $(".concept-select",$(this)).last().val($(".concept-select",$(this)).first().val())})}),0<$(".auto-smart-project-github").length)return $(".auto-smart-project-github").each(function(){return $(this).on("cocoon:after-insert",function(){return $(".github_repo-text-field",$(this)).last().val($(".github_repo-text-field",$(this)).first().val()),$(".github_dir-text-field",$(this)).last().val($(".github_dir-text-field",$(this)).first().val())})})},$(document).ready(E),$(document).on("page:load",E),A=function(){if(0<$("#form-project #sysadmin .field input.has_sub_fields").length)return $("#form-project #sysadmin .field input.has_sub_fields").click(function(){var t;return t=$(this).attr("id").replace("project_",""),$(this).is(":checked")?$("#form-project #sysadmin .field .sub_fields."+t).show():$("#form-project #sysadmin .field .sub_fields."+t).hide()}),$("#form-project #sysadmin .field input.has_sub_fields").each(function(){var t;return t=$(this).attr("id").replace("project_",""),$(this).is(":checked")?$("#form-project #sysadmin .field .sub_fields."+t).show():$("#form-project #sysadmin .field .sub_fields."+t).hide()})},$(document).ready(A),$(document).on("page:load",A),a=function(){return $("#jigsaw-project-requirements-shortcut .fa-window-minimize").css("display","none"),$("#jigsaw-project-requirements-shortcut .fa-check-square-o").css("display","inline-block"),$(this).data("requirements-active",!1)},s=function(){return $("#jigsaw-project-requirements-shortcut .fa-check-square-o").css("display","none"),$("#jigsaw-project-requirements-shortcut .fa-window-minimize").css("display","inline-block"),$(this).data("requirements-active",!0)},h=function(){return $("#jigsaw-project-requirements-shortcut").click(function(){return!1===$(this).data("requirements-active")?s():a()})},$(document).ready(h),$(document).on("page:load",h),k=function(){return $("#project-requirements-modal").on("hide.bs.modal",function(){return a()})},$(document).ready(k),$(document).on("page:load",k),C=function(){return $("#project-requirements-modal").on("shown.bs.modal",function(){return s()})},$(document).ready(C),$(document).on("page:load",C),i=function(){return $("#jigsaw-project-learnings-shortcut .fa-window-minimize").css("display","none"),$("#jigsaw-project-learnings-shortcut .fa-lightbulb-o").css("display","inline-block"),$(this).data("learnings-active",!1)},r=function(){return $("#jigsaw-project-learnings-shortcut .fa-lightbulb-o").css("display","none"),$("#jigsaw-project-learnings-shortcut .fa-window-minimize").css("display","inline-block"),$(this).data("learnings-active",!0)},d=function(){return $("#jigsaw-project-learnings-shortcut").click(function(){return!1===$(this).data("learnings-active")?r():i()})},$(document).ready(d),$(document).on("page:load",d),w=function(){return $("#project-learnings-modal").on("hide.bs.modal",function(){return i()})},$(document).ready(w),$(document).on("page:load",w),_=function(){return $("#project-learnings-modal").on("shown.bs.modal",function(){return r()})},$(document).ready(_),$(document).on("page:load",_),l=function(){return $("#jigsaw-resources-shortcut .fa-window-minimize").css("display","none"),$("#jigsaw-resources-shortcut .fa-book").css("display","inline-block"),$(this).data("resources-active",!1)},u=function(){return $("#jigsaw-resources-shortcut .fa-book").css("display","none"),$("#jigsaw-resources-shortcut .fa-window-minimize").css("display","inline-block"),$(this).data("resources-active",!0)},p=function(){return $("#jigsaw-resources-shortcut").click(function(){return!1===$(this).data("resources-active")?u():l()})},$(document).ready(p),$(document).on("page:load",p),S=function(){return $("#resources-modal").on("hide.bs.modal",function(){return l()})},$(document).ready(S),$(document).on("page:load",S),T=function(){return $("#resources-modal").on("shown.bs.modal",function(){return u()})},$(document).ready(T),$(document).on("page:load",T),e=function(){return $("#jigsaw-custom-description-sections-shortcut .fa-window-minimize").css("display","none"),$("#jigsaw-custom-description-sections-shortcut .fa-puzzle-piece").css("display","inline-block"),$(this).data("custom-description-sections-active",!1)},n=function(){return $("#jigsaw-custom-description-sections-shortcut .fa-puzzle-piece").css("display","none"),$("#jigsaw-custom-description-sections-shortcut .fa-window-minimize").css("display","inline-block"),$(this).data("custom-description-sections-active",!0)},c=function(){return $("#jigsaw-custom-description-sections-shortcut").click(function(){return!1===$(this).data("custom-description-sections-active")?n():e()})},$(document).ready(c),$(document).on("page:load",c),y=function(){return $("#custom-description-sections-modal").on("hide.bs.modal",function(){return e()})},$(document).ready(y),$(document).on("page:load",y),b=function(){return $("#custom-description-sections-modal").on("shown.bs.modal",function(){return n()})},$(document).ready(b),$(document).on("page:load",b),D=function(){if(0<$("#resources-modal").length)return $("#jigsaw-resources-shortcut").click(function(){var t;if(1!==$("#jigsaw-resources-shortcut").data("already-queried"))return $("#resources-modal .spinner").show(),t="/projects/"+$("#jigsaw-resources-shortcut").data("project-id")+"/jigsaw_pieces.json?piece_type=resources",$.ajax({type:"GET",dataType:"json",url:t}).done(function(t){return t.forEach(function(t){var e,n,i,r,o;if(n=0,"url"===t.type&&(e=o=null,"read"===t.action?e=$('<i class="fa fa-bookmark" aria-hidden="true">'):"watch"===t.action&&(e=$('<i class="fa fa-youtube-play" aria-hidden="true">')),(o=$('<li class="url-resource"></li>')).append(e),o.append("<a href="+t.link+' target="_blank">'+t.name+"</a>"),$("#url-section").append(o),n+=1),"man/help"===t.type&&(r=$('<li class="man-help-resource"></li>'),i=$('<i class="fa fa-check-circle-o" aria-hidden="true">'),r.append(i),r.append("<code>"+t.command+"</code>"),$("#man-help-command-section").append(r),n+=1),2===n)return $("#resource-separator").show()}),$("#jigsaw-resources-shortcut").data("already-queried",1),$("#resources-modal .spinner").hide()})})},$(document).ready(D),$(document).on("page:load",D),g=function(){if(0<$("#project-learnings-modal").length)return $("#jigsaw-project-learnings-shortcut").click(function(){var t,n,e,i,r;if($("#i-know-this-button").hide(),$("#need-to-review-button").hide(),n=null,i=$("#jigsaw-project-learnings-shortcut").data("project-id"),null!==JSON.parse(localStorage.getItem("hbtn_project_"+i))&&t?(n=JSON.parse(localStorage.getItem("hbtn_project_"+i))[0],o(n),t=!1,$("#i-know-this-button").show(),$("#need-to-review-button").show()):1!==$("#jigsaw-project-learnings-shortcut").data("already-queried")?($("#project-learnings-modal .spinner").show(),e="/projects/"+i+"/jigsaw_pieces.json?piece_type=what_you_should_learn",$.ajax({type:"GET",dataType:"json",url:e}).done(function(t){var e;return n=t[0],e=t.slice(1),localStorage.setItem("hbtn_project_"+i,JSON.stringify(e)),o(n),$("#i-know-this-button").show(),$("#need-to-review-button").show()})):($("#i-know-this-button").show(),$("#need-to-review-button").show()),null!==(r=JSON.parse(localStorage.getItem("hbtn_project_"+i)))&&0===r.length)return localStorage.removeItem("hbtn_project_"+i)})},$(document).ready(g),$(document).on("page:load",g),o=function(t){if(void 0!==t)return $("#project-learnings-modal").data("project-learning-id",t.project_learning_id),0<=M.call(t,"subtopic")&&($("#learning-subtopic-text").empty(),$("#project-learnings-modal .modal-body").prepend('<span id="learning-subtopic-text">'+t.subtopic+"</span>")),$("#learning-objective-text").empty(),$("#project-learnings-modal .modal-body").prepend('<span id="learning-objective-text">'+t.objective+"</span>"),$("#jigsaw-project-learnings-shortcut").data("already-queried",1),$("#project-learnings-modal .spinner").hide()},m=function(){if(0<$("#project-learnings-modal").length)return $("#i-know-this-button").click(function(){return t("I know this")})},$(document).ready(m),$(document).on("page:load",m),v=function(){if(0<$("#project-learnings-modal").length)return $("#need-to-review-button").click(function(){return t("Need to review")})},$(document).ready(v),$(document).on("page:load",v),t=function(t){var e,n,i,r,o;if(i=$("#jigsaw-project-learnings-shortcut").data("project-id"),null!==(r=JSON.parse(localStorage.getItem("hbtn_project_"+i)))&&0<r.length&&(e={user_project_learning:{project_learning_id:$("#project-learnings-modal").data("project-learning-id"),learning_objective_status:t}},o="/user_project_learnings/student_submission.json",$.ajax({type:"POST",dataType:"json",data:e,url:o}).done(function(t){return console.log(t)}),n=r[0],$("#project-learnings-modal").data("project-learning-id",n.project_learning_id),r=r.slice(1),localStorage.setItem("hbtn_project_"+i,JSON.stringify(r)),$("#learning-objective-text").html(n.objective)),null!==(r=JSON.parse(localStorage.getItem("hbtn_project_"+i)))&&0===r.length)return localStorage.removeItem("hbtn_project_"+i)},x=function(){if(0<$("#project-requirements-modal").length)return $("#jigsaw-project-requirements-shortcut").click(function(){var t;if(1!==$("#jigsaw-project-requirements-shortcut").data("already-queried"))return $("#project-requirements-modal .spinner").show(),t="/projects/"+$("#jigsaw-project-requirements-shortcut").data("project-id")+"/jigsaw_pieces.json?piece_type=requirements",$.ajax({type:"GET",dataType:"json",url:t}).done(function(t){return t.forEach(function(t){var e,n;return e=$('<i class="fa fa-check-circle-o" aria-hidden="true">'),(n=$('<li class="requirement-text">'+t.requirement_description+"</li>")).prepend(e),$("#project-requirements-list").append(n)}),$("#jigsaw-project-requirements-shortcut").data("already-queried",1),$("#project-requirements-modal .spinner").hide()})})},$(document).ready(x),$(document).on("page:load",x),f=function(){if(0<$("#custom-description-sections-modal").length)return $("#jigsaw-custom-description-sections-shortcut").click(function(){var t;if(1!==$("#jigsaw-custom-description-sections-shortcut").data("already-queried"))return $("#custom-description-sections-modal .spinner").show(),t="/projects/"+$("#jigsaw-custom-description-sections-shortcut").data("project-id")+"/jigsaw_pieces.json?piece_type=custom",$.ajax({type:"GET",dataType:"json",url:t}).done(function(t){var i,r;return r=t.length,i=0,t.forEach(function(t){var e,n;if(e=$("<h4>"+t.section_name+"</h4>"),n=$("<p>"+t.section_text+"</p>"),$("#custom-description-sections-body").append(e),$("#custom-description-sections-body").append(n),(i+=1)!==r)return $("#custom-description-sections-body").append("<hr>")}),$("#jigsaw-custom-description-sections-shortcut").data("already-queried",1),$("#custom-description-sections-modal .spinner").hide()})})},$(document).ready(f),$(document).on("page:load",f)}.call(this),function(){var t;t=function(){var l,u,c,e;if(0<$(".pto_request_modal").length)return c=$(".pto_request_modal .spinner"),l=$(".pto_request_modal .error"),u=$(".pto_request_modal .form"),e=$(".pto_request_modal").data("user-id"),$(".pto_request_modal").on("shown.bs.modal",function(){return c.show(),l.hide().empty(),u.hide(),$.getJSON("/users/"+e+"/coming_mandatory_days.json",function(t){var e,n,i,r,o,a,s;if(c.hide(),i=null,t&&t.error?i=t.error:t&&t.items?t&&0===t.items.length&&(i="No mandatory days coming. If it's not the case, please contact the staff"):i="An error occured",i)return l.html(i).show();for((n=$(".pto_request_modal #pto_date")).empty(),r=0,a=(s=t.items).length;r<a;r++)o=s[r],(e=$("<option>").html(o.date+" - "+o.title)).data("date",o.date),e.data("obj-id",o.id),n.append(e);return u.show()})}),$(".pto_request_modal .submit_pto").click(function(){var t;return c.show(),l.hide().empty(),u.hide(),t={obj_id:$(".pto_request_modal #pto_date option:selected").data("obj-id"),date:$(".pto_request_modal #pto_date option:selected").data("date"),reason:$(".pto_request_modal #pto_reason").val(),type:$(".pto_request_modal #pto_type option:selected").data("type")},$.post("/users/"+e+"/request_pto.json",t,function(t){var e;return c.hide(),e=null,t&&t.error?e=t.error:t&&t.redirect||(e="An error occured"),e?l.html(e).show():(alert("PTO correctly added! Thank you"),window.location=t.redirect)})})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var g,r,o,a,e,t,n,i,s,v=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};s=function(t,e){var n,i,r;if(r='input[data-quiz-question-id="'+e+'"]',!($(r).length<=0))return i=(i=JSON.parse($(r)[0].value)||[]).sort(function(t,e){return parseInt(t.position)>parseInt(e.position)}),g(e,i),n='.quiz_question_answers_add[data-quiz-question-id="'+e+'"]',0<$(n).length?$(n).click(function(){return(i=JSON.parse(($(r)[0]||{}).value)||[]).push({id:Date.now(),position:i.length+1,body:"",online:!0,is_true:!1}),($(r)[0]||{}).value=JSON.stringify(i),g(e,i)}):void 0},$(document).on("new_quiz_question",s),g=function(t,e){var n,i,r,o,a,s,l,u,c,d,h,p,f,m;if(p='.quiz_question_answers_list[data-quiz-question-id="'+t+'"]',void 0!==(h=$(p)[0])){for(u='input[data-quiz-question-id="'+t+'"]',r=[],s=0,c=e.length;s<c;s++)o=e[s],i=o.id,r.push(i),void 0===(n=$(p+' .quiz_question_answer_item[data-quiz-question-answer-id="'+i+'"]')[0])?((f=$('<div class="quiz_question_answer_item well" data-quiz-question-id="'+t+'" data-quiz-question-answer-id="'+i+'">')).append('<textarea id="quiz_question_answer_item_body_'+i+'" name="quiz_question_answer_item_body_'+i+'" class="form-control">'+o.body+"</textarea><br />"),o.is_true?f.append('<input id="quiz_question_answer_item_is_true_'+i+'" name="quiz_question_answer_item_is_true_'+i+'" class="" type="checkbox" checked="checked" />'):f.append('<input id="quiz_question_answer_item_is_true_'+i+'" name="quiz_question_answer_item_is_true_'+i+'" class="" type="checkbox" />'),f.append('<label for="quiz_question_answer_item_is_true_'+i+'"> Valid answer</label><br />'),o.online?f.append('<input id="quiz_question_answer_item_online_'+i+'" name="quiz_question_answer_item_online_'+i+'" class="" type="checkbox" checked="checked" />'):f.append('<input id="quiz_question_answer_item_online_'+i+'" name="quiz_question_answer_item_online_'+i+'" class="" type="checkbox" />'),f.append('<label for="quiz_question_answer_item_online_'+i+'"> Online</label><br />'),f.append('<label for="quiz_question_answer_item_position_'+i+'">Position:</label>'),f.append('<input id="quiz_question_answer_item_position_'+i+'" name="quiz_question_answer_item_position_'+i+'" class="form-control" type="number" value="'+o.position+'" />'),f.append('<div class="quiz_question_answer_item_delete" data-quiz-question-id="'+t+'" data-quiz-question-answer-id="'+i+'">- remove</div>'),h.append(f[0]),a='.quiz_question_answer_item_delete[data-quiz-question-answer-id="'+i+'"]',0<$(a).length&&$(a).click(function(){return e=(e=JSON.parse(($(u)[0]||{}).value)||[]).filter(function(t){return t.id!==i}),($(u)[0]||{}).value=JSON.stringify(e),g(t,e)})):(o.body=($("#quiz_question_answer_item_body_"+i)[0]||{}).value,0<$("#quiz_question_answer_item_is_true_"+i).length&&(o.is_true=$("#quiz_question_answer_item_is_true_"+i)[0].checked),0<$("#quiz_question_answer_item_online_"+i).length&&(o.online=$("#quiz_question_answer_item_online_"+i)[0].checked),o.position=($("#quiz_question_answer_item_position_"+i)[0]||{}).value);for(l=0,d=(m=h.children).length;l<d;l++)n=m[l],i=$(n).data("quiz-question-answer-id"),v.call(r,i)<0&&$(n).remove();return($(u)[0]||{}).value=JSON.stringify(e)}},i=function(){var t;if(t='.edit_project input[type="submit"]',0<$(t).length)return $(t).click(function(){return $(".quiz_question_answers").each(function(){var n,t,e;return t='input[data-quiz-question-id="'+(e=$(this).data("quiz-question-id"))+'"]',n=[],$('.quiz_question_answer_item[data-quiz-question-id="'+e+'"]').each(function(){var t,e;return(e={id:t=$(this).data("quiz-question-answer-id")}).position=($("#quiz_question_answer_item_position_"+t)[0]||{}).value,0<$("#quiz_question_answer_item_is_true_"+t).length&&(e.is_true=$("#quiz_question_answer_item_is_true_"+t)[0].checked),0<$("#quiz_question_answer_item_online_"+t).length&&(e.online=$("#quiz_question_answer_item_online_"+t)[0].checked),e.body=($("#quiz_question_answer_item_body_"+t)[0]||{}).value,n.push(e)}),($(t)[0]||{}).value=JSON.stringify(n)})})},$(document).ready(i),$(document).on("page:load",i),n=function(){var t;if(0<$('.quiz_question_item_container .quiz_question_answers input[type="checkbox"]').length&&$('.quiz_question_item_container .quiz_question_answers input[type="checkbox"]').click(function(){var t;if(!(t=$('ul.quiz_question_answers[data-question-id="'+$(this).data("quiz-question-id")+'"]')).data("date-first-click"))return t.data("date-first-click",Date.now())}),t=".quiz_questions_results button",0<$(t).length)return $(t).click(function(){var i,t,e;return t=$(this).data("project-id"),a(!0),o(!1,""),r(!1),i={"first-click":[]},$('.quiz_question_item_container .quiz_question_answers input[type="checkbox"]').each(function(){var t,e,n;if(n=$(this).data("quiz-question-id"),e=$(this).data("quiz-answer-id"),void 0!==n&&void 0!==e)return $('ul.quiz_question_answers[data-question-id="'+n+'"]'),t=i[n]||[],$(this)[0].checked&&t.push(e),i[n]=t}),$("ul.quiz_question_answers").each(function(){var t;if((t=$(this).data("date-first-click"))&&0<t)return i["first-click"].push(t)}),e="/projects/"+t+"/submit_quiz.json",$.post(e,{answers:JSON.stringify(i)},function(t){var e,n;return n=!1,e="An error occured",t&&!(n=t.success||!1)&&t.error&&(e=t.error),n?location.reload():(a(!1),o(!n,e),r(!0))})})},r=function(t){var e;if(0<(e=$(".quiz_questions_results button")).length)return t?e.show():e.hide()},a=function(t){var e;if(0<(e=$(".quiz_questions_results .spinner")).length)return t?e.show():e.hide()},o=function(t,e){var n;if(0<(n=$(".quiz_questions_results .error")).length)return n.html(e),t?n.show():n.hide()},$(document).ready(n),$(document).on("page:load",n),t=function(){var t;if(t="#quiz_questions_collapse_toggle",0<$(t).length)return $(t).click(function(){return e()}),e()},e=function(){var t,e;if(t="#quiz_questions_collapse_toggle",
e="section.quiz_questions_show_container",0<$(t).length&&0<$(e).length)return $(e).is(":visible")?($(e).hide(),$(t).html("Show")):($(e).show(),$(t).html("Hide"))},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var i,r,t,e,p,o,a,s,l,u,c,d,h,f,n;d=h=f=c=void 0,a=function(){var t;if(t=parseInt(Math.ceil((c-Date.now())/6e4)),l(t),t<=0)return e()},l=function(t){var e,n,i;if(!(void 0===t||t<=0)){if(n=e=0,60<t){for(;60<t;)e+=1,t-=60;n=t}else n=t;return i="Time Left: <b>",0<e&&(i+=e,i+=1<e?" hours ":" hour "),0<n&&(i+=n,i+=1<n?" minutes":" minute"),i+="</b>",$("#student_reefinery_footer .student_reefinery_time").html(i),$("#student_reefinery_footer").removeClass("less_10min").removeClass("less_5min").removeClass("less_1min"),0===e&&n<=10&&5<n?$("#student_reefinery_footer").addClass("less_10min"):0===e&&n<=5&&1<n?$("#student_reefinery_footer").addClass("less_5min"):0===e&&n<=1?$("#student_reefinery_footer").addClass("less_1min"):void 0}},s=function(t,e){var n;return(!t||t<0)&&(t=0),e<t&&(t=e),n=e&&0<e?"Current progress: <b>"+t+"/"+e+"</b>":"",$("#student_reefinery_footer .student_reefinery_progress").html(n)},o=function(){return $("#student_reefinery_footer").addClass("show_panel")},i=function(t){var e,n,i,r,o,a,s,l,u,c,d,h;if(t){for($("#interviewer_instructions button.ready").click(function(){if(!$(this).hasClass("sending")&&!0===confirm("Are you sure?"))return $(this).addClass("sending"),$("#interviewer_instructions").fadeOut(300,function(){return p({interviewer:"ready"},$(this))})}),(i=$("#interviewer_instructions .instructions_content")).empty(),e=new showdown.Converter,n=0,o=(u=t.reefinery_topics).length;n<o;n++){for(s=u[n],(d=$("<div>").attr("data-reefinery-topic-id",s.id)).append($("<h2>").html(e.makeHtml(s.title))),r=0,a=(c=s.tasks).length;r<a;r++)l=c[r],(h=$("<div>").attr("data-reefinery-topic-id",s.id).attr("data-reefinery-topic-task-id",l.id)).append($("<h3>").html(e.makeHtml(l.title))),h.append($("<div>").addClass("well").addClass("no-print").html(e.makeHtml(l.body))),h.append($("<h4>").html("Instructions:")),h.append($("<div>").html(e.makeHtml(l.instructions))),d.append(h);d.append($("<hr>")),i.append(d)}return $(".student_reefinery").hide(),$("#interviewer_instructions").fadeIn(300),!0}return!1},u=function(t){var e,n;return $("#interviewer_instructions").hide(),t&&t.reefinery_id?(e=new showdown.Converter,$("#reefinery_topic_title").html(t.reefinery_topic_name),$("#reefinery_topic_description").html(e.makeHtml(t.reefinery_topic_description)),$("#reefinery_topic_duration").html(""),t.reefinery_topic_duration&&$("#reefinery_topic_duration").html(" Duration: "+t.reefinery_topic_duration),$(".task_title").html(e.makeHtml(t.task_title)),$("#task_project_link").hide(),t.project_link&&0<t.project_link.length&&$("#task_project_link").html('Need more context? access to the project <a href="'+t.project_link+'" target="_blank">'+t.project_title+"</a>").show(),h&&clearTimeout(h),$(".interviewer_help").hide(),$(".interviewer_help_button").html("show"),$("#task_help_content").hide(),t.task_hint&&0<t.task_hint.length&&($("#task_help_content").show(),$("#task_help_content .interviewer_help").html(e.makeHtml(t.task_hint)).hide()),d&&clearTimeout(d),$("#task_extra_help").hide(),t.task_interviewer_instructions&&0<t.task_interviewer_instructions.length&&($("#task_extra_help").show(),$("#task_extra_help .interviewer_extra_help_button").html("show"),$("#task_extra_help .interviewer_extra_help_content").html(e.makeHtml(t.task_interviewer_instructions)).hide()),$("#task_body").html(e.makeHtml(t.task_body)),$("#reefinery_evaluation_slider").slider("setValue",t.score),$("#reefinery_evaluation_slider").attr("data-score-value",t.score),$("#slider_value_right").html(t.score+"%"),$("[data-reefinery-topic-task-id]").data("reefinery-topic-task-id",t.reefinery_topic_task_id),$("[data-reefinery-topic-id]").data("reefinery-topic-id",t.reefinery_topic_id),$("[data-skipped]").data("skipped",t.skipped),$("[data-submitted]").data("submitted",t.submitted),$('.slider_value_right[reefinery-topic-task-id="'+t.reefinery_topic_task_id+'"]').html(t.score+"%"),s(t.reefinery_topic_task_idx,t.reefinery_topic_tasks_total_number),$("#reefinery_evaluation_slider").slider("setValue",t.score),$("#reefinery_evaluation_slider").attr("data-score-value",t.score),n=t.score,$("#slider_value_right").html(n+"%"),$("[data-comment-value]").val(t.comment),s(t.reefinery_topic_task_idx,t.reefinery_topic_tasks_total_number),$(".student_reefinery").fadeIn(300),!0):(o(!0),!1)},e=function(t,e){var i,n;if(i={},$("input[data-type=comment], input[data-type=slider], button[data-type=skipped], button[data-type=submitted]").each(function(){var t,e,n;if(n=$("[data-reefinery-topic-task-id]").data("reefinery-topic-task-id"),e=$("[data-reefinery-topic-id]").data("reefinery-topic-id"),t=void 0,"slider"===$(this).data("type")?t="score":"comment"===$(this).data("type")?t="comment":"skipped"===$(this).data("type")?t="skipped":"submitted"===$(this).data("type")&&(t="submitted"),0<n&&0<e&&t)return void 0===i[e]&&(i[e]={}),void 0===i[e][n]&&(i[e][n]={}),i[e][n][t]="skipped"===t?void 0!==$(this).attr("data-skipped")?$(this).data("skipped"):0:"submitted"===t?void 0!==$(this).attr("data-submitted")?$(this).data("submitted"):0:$(this).val()}),0!==i.size)return(n={scores:i}).student_feedback=$("#student_reefinery_footer textarea[data-type=student_feedback]").val(),n.staff_feedback=$("#student_reefinery_footer textarea[data-type=staff_feedback]").val(),n.report=$("#student_reefinery_footer #reefinery_issue option:selected").text(),t&&(n.finished="done"),void 0!==e&&e.addClass("sending"),p(n,e)},t=function(){if(0<$(".interviewer_help_button").length&&$(".interviewer_help_button").on("click",function(){var t,e,n,i,r;if(h&&(clearTimeout(h),h=null),n=(t=$(this)).data("reefinery-topic-id"),i=t.data("reefinery-topic-task-id"),e="hide"===t.html(),n&&i)return r=$(".interviewer_help"),e?(r.hide(),t.html("show")):(r.show(),t.html("hide"),h=setTimeout(function(){r.hide(),t.html("show")},6e4))}),0<$("#task_extra_help .interviewer_extra_help_button").length)return $("#task_extra_help .interviewer_extra_help_button").on("click",function(){var t,e,n,i,r;if(d&&(clearTimeout(d),d=null),n=(t=$(this)).data("reefinery-topic-id"),i=t.data("reefinery-topic-task-id"),e="hide"===t.html(),n&&i)return r=$("#task_extra_help .interviewer_extra_help_content"),e?(r.hide(),t.html("show")):(r.show(),t.html("hide"),d=setTimeout(function(){r.hide(),t.html("show")},12e4))})},p=function(t,e){var n;return t||(t={}),f&&(clearInterval(f),f=null),n="/reefineries/"+$("#reefinery_title").data("reefinery-id")+"/current_tasks.json?reefinery_correction_id="+$("#reefinery_title").data("reefinery-correction-id"),$.post(n,{result:JSON.stringify(t)},function(t){r(t,e)})},r=function(t,e){var n;if(void 0!==e&&(e.removeClass("sending"),e.addClass("score_saved")),void 0!==t){if(!t.redirect)return n=!1,i(t.interviewer_instructions)||(n=!u(t.current_reefinery_topic_task)),void 0===t.time_left||n?void 0:(c=Date.now()+60*t.time_left*1e3,l(t.time_left),f&&(clearInterval(f),f=null),f=setInterval(function(){a()},3e4));window.location=t.redirect}},n=function(){if(!($("#student_reefinery_footer").length<=0))return $(".student_reefinery").hide(),$("#interviewer_instructions").hide(),$("#student_reefinery_footer .student_reefinery_progress").html(""),$("#student_reefinery_footer .student_reefinery_time").html(""),$("#reefinery_save_button").on("click",function(){var t;if(t=$(this).data("reefinery-topic-task-id"),!0===confirm("Are you sure?"))return $(this).data("submitted",1),$("div[data-reefinery-topic-task-id="+t+"]").attr("data-submitted",1),$(".student_reefinery").fadeOut(300,function(){return e(!1,$(this))})}),$("#reefinery_skip_button").on("click",function(){var t;if(t=$(this).data("reefinery-topic-task-id"),!0===confirm("Are you sure?"))return $(this).data("skipped",1),$("div[data-reefinery-topic-task-id="+t+"]").attr("data-skipped",1),$(".student_reefinery").fadeOut(300,function(){return e(!1,$(this))})}),$("#student_reefinery_footer .student_reefinery_done").on("click",function(){return e(!0,$(this))}),t(),$("input[data-type=slider]").slider({value:$("input[data-type=slider]").data("score-value"),formatter:function(t){return t+"%"}}).on("change",function(t){return $("#slider_value_right").html(t.value.newValue+"%")}),p()},$(document).ready(n),$(document).on("page:load",n)}.call(this),function(){}.call(this),function(){}.call(this),function(){var t;$(document).ready(function(){return $(this).find(".project_id_selector").each(function(){var t,e,n,i;if(n=$(this).data("reefinery-topic-task-id"),1<$('.form-control.project_id_selector[data-reefinery-topic-task-id="'+n+'"]').val().length)return $('.task_with_hidden_property[data-reefinery-topic-task-id="'+n+'"]').hide(),t=$('.task_body_selector[data-reefinery-topic-task-id="'+n+'"]').text(),i=$('.task_description[data-reefinery-topic-task-id="'+n+'"]'),e=new showdown.Converter,i.empty(),i.append("<br>"),i.append("<label>Body</label>"),i.append("<br>"),i.append(e.makeHtml(t)),i.append("<a data-reefinery-topic-task-id='"+n+"' class='copy_task_properities' href='#'>edit</a>"),$('a.copy_task_properities[data-reefinery-topic-task-id="'+n+'"]').on("click",function(){return $(this).data("reefinery-topic-task-id"),$('.task_id_field[data-reefinery-topic-task-id="'+n+'"]').val(""),$('.task_with_hidden_property[data-reefinery-topic-task-id="'+n+'"]').show(),$('.task_description[data-reefinery-topic-task-id="'+n+'"]').empty(),$('.form-control.task_id_selector.need_reefinery_task_id[data-reefinery-topic-task-id="'+n+'"]').val("---")})})}),t=function(){if(0<$("div.reefinery_topic_task_form").length)return $("div.reefinery_topic_task_form").each(function(){var l,t,e;if(e=this,void 0!==(l=$(e).data("reefinery-topic-task-id"))&&""!==l||(l=Date.now()),$(e).find(".need_reefinery_task_id").each(function(){if(void 0===$(this).attr("data-reefinery-topic-task-id")||""===$(this).attr("data-reefinery-topic-task-id"))return $(this).attr("data-reefinery-topic-task-id",l)}),0<(t=$('select[data-reefinery-topic-task-id="'+l+'"]')).length)return t.on("change",function(t){var e,n,i,r,o,a,s;return t.stopImmediatePropagation(),l=$(this).data("reefinery-topic-task-id"),(o=void 0)!==(r=this[this.selectedIndex])&&(o=r.value,r.text),a=$('.task_description[data-reefinery-topic-task-id="'+l+'"]'),n=$('.task_with_hidden_property[data-reefinery-topic-task-id="'+l+'"]'),a.empty(),o.length<1?($('.form-control.task_title_selector[data-reefinery-topic-task-id="'+l+'"]').val(""),$('.markdown.form-control.task_body_selector[data-reefinery-topic-task-id="'+l+'"]').val(""),$('.task_id_field[data-reefinery-topic-task-id="'+l+'"]').val(null),a.empty(),n.show()):(void 0!==$('.task_id_field[data-reefinery-topic-task-id="'+l+'"]').data()&&(i=$('.task_id_field[data-reefinery-topic-task-id="'+l+'"]').data().projectId,void 0!==(s=$('.task_id_field[data-reefinery-topic-task-id="'+l+'"]').data().taskId)&&null===i&&$('.destroy_task[data-reefinery-topic-task-id="'+l+'"]').val(s)),n.hide(),e=new showdown.Converter,$.getJSON("/tasks/"+o+".json",function(t){return a.append("<br>"),a.append("<label>Body</label>"),a.append("<br>"),a.append(e.makeHtml(t.body)),a.append("<br>"),a.append("<a data-reefinery-topic-task-id='"+l+"' class='copy_task_properities' href='#'>edit</a>"),$('.task_with_hidden_property[data-reefinery-topic-task-id="'+l+'"]').hide(),$('.form-control.task_title_selector[data-reefinery-topic-task-id="'+l+'"]').val(t.title),$('.markdown.form-control.task_body_selector[data-reefinery-topic-task-id="'+l+'"]').val(t.body),$('.task_id_field[data-reefinery-topic-task-id="'+l+'"]').val(t.id),$('a.copy_task_properities[data-reefinery-topic-task-id="'+l+'"]').click(function(){return $(this).data("reefinery-topic-task-id"),$('.task_id_field[data-reefinery-topic-task-id="'+l+'"]').val(null),$('.task_with_hidden_property[data-reefinery-topic-task-id="'+l+'"]').show(),$('.task_description[data-reefinery-topic-task-id="'+l+'"]').empty(),$('.form-control.task_id_selector.need_reefinery_task_id[data-reefinery-topic-task-id="'+l+'"]').val("---")})}))})})},$(document).ready(t),$(document).on("page:load",t),$(document).on("new_reefinery_topic_task",t)}.call(this),function(){var n;n=!1,$(document).submit(function(){n=!0}),$(function(){if(void 0!==$('[class^="edit"]')[0]){if($("form").data("skip-validation"))return;window.onbeforeunload=function(t){var e;if(!n)return e="Text",t.returnValue=e}}})}.call(this),function(){var t,r,n,o;t=function(){if(0<$(".has_report .actions .action").length&&$(".has_report .actions .action").click(function(){var t,e,n,i;if(!$(this).hasClass("loading")){if(t=$(this).data("action"),e=$(this).data("model-class"),n=$(this).data("model-id"),!(i=$(this).data("sub-model-id")))return"done"===t?r(e,n,1):"not_done"===t?r(e,n,-1):"unknown"===t?r(e,n,0):void 0;o(e,n,i,t)}}),0<$(".has_report .report_submit").length)return $(".has_report .report_submit").click(function(){var t,e;if(!$(this).hasClass("loading"))return e=$(this).data("model-id"),t=$(this).data("model-class"),confirm("Are you sure?")?n(t,e):void 0})},$(document).ready(t),$(document).on("page:load",t),o=function(t,e,n,i){return $('.has_report .actions .action[data-model-class="'+t+'"][data-model-id="'+e+'"][data-sub-model-id="'+n+'"]').removeClass("on").addClass("off"),$('.has_report .actions .action[data-model-class="'+t+'"][data-model-id="'+e+'"][data-sub-model-id="'+n+'"][data-action="'+i+'"]').addClass("on")},r=function(e,n,i){var t;return $('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"]').addClass("loading").removeClass("off").removeClass("on"),t={duty_done:i},$.post("/"+e+"/"+n+"/report.json",t,function(t){if($('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"]').removeClass("loading"),t&&t.success){if($('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"]').addClass("off"),1===i)return $('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"][data-action="done"]').addClass("on").removeClass("off");if(-1===i)return $('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"][data-action="not_done"]').addClass("on").removeClass("off");if(0===i)return $('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"][data-action="unknown"]').addClass("on").removeClass("off")}})},n=function(e,n){var t,i;return $('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"]').addClass("loading"),$('.has_report .report_submit[data-model-class="'+e+'"][data-model-id="'+n+'"]').addClass("loading"),i={},$('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"]').each(function(){var t,e;if(e=$(this).data("sub-model-id"),void 0===i[e]&&(i[e]=0),$(this).hasClass("on")){if("done"===(t=$(this).data("action")))return i[e]=1;if("not_done"===t)return i[e]=-1}}),t={duty_done:i},$.post("/"+e+"/"+n+"/report.json",t,function(t){if($('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"]').removeClass("loading"),$('.has_report .report_submit[data-model-class="'+e+'"][data-model-id="'+n+'"]').removeClass("loading"),!t||!t.success)return $('.has_report .actions .action[data-model-class="'+e+'"][data-model-id="'+n+'"]').removeClass("off").removeClass("on").removeClass("off")})}}.call(this),function(){var d,r,t;d=function(t,e){var n,i,r,o,a,s,l,u,c,d,h,p,f,m;if(n=$("<li>").addClass("list-group-item"),t.passed?n.addClass("alert alert-success"):n.addClass("alert alert-danger"),n.append(t.title),0<t.points&&((l=$("<p>").append($("<strong>").html("Score: "))).append(t.score+" out of "+t.points+" points"),n.append(l)),t.reason&&(n.append($("<p>").append($("<strong>").html("Reason:"))),s=$("<div>").addClass("correction_reason").html(t.reason),n.append(s)),t.files&&0<t.files.length){for(a=$("<p>").append($("<strong>").html("Files: ")),u=!1,c=0,h=(f=t.files).length;c<h;c++)o=f[c],u&&a.append(", "),a.append($("<a>").attr("href",o.url).attr("target","_blank").html(o.name)),u=!0;n.append(a)}if(t.errors&&0<t.errors.length){for((r=$("<p>").append($("<strong>").html("Full error"))).append(" (available only 10days) : "),u=!1,d=0,p=(m=t.errors).length;d<p;d++)i=m[d],u&&r.append(", "),r.append($("<a>").attr("href",i.url).attr("target","_blank").html(i.name)),u=!0;n.append(r)}return e.append(n)},r=function(t,e){var n,i,r,o,a,s,l,u,c;if(l=$("#task-qa-review-"+e+"-modal .review-container .review-corrector"),u=$("#task-qa-review-"+e+"-modal .review-container .review-github"),c=$("#task-qa-review-"+e+"-modal .review-container .review-percentage_down"),s=$("#task-qa-review-"+e+"-modal .review-container .review-checks"),l.empty().hide(),t.corrector&&t.corrector.name&&(l.append($("<b>").html("Corrected by: ")),t.corrector.id&&l.append($("<code>").html(t.corrector.id)),l.append($("<span>").html(" "+t.corrector.name)),t.corrector.at&&l.append($("<i>").html(" - "+t.corrector.at)),l.show()),u.empty().hide(),t.github&&t.github.name&&(u.append($("<b>").html("Github used: ")),t.github.id&&u.append($("<code>").html(t.github.id)),u.append($("<span>").html(" "+t.github.name)),u.show()),c.empty().hide(),t.percentage_down&&(c.append($("<b>").html("New correction at: ")),c.append($("<span>").html((100*t.percentage_down).toFixed(1)+"%")),c.show()),s.empty(),t.checks){for(a=[],i=0,r=(o=t.checks).length;i<r;i++)n=o[i],a.push(d(n,s));return a}},t=function(){return $(".modal.task_get_qa_review").on("shown.bs.modal",function(){var t,e,n,i;if(1!==$(this).data("loaded"))return $(this).data("loaded",1),i=$(this).data("task-id"),t=$(this).data("correction-id"),e=$("#task-qa-review-"+i+"-modal .review-container"),n=$("#task-qa-review-"+i+"-modal .spinner"),e.hide(),n.show(),$.getJSON("/corrections/"+t+"/review.json?task_id="+i,function(t){return r(t,i),e.show(),n.hide()})})},$(document).ready(t)}.call(this),function(){var t;t=function(){if(0<$(".school_event_edit_role_add").length)return $(".school_event_edit_role_add").click(function(){var t,e,n,i,r,o,a,s,l;for(a=$(this).data("role"),s=$('.school_event_edit_role_list[data-role="'+a+'"]'),i=0,(e=$('.school_event_edit_role_list[data-role="'+a+'"] li:last-child'))&&(i=e.data("idx")),i+=1,r=$("<li>").data("idx",i),(o=$('<select class="form-control" name="patch[students_by_role['+a+"]["+i+']]" id="patch_students_by_role['+a+"]["+i+']">')).append($('<option value="">')),t=0,n=usersForNewInput.length;t<n;t++)l=usersForNewInput[t],o.append($('<option value="'+l[0]+'">').html(l[1]));return r.append(o),s.append(r)})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t;t=function(){if(0<$("#staff_multi_school_locations").length)return $("#staff_multi_school_locations .dropdown-menu label").click(function(t){return t.stopPropagation()}),$("#staff_multi_school_locations .dropdown-menu .reload").click(function(t){var e;return t.stopPropagation(),e=[],$('#staff_multi_school_locations .dropdown-menu input[type="checkbox"]').each(function(){var t;if(0<(t=parseInt($(this).data("id")))&&$(this).is(":checked"))return e.push(t)}),Cookies.set("hbtn_intranet_staff_sl_ids",e.join(",")),window.location.reload()})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var t,r,u,c,o,d,a,s,l,h,e,n,p,i,f,m,g,v;n=function(){return $("#search-button .fa-window-minimize").css("display","none"),$("#search-button .fa-search").css("display","inline-block"),$(this).data("search-active",!1)},e=function(){return $("#search-button .fa-search").css("display","none"),$("#search-button .fa-window-minimize").css("display","inline-block"),$(this).data("search-active",!0)},i=function(){return $("#search-button").click(function(){return!1===$(this).data("search-active")?e():n()})},$(document).ready(i),$(document).on("page:load",i),g=function(){return $("#search-modal").on("hide.bs.modal",function(){return n()})},$(document).ready(g),$(document).on("page:load",g),v=function(){return $("#search-modal").on("shown.bs.modal",function(){return e(),$("#search-modal #search-bar").focus()})},$(document).ready(v),$(document).on("page:load",v),l=function(e,n,i,r,o){return void 0===this.timeoutID&&(this.timeoutID=0),function(){var t;return clearTimeout(this.timeoutID),t=function(){return e(n,i,r)},this.timeoutID=setTimeout(t,o)}()},h={concepts:["name"],projects:["name"],tasks:["title"],users:["email","slack_username","linkedin_url","twitter_username","github_username","medium_username"]},p={concepts:"Concepts",projects:"Projects",tasks:"Tasks",users:"Users"},r=s=null,d=["slack_username","linkedin_url","twitter_username","github_username","medium_username","email"],c=[["fa-slack","https://holberton-students.slack.com/messages/"],["fa-linkedin-square",""],["fa-twitter","https://twitter.com/"],["fa-github","https://github.com/"],["fa-medium","https://medium.com/@"],["fa-envelope","mailto:"]],u=["author","description","body","link"],o=function(e,t){var n;return n=!0,t.forEach(function(t){if(void 0!==e[t]&&0<e[t].length)return n=!1}),n},a=function(t,r,e){var n,i;return e.show(),i="/search.json?q="+t,n="<p id=\"search-error-message\">We couldn't find any results matching this query. Search is being improved on everyday, thanks for your patience! If you have any feedback on the search experience, we'd love to hear it \ud83d\ude4f\ud83c\udffd </p>",s=$.ajax({type:"GET",dataType:"json",url:i,beforeSend:function(){if(null!==s)return s.abort(),s=null}}).done(function(i){var t;return void 0===(t=i.load_order)||0===t.length||o(i,t)?(r.append(n),r.show(),e.hide(),void(s=null)):(t.forEach(function(l){var t,e,n;return void 0!==i[l]&&0<i[l].length&&(n=$('<div class="search-result-type">'),e=$('<h3 class="search-result-header">'),t=$('<ul class="search-result-body list-group">'),e.html(p[l]),n.append(e),n.append(t),i[l].forEach(function(a){var s;return s=$('<li class="list-group-item search-result-card">'),h[l].forEach(function(t){var e,n,i,r,o;if(""!==a[t]&&void 0!==a[t])return e=$('<div class="'+l+"-"+t+'">'),"users"===l&&(e.css("display","inline-block"),e.css("margin-right","5px")),d.includes(t)||u.includes(t)?d.includes(t)&&(n=d.indexOf(t),i='<a href="'+(r=c[n])[1]+a[t]+'" target="_blank" class="user-preview-social"><i class="fa '+r[0]+'"></i></a>',e.append(i)):(o=$("<p>"),void 0!==a.link?(i=$('<a href="'+a.link+'" target="_blank" class="'+l+'-link">'+a[t]+"</a>"),o.append(i)):o.html(a[t]),e.append(o)),s.append(e)}),"users"===l&&(void 0!==a.batch&&s.append('<p class="users-batch"><span class="badge">'+a.batch+"</span></p>"),s.prepend('<p class="users-full_name">'+a.first_name+" "+a.last_name+"</p>")),t.append(s)})),r.append(n)}),s=null,r.show(),e.hide())})},m=function(){var i;return i=2,$("#search-bar").keyup(function(){var t,e,n;if((t=$(this).val())!==r&&(r=t,(e=$("#search-modal #search-results-container")).empty(),e.hide(),!(t.length<i)))return(n=$("#search-modal #modal-spinner")).hide(),l(a,t,e,n,1e3)})},$(document).ready(m),$(document).on("page:load",m),t=function(){var t;return t=$(".navbar-admin").offset().top,$("#search-button").offset({top:t-50})},f=function(){return $(".navbar-admin").on("shown.bs.collapse",function(){return t()}),$(".navbar-admin").on("hidden.bs.collapse",function(){return t()})},$(document).ready(f),$(document).on("page:load",f)}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var t;t=function(t,e,n,i){var r,o;return r=JSON.parse(n),o=JSON.parse(i),$("form").on("keypress",function(t){if(13===t.which)return t.preventDefault()}),$("#"+e).each(function(){var t;return(t=new Bloodhound({local:r,datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:20})).initialize(),$(this).tokenfield({tokens:o,typeahead:[null,{source:t.ttAdapter()}]})})},$(document).on("new_form_tags",t)}.call(this),function(){$(document).ready(function(){$(".blog_post_div input").on("keyup",function(t){13===t.keyCode&&$(".add_task_url").click()}),$("body").on("click",".remove_blog_post",function(){var i,r,o;"1"!==$(this).data("task-requesting")&&($(this).data("task-requesting","1"),o=this,i=$(this).data("task-id"),r=$(this).data("task-url-id"),o=this,$.ajax({url:"/tasks/"+i+"/task_urls/"+r+".json",type:"DELETE",data:JSON.stringify({id:r}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){var t,e,n;for($(o).data("task-requesting","0"),e=$(".blog_post_div .list_"+i+" li"),t=0,n=[];t<e.length;)e[t].children[0].dataset.taskUrlId.toString()===r.toString()&&e[t].remove(),n.push(t++);return n},error:function(){return $(o).data("task-requesting","0"),console.log("error")}}))}),$(".add_task_url").click(function(){var e,n,i,r;n=$(this).data("task-id"),i=$("#input_"+n).val(),"1"!==$(this).data("task-requesting")&&0!==i.length&&" "!==i&&($(this).data("task-requesting","1"),i=$("#input_"+n).val(),r=this,(e=$('.task_url_error_msg[data-task-id="'+n+'"]')).html(""),$.ajax({url:"/tasks/"+n+"/task_urls.json",type:"POST",data:JSON.stringify({task_id:n,url:i}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){return $(r).data("task-requesting","0"),$("#input_"+n).val(" "),$(".blog_post_div .list_"+t.task_id).append('<li><button data-task-requesting="0" data-task-id="'+t.task_id+'"data-task-url-id="'+t.id+'" + type="button"  class="remove_blog_post" > <span class="glyphicon glyphicon-minus" aria-hidden= "true"></span> </button>  <a target="_blank" href='+i+">"+i+"</a></li>")},error:function(t){if($(r).data("task-requesting","0"),t&&t.responseJSON&&t.responseJSON.url)return e.html("Url "+t.responseJSON.url)}}))})})}.call(this),function(){var a,s,l,y,h,v,b,c,d,o,u,t,n,p,f,e,i,r,m,g,w,_;c=function(t,e){return e.removeClass("no"),e.addClass("pending"),$.getJSON("/tasks/"+t+"/mark_as_done.json",function(t){return e.removeClass("pending"),e.addClass("yes"),$("#student_task_done_percentage").html(t),$(document).trigger("project:update_users_done_by_task")})},d=function(t,e){return e.removeClass("yes"),e.addClass("pending"),$.getJSON("/tasks/"+t+"/mark_as_undone.json",function(t){return e.removeClass("pending"),e.addClass("no"),$("#student_task_done_percentage").html(t),$(document).trigger("project:update_users_done_by_task")})},w=function(){if(0<$(".student_task_done").length)return $(".student_task_done").click(function(){var t;return t=$(this).data("task-id"),$(this).hasClass("no")?c(t,$(this)):$(this).hasClass("yes")?d(t,$(this)):void 0})},$(document).ready(w),$(document).on("page:load",w),_=function(){var d,h,p,f,m,g;if(0<$(".correction_request_test_admin").length)return d=$(".correction_request_test_admin"),g=$("#user_id").data("id"),f="holberton_correction_system_"+g,h="test_admin_correction_json",m=Cookies.getJSON(h)||{},p=Cookies.getJSON(f)||{},$(".correction_request_test_admin").each(function(){var t,e;if(e=$(this).data("task-id"),t="admin"===$(this).data("type"),p["task_"+e]&&v(parseInt(p["task_"+e]),e,$(this),t),t)return $("#task-test-correction-"+e+'-correction-modal input[name="custom_github_username"]').val(m.custom_github_username),$("#task-test-correction-"+e+'-correction-modal input[name="custom_github_repository"]').val(m.custom_github_repository),$("#task-test-correction-"+e+'-correction-modal input[name="custom_github_path"]').val(m.custom_github_path),$("#task-test-correction-"+e+'-correction-modal select[name="correction_request_user_id"]').val(m.correction_request_user_id)}),d.click(function(){var t,e,n,i,r,o,a,s,l,u,c;if(d=$(this),i="admin"===d.data("type"),s=d.data("task-id"),n=$("#task-test-correction-"+s+"-correction-modal .error"),a=$("#task-test-correction-"+s+"-correction-modal .spinner"),d.hide(),a.show(),n.hide().html(""),i?(c=$("#task-test-correction-"+s+'-correction-modal input[name="custom_github_username"]').val(),o=$("#task-test-correction-"+s+'-correction-modal input[name="custom_github_repository"]').val(),r=$("#task-test-correction-"+s+'-correction-modal input[name="custom_github_path"]').val(),u=$("#task-test-correction-"+s+'-correction-modal select[name="correction_request_user_id"]').val(),g=0,u&&(g=parseInt(u)),(e=0<g)||(""===c||0===c.length?(n.html("Username is mandatory").show(),d.show(),a.hide()):""===o||0===o.length?(n.html("Repository is mandatory").show(),d.show(),a.hide()):e=!0)):e=!0,e)return t=i?(m.custom_github_username=c,m.custom_github_repository=o,m.custom_github_path=r,m.correction_request_user_id=g,Cookies.set(h,m),l="/tasks/"+s+"/start_correction_test.json",{github_username:c,github_repository:o,github_path:r,user_id:g}):(l="/tasks/"+s+"/start_correction.json",{}),$("#task-test-correction-"+s+"-correction-modal .result").hide().empty(),$.post(l,t,function(t){var e;return 0===(e=t.id)?(n.html("Can't start your test...").show(),d.show(),a.hide()):(p["task_"+s]=e,Cookies.set(f,p),v(e,s,d,i))})})},$(document).ready(_),$(document).on("page:load",_),v=function(s,l,u,c){var d,t;if(!(s<=0))return t=$("#user_id").data("id"),d="holberton_correction_system_"+t,$.getJSON("/correction_requests/"+s+".json",function(t){var e,n,i,r,o,a;return n=$("#task-test-correction-"+l+"-correction-modal .error"),r=$("#task-test-correction-"+l+"-correction-modal .info"),a=$("#task-test-correction-"+l+"-correction-modal .spinner"),e=Cookies.getJSON(d)||{},"Done"===t.status?(u.show(),n.hide(),r.hide(),a.hide(),o=$("#task-test-correction-"+l+"-correction-modal .result"),delete e["task_"+l],h(l,o,t,c)):"Sent"===t.status?(t.result_display&&t.result_display.delay&&0<t.result_display.delay&&t.result_display.info_message&&r.html("("+t.result_display.delay+" seconds of delay) - "+t.result_display.info_message).show(),setTimeout(function(){return v(s,l,u,c)},3e3)):(u.show(),r.hide(),i="An error occured.",t&&t.result_display&&t.result_display.error&&t.result_display.error.message?i=t.result_display.error.message:t&&t.result_display&&t.result_display.error?i=t.result_display.error:t&&t.error_result&&(i=t.error_result),n.html(i).show(),a.hide(),delete e["task_"+l]),Cookies.set(d,e)})},h=function(t,e,n,i){var r,o;return e.show(),e.append("<hr />"),e.append("<h4>Result:</h4>"),(o=n.result_display).error&&o.error.message&&(e.append('<div class="request_correction_error">ERROR:</div>'),e.append("<pre>"+o.error.message(NaN)),e.append("<hr />")),o.info&&e.append("<p>"+o.info+"</p>"),r=o.checks||[],i?s(r,e):l(t,r,e)},s=function(t,e){var n,i,r,o,a,s,l,u,c,d,h,p,f;for(f=[],c=0,h=t.length;c<h;c++){for(n=t[c],(i=$("<div>")).addClass("check"),i.attr("id",n.id),n.passed||i.addClass("failed"),n.title&&i.append("<div><b>Title</b>: "+n.title+"</div>"),n.check_label&&i.append("<div><b>Label</b>: "+n.check_label+"</div>"),n.eliminatory&&i.append("<div><b>Eliminatory</b>: "+n.eliminatory+"</div>"),n.reason&&i.append("<div><b>Reason</b>:<br/><pre>"+n.reason+"</pre></div>"),s=n.commands||[],(l=$("<div>")).append("<b>Commands</b>:<br/>"),(u=$("<ul>")).addClass("commands"),d=0,p=s.length;d<p;d++)r=s[d],(o=$("<li>")).addClass("command"),o.attr("id",r.id),r.success||o.addClass("failed"),(a=$("<ul>")).append("<li><b>Docker image</b>: "+r.docker_image_name+"</li>"),r.command&&a.append("<li><b>Command</b>: <pre>"+r.command+"</pre></li>"),r.error&&a.append("<li><b>Error</b>: <pre>"+r.error+"</pre></li>"),o.append(a),u.append(o);l.append(u),i.append(l),f.push(e.append(i))}return f},l=function(t,e,n){var i,r,o,a,s,l,u;for(l=!0,a=0,s=e.length;a<s;a++)r=e[a],(o=$("<div>")).addClass("check-inline"),o.attr("id",r.id),u=null,r.check_label&&(o.addClass(r.check_label),"requirement"===r.check_label?u="Requirement":"code"===r.check_label?u="Correct output of your code":"efficiency"===r.check_label?u="Efficiency":"answer"===r.check_label&&(u="Correct answer")),r.passed?(o.addClass("success"),o.append('<i class="fa fa-check" aria-hidden="true"></i>'),u&&(u+=" - success")):(l=!1,o.addClass("fail"),o.append('<i class="fa fa-exclamation-triangle" aria-hidden="true"></i>'),u&&(u+=" - fail")),u&&o.attr("title",u),o.append(r.title),n.append(o);return(i=$(".student_task_done[data-task-id="+t+"]")).removeClass("yes").removeClass("no"),l?c(t,i):d(t,i)},r=function(){if(0<$(".task_ask_new_correction").length)return t(),$(".task_ask_new_correction").click(function(){var e,n,i;if(n=$(this).data("correction-id"),i=$(this).data("task-id"),!(e=$(this)).hasClass("in_progress"))return e.addClass("in_progress").removeClass("error_occured"),$.post("/corrections/"+n+"/request_second_submission.json",{task_id:i},function(t){return t.success?u(n,i,e):e.removeClass("in_progress").addClass("error_occured")})})},t=function(){return $(".task_ask_new_correction").each(function(){var t,e,n;return e=$(this).data("correction-id"),n=$(this).data("task-id"),t=$(this),u(e,n,t)})},u=function(n,i,r){return $.getJSON(
"/corrections/"+n+"/status_second_submission.json?task_id="+i,function(t){var e;if(e=!1,t.success&&(t.manual_review_is_requested?e=!0:t.auto_review_request_id&&(e=!0)),e?(r.addClass("in_progress"),r.find(".in_progress_info").val("in progress...")):r.removeClass("in_progress"),t.auto_review_request_id&&o(n,i,t.auto_review_request_id,r),t.manual_review_is_requested)return setTimeout(function(){return u(n,i,r)},1e4)})},o=function(e,n,i,r){if(i&&!(i<=0)&&r)return $.getJSON("/correction_requests/"+i+".json").success(function(t){t?"Done"===t.status?(r.removeClass("in_progress"),f(e,n)):"Sent"===t.status?setTimeout(function(){return o(e,n,i,r)},3e3):r.removeClass("in_progress").addClass("error_occured"):r.removeClass("in_progress")}).error(function(){r.removeClass("in_progress")})},$(document).ready(r),$(document).on("page:load",r),i=function(){if(0<$(".task_progress_score_bar").length)return $(".task_progress_score_bar").each(function(){var t,e;return t=$(this).data("correction-id"),e=$(this).data("task-id"),f(t,e)})},$(document).ready(i),$(document).on("page:load",i),f=function(u,c){if(u&&c)return $.getJSON("/corrections/"+u+"/task_progress_score.json?task_id="+c,function(t){var e,n,i,r,o,a,s,l;return n=e=0,t.success&&(e=t.progress,n=t.score),r=$('.task_progress_score_bar[data-task-id="'+c+'"]'),i=$('.task_progress_score_bar[data-task-id="'+c+'"] .task_progress_bar'),s=$('.task_progress_score_bar[data-task-id="'+c+'"] .task_score_bar'),o=$('.task_progress_score_bar[data-task-id="'+c+'"] .task_progress_value'),l=$('.task_progress_score_bar[data-task-id="'+c+'"] .task_score_value'),a=100*n/e,i.width(100*e+"%"),s.width(a+"%"),o.html("completion score: "+(100*e).toFixed(2)+"%"),l.html((100*n).toFixed(2)+"%"),r.removeClass("white_text"),50<=a&&r.addClass("white_text"),$('.modal.task_get_qa_review[data-task-id="'+c+'"][data-correction-id="'+u+'"]').data("loaded",0)})},p=function(t,e,n){var i,r,o,a,s,l,u;if(t&&e){for(o in n||(n={}),$("#task_"+t+"_container_spec_"+e+" td.container_ssh").data("container-id",n.id),$("#task_"+t+"_container_spec_"+e+" td.container_ssh").html("<code>"+n.ssh_username+"</code>/<code>"+n.ssh_password+"</code>"),a=n.private_ip||"",s=n.public_ip||"",$("#task_"+t+"_container_spec_"+e+" td.container_ips").html(s+"/"+a),r=n.exposed_ports_json||"{}",u="<ul>",i=JSON.parse(r))u+="<li>"+o+" => "+i[o]+"</li>";return u+="</ul>",$("#task_"+t+"_container_spec_"+e+" td.container_ports").html(u),$("#task_"+t+"_container_spec_"+e+" td.container_status").html(null!=(l=n.is_running)?l:{Running:"Stopped"})}},a=function(t,e){if(t&&e)return $("#task_"+t+"_container_spec_"+e+" td.container_ssh").data("container-id",""),$("#task_"+t+"_container_spec_"+e+" td.container_ssh").html(""),$("#task_"+t+"_container_spec_"+e+" td.container_ips").html(""),$("#task_"+t+"_container_spec_"+e+" td.container_ports").html(""),$("#task_"+t+"_container_spec_"+e+" td.container_status").html("")},n=function(u,c){var d,t,e;if(u&&c){for(t=0,e=c.length;t<e;t++)d=c[t],a(u,d),$("#task_"+u+"_container_spec_"+d+" input").hide(),$("#task_"+u+"_container_spec_"+d+" .spinner").show();return $.getJSON("/user_containers/available.json?spec_ids="+c,function(t){var e,n,i,r,o,a,s,l;for(t||(t=[]),n={},i=0,o=t.length;i<o;i++)n[(l=t[i]).container_spec_id]=l;for(s=[],r=0,a=c.length;r<a;r++)d=c[r],$("#task_"+u+"_container_spec_"+d+" .spinner").hide(),(e=n[d])?(p(u,d,e),s.push($("#task_"+u+"_container_spec_"+d+" input.destroy_container").show())):s.push($("#task_"+u+"_container_spec_"+d+" input.start_container").show());return s})}},e=function(){if(0<$("button.task_containers_modal").length&&$("button.task_containers_modal").click(function(){var t,e;return t=$(this).data("container-spec-ids"),e=$(this).data("task-id"),n(e,t)}),0<$(".modal.task_containers_modal").length)return $(".modal.task_containers_modal").each(function(){var n,t,e,i,r,o;for(t=$(this).data("container-spec-ids"),o=$(this).data("task-id"),t||(t=[]),r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push($("#task_"+o+"_container_spec_"+n+" input").click(function(){var t;return o=$(this).data("task-id"),n=$(this).data("container-spec-id"),$("#task_"+o+"_container_spec_"+n+" .spinner").show(),$("#task_"+o+"_container_spec_"+n+" input").hide(),$(this).hasClass("destroy_container")?(t=$("#task_"+o+"_container_spec_"+n+" td.container_ssh").data("container-id"),$.ajax({url:"/user_containers/"+t+".json",type:"DELETE",success:function(){return console.log("container deleted: "+t),a(o,n),$("#task_"+o+"_container_spec_"+n+" .spinner").hide(),$("#task_"+o+"_container_spec_"+n+" input.start_container").show()}})):$.post("/user_containers/start.json",{container_spec_id:n},function(t){var e;return console.log(t),t.status?(p(o,n,t.container),$("#task_"+o+"_container_spec_"+n+" .spinner").hide(),$("#task_"+o+"_container_spec_"+n+" input.destroy_container").show()):(e=t.error_msg||"Error",$("#task_"+o+"_container_spec_"+n+" td.container_status").html(e),$("#task_"+o+"_container_spec_"+n+" .spinner").hide(),$("#task_"+o+"_container_spec_"+n+" input.start_container").show())})}));return r})},$(document).ready(e),$(document).on("page:load",e),m=function(){if(0<$("div.task_form").length&&$("div.task_form").each(function(){var t,e,n;if(n=this,e=Date.now(),$(n).find(".level_track button").each(function(){if(void 0===$(this).attr("data-task-id")||""===$(this).attr("data-task-id"))return $(this).attr("data-task-id",e)}),void 0===(t=$(n).find(".level_track input.level_input")).attr("data-task-id")||""===t.attr("data-task-id"))return t.attr("data-task-id",e)}),0<$(".task_form div.level_track").length)return $(".task_form div.level_track button").click(function(){var t,e;if(t=$(this).attr("data-level"),void 0!==(e=$(this).attr("data-task-id"))&&""!==e)return $(".task_form input.level_input[data-task-id="+e+"]").val(t)})},$(document).ready(m),$(document).on("page:load",m),$(document).on("new_task",m),y=function(t,e){var n,i,r,o,a,s,l,u,c,d;if(void 0!==t){if(e||(e=[]),0===e.length)return r=$('<div class="nobody">Nobody has completed</div>'),t.append(r);for(o=[],n=0,i=e.length;n<i;n++)a=e[n],l=$('<div class="user" data-user-id="'+a.id+'">'),(u=$("<div>")).append($("<code>"+a.id+"</code>")),u.append($('<span class="full_name"> '+a.full_name+"</span>")),(s=$('<a class="user-preview-social email" target="_blank" href="mailto:'+a.email+'">')).append($('<i class="fa fa-envelope">')),u.append(s),a.personal_email&&((s=$('<a class="user-preview-social personal_email" target="_blank" href="mailto:'+a.personal_email+'">')).append($('<i class="fa fa-envelope">')),u.append(s)),a.slack_username&&((c=$('<span class="slack" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Username on Slack: @'+a.slack_username+'">')).append($('<i class="fa fa-slack">')),u.append(c)),a.twitter_url&&((d=$('<a class="user-preview-social twitter" target="_blank" href="'+a.twitter_url+'">')).append($('<i class="fa fa-twitter">')),u.append(d)),u.append($('<span class="batch">cohort '+a.batch_name+"</span>")),l.append(u),t.append(l),o.push($('[data-toggle="tooltip"]').tooltip());return o}},b=function(h,p,f){var m,g,v,t;if(void 0!==h&&void 0!==p)return(v=$(".users-done-modal[data-project-id="+h+"][data-task-id="+p+"] .spinner")).show(),(m=$(".users-done-modal[data-project-id="+h+"][data-task-id="+p+"] .error")).hide(),(g=$(".users-done-modal[data-project-id="+h+"][data-task-id="+p+"] .list-group")).empty(),t="/projects/"+h+"/users_done_by_task.json?task_id="+p,f&&(t+="&all=1"),$.getJSON(t,function(t){var e,n,i,r,o,a,s,l,u,c,d;if(v.hide(),t){if(i=t.batch_id.toString(),d={},t.result[p]&&t.result[p]&&(d=t.result[p]),l=d[i]||[],c=$('<p style="text-align: left;"><b>My peers:</b></p>'),g.append(c),y(g,l),u=$('<p style="text-align: left; margin-top: 20px;"><b>From other cohorts:</b></p>'),g.append(u),f){for(e=[],a=0,s=(r=Object.keys(d).sort().reverse()).length;a<s;a++)(n=r[a])!==i&&(e=e.concat(d[n]));return y(g,e)}return o=$('<input type="submit" name="commit" value="Load from other cohorts" class="btn btn-primary users_done_for_task_all" data-task-id="<%= task.id %>" />'),g.append(o),o.click(function(){return b(h,p,!0)})}return m.show().text("An error occured, please retry")})},g=function(){if(0<$("button.users_done_for_task").length)return $("button.users_done_for_task").click(function(){var t,e;return t=$(this).data("project-id"),e=$(this).data("task-id"),b(t,e,!1)})},$(document).ready(g),$(document).on("page:load",g)}.call(this),function(){var t,e,n;e=function(){var t;if(0<$("#teams_selection_request").length)return t=$("#teams_selection_request .send_request"),$("#teams_selection_request select").change(function(){var e,n,i;return i=parseInt($(this).val()),n=$(this).data("teammember-id"),e=!0,$("#teams_selection_request select").each(function(){var t;if(t=parseInt($(this).val()),e&&t<=0&&(e=!1),$(this).data("teammember-id")!==n&&t===i)return $(this).val("0"),e=!1}),e?t.removeClass("disabled"):t.addClass("disabled")}),t.click(function(){var n,i,t,e;if(!(n=$(this)).hasClass("disabled"))return n.addClass("disabled"),(i=$("#teams_selection_request .error_msg")).hide().html(""),t=[],$("#teams_selection_request select").each(function(){return t.push(parseInt($(this).val()))}),e="/batch_planning_items/"+n.data("batch-planning-item-id")+"/request_team_partners.json",$.post(e,{partners:t},function(t){var e;return n.removeClass("disabled"),t.success?window.location.reload():(e="An error occured",t.error_msg&&(e=t.error_msg),i.show().html(e))})})},$(document).ready(e),$(document).on("page:load",e),n=function(){if(0<$("#teams_wait_request_acknowledge").length)return $("#teams_wait_request_acknowledge .cancel_request").click(function(){var n,i,t;if(confirm("Are you sure?")&&!(n=$(this)).hasClass("disabled"))return n.addClass("disabled"),(i=$("#teams_wait_request_acknowledge .error_msg")).hide().html(""),t="/batch_planning_items/"+n.data("batch-planning-item-id")+"/cancel_team_partners.json",$.post(t,{},function(t){var e;return n.removeClass("disabled"),t.success?window.location.reload():(e="An error occured",t.error_msg&&(e=t.error_msg),i.show().html(e))})})},$(document).ready(n),$(document).on("page:load",n),t=function(){if(0<$("#teams_request_to_answer").length)return $("#teams_request_to_answer .accept_to_join_team").click(function(){var t,n,e;if(confirm("Are you sure?")&&!(t=$(this)).hasClass("disabled"))return $("#teams_request_to_answer button").addClass("disabled"),(n=$("#teams_request_to_answer .error_msg")).hide().html(""),e="/batch_planning_items/"+t.data("batch-planning-item-id")+"/join_team_partners.json",$.post(e,{team_members_ids:t.data("team-member-ids")},function(t){var e;return $("#teams_request_to_answer button").removeClass("disabled"),t.success?window.location.reload():(e="An error occured",t.error_msg&&(e=t.error_msg),n.show().html(e))})}),$("#teams_request_to_answer .refuse_to_join_team").click(function(){var t,n,e;if(confirm("Are you sure?")&&!(t=$(this)).hasClass("disabled"))return $("#teams_request_to_answer button").addClass("disabled"),(n=$("#teams_request_to_answer .error_msg")).hide().html(""),e="/batch_planning_items/"+t.data("batch-planning-item-id")+"/refuse_team_partners.json",$.post(e,{team_members_ids:t.data("team-member-ids")},function(t){var e;return $("#teams_request_to_answer button").removeClass("disabled"),t.success?window.location.reload():(e="An error occured",t.error_msg&&(e=t.error_msg),n.show().html(e))})})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var e,t;t=function(){var t;if(0<(t=$('input.toggle-checkboxes-parent[type="checkbox"]')).length)return t.change(function(){return e($(this).data("selector"),$(this).prop("checked"))}),t.each(function(){return e($(this).data("selector"),$(this).prop("checked"))})},e=function(t,e){var n;return n='.toggle-checkboxes-child[data-selector="'+t+'"]',$(n).each(function(){return e?$(this).show():($(n+' input[type="checkbox"]').prop("checked",!1),$(this).hide())})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){$(document).ready(function(){$("#interview_tips_div").height(100),$("#more_less_tips").click(function(){"more"===$("#more_less_tips").text()?($("#interview_tips_div").css("height","auto"),$("#more_less_tips").text("less")):($("#interview_tips_div").height(100),$("#more_less_tips").text("more"))})})}.call(this),function(){}.call(this),function(){var u,p,t,e,n,i;u=function(t,e){var n,i,r,o,a,s,l,u,c,d,h;if(t&&e)return u=t.s3_path.split(".").pop(),h="misc",t.metadata&&t.metadata.mime_type&&(h=t.metadata.mime_type.split("/")[0]),c="Type: "+h+"/"+u,t.metadata&&t.metadata.filename&&(c=t.metadata.filename),d="/images/s3/thumb/missing.png",("image"===h||["jpg","png","gif","jpeg"].includes(u))&&(d=t.url),i=$('<div class="gallery-image-wrapper">'),(n=$('<div class="bg-image">')).data("s3_path",t.s3_path),n.css("background-image","url("+d+")"),r=$('<div class="preview-footer">'),(a=$('<div class="upload-add" title="Insert this image">')).append($('<i class="fa fa-plus"></i>')),a.data("filename",c),a.data("filetype",h),a.data("s3_path",t.s3_path),r.append(a),a.click(function(){return p($(this).data("filename"),$(this).data("filetype"),$(this).data("s3_path"))}),(l=$('<div class="upload-remove" title="Delete PERMANENTLY this file">')).append($('<i class="fa fa-trash"></i>')),l.data("s3_path",t.s3_path),r.append(l),l.click(function(){var t,e;if((e=$(this).data("s3_path"))&&confirm("Are you sure you want to delete this file?"))return t="/uploads?path="+e,$.ajax({type:"DELETE",dataType:"json",url:t}).done(function(){return i.remove()})}),(s=$('<div class="upload-preview" title="Preview this file">')).append($('<a href="'+t.url+'" target="_blank" class="fa fa-eye upload-preview-link"></a>')),s.data("s3_path",t.s3_path),r.append(s),n.append(r),i.append(n),(o=$('<div class="upload-name" title="'+c+'">')).append($("<p>"+c+"</p>")),o.data("filename",c),i.append(o),e.append(i)},e=function(e){var n,i,r,o,t,a,s,l;return n=$("#pills-gallery #image-gallery"),l="/uploads",t=[],e?t.push({key:"last_key",value:e}):n.empty(),a=$("#gallery-filters-size :selected").val(),t.push({key:"size",value:a}),s=$("#gallery-filters-type :selected").val(),t.push({key:"type",value:s}),l+="?"+(t=t.map(function(t){return t.key+"="+t.value})).join("&"),(o=$("#uploaderModal .pageNext")).hide(),(i=$("#uploaderModal .errorMessage")).hide(),(r=$("#uploaderModal .spinner")).show(),$.ajax({type:"GET",dataType:"json",url:l}).done(function(t){return t.items.forEach(function(t){return u(t,n)}),0===t.items.length&&i.show(),(e=t.last_key)?o.data("last-key",e).show():o.hide(),r.hide()})},p=function(t,e,n){var i,r,o;if(void 0!==t&&void 0!==e&&void 0!==n)return r=(i=window.current_markdown_editor.codemirror).getCursor(),o="["+t+"]("+n+")","image"===e&&(o="!"+o),i.replaceRange(o,r)},t=function(t,e,n,i){return p(e,n,i)},i=function(){return e()},n=function(){if(0<$("#uploaderModal .pageNext").length&&$("#uploaderModal .pageNext").click(function(){return e($(this).data("last-key"))}),0<$("#uploaderModal .pageRefresh").length)return $("#uploaderModal .pageRefresh").click(function(){return e()})},$(document).ready(n),$(document).on("page:load",n),$(document).on("upload-reset-modal",i),$(document).on("refreshGalleryEvent",i),$(document).on("addFileToMarkdownEvent",t)}.call(this),function(){}.call(this),function(){}.call(this),function(){var s,l,r,u,t,e;u={},s=function(t){return $(t+" .list-group").append('<div class="nobody">Nobody has completed</div>')},l=function(t,e){var n,i,r,o,a;if(n=$(e+" .list-group"),(a=$('<div class="user"><div></div></div>')).append($('<span class="full_name"> '+t.full_name+"</span>")),n.append(a),i='<a href="mailto:'+t.email+'" class="user-preview-social email" target="_blank"><i class="fa fa-envelope"></i></a>',o='<a href="https://twitter.com/'+t.twitter_username+'" class="user-preview-social twitter" target="_blank"><i class="fa fa-twitter"></i></a>',r='<a href="https://holberton-students.slack.com/messages/'+t.slack_username+'" target="_blank"><span class="slack" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Username on Slack: @'+t.slack_username+'"><i class="fa fa-slack"></i></span></a>',""!==t.email&&a.append(i),""!==t.twitter_username&&a.append(o),""!==t.slack_username)return a.append(r)},r=function(t,e,n){var i,r,o,a;return a=(a=e.toLowerCase()).replace("/","-"),u[a]=e,i="#"+a,(r=$("#goal_cohort_members-modal .nav-tabs")).append('<li role="presentation" class="active"><a href="'+i+'" aria-controls="'+a+'" role="tab" data-toggle="tab">'+e+"</li>"),(o=$("#goal-cohort-tab-content")).append('<div role="tabpanel" class="tab-pane active" id="'+a+'"><div class="list-group"></div></div>'),n.forEach(function(t){var e,n;return n=(n=t.toLowerCase()).replace("/","-"),u[n]=t,e="#"+n,r.append('<li role="presentation"><a href="'+e+'" aria-controls="'+n+'" role="tab" data-toggle="tab">'+t+"</li>"),o.append('<div role="tabpanel" class="tab-pane active" id="'+n+'"><div class="list-group"></div></div>')}),0===t.length?s(i):t.forEach(function(t){return l(t,i)}),$(i).data("already-queried",1)},e=function(){var t;if(0<$("#goal_cohort_members-modal").length)return $("#goal_cohort_members-modal .spinner").show(),t="/user_professional_goals/goal_cohort_members.json",$.ajax({type:"GET",dataType:"json",url:t}).done(function(t){var e,n,i;return i=t.users,n=t.role,e=t.other_goal_cohorts,r(i,n,e),$("#goal_cohort_members-modal .spinner").hide(),$(document).trigger("queryMembersOfGoalCohortsUserIsntApartOf")})},$(document).ready(e),$(document).on("page:load",e),t=function(){if(0<$("#goal_cohort_members-modal").length)return $('#goal_cohort_members-modal a[data-toggle="tab"]').on("shown.bs.tab",function(t){var e,n,i,r,o;if(n=$(t.target),o=(i=n.attr("href")).replace("#",""),e=$(i),1!==$(e).data("already-queried"))return $("#goal_cohort_members-modal .spinner").show(),r="/user_professional_goals/goal_cohort_members.json?role="+u[o],$.ajax({type:"GET",dataType:"json",url:r}).done(function(t){return 0===t.users.length?s(i):t.users.forEach(function(t){return l(t,i)}),e.data("already-queried",1),$("#goal_cohort_members-modal .spinner").hide()})})},$(document).on("queryMembersOfGoalCohortsUserIsntApartOf",t)}.call(this),function(){var t,e,n,i,r;r=function(){return $('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover()},$(document).ready(r),$(document).ready(r),e=function(){if(0<$(".correction_skip_toggle").length)return $(".correction_skip_toggle").click(function(){var t,e;return t=$(this).data("correction-id"),e=this,$.post("/corrections/"+t+"/toggle_skip.json",function(){return"Yes"===$(e).html()?$(e).html("No"):$(e).html("Yes")})})},$(document).ready(e),$(document).on("page:load",e),t=function(){if(0<$(".correction_cheating_toggle").length)return $(".correction_cheating_toggle").click(function(){var e,t,n;return t=$(this).data("correction-id"),e=$(this),n=$("tr[data-correction-id="+t+"] td.percentage_correction a"),$.post("/corrections/"+t+"/toggle_cheating.json",function(t){return"Yes"===e.html()?(e.html("No"),n.html(t.percentage+"%")):(e.html("Yes"),n.html(t.percentage+"% ("+t.raw_percentage+"%)"))})})},$(document).ready(t),$(document).on("page:load",t),i=function(){if(0<$(".file-size-validation").length)return $(".file-size-validation").on("change",function(){var t;if($(".submit-file input").prop("disabled",!1),$(".submit-file .alert-msg").html(""),(t=$(this).data("file-size"))&&this.files&&0<this.files.length&&this.files[0]&&this.files[0].size&&this.files[0].size>t)return $(".submit-file input").prop("disabled",!0),$(".submit-file .alert-msg").html("Photo size is too big")})},$(document).ready(i),$(document).on("page:load",i),n=function(){if(0<$(".btn-delete-pto").length)return $(".btn-delete-pto").click(function(){var t;if((t=$(this).data("id"))&&confirm("Are you sure you want to remove this PTO?"))return $.ajax({url:"/user_ptos/"+t+".json",type:"DELETE",success:function(){return window.location="/"}})})},$(document).ready(n),$(document).on("page:load",n)}.call(this);var stIsIE=!1;if(sorttable={init:function(){arguments.callee.done||(arguments.callee.done=!0,_timer&&clearInterval(_timer),document.createElement&&document.getElementsByTagName&&(sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,forEach(document.getElementsByTagName("table"),function(t){-1!=t.className.search(/\bsortable\b/)&&sorttable.makeSortable(t)})))},makeSortable:function(t){if(0==t.getElementsByTagName("thead").length&&(the=document.createElement("thead"),the.appendChild(t.rows[0]),t.insertBefore(the,t.firstChild)),null==t.tHead&&(t.tHead=t.getElementsByTagName("thead")[0]),1==t.tHead.rows.length){sortbottomrows=[];for(var e=0;e<t.rows.length;e++)-1!=t.rows[e].className.search(/\bsortbottom\b/)&&(sortbottomrows[sortbottomrows.length]=t.rows[e]);if(sortbottomrows){null==t.tFoot&&(tfo=document.createElement("tfoot"),t.appendChild(tfo));for(e=0;e<sortbottomrows.length;e++)tfo.appendChild(sortbottomrows[e]);delete sortbottomrows}headrow=t.tHead.rows[0].cells;for(e=0;e<headrow.length;e++)headrow[e].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[e].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),mtch&&"function"==typeof sorttable["sort_"+override]?headrow[e].sorttable_sortfunction=sorttable["sort_"+override]:headrow[e].sorttable_sortfunction=sorttable.guessType(t,e),headrow[e].sorttable_columnindex=e,headrow[e].sorttable_tbody=t.tBodies[0],dean_addEvent(headrow[e],"click",sorttable.innerSortFunction=function(){if(-1!=this.className.search(/\bsorttable_sorted\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML=stIsIE?'&nbsp<font face="webdings">5</font>':"&nbsp;&#x25B4;",void this.appendChild(sortrevind);if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",void this.appendChild(sortfwdind);theadrow=this.parentNode,forEach(theadrow.childNodes,function(t){1==t.nodeType&&(t.className=t.className.replace("sorttable_sorted_reverse",""),t.className=t.className.replace("sorttable_sorted",""))}),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML=stIsIE?'&nbsp<font face="webdings">6</font>':"&nbsp;&#x25BE;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var t=0;t<rows.length;t++)row_array[row_array.length]=[sorttable.getInnerText(rows[t].cells[col]),rows[t]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(t=0;t<row_array.length;t++)tb.appendChild(row_array[t][1]);delete row_array}))}},guessType:function(t,e){sortfn=sorttable.sort_alpha;for(var n=0;n<t.tBodies[0].rows.length;n++)if(text=sorttable.getInnerText(t.tBodies[0].rows[n].cells[e]),""!=text){if(text.match(/^-?[\xa3$\xa4]?[\d,.]+%?$/))return sorttable.sort_numeric;if(possdate=text.match(sorttable.DATE_RE),possdate){if(first=parseInt(possdate[1]),second=parseInt(possdate[2]),12<first)return sorttable.sort_ddmm;if(12<second)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}return sortfn},getInnerText:function(t){if(!t)return"";if(hasInputs="function"==typeof t.getElementsByTagName&&t.getElementsByTagName("input").length,null!=t.getAttribute("sorttable_customkey"))return t.getAttribute("sorttable_customkey");if("undefined"!=typeof t.textContent&&!hasInputs)return t.textContent.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof t.innerText&&!hasInputs)return t.innerText.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof t.text&&!hasInputs)return t.text.replace(/^\s+|\s+$/g,"");switch(t.nodeType){case 3:if("input"==t.nodeName.toLowerCase())return t.value.replace(/^\s+|\s+$/g,"");case 4:return t.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:for(var e="",n=0;n<t.childNodes.length;n++)e+=sorttable.getInnerText(t.childNodes[n]);return e.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(t){newrows=[];for(var e=0;e<t.rows.length;e++)newrows[newrows.length]=t.rows[e];for(e=newrows.length-1;0<=e;e--)t.appendChild(newrows[e]);delete newrows},sort_numeric:function(t,e){return aa=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(t,e){return t[0]==e[0]?0:t[0]<e[0]?-1:1},sort_ddmm:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},sort_mmdd:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},shaker_sort:function(t,e){for(var n=0,i=t.length-1,r=!0;r;){r=!1;for(var o=n;o<i;++o)if(0<e(t[o],t[o+1])){var a=t[o];t[o]=t[o+1],t[o+1]=a,r=!0}if(i--,!r)break;for(o=i;n<o;--o)if(e(t[o],t[o-1])<0){a=t[o];t[o]=t[o-1],t[o-1]=a,r=!0}n++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1),/WebKit/i.test(navigator.userAgent))var _timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&sorttable.init()},10);window.onload=sorttable.init,dean_addEvent.guid=1,fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(t,e,n){for(var i=0;i<t.length;i++)e.call(n,t[i],i,t)}),Function.prototype.forEach=function(t,e,n){for(var i in t)"undefined"==typeof this.prototype[i]&&e.call(n,t[i],i,t)},String.forEach=function(n,i,r){Array.forEach(n.split(""),function(t,e){i.call(r,t,e,n)})};var forEach=function(t,e,n){if(t){var i=Object;if(t instanceof Function)i=Function;else{if(t.forEach instanceof Function)return void t.forEach(e,n);"string"==typeof t?i=String:"number"==typeof t.length&&(i=Array)}i.forEach(t,e,n)}};(function(){var i,r,t,e;e=function(){if(0<$("#versioning_model-modal").length)return $("#versioning_model-modal").on("shown.bs.modal",function(){var t,e,n;return $("#versioning_model-modal .spinner").show(),$("#versioning_model-modal .versions").empty(),$(this).data("model-class"),e=$(this).data("models-class"),t=$(this).data("model-id"),void 0!==(n=$(this).data("version-id"))?$.getJSON("/versions/"+n+".json",function(t){return i(t)}):$.getJSON("/"+e.toLowerCase()+"/"+t+"/versions.json",function(t){return r(t)})}),$("#versioning_model-modal").on("hidden.bs.modal",function(){return $("#versioning_model-modal .spinner").hide(),$("#versioning_model-modal .versions").empty()})},$(document).ready(e),$(document).on("page:load",e),t=function(){if(0<$(".versioning_model_show").length)return $(".versioning_model_show").click(function(t){return $("#versioning_model-modal").data("model-class",$(this).data("model-class")),$("#versioning_model-modal").data("model-id",$(this).data("model-id")),$("#versioning_model-modal").data("version-id",$(this).data("version-id")),$("#versioning_model-modal").modal("show"),t.stopPropagation()})},$(document).ready(t),$(document).on("page:load",t),r=function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p,f;if($("#versioning_model-modal .spinner").hide(),p=$("<div>"),void 0===t||0===t.length)p.append($("<p>").addClass("empty").html("No versions found"));else{for(f=$("<div>").addClass("panel-group").attr("role","tablist").attr("aria-multiselectable","true").attr("id","versioning-model-accordion"),i=0,r=t.length;i<r;i++){for(e in a=t[i],c=$("<div>").addClass("panel").addClass("panel-default"),d=$("<div>").addClass("panel-heading").attr("role","tab").attr("id","versioning-model-head-"+a.id),(h=$("<h4>").addClass("panel-title")).append($("<a>").addClass("collapsed").attr("role","button").attr("data-toggle","collapse").attr("data-parent","#versioning-model-accordion").attr("href","#versioning-model-body-"+a.id).attr("aria-expanded","false").attr("aria-controls","versioning-model-body-"+a.id).html("<code>"+a.version_id+'</code> <span class="date_author">'+a.s_date+" by "+a.user.full_name+"</span>")),d.append(h),c.append(d),s=$("<div>").attr("id","versioning-model-body-"+a.id).addClass("panel-collapse").addClass("collapse").attr("role","tabpanel").attr("aria-labelledby","versioning-model-head-"+a.id),u=$("<ul>").addClass("list-group"),o=a.changes)n=o[e],(l=$("<li>").addClass("list-group-item")).append($("<h1>").html(e+":")),l.append($("<pre>").addClass("version-initial").html(n[0])),l.append($("<pre>").addClass("version-final").html(n[1])),u.append(l);s.append(u),c.append(s),f.append(c)}p.append(f)}return $("#versioning_model-modal .versions").html(p)},i=function(t){var e,n,i,r,o,a,s,l,u,c,d;if($("#versioning_model-modal .spinner").hide(),$("#versioning_model-modal .modal-title").html(""),s=$("<div>"),void 0===t)s.append($("<p>").addClass("empty").html("Version not found"));else{for(e in $("#versioning_model-modal .modal-title").html("["+t.model_class+"] "+t.model_id+" - "+t.action),l=$("<div>"),u=$("<div>"),d=$("<ul>"),(c=$("<li>")).append($("<strong>").html("Version ID: ")),c.append($("<code>").html(t.version_id)),d.append(c),(c=$("<li>")).append($("<strong>").html("Model: ")),c.append(t.model_class),d.append(c),(c=$("<li>")).append($("<strong>").html("ID: ")),c.append($("<code>").html(t.model_id)),d.append(c),(c=$("<li>")).append($("<strong>").html("Action: ")),c.append(t.action),d.append(c),(c=$("<li>")).append($("<strong>").html("Author: ")),c.append(t.user.full_name+" ("+t.user.id+")"),d.append(c),(c=$("<li>")).append($("<strong>").html("Date: ")),c.append(t.s_date),d.append(c),u.append(d),l.append(u),r=$("<div>"),a=$("<ul>").addClass("list-group"),i=t.changes)n=i[e],(o=$("<li>").addClass("list-group-item")).append($("<h1>").html(e+":")),o.append($("<pre>").addClass("version-initial").html(n[0])),o.append($("<pre>").addClass("version-final").html(n[1])),a.append(o);r.append(a),l.append(r),s.append(l)}return $("#versioning_model-modal .versions").html(s)}}).call(this),function(){var e,n,t,a,i,u,s,l,c,r,o,d,h,p,f,m;p=function(){var t,e,n,i;return e=window.MediaSource||window.WebKitMediaSource,n=window.SourceBuffer||window.WebKitSourceBuffer,t=!1,e&&(t="function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')),i=!n||n.prototype&&"function"==typeof n.prototype.appendBuffer&&"function"==typeof n.prototype.remove,!!t&&!!i},f=function(){if(0<$("#video_stream_index").length)return $("#video_stream_index .video_multi_cast_list").each(function(){var n,i,r,o;if(!((r=parseInt($(this).data("school-location-id")))<=0))return $('#video_stream_index .video_multi_cast_list .video_multi_cast_item[data-school-location-id="'+r+'"]').change(function(){var t,e,n,i;return i=(e=$(this)).data("multi-id"),n=e.is(":checked"),"all"===i?$('#video_stream_index .video_multi_cast_list .video_multi_cast_item[data-school-location-id="'+r+'"]').prop("checked",n):0<(i=parseInt(i))?(t=!1,n&&(t=!0,$('#video_stream_index .video_multi_cast_list .video_multi_cast_item[data-school-location-id="'+r+'"]').each(function(){if(t&&"all"!==$(this).data("multi-id")&&!$(this).is(":checked"))return t=!1})),$('#video_stream_index .video_multi_cast_list .video_multi_cast_item[data-school-location-id="'+r+'"][data-multi-id="all"]').prop("checked",t)):void 0}),i=$('#video_stream_index .video_multi_cast_list .video_multi_cast_loading[data-school-location-id="'+r+'"]'),n=$('#video_stream_index .video_multi_cast_list .video_multi_cast_info[data-school-location-id="'+r+'"]'),o=$('#video_stream_index .video_multi_cast_list .video_multi_cast_valid[data-school-location-id="'+r+'"]'),$('#video_stream_index .video_multi_cast_list .video_multi_cast_submit[data-school-location-id="'+r+'"]').click(function(){var t;return i.show(),n.hide(
).html("").removeClass("error"),o.hide(),t={school_location_id:r,selected_multi_cast:[]},$('#video_stream_index .video_multi_cast_list .video_multi_cast_item[data-school-location-id="'+r+'"]').each(function(){if("all"!==$(this).data("multi-id")&&$(this).is(":checked"))return t.selected_multi_cast.push($(this).data("multi-id"))}),$.post("/video_streams/multi_cast.json",t,function(t){var e;i.hide(),t.success?(o.show(),t.msg&&n.show().html(t.msg),setTimeout(function(){return o.fadeOut(),n.fadeOut()},5e3)):((e=t.error)||(e="An error occured"),n.addClass("error").show().html(e))})})})},$(document).ready(f),$(document).on("page:load",f),n=240,o=e=120,r=!(d=null),c=[],h=null,m=function(){if(0<$("#video_streams_current_modal").length)return $("body").hasClass("env_production")&&(e=20,n=40),s(),$("#video_streams_current_modal .player .header .back").click(function(){return t()}),$(this).on("shown.bs.modal",function(){return l(),c&&0<c.length?a():i(!0)}),$(this).on("hide.bs.modal",function(){return h&&(h.destroy(),h=null),s(!0)}),$(window).focus(function(){return r=!0,s($("body").hasClass("env_production"))}),$(window).blur(function(){return r=!1})},$(document).ready(m),$(document).on("page:load",m),i=function(i){var r,o,t,e;return l(),e=$("#video_streams_current_modal .streams"),t=$("#video_streams_current_modal .player"),o=$("#video_streams_current_modal .spinner"),r=$("#video_streams_current_modal .error"),i&&(e.hide().empty(),r.hide().html(""),o.show(),t.hide()),$.getJSON("/video_streams/current.json",function(t){var e,n;e=$("#holberton-logo"),n=$(".mobile-nav-bar"),i&&o.hide(),(c=t)&&0<c.length?(e.hasClass("onair")||(e.addClass("onair"),n.addClass("onair")),i&&a()):(e.removeClass("onair"),n.removeClass("onair"),i&&r.show().html("No video streaming")),i||s()})},a=function(){var t,e,n,i,r,o,a,s,l;if((r=$("#video_streams_current_modal .streams")).empty(),1<c.length){for(e=0,r.show(),$("#video_streams_current_modal .player").hide(),o=[],t=0,i=c.length;t<i;t++)n=c[t],s=$("<li>").addClass("list-group-item"),l=$("<strong>").html(n.school_location_name),s.append(l),a=$("<div>").addClass("bp-play").data("stream-idx",e).append($('<i class="fa fa-play-circle-o" aria-hidden="true">')),s.append(a),e+=1,r.append(s),o.push(a.click(function(){var t;if(0<=(t=$(this).data("stream-idx"))&&t<c.length)return u(c[t],!0)}));return o}return u(c[0],!1)},u=function(t,e){var o,a,s,n;return n=$("#video_streams_current_modal .streams"),s=$("#video_streams_current_modal .player"),a=$("#video_streams_current_modal .spinner"),o=$("#video_streams_current_modal .error"),n.hide(),s.hide(),a.show(),o.hide(),e?$("#video_streams_current_modal .player .header .back").show():$("#video_streams_current_modal .player .header .back").hide(),$("#video_streams_current_modal .player .header .title").html(t.school_location_name),h&&(h.destroy(),h=null),$.getJSON("/video_streams/"+t.school_location_id+"/play.json",function(t){var e,n,i,r;a.hide(),navigator.cookieEnabled?t.url?(s.show(),r=$("#video_streams_current_modal .modal-body").width(),i=parseInt(r/(16/9)),$("#video_streams_current_modal_player").height(i+"px").width(r+"px"),p()?((h=new Clappr.Player({source:t.url,parentId:"#video_streams_current_modal_player",width:"100%",height:"100%",autoPlay:!0,mediacontrol:{seekbar:"#A1D6CA",buttons:"#A1D6CA"},playback:{playInline:!0,hlsjsConfig:{xhrSetup:function(t){return t.withCredentials=!0}}}})).on(Clappr.Events.PLAYER_PLAY,function(){return console.log("PLAY")}),h.on(Clappr.Events.PLAYER_ENDED,function(){return console.log("ENDED")}),h.on(Clappr.Events.PLAYER_ERROR,function(t){return console.log("ERROR: ",t)})):(s.empty(),n=$('<video id="video_streams_current_modal_player_alternative" crossorigin="use-credentials" controls style="width: 100%; height: 100%;">'),s.append(n),(e=document.getElementById("video_streams_current_modal_player_alternative"))&&e.canPlayType("application/vnd.apple.mpegurl")?e.src=t.url:o.show().html("Unable to load the player - please use Chrome or Safari and allow cookies"))):o.show().html("Unable to load the player - please use Chrome or Safari and allow cookies"):o.show().html("Please enable cookies to load the video. Thank you")})},t=function(){return h&&(h.destroy(),h=null),$("#video_streams_current_modal .player").hide(),$("#video_streams_current_modal .streams").show()},l=function(){if(d)return clearTimeout(d),d=null},s=function(t){return l(),t?i(!1):(o=r?e:o===n?2*n:o===2*n?4*n:o===4*n?8*n:o===8*n?8*n:n,d=setTimeout(function(){i(!1)},1e3*o))}}.call(this),function(){}.call(this);