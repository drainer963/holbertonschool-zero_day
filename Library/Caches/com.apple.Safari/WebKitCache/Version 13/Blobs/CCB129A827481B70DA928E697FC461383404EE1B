define("@ta/social.profile",["@ta/common.typeahead","@ta/list.navigable-list","@ta/overlays.fullscreen-overlay","@ta/overlays.headers","@ta/overlays.managers","@ta/overlays.modal","@ta/overlays.pieces","@ta/overlays.popover","@ta/social.blocks","@ta/social.button","@ta/styleguide.radio-button","@ta/tracking.interactions","@ta/common.global"],function(e,n,t,a,o,r,i,l,s,c,u,d,m){return function(e){var n={};function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(a,o,function(n){return e[n]}.bind(null,o));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/components/dist/",t(t.s="./packages/social/profile/profile.jsx")}({"./node_modules/lodash/_Symbol.js":function(e,n,t){var a=t("./node_modules/lodash/_root.js").Symbol;e.exports=a},"./node_modules/lodash/_baseGetTag.js":function(e,n,t){var a=t("./node_modules/lodash/_Symbol.js"),o=t("./node_modules/lodash/_getRawTag.js"),r=t("./node_modules/lodash/_objectToString.js"),i="[object Null]",l="[object Undefined]",s=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?l:i:s&&s in Object(e)?o(e):r(e)}},"./node_modules/lodash/_freeGlobal.js":function(e,n,t){(function(n){var t="object"==typeof n&&n&&n.Object===Object&&n;e.exports=t}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash/_getRawTag.js":function(e,n,t){var a=t("./node_modules/lodash/_Symbol.js"),o=Object.prototype,r=o.hasOwnProperty,i=o.toString,l=a?a.toStringTag:void 0;e.exports=function(e){var n=r.call(e,l),t=e[l];try{e[l]=void 0;var a=!0}catch(e){}var o=i.call(e);return a&&(n?e[l]=t:delete e[l]),o}},"./node_modules/lodash/_objectToString.js":function(e,n){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},"./node_modules/lodash/_root.js":function(e,n,t){var a=t("./node_modules/lodash/_freeGlobal.js"),o="object"==typeof self&&self&&self.Object===Object&&self,r=a||o||Function("return this")();e.exports=r},"./node_modules/lodash/debounce.js":function(e,n,t){var a=t("./node_modules/lodash/isObject.js"),o=t("./node_modules/lodash/now.js"),r=t("./node_modules/lodash/toNumber.js"),i="Expected a function",l=Math.max,s=Math.min;e.exports=function(e,n,t){var c,u,d,m,p,f,v=0,b=!1,g=!1,_=!0;if("function"!=typeof e)throw new TypeError(i);function k(n){var t=c,a=u;return c=u=void 0,v=n,m=e.apply(a,t)}function y(e){var t=e-f;return void 0===f||t>=n||t<0||g&&e-v>=d}function O(){var e=o();if(y(e))return h(e);p=setTimeout(O,function(e){var t=n-(e-f);return g?s(t,d-(e-v)):t}(e))}function h(e){return p=void 0,_&&c?k(e):(c=u=void 0,m)}function I(){var e=o(),t=y(e);if(c=arguments,u=this,f=e,t){if(void 0===p)return function(e){return v=e,p=setTimeout(O,n),b?k(e):m}(f);if(g)return p=setTimeout(O,n),k(f)}return void 0===p&&(p=setTimeout(O,n)),m}return n=r(n)||0,a(t)&&(b=!!t.leading,d=(g="maxWait"in t)?l(r(t.maxWait)||0,n):d,_="trailing"in t?!!t.trailing:_),I.cancel=function(){void 0!==p&&clearTimeout(p),v=0,c=f=u=p=void 0},I.flush=function(){return void 0===p?m:h(o())},I}},"./node_modules/lodash/isObject.js":function(e,n){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},"./node_modules/lodash/isObjectLike.js":function(e,n){e.exports=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash/isSymbol.js":function(e,n,t){var a=t("./node_modules/lodash/_baseGetTag.js"),o=t("./node_modules/lodash/isObjectLike.js"),r="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&a(e)==r}},"./node_modules/lodash/now.js":function(e,n,t){var a=t("./node_modules/lodash/_root.js");e.exports=function(){return a.Date.now()}},"./node_modules/lodash/toNumber.js":function(e,n,t){var a=t("./node_modules/lodash/isObject.js"),o=t("./node_modules/lodash/isSymbol.js"),r=NaN,i=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return r;if(a(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=a(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var t=s.test(e);return t||c.test(e)?u(e.slice(2),t?2:8):l.test(e)?r:+e}},"./node_modules/react-apollo/react-apollo.browser.umd.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react-apollo/react-apollo.browser.umd.js")},"./node_modules/react-redux/es/index.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react-redux/es/index.js")},"./node_modules/react/index.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react/index.js")},"./node_modules/webpack/buildin/global.js":function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},"./packages/common/classnames/classnames.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"b",function(){return r});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(){for(var e=[],n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];for(var i=function(n){var r=t[n];if(r){var i=void 0===r?"undefined":a(r);"string"===i||"number"===i?e.push(r):Array.isArray(r)?e.push(o.apply(void 0,function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(r))):"object"===i&&Object.keys(r).filter(function(e){return r[e]}).forEach(function(n){return e.push(n)})}},l=0;l<t.length;l++)i(l);return e.join(" ")}function r(e,n,t){var a=e.split(" ").filter(function(e){return e!==n});return t&&a.push(t),a}},"./packages/common/features/features.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/features/features.jsx")},"./packages/common/i18n/i18n.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/i18n/i18n.jsx")},"./packages/common/logging/logging.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/logging/logging.jsx")},"./packages/common/state/state.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/state/state.jsx")},"./packages/common/throttle/throttle.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/throttle/throttle.jsx")},"./packages/common/tracking/tracking.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/tracking/tracking.jsx")},"./packages/common/webview/NativeBridge.jsx":function(e,n,t){"use strict";function a(e){var n="";if(null!=e.tapCallback){var t=e.tapCallback,a="nativeInterop"+function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}();window[a]=function(){null!=t&&t()},n=a,e.tapFunction=n,e.tapCallback=null}}function o(){return"undefined"!=typeof window&&window.taBridgeContext?(window.bridge||window.bridge||(window.bridge=(e=[],n=0,t=[],document.addEventListener("PacificDidReceiveNativeCallback",function(n){if(n.detail){var t=n.detail,a=isNaN(parseInt(t.id))?-1:parseInt(t.id);-1!=a&&(e[a]&&e[a](t.parameters,t.error),delete e[a])}},!1),document.addEventListener("PacificDidReceiveNativeBroadcast",function(e){if(e.detail){var n=e.detail,a=n.name;if(void 0!==a&&t[a]){var o=t[a];if(o instanceof Array){var r=n.parameters;o.forEach(function(e){e(r)})}}}},!1),{post:function(t,a,o,r,i){var l=n++;e[l]=r,window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.pacific?window.webkit.messageHandlers.pacific.postMessage({action:t,parameters:a,uid:o,callback:l,print:i||0}):window.pacific&&window.pacific.postMessage(JSON.stringify({action:t,parameters:a,uid:o,callback:l,print:i||0}))},on:function(e,n){var a=t[e];return a||(t[e]=a=[]),a.push(n),function(){a[indexOf(a,n)]=null}},off:function(e){delete t[e]}})),window.taBridgeContext.uid):null;var e,n,t}function r(e,n){if("undefined"==typeof window||!window.taBridgeContext||!window.taBridgeContext.actions)return!1;var t=window.taBridgeContext.actions[e];return!(!t||!t.v)&&n===t.v}function i(e,n,t){o()&&(e?window.bridge.on(n,t):window.bridge.off(n))}function l(e){e.items.forEach(function(e,n){a(e)})}function s(e,n,t){var a=o();return!(!a||!r(e,n))&&(window.bridge.post(e,t||{},a),!0)}function c(){s("hideSkeleton",1,null)}function u(e){!function(e){null!=e.trailingMenuItems&&e.trailingMenuItems.forEach(function(e,n){var t=e;a(t),null!=t.nestedMenu&&l(t.nestedMenu)})}(e.navigation),s("onNewOrUpdatedScreen",1,e)}function d(e){l(e),s("overflowMenu",1,e)}function m(){r("map",2)?s("map",2,null):s("map",1,null)}function p(e){s("createTrip",1,{isPublic:e})}function f(e){s("shareTrip",1,e)}t.r(n),t.d(n,"isActionSupported",function(){return r}),t.d(n,"postToBridge",function(){return s}),t.d(n,"hideSkeleton",function(){return c}),t.d(n,"onNewOrUpdatedScreen",function(){return u}),t.d(n,"showNativeOverflowMenu",function(){return d}),t.d(n,"showNativeMap",function(){return m}),t.d(n,"showNativeCreateTrip",function(){return p}),t.d(n,"showNativeShareTrip",function(){return f}),t.d(n,"showSavesModal",function(){return v}),t.d(n,"showRegistration",function(){return b}),t.d(n,"close",function(){return g}),t.d(n,"startScreenTransition",function(){return _}),t.d(n,"onOverlayStateChange",function(){return k}),t.d(n,"onHeaderHeightChange",function(){return y}),t.d(n,"onShrinkMap",function(){return O}),t.d(n,"onNavigateToTripDetail",function(){return h}),t.d(n,"onHandleTripCollaboration",function(){return I}),t.d(n,"isNativeWebview",function(){return E}),t.d(n,"getHeaderHeight",function(){return N}),t.d(n,"onTripsRefetch",function(){return j}),t.d(n,"onTripUpdate",function(){return C}),t.d(n,"onTripItemDelete",function(){return S}),t.d(n,"onRefetchTripsWithItems",function(){return T});var v=function(e){r("presentSavesModal",2)?s("presentSavesModal",2,e):s("presentSavesModal",1,{itemId:e.id})},b=function(e){s("showReg",1,{dismissOnCancellation:e})};function g(){s("close",1,null)}function _(){s("startScreenTransition",1,null)}function k(e){s(e?"overlayShown":"overlayHidden",1,null)}function y(e,n){i(e,"updateHeaderHeight",n)}function O(e,n){i(e,"shrinkMap",n)}function h(e,n){i(e,"navigateToTripDetail",n)}function I(e,n){i(e,"handleTripCollaboration",n)}function E(){return null!=o()}function N(){if("undefined"!=typeof window&&void 0!==window.localStorage&&void 0!==window.localStorage.headerHeight){var e=window.localStorage.headerHeight;return"string"==typeof e&&(e=parseInt(e,10)),e}return 0}function j(e,n){i(e,"refetchTrips",n)}function C(e){s("tripUpdate",1,e)}function S(e){s("tripItemDelete",1,e)}function T(e,n){i(e,"refetchTripsWithItems",n)}},"./packages/common/webview/webview.jsx":function(e,n,t){"use strict";var a=t("./packages/common/webview/NativeBridge.jsx");t.d(n,"a",function(){return a})},"./packages/events/keyboard-event-listener/KeyboardEventListener.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var r=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleEvent=function(e){var n=e.key;n&&-1!==t.keyNames.indexOf(n)&&t.props.callback(e)},t.keyNames=Array.isArray(e.keyName)?e.keyName:[e.keyName],t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),o(n,[{key:"componentDidMount",value:function(){window.addEventListener(this.props.eventType,this.handleEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(this.props.eventType,this.handleEvent)}},{key:"render",value:function(){return null}}]),n}();r.defaultProps={eventType:"keydown"},n.a=r},"./packages/events/window-scroll/WindowScroll.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/common/throttle/throttle.jsx"),r=t.n(o),i=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function l(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var s=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=a=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.handleScroll=a.props.throttle?r()(function(){a.props.callback()},a.props.throttle,a.props.useDebounce):a.props.callback,l(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),i(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.disableListeners()}},{key:"disableListeners",value:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleScroll)}},{key:"render",value:function(){return null}}]),n}();s.defaultProps={throttle:200,useDebounce:!1},n.a=s},"./packages/input/text-area/ManagedTextArea.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var r=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.newListener=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){t.props.onInteractionStart&&!t.state.interactionStarted&&t.props.onInteractionStart(a),t.setState({composing:n});var o=a.currentTarget.value;t.props[e]&&t.props[e](a,o,t.state.composing),t.setState({interactionStarted:!0})}},t.onFocus=t.newListener("onFocus"),t.onBlur=t.newListener("onBlur"),t.onChange=t.newListener("onChange"),t.onKeyUp=t.newListener("onKeyUp"),t.onKeyDown=t.newListener("onKeyDown"),t.onCompositionStart=t.newListener("onCompositionStart",!0),t.onCompositionEnd=t.newListener("onCompositionEnd"),t.state={interactionStarted:!1,composing:!1},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),o(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.inputElem&&this.inputElem.focus()}},{key:"render",value:function(){var e=this,n=this.props.fontSize?{fontSize:this.props.fontSize}:void 0;return a.createElement("textarea",{type:"text",id:this.props.id,name:this.props.name,rows:this.props.rows,cols:this.props.cols,value:this.props.value,maxLength:this.props.maxLength,className:this.props.className,style:n,placeholder:this.props.placeholder,disabled:this.props.disabled,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onCompositionStart:this.onCompositionStart,onCompositionEnd:this.onCompositionEnd,ref:function(n){e.inputElem=n,e.props.onRef&&e.props.onRef(n)}})}}]),n}();r.defaultProps={id:void 0,name:void 0,value:void 0,className:void 0,placeholder:void 0,disabled:!1,focusOnMount:!1,onFocus:void 0,onBlur:void 0,onChange:void 0,onKeyUp:void 0,onKeyDown:void 0,onCompositionStart:void 0,onCompositionEnd:void 0,onInteractionStart:void 0,onRef:void 0},n.a=r},"./packages/input/text-area/TextArea.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/common/classnames/classnames.jsx"),r=t("./packages/input/text-area/ManagedTextArea.jsx"),i=t("./packages/input/text-area/TextArea.less"),l=t.n(i),s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};n.a=function(e){var n=Object(o.a)(l.a.inputElement,e.className),t=s({},e,{className:n});return a.createElement(r.a,t)}},"./packages/input/text-area/TextArea.less":function(e,n,t){e.exports={inputElement:"input-text-area-TextArea__inputElement--2DP7n"}},"./packages/input/text-input/ManagedTextInput.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/common/classnames/classnames.jsx"),r=t("./packages/input/text-input/ManagedTextInput.less"),i=t.n(r),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var s=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.newListener=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){t.props.onInteractionStart&&!t.state.interactionStarted&&t.props.onInteractionStart(a),t.setState({composing:n});var o=a.currentTarget.value;t.props[e]&&t.props[e](a,o,t.state.composing),t.setState({interactionStarted:!0})}},t.onFocus=t.newListener("onFocus"),t.onBlur=t.newListener("onBlur"),t.onChange=t.newListener("onChange"),t.onKeyUp=t.newListener("onKeyUp"),t.onKeyDown=t.newListener("onKeyDown"),t.onCompositionStart=t.newListener("onCompositionStart",!0),t.onCompositionEnd=t.newListener("onCompositionEnd"),t.state={interactionStarted:!1,composing:!1},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),l(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.inputElem&&this.inputElem.focus()}},{key:"componentDidUpdate",value:function(){this.props.focusOnUpdate&&this.inputElem&&this.inputElem.focus()}},{key:"render",value:function(){var e=this,n={fontSize:this.props.fontSize,lineHeight:this.props.lineHeight};return a.createElement("input",{id:this.props.id,type:this.props.type,name:this.props.name,value:this.props.value,maxLength:this.props.maxLength,className:Object(o.a)(i.a.managedInput,this.props.className),style:n,placeholder:this.props.placeholder,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onCompositionStart:this.onCompositionStart,onCompositionEnd:this.onCompositionEnd,ref:function(n){e.inputElem=n,e.props.onRef&&e.props.onRef(n)}})}}]),n}();s.defaultProps={id:void 0,name:void 0,value:void 0,type:"text",className:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,onFocus:void 0,onBlur:void 0,onChange:void 0,onKeyUp:void 0,onKeyDown:void 0,onCompositionStart:void 0,onCompositionEnd:void 0,onInteractionStart:void 0,onRef:void 0,onCTAClick:void 0},n.a=s},"./packages/input/text-input/ManagedTextInput.less":function(e,n,t){e.exports={managedInput:"input-text-input-ManagedTextInput__managedInput--106PS"}},"./packages/input/text-input/TextInput.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/common/classnames/classnames.jsx"),r=t("./packages/input/text-input/ManagedTextInput.jsx"),i=t("./packages/input/text-input/TextInput.less"),l=t.n(i),s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};n.a=function(e){var n=Object(o.a)(l.a.inputElement,e.className),t=s({},e,{className:n});return a.createElement(r.a,t)}},"./packages/input/text-input/TextInput.less":function(e,n,t){e.exports={inputElement:"input-text-input-TextInput__inputElement--3z9Nm"}},"./packages/public/iap-reporting/ContentModals.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/common/i18n/i18n.jsx"),r=t("@ta/overlays.modal"),i=t("@ta/overlays.managers"),l=t("@ta/overlays.headers"),s=t("./packages/styleguide/button/Button.jsx"),c=t("./packages/social/login-gate/SocialOpener.jsx"),u=t("./packages/public/iap-reporting/ContentModals.less"),d=t.n(u),m=t("./node_modules/react-redux/es/index.js"),p=t("./packages/public/iap-reporting/content/base.jsx"),f=t("./packages/public/iap-reporting/ReportIAPPanel.jsx"),v=t("./packages/public/iap-reporting/IAPReason.jsx"),b=t("./packages/public/iap-reporting/submit/SubmitIapVote.jsx"),g=function(e){return a.createElement(f.a,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:b.a.LINK,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo},function(e){return a.createElement(a.Fragment,null,e.createRadio(v.a.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadio(v.a.LINK_ILLEGAL_ACTIVITY),e.createRadio(v.a.LINK_INCORRECT_OUTDATED_BROKEN))})};g.defaultProps=p.a;var _=Object(m.connect)(function(e,n){return Object(p.d)(e)})(g),k=function(e){var n=e.location||{},t=n.placeType,r=void 0===t?"":t,i=n.locationId,l=void 0===i?1:i,s="ATTRACTION"===r||"EATERY"===r,c=l&&Object(o.unescaped)(Object(o.localize)("social_report_level2_redirect",{sUrl:"/UpdateListing-d"+l})),u=l&&Object(o.unescaped)(Object(o.localize)("social_report_level2_1",{sUrl:"/Owners-d"+l}));return a.createElement(f.a,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:b.a.USERREVIEW,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo},function(e){return a.createElement(a.Fragment,null,e.createRadioWithOptionalComment(v.a.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadioWithOptionalComment(v.a.PROMOTES_ILLEGAL_ACTIVITY),e.createRadioWithRequiredComment(v.a.BIASED),s?e.createRadioWithContentNoSubmit(v.a.CLOSED,a.createElement("span",null,c)):e.createRadioWithRequiredComment(v.a.CLOSED),e.createRadioWithSuggestionBox(v.a.WRONG_LOCATION,Object(o.localize)("report_review_radio_desc_19")),e.createRadioWithOptionalComment(v.a.DUPLICATE_CONTENT),e.createRadioWithOptionalComment(v.a.NOT_PERSONAL_EXPERIENCE),e.createRadioWithContentNoSubmit(v.a.FALSE_MISLEADING_INFO,a.createElement("span",null,u)),e.createRadioWithRequiredComment(v.a.OTHER))})};k.defaultProps=p.a;var y=Object(m.connect)(function(e,n){return Object(p.d)(e)})(k),O=function(e){return a.createElement(f.a,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:b.a.MEDIA,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo},function(e){return a.createElement(a.Fragment,null,e.createRadioWithOptionalComment(v.a.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadioWithOptionalComment(v.a.PARTICIPATION_ILLEGAL_ACTIVITY),e.createRadioWithOptionalComment(v.a.LOW_QUALITY),e.createRadioWithSuggestionBox(v.a.WRONG_LOCATION,Object(o.localize)("social_report_level2_3")),e.createRadioWithOptionalComment(v.a.DUPLICATE_CONTENT),e.createRadioWithOptionalComment(v.a.COPYRIGHT_VIOLATION),e.createRadioWithRequiredComment(v.a.OTHER))})};O.defaultProps=p.a;var h=Object(m.connect)(function(e,n){return Object(p.d)(e)})(O),I=function(e){return a.createElement(f.a,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:b.a.MEDIA,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo},function(e){return a.createElement(a.Fragment,null,e.createRadioWithOptionalComment(v.a.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadioWithOptionalComment(v.a.PARTICIPATION_ILLEGAL_ACTIVITY),e.createRadioWithSuggestionBox(v.a.WRONG_LOCATION,Object(o.localize)("social_report_level2_4")),e.createRadioWithOptionalComment(v.a.DUPLICATE_CONTENT),e.createRadioWithOptionalComment(v.a.COPYRIGHT_VIOLATION),e.createRadioWithRequiredComment(v.a.OTHER))})};I.defaultProps=p.a;var E=Object(m.connect)(function(e,n){return Object(p.d)(e)})(I);var N=function(e){var n=e.forumInfo,t=function(e,n){var t={};for(var a in e)n.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}(e,["forumInfo"]);return a.createElement(f.a,{csrfToken:t.csrfToken,userId:t.userId,contentId:t.contentId,contentType:b.a.FORUM,onError:t.onError,onComplete:t.onComplete,forumInfo:n,repostInfo:t.repostInfo},function(e){return a.createElement(a.Fragment,null,e.createRadioWithOptionalComment(v.a.SELF_PROMOTION_ADVERTISEMENT_SOLICITATION),e.createRadioWithOptionalComment(v.a.OFF_TOPIC),e.createRadioWithOptionalComment(v.a.SPAM),e.createRadioWithOptionalComment(v.a.DUPLICATE_FORUM),e.createRadioWithOptionalComment(v.a.HARASSMENT),e.createRadioWithOptionalComment(v.a.PROFANITY_SEX_VIOLENCE_CRIME_HATE),e.createRadioWithOptionalComment(v.a.MULTIPLE_ACCOUNTS_OR_IMPERSONATION),e.createRadioWithOptionalComment(v.a.PERSONAL_INFO),e.createRadioWithOptionalComment(v.a.COPYRIGHTED))})};N.defaultProps=p.a;var j=Object(m.connect)(function(e,n){return Object(p.d)(e)})(N),C=t("./packages/public/iap-reporting/content/Trips.jsx"),S=function(e){return a.createElement(f.a,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:b.a.LOCATION_TOPIC,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo},function(e){return a.createElement(a.Fragment,null,a.createElement("div",null,Object(o.localize)("qa_iap_label")),e.createDefaultReasonWithRequiredComment(v.a.INAPPROPRIATE))})};S.defaultProps=p.a;var T=Object(m.connect)(function(e,n){return Object(p.d)(e)})(S),w=function(e){return a.createElement(f.a,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:b.a.LOCATION_POSTING,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo},function(e){return a.createElement(a.Fragment,null,a.createElement("div",null,Object(o.localize)("qa_iap_label")),e.createDefaultReasonWithRequiredComment(v.a.INAPPROPRIATE))})};w.defaultProps=p.a;var x=Object(m.connect)(function(e,n){return Object(p.d)(e)})(w),R=function(e){return a.createElement(f.a,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:b.a.PROFILE,onError:e.onError,onComplete:e.onComplete},function(e){return a.createElement(a.Fragment,null,e.createDefaultReasonWithRequiredComment(v.a.OTHER,10))})};R.defaultProps=p.a;var P=Object(m.connect)(function(e,n){return Object(p.d)(e)})(R);function A(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}t.d(n,"f",function(){return F}),t.d(n,"b",function(){return z}),t.d(n,"i",function(){return q}),t.d(n,"g",function(){return B}),t.d(n,"k",function(){return W}),t.d(n,"a",function(){return G}),t.d(n,"j",function(){return Y}),t.d(n,"h",function(){return Q}),t.d(n,"c",function(){return H}),t.d(n,"d",function(){return K}),t.d(n,"e",function(){return $});var L=function(){return a.createElement(i.Closer,null,function(e){return a.createElement(s.a,{size:"fullwidth",type:"primary",onClick:e},Object(o.localize)("common_OK"))})},U=function(){return a.createElement("div",{className:d.a.iapTYContent},a.createElement("p",{className:d.a.iapTYH1,style:{textAlign:"center"}},Object(o.localize)("social_report_ty2")),a.createElement("p",{className:d.a.iapTYText},Object(o.localize)("social_report_ty2b")),L())},M=function(){return a.createElement("div",{className:d.a.iapTYContent+" "+d.a.iapTYText},Object(o.localize)("tavrs_totp_delete_device_error_message"),L())},V=function(e){function n(){var e,t,i;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=i=A(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(c))),i.state={status:"panel"},i.onError=function(){i.setState({status:"error"})},i.onComplete=function(){i.setState({status:"thankyou"})},i.render=function(){var e=void 0;e="thankyou"===i.state.status?a.createElement(U,null):"error"===i.state.status?a.createElement(M,null):a.createElement("div",{className:d.a.iapModalContent},i.props.children(i.onError,i.onComplete));var n=a.createElement(l.TitleBar,{iconName:"flag-fill",displayType:"LEFT_ALIGN_GRAY"},a.createElement("div",null,Object(o.localize)("report_problem_ffffff85")));return a.createElement(r.Modal,{name:i.props.modalName,header:n},e)},A(i,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),n}(),F=function(e){var n=e.name,t=e.children;return a.createElement(c.a,{name:n},t)},D={repostInfo:void 0,forumInfo:void 0,location:void 0},z=function(e){return a.createElement(V,{modalName:e.modalName},function(n,t){return a.createElement(_,{onError:n,onComplete:t,contentId:e.contentId,repostInfo:e.repostInfo})})};z.defaultProps=D;var q=function(e){return a.createElement(V,{modalName:e.modalName},function(n,t){return a.createElement(y,{onError:n,onComplete:t,contentId:e.contentId,location:e.location,repostInfo:e.repostInfo})})};q.defaultProps=D;var B=function(e){return a.createElement(V,{modalName:e.modalName},function(n,t){return a.createElement(h,{onError:n,onComplete:t,contentId:e.contentId,repostInfo:e.repostInfo})})};B.defaultProps=D;var W=function(e){return a.createElement(V,{modalName:e.modalName},function(n,t){return a.createElement(E,{onError:n,onComplete:t,contentId:e.contentId,repostInfo:e.repostInfo})})};W.defaultProps=D;var G=function(e){return a.createElement(V,{modalName:e.modalName},function(n,t){return a.createElement(j,{onError:n,onComplete:t,contentId:e.contentId,forumInfo:e.forumInfo,repostInfo:e.repostInfo})})};G.defaultProps=D;var Y=function(e){return a.createElement(V,{modalName:e.modalName},function(n,t){return a.createElement(C.a,{onError:n,onComplete:t,contentId:e.contentId,repostInfo:e.repostInfo})})};Y.defaultProps=D;var H=function(e){return a.createElement(V,{modalName:e.modalName},function(n,t){return a.createElement(T,{onError:n,onComplete:t,contentId:e.contentId,repostInfo:e.repostInfo})})};H.defaultProps=D;var K=function(e){return a.createElement(V,{modalName:e.modalName},function(n,t){return a.createElement(x,{onError:n,onComplete:t,contentId:e.contentId,repostInfo:e.repostInfo})})};K.defaultProps=D;var $=function(e){return a.createElement(V,{modalName:e.modalName},function(n,t){return a.createElement(P,{onError:n,onComplete:t,contentId:e.contentId})})};$.defaultProps=D;var Q=function(e){var n=(e.repostInfo||{}).originalType;switch(void 0===n?void 0:n){case"Review":return a.createElement(q,e);case"Photo":return a.createElement(B,e);case"Video":return a.createElement(W,e);case"LinkPost":return a.createElement(z,e);case"ForumPost":return a.createElement(G,e);case"Trip":return a.createElement(Y,e);case"ApiLocationTopic":return a.createElement(H,e);case"ApiTopicPosting":return a.createElement(K,e);default:return null}};Q.defaultProps=D},"./packages/public/iap-reporting/ContentModals.less":function(e,n,t){e.exports={iapTYH1:"public-iap-reporting-ContentModals__iapTYH1--2dRFv",iapTYText:"public-iap-reporting-ContentModals__iapTYText--3ZoQd",iapTYContent:"public-iap-reporting-ContentModals__iapTYContent--3mwLD",iapModalContent:"public-iap-reporting-ContentModals__iapModalContent--3tMyE"}},"./packages/public/iap-reporting/IAPReason.jsx":function(e,n,t){"use strict";var a=t("./packages/common/i18n/i18n.jsx"),o=function(e,n){return{id:e,labelGet:n}},r={DUPLICATE_CONTENT:o(5,function(){return Object(a.unescaped)(Object(a.localize)("social_report_reason_photos2"))}),WRONG_LOCATION:o(6,function(){return Object(a.localize)("report_review_radio_8")}),CLOSED:o(8,function(){return Object(a.localize)("report_review_radio_21")}),OTHER:o(9,function(){return Object(a.localize)("report_review_radio_19")}),INAPPROPRIATE:o(22,function(){return Object(a.localize)("report_review_radio_9")}),LOW_QUALITY:o(31,function(){return Object(a.localize)("iap_low_quality_ffffe4e2")}),COPYRIGHT_VIOLATION:o(32,function(){return Object(a.unescaped)(Object(a.localize)("social_content_report_copyright_violation"))}),BIASED:o(37,function(){return Object(a.localize)("report_review_radio_20")}),PROFANE_EXPLICIT_HATE_SPEECH:o(42,function(){return Object(a.localize)("iap_profane_explicit_or_hate_speech")}),LINK_INCORRECT_OUTDATED_BROKEN:o(43,function(){return Object(a.localize)("iap_link_incorrect_outdated_broken")}),NOT_PERSONAL_EXPERIENCE:o(45,function(){return Object(a.localize)("iap_not_personal_experience")}),FALSE_MISLEADING_INFO:o(46,function(){return Object(a.localize)("iap_false_misleading_info")}),PROMOTES_ILLEGAL_ACTIVITY:o(47,function(){return Object(a.localize)("iap_promote_illegal_activity")}),PARTICIPATION_ILLEGAL_ACTIVITY:o(48,function(){return Object(a.localize)("iap_participate_illegal_activity")}),LINK_ILLEGAL_ACTIVITY:o(50,function(){return Object(a.localize)("iap_link_illegal_activity")}),SELF_PROMOTION_ADVERTISEMENT_SOLICITATION:o(51,function(){return Object(a.localize)("iap_forums_self_promotion")}),OFF_TOPIC:o(52,function(){return Object(a.localize)("iap_forums_off_topic")}),SPAM:o(53,function(){return Object(a.localize)("iap_forums_spam")}),DUPLICATE_FORUM:o(54,function(){return Object(a.localize)("iap_forums_duplicate")}),HARASSMENT:o(55,function(){return Object(a.localize)("iap_forums_harassment")}),PROFANITY_SEX_VIOLENCE_CRIME_HATE:o(56,function(){return Object(a.localize)("iap_forums_profanity_sex_violence_crime_hate")}),MULTIPLE_ACCOUNTS_OR_IMPERSONATION:o(57,function(){return Object(a.localize)("iap_forums_multiple_accounts_or_impersonation")}),PERSONAL_INFO:o(58,function(){return Object(a.localize)("iap_forums_personal_info")}),COPYRIGHTED:o(59,function(){return Object(a.localize)("iap_forums_copyrighted")}),TRIP_COPYRIGHT:o(60,function(){return Object(a.localize)("iap_trips_copyrighted")}),TRIP_NOT_TRAVEL_RELATED:o(61,function(){return Object(a.localize)("iap_trips_not_travel_related")}),TRIP_ERROR_OR_DISAGREE:o(62,function(){return Object(a.localize)("iap_trips_error_or_disagree")})};n.a=r},"./packages/public/iap-reporting/ReportIAPPanel.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/input/text-area/TextArea.jsx"),r=t("./packages/common/i18n/i18n.jsx"),i=t("./packages/public/iap-reporting/comment_box/CommentBox.less"),l=t.n(i),s=function(e){var n=e.label;n||(n=e.required?Object(r.localize)("social_report_level2_6b"):Object(r.unescaped)(Object(r.localize)("social_report_level2_5")));var t,i,s,c=(t=e.required,i=e.minLength,s=e.maxLength,t?a.createElement("div",{className:l.a.numberLabels},Object(r.localize)("ur_rd_0characterminimum",{0:i})," / ",Object(r.localize)("ur_rd_0charactermaximum",{0:s})):null);return a.createElement("div",{className:e.className},a.createElement("span",{className:l.a.textLabel},n),a.createElement(o.a,{className:l.a.commentBox,value:e.value,onChange:e.onChange,maxLength:e.maxLength}),c)};s.defaultProps={required:!1,label:"",minLength:10,maxLength:250,className:null};var c=s,u=t("@ta/styleguide.radio-button"),d=t.n(u),m=t("./packages/public/iap-reporting/radio_button/ReportIAPRadio.less"),p=t.n(m),f=function(e){var n=e.name,t=e.value,o=e.selected,r=e.labelTxt,i=e.onChangeMethod,l=e.children,s=o?p.a.selected:p.a.label;return a.createElement("div",{className:p.a.iap_radio_container},a.createElement(d.a,{name:n,value:t,selected:o,onSelect:i},a.createElement("span",{className:s},r)),a.createElement("div",{className:p.a.children},o&&l||null))},v=t("./packages/public/iap-reporting/submit/SubmitIapVote.jsx"),b=t("@ta/list.navigable-list"),g=t("@ta/common.typeahead"),_=t("@ta/social.button"),k=t("./packages/public/iap-reporting/new_location_flow/SuggestionLocationBox.less"),y=t.n(k);function O(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var h={default:"default",yes:"yes",no:"no"},I=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onYesClick=function(){t.setState({locationKnown:h.yes}),t.props.onYes()},t.onNoClick=function(){t.setState({locationKnown:h.no}),t.props.onNo()},t.onResultSelected=function(e){var n=e.displayValue||"";t.props.onLocationChange(parseInt(e.value,10),n),t.setState({textInputValue:n})},t.textInputChanged=function(e){t.setState({textInputValue:e})},t.typeaheadJsonFetcher=new g.TypeaheadJsonFetcher({interleaved:!0,types:["hotel","attr","eat"],filter:["nobroad"],name_depth:1,details:!0,legacy_format:!0,urlList:!1,max:8}),t.defaultResult={type:"location_id",value:"0"},t.render=function(){var e=t.state.locationKnown===h.yes?"primary":"secondary",n=t.state.locationKnown===h.no?"primary":"secondary";return a.createElement("div",null,a.createElement("div",{className:y.a.doYouKnow},t.props.hintText),a.createElement(_.SocialButtonGroup,null,a.createElement(_.SocialButton,{type:e,onClick:t.onYesClick},Object(r.localize)("common_Yes")),a.createElement(_.SocialButton,{type:n,onClick:t.onNoClick},Object(r.localize)("common_No"))),a.createElement("div",{style:{display:t.state.locationKnown===h.yes?"block":"none"}},a.createElement("div",{className:y.a.enterName},Object(r.localize)("social_report_level3_1")),a.createElement("div",{className:y.a.selectorWrap},a.createElement(g.Selector,{typeaheadTextInputValue:t.state.textInputValue,selectionChanged:t.onResultSelected,fetchers:[t.typeaheadJsonFetcher],textInputChanged:t.textInputChanged,placeHolder:Object(r.localize)("common_25f1"),key:t.props.location.id},function(e,n,t){return a.createElement(b.NavigableList,null,[].concat(O(e.worldwide||[]),O(e.typeaheadjson||[])).map(function(e){return function(o,r){return a.createElement(g.TypeaheadJsonResult,{result:e,tracker:n,onMouseMove:r,onSelection:t,active:o,key:"result="+e.value,includeIcon:!0})}}))})),a.createElement(c,{className:y.a.commentSpace,value:t.props.comment,onChange:t.props.onCommentChange,minLength:10,maxLength:250})),a.createElement("div",{style:{display:t.state.locationKnown===h.no?"block":"none"}},a.createElement(c,{className:y.a.commentSpace,value:t.props.comment,onChange:t.props.onCommentChange,minLength:10,maxLength:250,required:!0,label:Object(r.localize)("social_report_level3_2")})))},t.state={locationKnown:h.default,textInputValue:e.location.label},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),n}(),E=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var N=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),E(n,[{key:"componentDidMount",value:function(){this.props.onMountMethod()}},{key:"render",value:function(){return this.props.children}}]),n}();function j(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var C=function(e){return!1},S=function(e){return!0},T=function(e){return function(n){return n.comment.trim().length>e}},w=function(e){return e.suggestedLocation&&e.suggestedLocation.id>0},x=T,R={id:0,label:""},P=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=o=j(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={selectedIAPReason:void 0,comment:"",suggestedLocation:R,isStateValid:function(e){return!1}},o.getSubmissionState=function(){return!!o.state.isStateValid&&(!!o.state.selectedIAPReason&&(!!o.state.isStateValid(o.state)&&{iapReason:o.state.selectedIAPReason,comment:o.state.comment,suggestedLocationId:o.state.suggestedLocation.id}))},o.setNewReason=function(e,n){o.setState({selectedIAPReason:e,isStateValid:n,comment:"",suggestedLocation:R})},o.setValidation=function(e){o.setState({isStateValid:e})},o.setCommentFromCommentBoxEvent=function(e){o.setState({comment:e.target.value})},o.setLocation=function(e,n){var t={id:e,label:n};o.setState({suggestedLocation:t})},o.resetSubmissionState=function(){o.setState({comment:"",suggestedLocation:R})},o.createSubmitButton=function(){return a.createElement(v.b,{contentId:o.props.contentId,contentType:o.props.contentType,userId:o.props.userId,csrfToken:o.props.csrfToken,submissionState:o.getSubmissionState(),onComplete:o.props.onComplete,onError:o.props.onError,forumInfo:o.props.forumInfo,repostInfo:o.props.repostInfo})},o.createRadioWithSuggestionBox=function(e,n){return o.createRadioButtonWithChildren(e.id,e.labelGet(),C,a.createElement(I,{hintText:n,comment:o.state.comment,onCommentChange:o.setCommentFromCommentBoxEvent,location:o.state.suggestedLocation,onLocationChange:o.setLocation,onYes:function(){o.setValidation(w),o.resetSubmissionState()},onNo:function(){o.setValidation(x),o.resetSubmissionState()}}))},o.createRadio=function(e){return o.createRadioButtonWithChildren(e.id,e.labelGet(),S,null)},o.createRadioWithOptionalComment=function(e){return o.createRadioButtonWithChildren(e.id,e.labelGet(),S,a.createElement(c,{value:o.state.comment,onChange:o.setCommentFromCommentBoxEvent,maxLength:250}))},o.createRadioWithRequiredComment=function(e){return o.createRadioButtonWithChildren(e.id,e.labelGet(),T(10),a.createElement(c,{value:o.state.comment,onChange:o.setCommentFromCommentBoxEvent,required:!0,minLength:10,maxLength:500}))},o.createRadioWithContentNoSubmit=function(e,n){return o.createRadioButtonWithChildren(e.id,e.labelGet(),C,n)},o.createRadioButtonWithChildren=function(e,n,t,r){var i=""+e;return a.createElement(f,{name:"iapRadio",selected:e===o.state.selectedIAPReason,value:i,labelTxt:n,onChangeMethod:function(){o.setNewReason(e,t)}},r)},o.createDefaultReasonWithRequiredComment=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return o.createDefaultReasonWithChildren(e.id,T(n),a.createElement(c,{value:o.state.comment,onChange:o.setCommentFromCommentBoxEvent,required:!0,minLength:n,maxLength:500}))},o.createDefaultReasonWithChildren=function(e,n,t){return a.createElement(N,{onMountMethod:function(){o.setNewReason(e,n)}},t)},o.render=function(){return a.createElement(a.Fragment,null,a.createElement("div",null,o.props.children(o)),o.createSubmitButton())},j(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),n}();n.a=P},"./packages/public/iap-reporting/comment_box/CommentBox.less":function(e,n,t){e.exports={commentBox:"public-iap-reporting-comment_box-CommentBox__commentBox--9JK-c",textLabel:"public-iap-reporting-comment_box-CommentBox__textLabel--so0St",numberLabels:"public-iap-reporting-comment_box-CommentBox__numberLabels--2xyds"}},"./packages/public/iap-reporting/content/Trips.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./node_modules/react-redux/es/index.js"),r=t("./packages/common/state/state.jsx"),i=t("./packages/common/i18n/i18n.jsx"),l=t("./packages/public/iap-reporting/content/base.jsx"),s=t("./packages/public/iap-reporting/ReportIAPPanel.jsx"),c=t("./packages/public/iap-reporting/IAPReason.jsx"),u=t("./packages/public/iap-reporting/submit/SubmitIapVote.jsx"),d=function(e){var n=Object(r.getStore)().getState().i18n.ietfLocale.replace("_","-").toLocaleLowerCase(),t=Object(i.unescaped)(Object(i.localize)("trip_level_2_disagree_or_error",{sUrl:"https://www.tripadvisorsupport.com/hc/"+n+"/articles/360008024254"}));return a.createElement(s.a,{csrfToken:e.csrfToken,userId:e.userId,contentId:e.contentId,contentType:u.a.TRIP,onError:e.onError,onComplete:e.onComplete,repostInfo:e.repostInfo},function(e){return a.createElement(a.Fragment,null,e.createRadioWithOptionalComment(c.a.PROFANE_EXPLICIT_HATE_SPEECH),e.createRadioWithOptionalComment(c.a.PROMOTES_ILLEGAL_ACTIVITY),e.createRadioWithOptionalComment(c.a.TRIP_COPYRIGHT),e.createRadioWithOptionalComment(c.a.TRIP_NOT_TRAVEL_RELATED),e.createRadioWithContentNoSubmit(c.a.TRIP_ERROR_OR_DISAGREE,a.createElement("span",null,t)),e.createRadioWithRequiredComment(c.a.OTHER))})};d.defaultProps=l.a,n.a=Object(o.connect)(function(e,n){return Object(l.d)(e)})(d)},"./packages/public/iap-reporting/content/base.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"d",function(){return i}),t.d(n,"c",function(){return a}),t.d(n,"b",function(){return o});var a=function(e){if("string"==typeof e)return e},o=function(e){if("number"==typeof e)return e},r={repostInfo:void 0},i=function(e){return{csrfToken:e.auth.csrfToken,userId:e.auth.loggedInUserId}}},"./packages/public/iap-reporting/new_location_flow/SuggestionLocationBox.less":function(e,n,t){e.exports={doYouKnow:"public-iap-reporting-new_location_flow-SuggestionLocationBox__doYouKnow--TPxM9",enterName:"public-iap-reporting-new_location_flow-SuggestionLocationBox__enterName--sUZqy",commentSpace:"public-iap-reporting-new_location_flow-SuggestionLocationBox__commentSpace--5kTPl",selectorWrap:"public-iap-reporting-new_location_flow-SuggestionLocationBox__selectorWrap--2tYW-"}},"./packages/public/iap-reporting/radio_button/ReportIAPRadio.less":function(e,n,t){e.exports={selected:"public-iap-reporting-radio_button-ReportIAPRadio__selected--2eHfs",children:"public-iap-reporting-radio_button-ReportIAPRadio__children--2Mrhe",iap_radio_container:"public-iap-reporting-radio_button-ReportIAPRadio__iap_radio_container--8vckQ",label:"public-iap-reporting-radio_button-ReportIAPRadio__label--37KqO"}},"./packages/public/iap-reporting/submit/SubmitContentVote.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"submitIAPVoteV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iapReasonId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"comments"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitIAPVoteV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"contentType"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"iapReasonId"},value:{kind:"Variable",name:{kind:"Name",value:"iapReasonId"}}},{kind:"Argument",name:{kind:"Name",value:"comments"},value:{kind:"Variable",name:{kind:"Name",value:"comments"}}}],directives:[]}]}}],loc:{start:0,end:290}};t.loc.source={body:"mutation submitIAPVoteV2(\n  $contentId: Long!\n  $contentType: String!\n  $userId: String!\n  $iapReasonId: Int!\n  $comments: String!\n) {\n  submitIAPVoteV2(\n    contentId: $contentId\n    contentType: $contentType\n    userId: $userId\n    iapReasonId: $iapReasonId\n    comments: $comments\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/public/iap-reporting/submit/SubmitIapVote.jsx":function(e,n,t){"use strict";t.d(n,"b",function(){return E}),t.d(n,"a",function(){return b});var a=t("./node_modules/react/index.js"),o=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),r=t("./node_modules/react-redux/es/index.js"),i=t("./packages/styleguide/button/Button.jsx"),l=t("./packages/common/i18n/i18n.jsx"),s=t("./packages/public/iap-reporting/content/base.jsx"),c=t("./packages/public/iap-reporting/submit/SubmitContentVote.gql"),u=t.n(c),d=t("./packages/public/iap-reporting/submit/SubmitProfileVote.gql"),m=t.n(d),p=t("./packages/public/iap-reporting/submit/SubmitIapVote.less"),f=t.n(p),v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},b=Object.freeze({FORUM:"FORUMPOST",USERREVIEW:"USERREVIEW",MEDIA:"MEDIA",TRIP:"2",LINK:"1",REPOST:"3",PROFILE:"4",LOCATION_TOPIC:"LOCATION_TOPIC",LOCATION_POSTING:"LOCATION_POSTING"}),g=new Set([b.USERREVIEW,b.MEDIA,b.LOCATION_TOPIC,b.LOCATION_POSTING]),_=new Set([b.FORUM]),k=new Set([b.LINK,b.TRIP]),y=new Set([b.PROFILE]),O=function(e){return fetch(e,{cache:"no-cache",credentials:"same-origin",method:"POST",redirect:"follow"})},h=function(e,n,t){if(e.submissionState){var a=void 0,o=void 0;e.repostInfo?(a=e.repostInfo.originalId,o=Object(s.b)(e.contentId)):a=e.contentId;var r=v({},e,{contentId:a});o&&n({contentId:o,contentType:b.REPOST,userId:r.userId,iapReasonId:r.submissionState.iapReason,comments:r.submissionState.comment}),g.has(r.contentType)?function(e){var n=new URLSearchParams;return n.set("token",e.csrfToken),n.set("contentId",""+(Object(s.b)(e.contentId)||"")),n.set("voteContentType",e.contentType),n.set("comment",e.submissionState.comment),n.set("reasonId",e.submissionState.iapReason),n.set("suggestedLocationId",e.submissionState.suggestedLocationId),O("/ReportIAP?action=reportIAP&step=SAVE&"+n.toString())}(r).then(function(){r.onComplete()}).catch(function(){r.onError()}):_.has(r.contentType)?function(e){var n=e.forumInfo||{},t=n.forumId,a=void 0===t?-1:t,o=n.forumTopicId,r=void 0===o?-1:o,i=new URLSearchParams;return i.set("token",e.csrfToken),i.set("fp",""+(Object(s.b)(e.contentId)||"")),i.set("ff",""+a),i.set("ft",""+r),i.set("reason",e.submissionState.iapReason),O("/ForumVote?"+i.toString())}(r).then(function(){r.onComplete()}).catch(function(){r.onError()}):k.has(r.contentType)?n({contentId:Object(s.b)(r.contentId),contentType:r.contentType,userId:r.userId,iapReasonId:r.submissionState.iapReason,comments:r.submissionState.comment}):y.has(r.contentType)&&t({reportedUserId:Object(s.c)(r.contentId),userId:r.userId,iapReasonId:r.submissionState.iapReason,comments:r.submissionState.comment})}},I=function(e){var n=f.a.wrapper;e.sticky&&(n+=" "+f.a.sticky);var t=e.sticky?a.createElement("div",{className:f.a.stickySpacer},a.createElement(i.a,{disabled:!0})):null;return a.createElement(a.Fragment,null,t,a.createElement("div",{className:n},a.createElement(o.Mutation,{mutation:m.a,onCompleted:e.onComplete,onError:e.onError},function(n){return a.createElement(o.Mutation,{mutation:u.a,onCompleted:e.onComplete,onError:e.onError},function(t){return a.createElement(i.a,{type:"primary",disabled:!1===e.submissionState,onClick:function(){return h(e,function(e){return t({variables:e})},function(e){return n({variables:e})})}},Object(l.localize)("common_Submit"))})})))},E=Object(r.connect)(function(e){return{sticky:"MOBILE"===e.meta.device.viewportCategory}})(I);I.defaultProps={forumInfo:void 0,repostInfo:void 0}},"./packages/public/iap-reporting/submit/SubmitIapVote.less":function(e,n,t){e.exports={wrapper:"public-iap-reporting-submit-SubmitIapVote__wrapper--2PTeH",stickySpacer:"public-iap-reporting-submit-SubmitIapVote__stickySpacer--3oClW",sticky:"public-iap-reporting-submit-SubmitIapVote__sticky--1KUd-"}},"./packages/public/iap-reporting/submit/SubmitProfileVote.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"submitProfileIAPVote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reportedUserId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iapReasonId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"comments"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitProfileIAPVote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"reportedUserId"},value:{kind:"Variable",name:{kind:"Name",value:"reportedUserId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"iapReasonId"},value:{kind:"Variable",name:{kind:"Name",value:"iapReasonId"}}},{kind:"Argument",name:{kind:"Name",value:"comments"},value:{kind:"Variable",name:{kind:"Name",value:"comments"}}}],directives:[]}]}}],loc:{start:0,end:263}};t.loc.source={body:"mutation submitProfileIAPVote(\n  $reportedUserId: String!\n  $userId: String!\n  $iapReasonId: Int!\n  $comments: String!\n) {\n  submitProfileIAPVote(\n    reportedUserId: $reportedUserId\n    userId: $userId\n    iapReasonId: $iapReasonId\n    comments: $comments\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/CheckUsernameQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckUsernameQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkUsername"},arguments:[{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:103}};t.loc.source={body:"query CheckUsernameQuery($username: String!) {\n  checkUsername(username: $username) {\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/ConfirmUsername.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),r=t("./node_modules/react-redux/es/index.js"),i=t("./packages/styleguide/loading/LoadingSpinner.jsx"),l=t("./packages/common/i18n/i18n.jsx"),s=t("./packages/common/logging/logging.jsx"),c=t.n(s),u=t("./packages/input/text-input/TextInput.jsx"),d=t("@ta/social.button"),m=t.n(d),p=t("./packages/common/classnames/classnames.jsx"),f=t("./packages/common/tracking/tracking.jsx"),v=t.n(f),b=t("./node_modules/lodash/debounce.js"),g=t.n(b),_=t("./packages/social/confirm-username/ConfirmUsername.less"),k=t.n(_),y=t("./packages/social/confirm-username/UpdateInsightProfileCardAction.gql"),O=t.n(y),h=t("./packages/social/confirm-username/SubmitOnMount.jsx"),I=new Set,E=Object(r.connect)(function(e){return{userId:e.auth.loggedInUserId,taUnique:e.meta.taUnique}})(function(e){var n=e.userId,t=e.taUnique,r=e.cardId,i=e.cardAction;return I.has(r)?null:(I.add(r),a.createElement(o.Mutation,{mutation:O.a},function(e){var o={userId:n,taUnique:t,cardId:r,cardAction:i};return a.createElement(h.a,{submit:function(){e({variables:o})}})}))}),N=t("./packages/social/confirm-username/ScreenCompleteMutation.gql"),j=t.n(N),C=t("./packages/social/confirm-username/UsernameValidationMutation.gql"),S=t.n(C),T=t("./packages/social/confirm-username/ConfirmUsernameQuery.gql"),w=t.n(T),x=t("./packages/social/confirm-username/CheckUsernameQuery.gql"),R=t.n(x);t.d(n,"b",function(){return V});var P=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var L="Social_onboarding_unknown",U=/^[a-zA-Z]+\d{11}$/,M=function(e){return e&&"string"==typeof e&&e.match(U)},V=function(e){return e.states.find(function(e){return"ONBOARDING_CONFIRM_USER"===e.id&&"COMPLETED"===e.state})},F=function(e){return e.accepted?null:a.createElement("div",{className:k.a.terms},Object(l.unescaped)(Object(l.localize)("social_legal_tou_returnmem_confirm",{0:"/pages/terms.html",1:k.a.link})))},D=function(e){var n=e.usernameMutationVars,t=e.screenCompleteMutationVars,r=e.onUsernameValid,i=e.screenCompleteCallback,l=e.children,s=e.textInputIsInvalid;return a.createElement(o.Mutation,{mutation:j.a,refetchQueries:[{query:w.a,variables:{userId:n.userId}}]},function(e){return a.createElement(o.Mutation,{mutation:S.a,onCompleted:function(n){r(n)&&(e({variables:t}),i())}},function(e){return a.createElement("form",{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},onSubmit:function(t){t.preventDefault&&t.preventDefault(),s()||e({variables:n})}},l)})})};D.defaultProps={children:null};var z=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onChange=function(e,n){t.state.dataInput=!0,t.setState(A({},e,n)),"username"===e&&"string"==typeof n&&(t.clearErrorState("username"),t.debouncedHandleUsernameChange(n))},t.setErrorState=function(e){var n=t.state.name?t.state.name:Object(l.localize)("onboarding_social_name_screen_display_name_field_v2"),o=t.state.username?t.state.username:Object(l.localize)("social_edit_profile_username");switch(e){case"USERNAME_TOO_SHORT":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_too_short",{0:o})),"username");break;case"USERNAME_TOO_LONG":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_too_long",{0:o})),"username");break;case"USERNAME_INVALID_CHARACTERS":t.setError(Object(l.unescaped)(Object(l.localize)("profile_update_error_username_invalid_characters")),"username");break;case"USERNAME_ALREADY_EXISTS":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_already_exists",{0:o})),"username");break;case"USERNAME_CONTAINS_PROFANITY":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_contains_profanity")),"username");break;case"USERNAME_CONTAINS_TA_WORDS":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_contains_ta_words")),"username");break;case"DISPLAYNAME_TOO_SHORT":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("mobile_profile_update_error_display_name_too_short")),"displayname");break;case"DISPLAYNAME_TOO_LONG":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_display_name_too_long",{0:n})),"displayname");break;case"DISPLAYNAME_CONTAINS_PROFANITY":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_contains_profanity")),"displayname");break;case"DISPLAYNAME_CONTAINS_TA_WORDS":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_contains_ta_words")),"displayname");break;default:c.a.error("Unknown username edit error: "+e),t.setError(a.createElement(a.Fragment,null,Object(l.localize)("social_loading_error_1")),"username")}},t.setError=function(e,n){t.setState({error:{message:e,field:n,advisory:!1}})},t.setAdvisory=function(e,n){t.setState({error:{message:e,field:n,advisory:!0}})},t.clearErrorState=function(e){t.setAdvisory(null,e)},t.hasError=function(e){return t.state.error&&t.state.error.field===e},t.isAdvisory=function(){return t.state.error&&t.state.error.advisory},t.newUser=function(){return!t.props.displayName||!t.props.username||M(t.props.username)},t.handleUsernameChange=function(e){t.props.client.query({query:R.a,variables:{username:e},fetchPolicy:"no-cache"}).then(function(e){var n=e.data.checkUsername.status;"OK"!==n?"USERNAME_IS_SAME"===n?t.clearErrorState("username"):t.setErrorState(n):t.setAdvisory(a.createElement("span",{className:k.a.advisory},Object(l.localize)("social_username_available")),"username")})},t.debouncedHandleUsernameChange=g()(t.handleUsernameChange,500),t.state={name:M(e.username)?"":e.displayName,username:M(e.username)?"":e.username,error:null,dataInput:!1},L=e.trackingModule,t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),P(n,[{key:"componentDidMount",value:function(){var e=M(this.props.username);v()({module:L,action:"namescreen_displayname",context:this.props.displayName&&!e?"prefilled":"blank"}),v()({module:L,action:"namescreen_username",context:this.props.username&&!e?"prefilled":"blank"})}},{key:"render",value:function(){var e=this;return a.createElement(D,{usernameMutationVars:{userId:this.props.userId,displayName:this.props.displayName!==this.state.name?this.state.name:null,username:this.props.username!==this.state.username?this.state.username:null},screenCompleteMutationVars:{userId:this.props.userId,taUnique:this.props.taUnique,cardId:"ONBOARDING_CONFIRM_USER",cardState:"COMPLETED",newlyAccepted:!this.props.acceptedTou},screenCompleteCallback:function(){e.props.onComplete(e.state.dataInput)},onUsernameValid:function(n){return"OK"===n.updateMemberProfile.status?(v()({module:L,action:"namescreen_complete_success",context:""}),!0):(e.setErrorState(n.updateMemberProfile.status),v()({module:L,action:"namescreen_submit_error",context:n.updateMemberProfile.status}),!1)},textInputIsInvalid:function(){return e.state.name?!e.state.username&&(e.setErrorState("USERNAME_TOO_SHORT"),!0):(e.setErrorState("DISPLAYNAME_TOO_SHORT"),!0)}},a.createElement(a.Fragment,null,a.createElement(E,{cardId:"ONBOARDING_CONFIRM_USER",cardAction:"SHOW"}),a.createElement("div",{className:k.a.contentWrapper},a.createElement("div",{className:k.a.title},this.newUser()?Object(l.localize)("onboarding_social_name_screen_new_header"):Object(l.localize)("onboarding_social_name_screen_returning_header")),a.createElement("div",{className:"ui_label_group"},a.createElement("span",{className:k.a.label},Object(l.localize)("onboarding_social_name_screen_display_name_field_v2")),a.createElement("span",{className:k.a.helperText},Object(l.localize)("onboarding_social_name_screen_display_name_helper_text_period_814")),a.createElement(u.a,{maxLength:40,value:this.state.name||"",className:Object(p.a)(k.a.editInput,A({},k.a.errorInputBox,this.hasError("displayname"))),onChange:function(n,t){return e.onChange("name",t)},placeholder:Object(l.localize)("onboarding_social_name_screen_display_name_ghost_text")}),Object(l.unescaped)("&nbsp;"),this.state.error&&this.hasError("displayname")&&a.createElement("span",{className:k.a.errorLabel},this.state.error.message)),a.createElement("div",{className:"ui_label_group"},a.createElement("span",{className:k.a.label},Object(l.localize)("social_edit_profile_username")),a.createElement("span",{className:k.a.helperText},Object(l.localize)("onboarding_social_name_screen_username_helper_text_period_814")),a.createElement("span",{className:k.a.username},a.createElement(u.a,{maxLength:20,value:this.state.username||"",className:Object(p.a)(k.a.usernameInput,k.a.editInput,A({},k.a.errorInputBox,this.hasError("username")&&!this.isAdvisory())),onChange:function(n,t){return e.onChange("username",t)},placeholder:Object(l.localize)("onboarding_social_name_screen_username_ghost_text")}),Object(l.unescaped)("&nbsp;"),this.state.error&&this.hasError("username")&&a.createElement("span",{className:k.a.errorLabel},this.state.error.message))),a.createElement(F,{accepted:this.props.acceptedTou}),a.createElement("div",{className:k.a.buttonContainer},a.createElement(f.Track,{click:{module:L,action:"namescreen_confirm_click",context:""},visible:{module:L,action:"namescreen_shown",context:""}},a.createElement(m.a,{type:"primary",size:"fullwidth"},Object(l.localize)("onboarding_social_name_screen_cta")))))))}}]),n}();n.a=Object(r.connect)(function(e){return{userId:e.auth.loggedInUserId,taUnique:e.meta.taUnique}})(function(e){return a.createElement(o.Query,{query:w.a,variables:{userId:e.userId},fetchPolicy:"network-only"},function(n){var t=n.loading,r=n.data,s=n.error,u=n.refetch;if(s)return c.a.error("Error in ConfirmUsername query: "+s),v()({module:L,action:"confirmusername_query_error_shown",context:e.userId}),a.createElement("div",{className:k.a.ui_error},Object(l.localize)("compliment_9bd"),a.createElement("div",{className:k.a.ui_error_button},a.createElement(m.a,{type:"primary",onClick:function(){return u()}},Object(l.localize)("link_uploader_refresh")),a.createElement(m.a,{type:"primary",onClick:e.closerForError},Object(l.localize)("btn_cancel"))));if(t)return a.createElement("div",{className:k.a.spinner},a.createElement(i.a,null));if(r){var d=r.getTermOfUseAcceptanceInfo&&r.getTermOfUseAcceptanceInfo.accepted,p=r.insightProfile&&r.insightProfile.uiCardsState;if(p&&V(p)&&d)return e.onComplete(!1),null;var f=r.memberProfiles[0],b=f?f.displayName:"",g=f?f.username:"";return a.createElement(o.ApolloConsumer,null,function(n){return a.createElement(z,{userId:e.userId,taUnique:e.taUnique,displayName:b,username:g,onComplete:e.onComplete,trackingModule:e.trackingModule,acceptedTou:d,client:n})})}return null})})},"./packages/social/confirm-username/ConfirmUsername.less":function(e,n,t){e.exports={contentWrapper:"social-confirm-username-ConfirmUsername__contentWrapper--3dBff",title:"social-confirm-username-ConfirmUsername__title--1S1KY",label:"social-confirm-username-ConfirmUsername__label--j1lup",terms:"social-confirm-username-ConfirmUsername__terms--2A-Lt",link:"social-confirm-username-ConfirmUsername__link--1xodC",spinner:"social-confirm-username-ConfirmUsername__spinner--2qYGC",username:"social-confirm-username-ConfirmUsername__username--2E0nZ",usernameInput:"social-confirm-username-ConfirmUsername__usernameInput--j7Nkq",editInput:"social-confirm-username-ConfirmUsername__editInput--2YaOq",errorInputBox:"social-confirm-username-ConfirmUsername__errorInputBox--2Jq5w",errorLabel:"social-confirm-username-ConfirmUsername__errorLabel--NHCYk",advisory:"social-confirm-username-ConfirmUsername__advisory--1OLFY",helperText:"social-confirm-username-ConfirmUsername__helperText--38Jus",buttonContainer:"social-confirm-username-ConfirmUsername__buttonContainer--Rhlcv",ui_error:"social-confirm-username-ConfirmUsername__ui_error--3erWq",ui_error_button:"social-confirm-username-ConfirmUsername__ui_error_button--3hamo"}},"./packages/social/confirm-username/ConfirmUsernameQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConfirmUsernameQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberProfiles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userIds"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insightProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uiCardsState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"getTermOfUseAcceptanceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:273}};t.loc.source={body:"query ConfirmUsernameQuery($userId: String!) {\n  memberProfiles(userIds: [{ id: $userId }]) {\n    displayName\n    username\n  }\n  insightProfile {\n    uiCardsState {\n      states {\n        id\n        state\n      }\n    }\n  }\n  getTermOfUseAcceptanceInfo {\n    accepted\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/ScreenCompleteMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConfirmUsernameComplete"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taUnique"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardTypeEnumInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardState"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardStateEnumInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newlyAccepted"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateInsightProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"request"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"taUnique"},value:{kind:"Variable",name:{kind:"Name",value:"taUnique"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"profile"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uiCardsState"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"ObjectField",name:{kind:"Name",value:"state"},value:{kind:"Variable",name:{kind:"Name",value:"cardState"}}}]}]}}]}}]}}]}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"acceptTermsOfUse"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"newlyAccepted"}}}]}]}]}}],loc:{start:0,end:398}};t.loc.source={body:"mutation ConfirmUsernameComplete(\n  $userId: String!\n  $taUnique: String\n  $cardId: CardTypeEnumInput\n  $cardState: CardStateEnumInput\n  $newlyAccepted: Boolean!\n) {\n  updateInsightProfile(\n    request: {\n      id: { userId: $userId, taUnique: $taUnique }\n      profile: { uiCardsState: { states: [{ id: $cardId, state: $cardState }] } }\n    }\n  )\n  acceptTermsOfUse @include(if: $newlyAccepted)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/SubmitOnMount.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var i=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=a=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.componentDidMount=function(){a.props.submit()},r(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),o(n,[{key:"render",value:function(){return null}}]),n}();n.a=i},"./packages/social/confirm-username/UpdateInsightProfileCardAction.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateInsightProfile"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taUnique"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CardTypeEnumInput"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardAction"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActionTypeEnumInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateInsightProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"request"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"taUnique"},value:{kind:"Variable",name:{kind:"Name",value:"taUnique"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"profile"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uiCardActions"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"ObjectField",name:{kind:"Name",value:"cardAction"},value:{kind:"Variable",name:{kind:"Name",value:"cardAction"}}}]}]}}]}}]}}],directives:[]}]}}],loc:{start:0,end:323}};t.loc.source={body:"mutation updateInsightProfile(\n  $userId: String\n  $taUnique: String!\n  $cardId: CardTypeEnumInput!\n  $cardAction: ActionTypeEnumInput!\n) {\n  updateInsightProfile(\n    request: {\n      id: { userId: $userId, taUnique: $taUnique }\n      profile: { uiCardActions: [{ cardId: $cardId, cardAction: $cardAction }] }\n    }\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/UsernameValidationMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UsernameValidation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"displayName"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateMemberProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"displayName"}}},{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:263}};t.loc.source={body:"mutation UsernameValidation($userId: String!, $displayName: String, $username: String) {\n  updateMemberProfile(userId: $userId, displayName: $displayName, username: $username) {\n    status\n    memberProfile {\n      id\n      displayName\n      username\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/failover/FailoverMessage.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/common/i18n/i18n.jsx"),r=t("./packages/social/failover/FailoverMessage.less"),i=t.n(r);n.a=function(){return a.createElement("div",{className:i.a.container},a.createElement("p",{className:i.a.heading},Object(o.localize)("social_readonly_message_main")," "),a.createElement("p",{className:i.a.body},Object(o.localize)("social_readonly_message_subtext")," "))}},"./packages/social/failover/FailoverMessage.less":function(e,n,t){e.exports={container:"social-failover-FailoverMessage__container--1_AV5",heading:"social-failover-FailoverMessage__heading--vxjBu",body:"social-failover-FailoverMessage__body--_U4tV"}},"./packages/social/login-gate/AuthGated.jsx":function(e,n,t){"use strict";(function(e){var a=t("./node_modules/react/index.js"),o=t("./node_modules/react-redux/es/index.js"),r=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),i=t("./packages/common/webview/webview.jsx"),l=t("@ta/tracking.interactions"),s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},c=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var d=function(n){function t(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(t,a["Component"]),c(t,[{key:"formatInteraction",value:function(e){var n=this.props.tracking;return n?{variables:{interaction:u({},n.source,u({},e,s({element:n.element},n.attributes||{})))}}:null}},{key:"renderInner",value:function(n){var t=this.props,a=t.loggedInUserId,o=t.pid,r=t.flowOrigin,l=t.flow,s=t.extraQueryParams,c=t.onClose;return(0,t.children)(function(){return new Promise(function(t){if(a)t();else if(i.a.isNativeWebview())i.a.showRegistration(!1);else{var u={flow:l||"CORE_COMBINED",pid:o||-1,userRequestedForce:!0,extraQueryParams:s||{},locationId:window.require("page-model").GEO_ID,onSuccess:function(e){n("modalSuccess"),t(e)},onClose:c};r&&(u.extraQueryParams.flowOrigin=r),e.require(["trjs!ta/registration/RegOverlay"],function(e){n("elementClick"),e.showRegOverlayByPageModel(null,null,window.require("page-model"),u)})}})},a)}},{key:"render",value:function(){var e=this;return a.createElement(r.Mutation,{mutation:l.LogInteractionV4},function(n){return e.renderInner(function(t){var a=e.formatInteraction(t);a&&n(a)})})}}]),t}();n.a=Object(o.connect)(function(e,n){return s({loggedInUserId:e.auth.loggedInUserId},n)})(d)}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./packages/social/login-gate/ReadonlyMessageOverlay.less":function(e,n,t){e.exports={container:"social-login-gate-ReadonlyMessageOverlay__container--2soKz",bodyContent:"social-login-gate-ReadonlyMessageOverlay__bodyContent--1Mt3g"}},"./packages/social/login-gate/SocialLoginGate.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./node_modules/react-redux/es/index.js"),r=t("./packages/common/features/features.jsx"),i=t("./packages/social/failover/FailoverMessage.jsx"),l=t("./packages/social/login-gate/AuthGated.jsx"),s=t("./packages/social/login-gate/TermsOfUseOverlay.jsx"),c=t("@ta/overlays.fullscreen-overlay"),u=t.n(c),d=t("@ta/overlays.pieces"),m=t("./packages/events/keyboard-event-listener/KeyboardEventListener.jsx"),p=t("./packages/social/login-gate/ReadonlyMessageOverlay.less"),f=t.n(p),v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},b={position:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},g=function(e){var n=a.createElement("div",{className:f.a.container},a.createElement("div",{className:f.a.bodyContent},e.children),a.createElement(d.CloseX,{close:e.closer}));return e.fullscreen?a.createElement(a.Fragment,null,a.createElement(u.a,null,n)):a.createElement(a.Fragment,null,a.createElement(d.BlockScroll,null),a.createElement(d.Backdrop,{close:e.closer},a.createElement(d.Overlay,b,n),a.createElement(m.a,{keyName:"Escape",callback:e.closer})))};g.defaultProps={fullscreen:!1,onClose:null};var _=Object(o.connect)(function(e,n){return v({},n,{fullscreen:n.fullscreenAlways||"MOBILE"===e.meta.device.viewportCategory})})(g),k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},y=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function O(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var h=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=a=O(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(r))),a.state={openTermsOfUseOverlay:!1,onSuccess:function(){},forceTermsOfUse:!1,openReadonlyOverlay:!1},a.closeTermsOfUseOverlay=function(){a.setState({openTermsOfUseOverlay:!1,onSuccess:function(){}})},a.openReadonlyOverlay=function(){a.setState({openReadonlyOverlay:!0})},a.closeReadonlyOverlay=function(){a.setState({openReadonlyOverlay:!1})},O(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),y(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.pid,o=n.flowOrigin,c=n.children,u=n.onClose,d=n.tracking,m=n.isReadonlyMode;return a.createElement(l.a,{pid:t,flowOrigin:o,extraQueryParams:{social:!0},onClose:u,tracking:d},function(n,t){var o=m?function(){return e.openReadonlyOverlay(),Promise.reject()}:Object(r.featureIsEnabled)("social_2018_login_gate")?function(){return n().then(function(n){var t=n&&(n.hasCreatedMember||!n.hasAcceptedTermsOfUse);return n&&!t||Object(r.featureIsEnabled)("social_2018_login_gate_skip_terms_of_service")?Promise.resolve():new Promise(function(n){e.setState({openTermsOfUseOverlay:!0,forceTermsOfUse:t,onSuccess:function(){n(),e.setState({openTermsOfUseOverlay:!1,onSuccess:function(){}})}})})})}:function(){return Promise.resolve()};return a.createElement(a.Fragment,null,c(o,t),e.state.openTermsOfUseOverlay&&a.createElement(s.a,{onComplete:e.state.onSuccess,forceTermsOfUse:e.state.forceTermsOfUse,onClose:e.closeTermsOfUseOverlay}),e.state.openReadonlyOverlay&&a.createElement(_,{closer:e.closeReadonlyOverlay},a.createElement(i.a,null)))})}}]),n}();h.defaultProps={pid:-1,flowOrigin:void 0,tracking:void 0};n.a=Object(o.connect)(function(e,n){return k({isReadonlyMode:e.meta.readonlyMode},n)})(h)},"./packages/social/login-gate/SocialOpener.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("@ta/overlays.managers"),r=t("./packages/social/login-gate/SocialLoginGate.jsx"),i=function(e){var n=e.name,t=e.local,i=e.pid,l=e.children;return a.createElement(r.a,{pid:i},function(e){return a.createElement(o.Opener,{name:n,local:t},function(n,t){return l(function(){e().then(n)},t)})})};i.defaultProps={local:!1,pid:void 0},n.a=i},"./packages/social/login-gate/TermsOfUseOverlay.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./node_modules/react-redux/es/index.js"),r=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),i=t("./packages/common/logging/logging.jsx"),l=t.n(i),s=t("@ta/overlays.fullscreen-overlay"),c=t.n(s),u=t("@ta/overlays.managers"),d=t("@ta/overlays.pieces"),m=t("./packages/social/confirm-username/ConfirmUsername.jsx"),p=t("./packages/social/login-gate/TermsOverlayQuery.gql"),f=t.n(p),v=t("./packages/social/login-gate/TermsOfUseOverlay.less"),b=t.n(v),g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_={position:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},k=function(e){var n=e.onComplete,t=e.children;return a.createElement(r.Query,{query:f.a},function(e){var a=e.loading,o=e.data,r=e.error;if(a)return null;if(o){var i=o.getTermOfUseAcceptanceInfo&&o.getTermOfUseAcceptanceInfo.accepted,s=o.insightProfile&&o.insightProfile.uiCardsState;return i&&s&&Object(m.b)(s)?(n(),null):t}return r&&l.a.warn("Error in SkipIfCompleted query: "+r),l.a.warn("TermsOfUseOverlay was shown due to lack of sufficient information or a query error."),t})},y=function(e){var n=function(n){return a.createElement("div",{className:b.a.container},a.createElement("div",{className:b.a.bodyContent},a.createElement(m.a,{onComplete:e.onComplete,closerForError:n,trackingModule:"Social_onboarding_gatedaction"})))},t=function(){return a.createElement(u.Closer,null,function(t){var o=function(){t(),e.onClose&&e.onClose()};return e.fullscreen?a.createElement(a.Fragment,null,a.createElement(c.a,null,n(o))):a.createElement(a.Fragment,null,a.createElement(d.BlockScroll,null),a.createElement(d.Backdrop,{close:function(){}},a.createElement(d.Overlay,_,n(o))))})};return e.forceTermsOfUse?a.createElement(t,null):a.createElement(k,{onComplete:e.onComplete},a.createElement(t,null))};y.defaultProps={fullscreen:!1,onClose:null,forceTermsOfUse:!1};var O=Object(o.connect)(function(e,n){return g({},n,{fullscreen:n.fullscreenAlways||"MOBILE"===e.meta.device.viewportCategory})})(y);n.a=O},"./packages/social/login-gate/TermsOfUseOverlay.less":function(e,n,t){e.exports={container:"social-login-gate-TermsOfUseOverlay__container--2cdv9",bodyContent:"social-login-gate-TermsOfUseOverlay__bodyContent--17ySl"}},"./packages/social/login-gate/TermsOverlayQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TermsOverlay"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insightProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uiCardsState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"getTermOfUseAcceptanceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};t.loc.source={body:"query TermsOverlay {\n  insightProfile {\n    uiCardsState {\n      states {\n        id\n        state\n      }\n    }\n  }\n  getTermOfUseAcceptanceInfo {\n    accepted\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/overflow-ui/OverflowIcon.less":function(e,n,t){e.exports={icon:"social-overflow-ui-OverflowIcon__icon--3Y5V1",gray:"social-overflow-ui-OverflowIcon__gray--3YDS1",green:"social-overflow-ui-OverflowIcon__green--2HSig"}},"./packages/social/overflow-ui/OverflowOpener.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("@ta/overlays.popover"),r=t.n(o),i=t("./packages/events/window-scroll/WindowScroll.jsx"),l=t("./packages/social/overflow-ui/OverflowUIList.jsx"),s=function(e){var n=e.children,t=e.overflowList,o=e.closeOnScroll,l=e.shiftX,s=e.shiftY,c=e.shiftArrow;return a.createElement(r.a,{below:!0,alignEdge:"right",shiftX:10+l,shiftArrow:10+c,shiftY:s,arrowType:"small",contents:function(e){return t?a.cloneElement(t,{close:e}):null},closeButton:!1,local:!0},function(e,t,r,l){return a.createElement(a.Fragment,null,n(e,function(){l?r():t()}),o&&a.createElement(i.a,{callback:function(){return r()}}))})};s.defaultProps={children:function(){return null},closeOnScroll:!1,overflowList:a.createElement(l.a,null),shiftX:0,shiftY:0,shiftArrow:0},n.a=s},"./packages/social/overflow-ui/OverflowUI.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/social/overflow-ui/OverflowOpener.jsx"),r=t("./packages/common/classnames/classnames.jsx"),i=t("./packages/styleguide/icon/Icon.jsx"),l=t("./packages/social/overflow-ui/OverflowIcon.less"),s=t.n(l);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=a.forwardRef(function(e,n){var t,o=e.onClick,l=e.color;return a.createElement("span",{className:Object(r.a)(s.a.icon,(t={},c(t,s.a.green,"GREEN"===l),c(t,s.a.gray,"GRAY"===l),t)),ref:n,onClick:o},a.createElement(i.a,{name:"more-horizontal"}))});u.defaultProps={color:"GRAY"};var d=u,m=function(e){var n=e.children,t=e.className,r=e.closeOnScroll,i=e.onClick;return a.createElement("div",{className:"overflow "+(t||"")},a.createElement(o.a,{overflowList:n,closeOnScroll:r},function(e,n){return a.createElement(d,{ref:e,onClick:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){n(),i&&i(e)})})}))};m.defaultProps={className:void 0,children:void 0,closeOnScroll:!1,onClick:void 0};n.a=m},"./packages/social/overflow-ui/OverflowUIList.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/social/overflow-ui/OverflowUIList.less"),r=t.n(o),i=function(e){var n=e.children,t=e.close;return a.createElement("ul",{className:r.a.list},n?a.Children.map(n,function(e){return e?a.cloneElement(e,{close:t}):e}):null)};i.defaultProps={children:void 0,close:function(){}},n.a=i},"./packages/social/overflow-ui/OverflowUIList.less":function(e,n,t){e.exports={list:"social-overflow-ui-OverflowUIList__list--PxTGM"}},"./packages/social/overflow-ui/OverflowUIListItem.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/styleguide/icon/Icon.jsx"),r=t("./packages/social/overflow-ui/OverflowUIListItem.less"),i=t.n(r),l=function(e){var n=e.children,t=e.icon,r=e.close,l=e.onClick;return a.createElement("li",{className:"ui_link "+i.a.item,onClick:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return l({event:e,close:r})})},t&&a.createElement(o.a,{name:t,className:i.a.icon}),n)};l.defaultProps={children:void 0,icon:void 0,close:function(){},onClick:void 0},n.a=l},"./packages/social/overflow-ui/OverflowUIListItem.less":function(e,n,t){e.exports={item:"social-overflow-ui-OverflowUIListItem__item--3gZmo",icon:"social-overflow-ui-OverflowUIListItem__icon--1jXUJ"}},"./packages/social/profile/ProfileOverflowButton.less":function(e,n,t){e.exports={icon:"social-profile-ProfileOverflowButton__icon--2eYrk"}},"./packages/social/profile/profile.jsx":function(e,n,t){"use strict";t.r(n);var a=t("./node_modules/react/index.js"),o=t("./packages/social/overflow-ui/OverflowUI.jsx"),r=t("./packages/social/overflow-ui/OverflowUIList.jsx"),i=t("./node_modules/react-redux/es/index.js"),l=t("./packages/common/i18n/i18n.jsx"),s=t("./packages/common/features/features.jsx"),c=t("@ta/social.blocks"),u=t("./packages/social/overflow-ui/OverflowUIListItem.jsx"),d=t("./packages/public/iap-reporting/ContentModals.jsx"),m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},p=function(e){var n=e.displayName,t=e.isMe,o=e.isBlocking,r=e.openMemberInteractionModal,i=e.openReportModal,c=e.overrideItems,d=void 0===c?{}:c,m=e.children,p=[];return!Object(s.featureIsEnabled)("social_block_enabled")||!1===d.BLOCK||!d.BLOCK&&t||(o?p.push(a.createElement(u.a,{key:"unblock",onClick:function(){r("UNBLOCK")}},Object(l.localize)("social_unblock_username_overflow",{displayName:n}))):p.push(a.createElement(u.a,{key:"block",onClick:function(){r("BLOCK")}},Object(l.localize)("social_block_username_overflow",{displayName:n}))),!Object(s.featureIsEnabled)("social_report_profile_iap_enabled")||!1===d.REPORT||!d.REPORT&&t||p.push(a.createElement(u.a,{key:"report",onClick:i},Object(l.localize)("social_report_profile")))),p.length>0?a.createElement(a.Fragment,null,[],m(p)):null},f=Object(i.connect)(function(e,n){return{isMe:n.profileUserId===e.auth.loggedInUserId}})(function(e){var n="reportProfile"+e.profileUserId;return a.createElement(c.MemberInteractionConsumer,null,function(t){return a.createElement(d.f,{name:n},function(o){return a.createElement(a.Fragment,null,a.createElement(d.e,{contentId:e.profileUserId,modalName:n}),a.createElement(p,m({},e,{openMemberInteractionModal:t,openReportModal:o})))})})}),v=function(e){var n=e.profileUserId,t=e.displayName,i=e.isBlocking,l=e.className;return a.createElement(f,{profileUserId:n,displayName:t,isBlocking:i},function(e){return e.length>0?a.createElement(o.a,{className:l},a.createElement(r.a,null,e)):null})};v.defaultProps={className:void 0};var b=v,g=t("./packages/styleguide/icon/Icon.jsx"),_=t("./packages/social/overflow-ui/OverflowOpener.jsx"),k=t("@ta/social.button"),y=t.n(k),O=t("./packages/social/profile/ProfileOverflowButton.less"),h=t.n(O),I=function(e){var n=e.profileUserId,t=e.displayName,o=e.isBlocking;return a.createElement(f,{profileUserId:n,displayName:t,isBlocking:o},function(e){return e.length>0?a.createElement("span",null,a.createElement(_.a,{overflowList:a.createElement(r.a,null,e),shiftX:40,shiftArrow:32,shiftY:10},function(e,n){return a.createElement(a.Fragment,null,a.createElement("span",{ref:e}),a.createElement(y.a,{onClick:n,type:"secondary"},a.createElement(g.a,{name:"more-horizontal",className:h.a.icon})))})):null})};t.d(n,"ProfileOverflowMenu",function(){return b}),t.d(n,"ProfileOverflowButton",function(){return I})},"./packages/styleguide/button/Button.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=t("./packages/common/classnames/classnames.jsx"),r=function(e){var n=e.children,t=e.size,r=e.type,i=e.chevron,l=e.loading,s=e.disabled,c=e.onClick;return a.createElement("button",{className:Object(o.a)("ui_button","none"!==r?r:"","default"!==t?t:"",{chevron:i,disabled:s,loading:l}),disabled:s,onClick:c},n)};r.defaultProps={children:null,onClick:function(){},type:"original",size:"default",chevron:!1,loading:!1,disabled:!1},n.a=r},"./packages/styleguide/icon/Icon.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=function(e){var n=e.name,t=e.className;return a.createElement("span",{className:"ui_icon "+n+" "+t})};o.defaultProps={className:""},n.a=o},"./packages/styleguide/loading/LoadingSpinner.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),o=function(e){var n=e.size,t=e.inverted;return a.createElement("div",{className:"ui_spinner "+(n||"")+" "+(t?"inverted":"")})};o.defaultProps={size:void 0,inverted:!1},n.a=o},"@ta/common.typeahead":function(n,t){n.exports=e},"@ta/list.navigable-list":function(e,t){e.exports=n},"@ta/overlays.fullscreen-overlay":function(e,n){e.exports=t},"@ta/overlays.headers":function(e,n){e.exports=a},"@ta/overlays.managers":function(e,n){e.exports=o},"@ta/overlays.modal":function(e,n){e.exports=r},"@ta/overlays.pieces":function(e,n){e.exports=i},"@ta/overlays.popover":function(e,n){e.exports=l},"@ta/social.blocks":function(e,n){e.exports=s},"@ta/social.button":function(e,n){e.exports=c},"@ta/styleguide.radio-button":function(e,n){e.exports=u},"@ta/tracking.interactions":function(e,n){e.exports=d},"dll-reference @ta/common.global":function(e,n){e.exports=m}})});