define("brand.header",["@ta/brand.global-nav-context","@ta/brand.global-nav-state","@ta/brand.trip-search-geopill-flyout","@ta/media.image","@ta/overlays.attached-arrow-overlay","@ta/overlays.fullscreen-overlay","@ta/overlays.managers","@ta/overlays.modal","@ta/overlays.pieces","@ta/overlays.popover","@ta/overlays.responsive-attached-overlay","@ta/overlays.slide-in","@ta/social.button","@ta/social.onboarding-state","@ta/tracking.interactions","common/Radio","@ta/common.global"],function(e,n,t,a,r,o,i,l,s,c,u,d,p,m,f,b,v){return function(e){function n(n){for(var t,r,o=n[0],i=n[1],l=0,c=[];l<o.length;l++)r=o[l],a[r]&&c.push(a[r][0]),a[r]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);for(s&&s(n);c.length;)c.shift()()}var t={},a={"brand.header":0,"flights.search-results/common/Radio.demand":0};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var n=[],t=a[e];if(0!==t)if(t)n.push(t[2]);else{var r=new Promise(function(n,r){t=a[e]=[n,r]});window.require("@ta/platform.runtime").importBundle(e),n.push(t[2]=r)}return Promise.all(n)},r.m=e,r.c=t,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)r.d(t,a,function(n){return e[n]}.bind(null,a));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/components/dist/",r.oe=function(e){throw console.error(e),e};var o=window.__wp__=window.__wp__||[],i=o.push.bind(o);o.push=n,o=o.slice();for(var l=0;l<o.length;l++)n(o[l]);var s=i;return r(r.s="./roots/brand/header/GlobalNav.jsx")}({"./node_modules/lodash/_Symbol.js":function(e,n,t){var a=t("./node_modules/lodash/_root.js").Symbol;e.exports=a},"./node_modules/lodash/_baseGetTag.js":function(e,n,t){var a=t("./node_modules/lodash/_Symbol.js"),r=t("./node_modules/lodash/_getRawTag.js"),o=t("./node_modules/lodash/_objectToString.js"),i="[object Null]",l="[object Undefined]",s=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?l:i:s&&s in Object(e)?r(e):o(e)}},"./node_modules/lodash/_freeGlobal.js":function(e,n,t){(function(n){var t="object"==typeof n&&n&&n.Object===Object&&n;e.exports=t}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash/_getRawTag.js":function(e,n,t){var a=t("./node_modules/lodash/_Symbol.js"),r=Object.prototype,o=r.hasOwnProperty,i=r.toString,l=a?a.toStringTag:void 0;e.exports=function(e){var n=o.call(e,l),t=e[l];try{e[l]=void 0;var a=!0}catch(e){}var r=i.call(e);return a&&(n?e[l]=t:delete e[l]),r}},"./node_modules/lodash/_objectToString.js":function(e,n){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},"./node_modules/lodash/_root.js":function(e,n,t){var a=t("./node_modules/lodash/_freeGlobal.js"),r="object"==typeof self&&self&&self.Object===Object&&self,o=a||r||Function("return this")();e.exports=o},"./node_modules/lodash/debounce.js":function(e,n,t){var a=t("./node_modules/lodash/isObject.js"),r=t("./node_modules/lodash/now.js"),o=t("./node_modules/lodash/toNumber.js"),i="Expected a function",l=Math.max,s=Math.min;e.exports=function(e,n,t){var c,u,d,p,m,f,b=0,v=!1,g=!1,h=!0;if("function"!=typeof e)throw new TypeError(i);function k(n){var t=c,a=u;return c=u=void 0,b=n,p=e.apply(a,t)}function _(e){var t=e-f;return void 0===f||t>=n||t<0||g&&e-b>=d}function y(){var e=r();if(_(e))return O(e);m=setTimeout(y,function(e){var t=n-(e-f);return g?s(t,d-(e-b)):t}(e))}function O(e){return m=void 0,h&&c?k(e):(c=u=void 0,p)}function w(){var e=r(),t=_(e);if(c=arguments,u=this,f=e,t){if(void 0===m)return function(e){return b=e,m=setTimeout(y,n),v?k(e):p}(f);if(g)return m=setTimeout(y,n),k(f)}return void 0===m&&(m=setTimeout(y,n)),p}return n=o(n)||0,a(t)&&(v=!!t.leading,d=(g="maxWait"in t)?l(o(t.maxWait)||0,n):d,h="trailing"in t?!!t.trailing:h),w.cancel=function(){void 0!==m&&clearTimeout(m),b=0,c=f=u=m=void 0},w.flush=function(){return void 0===m?p:O(r())},w}},"./node_modules/lodash/isObject.js":function(e,n){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},"./node_modules/lodash/isObjectLike.js":function(e,n){e.exports=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash/isSymbol.js":function(e,n,t){var a=t("./node_modules/lodash/_baseGetTag.js"),r=t("./node_modules/lodash/isObjectLike.js"),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||r(e)&&a(e)==o}},"./node_modules/lodash/now.js":function(e,n,t){var a=t("./node_modules/lodash/_root.js");e.exports=function(){return a.Date.now()}},"./node_modules/lodash/toNumber.js":function(e,n,t){var a=t("./node_modules/lodash/isObject.js"),r=t("./node_modules/lodash/isSymbol.js"),o=NaN,i=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return o;if(a(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=a(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var t=s.test(e);return t||c.test(e)?u(e.slice(2),t?2:8):l.test(e)?o:+e}},"./node_modules/react-apollo/react-apollo.browser.umd.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react-apollo/react-apollo.browser.umd.js")},"./node_modules/react-redux/es/index.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react-redux/es/index.js")},"./node_modules/react/index.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react/index.js")},"./node_modules/webpack/buildin/global.js":function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},"./packages/brand/geopill-util/TripSearchGeoPillBinding.jsx":function(e,n,t){"use strict";var a=t("./packages/common/api/api.jsx"),r=t("./packages/common/data-cacher/DataCacher.jsx"),o=(t("./node_modules/react/index.js"),Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e});n.a=function(e){return Object(a.bind)(function(e,n){var t=n("/data/1.0/brand/geopill?"+function(e){var n={servlet:e.route.page,geoId:e.route.geo,latitude:e.route.latitude,searchNearby:e.route.searchNearby},t={};return Object.keys(n).forEach(function(e){null!==n[e]&&void 0!==n[e]&&(t[e]=n[e])}),new URLSearchParams(t)}(e).toString());return function(e){var n=t.get(),a={};return a=n.data?{geoName:n.data.geoName,isGeoScoped:n.data.isGeoScoped,isNearby:n.data.isNearby}:{geoName:void 0,isGeoScoped:!1,isNearby:!1},o({loading:n.loading,servletName:e.meta.initialServletName},a)}})(Object(r.b)()(e))}},"./packages/brand/global-nav-action-inbox/InboxTrigger.less":function(e,n,t){e.exports={container:"brand-global-nav-action-inbox-InboxTrigger__container--9mwpG",inboxIcon:"brand-global-nav-action-inbox-InboxTrigger__inboxIcon--DfSRd",label:"brand-global-nav-action-inbox-InboxTrigger__label--3O_3k",onDarkBg:"brand-global-nav-action-inbox-InboxTrigger__onDarkBg--lE3yj",jewel:"brand-global-nav-action-inbox-InboxTrigger__jewel--3zcZI",hidden:"brand-global-nav-action-inbox-InboxTrigger__hidden--f-oZT"}},"./packages/brand/global-nav-action-profile/Profile.less":function(e,n,t){e.exports={container:"brand-global-nav-action-profile-Profile__container--ul3zE",label:"brand-global-nav-action-profile-Profile__label--knItw",loggedOutIcon:"brand-global-nav-action-profile-Profile__loggedOutIcon--UnpmI",noAvatarIcon:"brand-global-nav-action-profile-Profile__noAvatarIcon--3x1yX",loggedOutIconWrap:"brand-global-nav-action-profile-Profile__loggedOutIconWrap--nQ__7",loginButton:"brand-global-nav-action-profile-Profile__loginButton--2rMYH",avatar:"brand-global-nav-action-profile-Profile__avatar--Je01x",loggedInIconWrap:"brand-global-nav-action-profile-Profile__loggedInIconWrap--3Qx4P",open:"brand-global-nav-action-profile-Profile__open--1VuVG",white:"brand-global-nav-action-profile-Profile__white--484gr",menu:"brand-global-nav-action-profile-Profile__menu--2ycYl",rule:"brand-global-nav-action-profile-Profile__rule--2w51f"}},"./packages/brand/global-nav-action-search/Search.less":function(e,n,t){e.exports={searchButton:"brand-global-nav-action-search-Search__searchButton--2dmUT",icon:"brand-global-nav-action-search-Search__icon--cR1l4",onDarkBg:"brand-global-nav-action-search-Search__onDarkBg--3Qh8m",label:"brand-global-nav-action-search-Search__label--3Fbaz"}},"./packages/brand/global-nav-action-shopping-cart/ShoppingCart.less":function(e,n,t){e.exports={shoppingCartLink:"brand-global-nav-action-shopping-cart-ShoppingCart__shoppingCartLink--3Y7YV",icon:"brand-global-nav-action-shopping-cart-ShoppingCart__icon--2ZYyu",label:"brand-global-nav-action-shopping-cart-ShoppingCart__label--1o6-O",onDarkBg:"brand-global-nav-action-shopping-cart-ShoppingCart__onDarkBg--2ScDH",jewel:"brand-global-nav-action-shopping-cart-ShoppingCart__jewel--1zDl3",animated:"brand-global-nav-action-shopping-cart-ShoppingCart__animated--1l8OJ",cartIconBounce:"brand-global-nav-action-shopping-cart-ShoppingCart__cartIconBounce--3advf"}},"./packages/brand/global-nav-action-shopping-cart/ShoppingCartRecapture.less":function(e,n,t){e.exports={inner:"brand-global-nav-action-shopping-cart-ShoppingCartRecapture__inner--1e1JF",header_text:"brand-global-nav-action-shopping-cart-ShoppingCartRecapture__header_text--hYzZG",body_text:"brand-global-nav-action-shopping-cart-ShoppingCartRecapture__body_text--16BBB"}},"./packages/brand/global-nav-action-trips/Trips.less":function(e,n,t){e.exports={tripsIcon:"brand-global-nav-action-trips-Trips__tripsIcon--3ez-O",onDarkBg:"brand-global-nav-action-trips-Trips__onDarkBg--2Mrr-",label:"brand-global-nav-action-trips-Trips__label--1q03O"}},"./packages/brand/global-nav-geopill/GeoPill.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/api/api.jsx"),o=t("@ta/brand.global-nav-context"),i=t.n(o),l=t("./packages/common/i18n/i18n.jsx"),s=t("./packages/common/tracking/tracking.jsx"),c=t.n(s),u=t("./packages/styleguide/icon/Icon.jsx"),d=t("@ta/overlays.managers"),p=t("@ta/overlays.responsive-attached-overlay"),m=t.n(p),f=t("./packages/common/classnames/classnames.jsx"),b=t("./node_modules/react-redux/es/index.js"),v=t("./packages/common/imports/imports.jsx"),g=t("./packages/common/features/features.jsx"),h=t("./packages/common/geolocation/geolocation.jsx"),k=t("./packages/styleguide/loading/LoadingSpinner.jsx"),_=t("./packages/brand/global-nav-geopill/GeoPillSearch.less"),y=t.n(_),O=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function w(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var j=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=w(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.onSelection=function(e,n){if(("url"===n.type||"recent_url"===n.type)&&n.value){var t="url"===n.type?"submit":"submit_recent",r="string"==typeof n.value?n.value:"";Object(s.trackEventCookie)({module:"TopNav_"+(a.props.servletName||""),action:t,context:"GeoPicker",value:0,destinationUrl:r})}},w(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),O(n,[{key:"render",value:function(){var e,n=this;return a.createElement(v.Load,{component:(e=function(){return t.e("@ta/brand.global-nav-geopill/GeoScopedTypeahead.demand").then(t.bind(null,"./packages/brand/global-nav-geopill/GeoScopedTypeahead.jsx"))},e.__PACKAGE__="@ta/brand.global-nav-geopill",e.__MODULE_ID__="./packages/brand/global-nav-geopill/GeoScopedTypeahead.jsx",e.__MODULE_NAME__="GeoScopedTypeahead",e.__GET_SYNC__=function(){return t.m["./packages/brand/global-nav-geopill/GeoScopedTypeahead.jsx"]?t("./packages/brand/global-nav-geopill/GeoScopedTypeahead.jsx"):null},e.__IS_LOADED__=function(){return void 0!==t.m["./packages/brand/global-nav-geopill/GeoScopedTypeahead.jsx"]},e)},function(e){var t=e.Component;if(e.loading)return a.createElement("div",{className:y.a.loading},a.createElement(k.a,null));if(t){var r="MOBILE"===n.props.viewportCategory&&(!n.props.servletName||-1===n.props.servletName.indexOf("Tourism"))&&Object(h.a)();return a.createElement(t,{placeholder:Object(l.localize)("mobile_discovery_where_to"),geoId:n.props.geoId,searchSessionId:n.props.searchSessionId,uiOrigin:n.props.uiOrigin,onSelection:n.onSelection,enableGeoLocation:r,enableGeoNavi:Object(g.featureIsEnabled)("mobile_web_feature_dual_search_geo_navi")})}return null})}}]),n}(),E=Object(b.connect)(function(e){var n=(e.page||{}).geoId,t=(e.tracking||{}).searchSessionId,a=e.meta,r=a.initialRelativeUrl,o=a.initialServletName,i=a.device.viewportCategory;return{geoId:n,searchSessionId:t,uiOrigin:r?r.substring(1).replace(/-.*/,"_geopicker"):"geopicker",servletName:o,viewportCategory:i}})(j),N=t("./packages/brand/global-nav-geopill/GeoPill.less"),x=t.n(N),C=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function S(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var T=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=S(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.state={hasBeenOpened:!1},a.openSearch=function(e){a.state.hasBeenOpened||(c()({module:"TopNav_"+(a.props.servletName||""),action:"click",context:"GeoPicker"}),a.setState({hasBeenOpened:!0})),e()},S(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),C(n,[{key:"render",value:function(){var e=this;return a.createElement(i.a.Consumer,null,function(n){var t,r,o,i=Object(f.a)(x.a.wrapper,(t={},r=x.a.persistentIcons,o=n.usePersistentIcons,r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t));return a.createElement(m.a,{name:"geo_pill_overlay",position:"below",alignEdge:"left",contents:function(){return a.createElement(E,null)}},function(n){return a.createElement(d.Opener,{name:"geo_pill_overlay"},function(t,r){return a.createElement("div",{ref:n,className:i,onClick:function(){return e.openSearch(t)}},a.createElement("div",{className:x.a.global_nav_geopill},a.createElement("span",{className:x.a.pill+" ui_pill inverted"},e.props.label,a.createElement(u.a,{name:r?"caret-up":"caret-down",className:x.a.icon}))))})})})}}]),n}();n.a=Object(r.bind)(function(e,n){var t=e.meta&&e.meta.initialServletName?e.meta.initialServletName:"",a="Search"===t,r=e.page,o=r.geoId?r.geoId:r.detailId,i=null!==o&&(a||1!==o),s=e.page&&e.page.geoPoint,c=-1!==t.indexOf("Nearby")||s&&(a||"MobileVacationRentalSearch"===t),u=void 0;return!c&&i&&(u=n("/data/1.0/location/"+o)),function(){var e=void 0,n=(u?u.get():{}).data;if(c)e=Object(l.localize)("mx_nearby");else if(i&&n){e=n.category&&n.category.key&&"geographic"===n.category.key?n.name:n.parent_display_name}return e||(e=Object(l.localize)("dual_search_worldwide")),{label:e,servletName:t}}})(T)},"./packages/brand/global-nav-geopill/GeoPill.less":function(e,n,t){e.exports={global_nav_geopill:"brand-global-nav-geopill-GeoPill__global_nav_geopill--1zivz",pill:"brand-global-nav-geopill-GeoPill__pill--3wx4A",icon:"brand-global-nav-geopill-GeoPill__icon--1w_mD",wrapper:"brand-global-nav-geopill-GeoPill__wrapper--1-uEM",persistentIcons:"brand-global-nav-geopill-GeoPill__persistentIcons--33eyw"}},"./packages/brand/global-nav-geopill/GeoPillSearch.less":function(e,n,t){e.exports={loading:"brand-global-nav-geopill-GeoPillSearch__loading--1Abr4"}},"./packages/brand/global-nav-satellite-geopill/SatelliteGeoPill.less":function(e,n,t){e.exports={pillWrap:"brand-global-nav-satellite-geopill-SatelliteGeoPill__pillWrap--1TbHj",icon:"brand-global-nav-satellite-geopill-SatelliteGeoPill__icon--1qZyn",pill:"brand-global-nav-satellite-geopill-SatelliteGeoPill__pill--14eB6"}},"./packages/brand/global-nav/GlobalNavApiBinding.jsx":function(e,n,t){"use strict";var a=t("./packages/common/api/api.jsx"),r=t("./packages/common/data-cacher/DataCacher.jsx");t("./node_modules/react/index.js");n.a=function(e){return Object(a.bind)(function(e,n){var t=n("/data/1.0/brand/navLinks?"+function(e){var n=e.meta,t=n.initialServletName,a=n.device,r=e.i18n.locale,o=e.route,i=o.latitude,l=o.longitude,s=o.searchNearby,c=e.meta.forceFullSite?"DESKTOP":a.viewportCategory,u={servlet:t,locale:r,geoId:e.route.geo?e.route.geo:null,detailId:e.route.detail?e.route.detail:null,viewportCategory:c,latitude:i,longitude:l,searchNearby:s},d={};return Object.keys(u).forEach(function(e){null!==u[e]&&void 0!==u[e]&&(d[e]=u[e])}),new URLSearchParams(d)}(e).toString());return function(){var e=t.get(),n=e.data,a=e.loading,r=n?n.links:null,o=n?n.activeLinkId:null,i=!!n&&n.isGeoScoped;return{loading:a,links:r,activeLinkId:o,extendedQuickLinks:!!n&&n.isQuickLinksMoreNewLine,isGeoScoped:i}}})(Object(r.b)()(e))}},"./packages/brand/global-nav/global-nav.jsx":function(e,n,t){"use strict";var a=t("./packages/brand/global-nav/GlobalNavApiBinding.jsx");n.a=a.a},"./packages/brand/global-nav/menus/CollapsedMenu.less":function(e,n,t){e.exports={collapsedMenuListWrap:"brand-global-nav-menus-CollapsedMenu__collapsedMenuListWrap--D42H9",moreIcon:"brand-global-nav-menus-CollapsedMenu__moreIcon--30FK_"}},"./packages/brand/global-nav/menus/Menu.less":function(e,n,t){e.exports={overlayWrap:"brand-global-nav-menus-Menu__overlayWrap--Pouep",dropdownContents:"brand-global-nav-menus-Menu__dropdownContents--3E39A",menuContentsWrap:"brand-global-nav-menus-Menu__menuContentsWrap--2Aq5N"}},"./packages/brand/global-nav/menus/MenuList.less":function(e,n,t){e.exports={menuList:"brand-global-nav-menus-MenuList__menuList--hU0oI",fixedWidth:"brand-global-nav-menus-MenuList__fixedWidth--2f1wg"}},"./packages/brand/global-nav/menus/MenuListItem.less":function(e,n,t){e.exports={menuListItem:"brand-global-nav-menus-MenuListItem__menuListItem--2XcfY"}},"./packages/brand/global-nav/menus/MenuTab.less":function(e,n,t){e.exports={menuTab:"brand-global-nav-menus-MenuTab__menuTab--1gt8n",hovering:"brand-global-nav-menus-MenuTab__hovering--f9ULR",unscoped:"brand-global-nav-menus-MenuTab__unscoped--2Bs6-"}},"./packages/brand/global-nav/menus/NavLinks.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/styleguide/nav-tabs/NavTabs.jsx"),o=t("./packages/styleguide/icon/Icon.jsx"),i=t("./node_modules/react-redux/es/index.js"),l=t("@ta/overlays.managers"),s=t("@ta/overlays.pieces"),c=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var u=function(e){for(var n=e;n;){if(n.hovered)return!0;n=n.child}return!1},d=function(e){for(var n=e;n;)null!==n.timer&&void 0!==n.timer&&(clearTimeout(n.timer),n.timer=null),n=n.parent},p=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.setTarget=function(e){t.renderTimeTarget=e},t.tapTargetHandler=function(e){e.stopPropagation()},t.tapWindowHandler=function(){t.mouseOutHandler()},t.mouseOverHandler=function(){t.renderTimeTarget&&t.renderTimeTarget.addEventListener("touchstart",t.tapTargetHandler),setTimeout(function(){window.addEventListener("touchstart",t.tapWindowHandler)},0),null!==t.hoverChainNode.timer&&void 0!==t.hoverChainNode.timer&&clearTimeout(t.hoverChainNode.timer),d(t.hoverChainNode),t.hoverChainNode.hovered=!0,t.hoverChainNode.pendingMouseOut=!0,t.props.mouseOverHandler&&t.props.mouseOverHandler(t.hoverChainNode)},t.mouseOutHandler=function(){t.hoverChainNode.hovered=!1,t.hoverChainNode.timer=setTimeout(function(){if(t.hoverChainNode.timer=null,!u(t.hoverChainNode)){t.renderTimeTarget&&t.renderTimeTarget.removeEventListener("touchstart",t.tapTargetHandler),window.removeEventListener("touchstart",t.tapWindowHandler),t.props.mouseOutHandler&&t.props.mouseOutHandler(),t.hoverChainNode.pendingMouseOut=!1;var e=t.hoverChainNode.parent;e&&!e.hovered&&e.mouseOutCallback()}},t.props.mouseOutTimeout)};var a={parent:void 0,child:void 0,hovered:!1,mouseOutCallback:function(){return t.mouseOutHandler()},pendingMouseOut:!1,timer:null};return e.hoverChainParent&&(a.parent=e.hoverChainParent,a.parent.child=a),t.hoverChainNode=a,t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),c(n,[{key:"componentDidMount",value:function(){this.renderTimeTarget&&(this.renderTimeTarget.addEventListener("mouseenter",this.mouseOverHandler),this.renderTimeTarget.addEventListener("touchstart",this.mouseOverHandler),this.renderTimeTarget.addEventListener("mouseleave",this.mouseOutHandler))}},{key:"componentWillUnmount",value:function(){null!==this.hoverChainNode.timer&&void 0!==this.hoverChainNode.timer&&clearTimeout(this.hoverChainNode.timer),this.hoverChainNode.pendingMouseOut&&this.props.mouseOutHandler&&this.props.mouseOutHandler(),window.removeEventListener("touchstart",this.mouseOutHandler)}},{key:"render",value:function(){return this.props.children(this.setTarget,this.hoverChainNode)}}]),n}();p.defaultProps={mouseOutTimeout:0};var m=p,f=t("./packages/common/classnames/classnames.jsx"),b=t("./packages/brand/global-nav/menus/MenuTab.less"),v=t.n(b),g=t("./packages/brand/global-nav/menus/TopLevelNavLink.jsx");function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var k=function(e){var n,t=Object(f.a)("ui_tab",v.a.menuTab,(h(n={},v.a.hovering,e.hovering),h(n,v.a.unscoped,!e.isGeoScoped),h(n,"active",e.active),n));return"link"===e.tabType&&e.link?a.createElement(g.a,{link:e.link,setTarget:e.setHoverTarget,extraClasses:t}):"nonlink"===e.tabType&&e.nonLinkContents?a.createElement("span",{className:t,ref:e.setHoverTarget},e.nonLinkContents):null};k.defaultProps={active:!1,hovering:!1,setHoverTarget:function(){},tabType:"link",link:void 0,nonLinkContents:void 0};var _=Object(i.connect)(function(e){return{isGeoScoped:!!e.route.geo}})(k),y=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var O=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.mouseOverHandler=function(){t.setState({hovering:!0})},t.mouseOutHandler=function(){t.setState({hovering:!1})},t.triggerWrapRef=null,t.state={hovering:!1},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),y(n,[{key:"render",value:function(){var e=this;return a.createElement(l.Opener,{name:this.props.name,local:!0},function(n){return a.createElement(l.Closer,{name:e.props.name},function(t){return a.createElement(m,{mouseOutTimeout:0,mouseOverHandler:function(){n(),e.mouseOverHandler()},mouseOutHandler:function(){t(),e.mouseOutHandler()}},function(n,t){return a.createElement(a.Fragment,null,a.createElement("div",{ref:function(n){e.triggerWrapRef=n}},a.createElement(_,{setHoverTarget:n,hovering:e.state.hovering,active:e.props.triggerActive,tabType:e.props.tabType,link:e.props.link,nonLinkContents:e.props.nonLinkContents})),e.props.children(e.triggerWrapRef,t))})})})}}]),n}(),w=t("./packages/brand/global-nav/menus/Menu.less"),j=t.n(w),E=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var N,x=(N=0,function(){return"nav_menu_"+(N+=1)}),C=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.getOverlayPosition=function(e){var n=e,a=n?n.getBoundingClientRect().top+n.offsetHeight+window.scrollY+"px":"0px",r=void 0,o=void 0;if(t.props.isRtl){r="auto";var i=document&&document.documentElement?document.documentElement.clientWidth:0;o=n?i-n.getBoundingClientRect().right-window.scrollX+"px":"0px"}else r=n?n.getBoundingClientRect().left+window.scrollX+"px":"0px",o="auto";return{position:"absolute",top:a,left:r,right:o}},t.name=x(),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),E(n,[{key:"render",value:function(){var e=this;return a.createElement(O,{name:this.name,triggerContents:this.props.triggerContents,tabType:this.props.tabType,link:this.props.link,nonLinkContents:this.props.nonLinkContents,triggerActive:this.props.triggerActive},function(n,t){return a.createElement(a.Fragment,null,a.createElement("div",{className:j.a.dropdownContents},e.props.children),a.createElement(l.Local,{name:e.name},a.createElement(m,{hoverChainParent:t,mouseOutTimeout:0},function(t){return a.createElement(s.Overlay,{position:e.getOverlayPosition(n)},a.createElement("div",{ref:t,className:j.a.overlayWrap},a.createElement(s.ShadowBox,null,a.createElement("div",{className:j.a.menuContentsWrap},e.props.children))))})))})}}]),n}();C.defaultProps={triggerActive:!1};var S=Object(i.connect)(function(e){return{isRtl:e.i18n.isRtl}})(C),T=t("./packages/brand/global-nav/menus/MenuList.less"),P=t.n(T),L=function(e){return a.createElement("ul",{className:P.a.menuList+" "+(e.fixedWidth?P.a.fixedWidth:"")},e.children)};L.defaultProps={fixedWidth:!1};var I=L,M=t("./packages/brand/global-nav/menus/CollapsedMenu.less"),U=t.n(M),B=function(e){return a.createElement("ul",{className:U.a.collapsedMenuListWrap},a.createElement("li",null,a.createElement(S,{tabType:"nonlink",nonLinkContents:a.createElement(o.a,{name:"more-horizontal",className:U.a.moreIcon})},a.createElement(I,null,e.items&&e.items.map(function(e){return e.contents})))))};B.defaultProps={items:[]};var R=B,A=t("./packages/events/window-resize/WindowResize.jsx"),D=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var F=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.checkIfOverflowed=function(){if(t.listItemRef.current){var e=t.listItemRef.current.offsetTop;void 0!==e&&(e>0&&!t.state.isCollapsed?t.setState({isCollapsed:!0},t.props.collapsedCallback):0===e&&t.state.isCollapsed&&t.setState({isCollapsed:!1},t.props.uncollapsedCallback))}},t.listItemRef=a.createRef(),t.state={isCollapsed:!1},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),D(n,[{key:"componentDidMount",value:function(){this.checkIfOverflowed()}},{key:"componentWillUnmount",value:function(){this.props.uncollapsedCallback()}},{key:"render",value:function(){return a.createElement(a.Fragment,null,a.createElement("li",{ref:this.listItemRef},this.props.children),a.createElement(A.a,{callback:this.checkIfOverflowed}))}}]),n}(),z=t("./packages/brand/global-nav/menus/MenuListItem.less"),G=t.n(z),H=function(e){return a.createElement("li",null,a.createElement(g.a,{link:e.link,extraClasses:G.a.menuListItem}))},q=t("./packages/brand/global-nav/menus/NavLinks.less"),W=t.n(q),V=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function Q(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var Y=function(e){function n(){var e,t,r;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=r=Q(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={collapsedItems:[]},r.getForcedCollapsedLinks=function(){return r.props.links.filter(function(e){return e.forceCollapse}).map(function(e){return{order:0,name:e.id,contents:a.createElement(H,{link:e,key:e.id})}})},r.collapsedHandler=function(e,n,t){r.state.collapsedItems.filter(function(e){return e.name===n}).length>0||r.setState(function(a){return{collapsedItems:[{order:e,name:n,contents:t}].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(a.collapsedItems)).sort(function(e,n){return e.order-n.order})}})},r.uncollapsedHandler=function(e){r.setState(function(n){return{collapsedItems:n.collapsedItems.filter(function(n){return n.name!==e})}})},r.createCollapsibleListItem=function(e,n,t,o){return a.createElement(F,{collapsedCallback:function(){return r.collapsedHandler(e,n,t)},uncollapsedCallback:function(){return r.uncollapsedHandler(n)},key:n},o)},Q(r,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),V(n,[{key:"render",value:function(){var e=this,n=this.props.links,t=this.getForcedCollapsedLinks(),o=-1,i=n.filter(function(e){return!e.forceCollapse}).map(function(n){var t=a.createElement(H,{link:n,key:n.id});return o+=1,e.createCollapsibleListItem(o,n.id,t,a.createElement(_,{link:n,active:!(!e.props.activeLinkId||n.id!==e.props.activeLinkId)}))}),l=t.map(function(e){return e.name}),s=this.state.collapsedItems.filter(function(e){return-1===l.indexOf(e.name)}).concat(t);return a.createElement("div",{className:this.props.sourceOnly?W.a.hidden:null},a.createElement(r.b,{className:W.a.navMenuContainer},a.createElement("ul",{className:W.a.navMenuList},i),a.createElement(R,{items:s})))}}]),n}();Y.defaultProps={sourceOnly:!1};n.a=Y},"./packages/brand/global-nav/menus/NavLinks.less":function(e,n,t){e.exports={navMenuContainer:"brand-global-nav-menus-NavLinks__navMenuContainer--2T1PZ",navMenuList:"brand-global-nav-menus-NavLinks__navMenuList--1efGF",hidden:"brand-global-nav-menus-NavLinks__hidden--31LBB"}},"./packages/brand/global-nav/menus/TopLevelNavLink.jsx":function(e,n,t){"use strict";(function(e){var a=t("./node_modules/react/index.js"),r=t("./packages/common/tracking/tracking.jsx"),o=t("./packages/common/i18n/i18n.jsx"),i=t("./packages/styleguide/icon/Icon.jsx"),l=function(n){var t="HelpDesk"===n.link.id,l=function(t){n.preventDefault&&t.preventDefault(),"HelpDesk"===n.link.id&&(t.preventDefault(),e.require(["trjs!brand/HelpCenterOverlay","trcss!src/build/required/help_center_overlay"],function(e){e.open(t.target,"/uvpages/helpCenterOverlay.html")})),"tourism"===n.link.id&&(t.preventDefault(),window.open(n.link.url,n.link.isNewWindow?"_blank":"_self"))},s=a.createElement(a.Fragment,null,n.showQuickLinkIcon&&n.link.icon&&a.createElement(i.a,{name:n.link.icon,className:n.quickLinkIconClasses}),Object(o.unescaped)(n.link.text)),c="tourism"===n.link.id?a.createElement("span",{ref:n.setTarget,className:n.extraClasses,onClick:l},s):a.createElement("a",{ref:n.setTarget,className:n.extraClasses,href:n.link.url,target:n.link.isNewWindow?"_blank":null,onClick:l},s);return a.createElement(r.ClickTracker,{module:n.trackingModule,action:"click",forceAjax:t||n.preventDefault,context:n.link.trackingLabel},c)};l.defaultProps={extraClasses:void 0,setTarget:function(){},showQuickLinkIcon:!1,trackingModule:"TopNav",quickLinkIconClasses:void 0,preventDefault:!1},n.a=l}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./packages/brand/global-nav/sidebar/SideBarCollapsedMenu.less":function(e,n,t){e.exports={collapsedLinksContainer:"brand-global-nav-sidebar-SideBarCollapsedMenu__collapsedLinksContainer--1v0na",toggleMoreLinks:"brand-global-nav-sidebar-SideBarCollapsedMenu__toggleMoreLinks--3sWu2",collapsedLinks:"brand-global-nav-sidebar-SideBarCollapsedMenu__collapsedLinks--3PCML",singleChevronDown:"brand-global-nav-sidebar-SideBarCollapsedMenu__singleChevronDown--31Sfw",expanded:"brand-global-nav-sidebar-SideBarCollapsedMenu__expanded--211Cb"}},"./packages/brand/global-nav/sidebar/SideBarNavItem.less":function(e,n,t){e.exports={navItem:"brand-global-nav-sidebar-SideBarNavItem__navItem--BWHa6",noBorder:"brand-global-nav-sidebar-SideBarNavItem__noBorder--u3Bp0",hasWhiteText:"brand-global-nav-sidebar-SideBarNavItem__hasWhiteText--167mG",link:"brand-global-nav-sidebar-SideBarNavItem__link--1BE4o",collapsedLink:"brand-global-nav-sidebar-SideBarNavItem__collapsedLink--28E7t",navIcon:"brand-global-nav-sidebar-SideBarNavItem__navIcon--3MCNR"}},"./packages/brand/global-nav/sidebar/SideBarNavLinks.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),o=t("./packages/brand/global-nav/GlobalNavApiBinding.jsx"),i=t("./packages/common/classnames/classnames.jsx"),l=t("./packages/brand/global-nav/menus/TopLevelNavLink.jsx"),s=t("./packages/brand/global-nav/sidebar/SideBarNavItem.less"),c=t.n(s);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var d=function(e){var n,t,r=e.link,o=e.noBorder,s=e.showIcon,d=e.hasWhiteText,p=e.servletName,m=Object(i.a)(c.a.navItem,(u(n={},c.a.noBorder,o),u(n,c.a.hasWhiteText,d),n)),f=Object(i.a)(c.a.link,(u(t={},c.a.collapsedLink,r.forceCollapse),u(t,c.a.hasWhiteText,d),t)),b="TopNav_"+p;return a.createElement("li",{className:m},a.createElement(l.a,{link:r,extraClasses:f,quickLinkIconClasses:c.a.navIcon,showQuickLinkIcon:s,trackingModule:b}))};d.defaultProps={noBorder:!1,showIcon:!1,hasWhiteText:!1};var p=Object(r.connect)(function(e){return{servletName:e.meta.initialServletName}})(d),m=t("./packages/brand/global-nav/sidebar/VisibleLinks.less"),f=t.n(m),b=function(e){var n=e.links,t=Object(i.a)("ui_container",f.a.visibleLinksContainer);return a.createElement("ul",{className:t},n.map(function(e,n){return a.createElement(p,{key:e.id,link:e,noBorder:0===n,showIcon:!0})}))},v=t("./packages/common/i18n/i18n.jsx"),g=t.n(v),h=t("./packages/styleguide/icon/Icon.jsx"),k=t("./packages/brand/global-nav/sidebar/SideBarCollapsedMenu.less"),_=t.n(k),y=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function O(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var w=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=O(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.state={isCollapsed:!0},a.toggleCollapsed=function(){a.setState({isCollapsed:!a.state.isCollapsed})},O(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),y(n,[{key:"render",value:function(){var e,n,t,r=Object(i.a)(_.a.collapsedLinksContainer,(e={},n=_.a.expanded,t=!this.state.isCollapsed,n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e));return a.createElement("div",{className:r},a.createElement("div",{onClick:this.toggleCollapsed,className:_.a.toggleMoreLinks},g()("common_more_capital_ffffe27f"),a.createElement(h.a,{name:"single-chevron-down",className:_.a.singleChevronDown})),a.createElement("ul",{className:_.a.collapsedLinks},this.props.collapsedLinks.map(function(e){return a.createElement(p,{key:e.id,link:e})})))}}]),n}(),j=t("./packages/brand/global-nav/sidebar/SideBarSettingsLinks.less"),E=t.n(j),N=function(){var e={id:"settings",text:Object(v.localize)("mem_settings"),url:"/MobileNativeSettings",forceCollapse:!1,trackingLabel:"UserProfile_settings",isNewWindow:!1,urlWithGeoTemplate:null,urlWithLatLngTemplate:null,icon:null,isNoFollow:!0,hideFromSidebar:!1,sidebarPostCollapsed:!0,subList:{}},n={id:"signout",text:Object(v.localize)("common_Signout"),url:"/RegistrationController?flow=sign_out&pid=1&returnTo=%2F&fullscreen=true",forceCollapse:!1,trackingLabel:"UserProfile_signout",isNewWindow:!1,urlWithGeoTemplate:null,urlWithLatLngTemplate:null,icon:null,isNoFollow:!0,hideFromSidebar:!1,sidebarPostCollapsed:!0,subList:{}},t=Object(i.a)("ui_container",E.a.container);return a.createElement("ul",{className:t},a.createElement(p,{key:e.id,link:e,noBorder:!0,hasWhiteText:!0}),a.createElement(p,{key:n.id,link:n,hasWhiteText:!0}))},x=Object(r.connect)(function(e){return{displaySettingsLinks:!!e.auth.isMember}})(function(e){var n=e.links,t=e.displaySettingsLinks;if(null===n||void 0===n)return null;var r=n.filter(function(e){return!e.hideFromSidebar}),o=function(e){return e.filter(function(e){return!e.forceCollapse&&!e.sidebarPostCollapsed})}(r),i=function(e){return e.filter(function(e){return e.forceCollapse})}(r),l=function(e){return e.filter(function(e){return!e.forceCollapse&&e.sidebarPostCollapsed})}(r);return a.createElement(a.Fragment,null,a.createElement(b,{links:o}),a.createElement(w,{collapsedLinks:i}),a.createElement("ul",null,l.map(function(e){return a.createElement(p,{key:e.id,link:e})})),t?a.createElement(N,null):null)}),C=Object(o.a)(x);n.a=C},"./packages/brand/global-nav/sidebar/SideBarSettingsLinks.less":function(e,n,t){e.exports={container:"brand-global-nav-sidebar-SideBarSettingsLinks__container--2tunh"}},"./packages/brand/global-nav/sidebar/VisibleLinks.less":function(e,n,t){e.exports={visibleLinksContainer:"brand-global-nav-sidebar-VisibleLinks__visibleLinksContainer--2-g8-"}},"./packages/brand/quick-links/QuickLinksLite.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),o=t("./packages/brand/global-nav/global-nav.jsx"),i=t("./packages/common/i18n/i18n.jsx"),l=t("./packages/styleguide/icon/Icon.jsx"),s=t("./packages/common/tracking/tracking.jsx"),c=t("./packages/brand/global-nav/menus/TopLevelNavLink.jsx"),u=t("@ta/brand.trip-search-geopill-flyout"),d=t("./packages/brand/quick-links/QuickLinksMoreMenu.jsx"),p=t("./packages/brand/quick-links/QuickLinksLiteItem.less"),m=t.n(p),f=t("./packages/brand/quick-links/commonStyles.less"),b=t.n(f),v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var h=function(e){var n,t=Object(r.a)("ui_column",m.a.item,g({},m.a.extendedQuickLinks,e.extendedQuickLinks)),o=e.link,p="ICON"===e.displayMode;o&&o.icon&&b.a["order-"+o.icon]?t=Object(r.a)(t,b.a["order-"+o.icon],(g(n={},m.a.active,e.isActive),g(n,m.a.iconOnly,p),n)):e.isMoreTrigger&&(t=Object(r.a)(t,b.a["order-more"],g({},m.a.iconOnly,p)));var f=void 0;if(e.isMoreTrigger&&e.collapsedData)f=a.createElement(d.a,{collapsedData:e.collapsedData,fixedPopover:e.morePopoverFixed},a.createElement("div",{className:m.a.link},a.createElement(s.ClickTracker,{module:"QuickLinksMore",action:"click",context:"open"},p?a.createElement(l.a,{name:"more-horizontal"}):Object(i.localize)("common_more_capital_ffffe27f"))));else if(o){var h=!(!o.urlWithGeoTemplate&&!o.urlWithLatLngTemplate||e.isGeoScoped),k=function(e){return a.createElement(c.a,{setTarget:e,preventDefault:h,link:p?v({},o,{text:""}):o,showQuickLinkIcon:p,extraClasses:m.a.link,trackingModule:"QuickLinks"})};f=h?a.createElement(u.GeoPillFlyout,{latLngUrlTemplate:o.urlWithLatLngTemplate,geoUrlTemplate:o.urlWithGeoTemplate},function(e){return k(e)}):k()}else f=null;return a.createElement("span",{className:t},f)};h.defaultProps={isActive:!1,link:void 0,isMoreTrigger:!1,morePopoverFixed:!1,collapsedData:void 0,isGeoScoped:!1,extendedQuickLinks:!1};var k=h,_=t("./packages/brand/quick-links/QuickLinksLite.less"),y=t.n(_),O=function(e){var n=e.links,t=e.activeLinkId,o=e.isGeoScoped,i=e.extendedQuickLinks,l=e.displayMode;if(!n)return null;var s=n.filter(function(e){return!e.forceCollapse}),c={links:n.filter(function(e){return e.forceCollapse}),activeLinkId:t},u=Object(r.a)("ui_columns","is-mobile","is-multiline","is-gapless",y.a.quickLinks);return a.createElement("div",{className:u,"data-test-quick-links-lite":!0},s.map(function(e){return a.createElement(k,{link:e,isActive:!!t&&t===e.id,key:e.id,isGeoScoped:o,displayMode:"ICONS"===l?"ICON":"TEXT",extendedQuickLinks:i})}),a.createElement(k,{isMoreTrigger:!0,morePopoverFixed:!0,collapsedData:c,displayMode:"ICONS"===l?"ICON":"TEXT",extendedQuickLinks:i}))};O.defaultProps={displayMode:"ICONS"};n.a=Object(o.a)(O)},"./packages/brand/quick-links/QuickLinksLite.less":function(e,n,t){e.exports={quickLinks:"brand-quick-links-QuickLinksLite__quickLinks--2-Yk7"}},"./packages/brand/quick-links/QuickLinksLiteItem.less":function(e,n,t){e.exports={item:"brand-quick-links-QuickLinksLiteItem__item--z6CWH",active:"brand-quick-links-QuickLinksLiteItem__active--3Wgk4",link:"brand-quick-links-QuickLinksLiteItem__link--2bgC3",iconOnly:"brand-quick-links-QuickLinksLiteItem__iconOnly--3Nf-K",extendedQuickLinks:"brand-quick-links-QuickLinksLiteItem__extendedQuickLinks--3CUfk"}},"./packages/brand/quick-links/QuickLinksMoreMenu.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),o=t("@ta/overlays.popover"),i=t.n(o),l=t("./packages/events/window-resize/WindowResize.jsx"),s=t("./packages/brand/global-nav/menus/TopLevelNavLink.jsx"),c=t("./packages/brand/quick-links/QuickLinksMoreMenu.less"),u=t.n(c),d=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var p=8,m=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.updateArrowPos=function(){var e=t.wrapEl.current;e&&t.setState({arrowShift:-1*e.offsetWidth/2+10+p})},t.menuContents=function(){return t.props.collapsedData&&a.createElement("ul",{className:u.a.list},t.props.collapsedData.links.map(function(e){return a.createElement("li",{key:e.id,className:u.a.item},a.createElement(s.a,{link:e,extraClasses:u.a.link,trackingModule:"QuickLinks"}))}))},t.state={arrowShift:0},t.wrapEl=a.createRef(),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),d(n,[{key:"componentDidMount",value:function(){this.updateArrowPos()}},{key:"render",value:function(){var e=this,n=this.props.alignToRightEdge&&("MOBILE"===this.props.viewport||"TABLET"===this.props.viewport);return a.createElement(a.Fragment,null,a.createElement(i.a,{below:!0,closeButton:!1,backdrop:"MOBILE"===this.props.viewport,shiftX:n?-1*p:0,shiftY:-11,shiftArrow:this.state.arrowShift,fullBleed:!0,fixed:this.props.fixedPopover,alignEdge:n?"right":void 0,contents:this.menuContents},function(n,t){return a.createElement("div",{ref:e.wrapEl},a.createElement("div",{ref:n,onClick:t},e.props.children))}),a.createElement(l.a,{callback:this.updateArrowPos}),a.createElement("div",{className:u.a.hidden},this.menuContents()))}}]),n}();m.defaultProps={collapsedData:void 0,alignToRightEdge:!1,fixedPopover:!1},n.a=Object(r.connect)(function(e,n){return{viewport:e.meta.device.viewportCategory}})(m)},"./packages/brand/quick-links/QuickLinksMoreMenu.less":function(e,n,t){e.exports={list:"brand-quick-links-QuickLinksMoreMenu__list--2E0EZ",item:"brand-quick-links-QuickLinksMoreMenu__item--2fMLt",link:"brand-quick-links-QuickLinksMoreMenu__link--3H5v0",hidden:"brand-quick-links-QuickLinksMoreMenu__hidden--1rVTQ"}},"./packages/brand/quick-links/commonStyles.less":function(e,n,t){e.exports={"order-hotels":"brand-quick-links-commonStyles__order-hotels--2XwAX","order-vacation-rentals":"brand-quick-links-commonStyles__order-vacation-rentals--11QWk","order-travelers-choice-badge":"brand-quick-links-commonStyles__order-travelers-choice-badge--8KUu3","order-restaurants":"brand-quick-links-commonStyles__order-restaurants--fQGQd","order-attractions":"brand-quick-links-commonStyles__order-attractions--22bU4","order-flights":"brand-quick-links-commonStyles__order-flights--2Faa5","order-airlines":"brand-quick-links-commonStyles__order-airlines--hhq-x","order-forums":"brand-quick-links-commonStyles__order-forums--SwRaP","order-shopping-bag-fill":"brand-quick-links-commonStyles__order-shopping-bag-fill--3facp","order-cruises":"brand-quick-links-commonStyles__order-cruises--1k0l_","order-parking":"brand-quick-links-commonStyles__order-parking--1fBGH","order-on-the-beach":"brand-quick-links-commonStyles__order-on-the-beach--36iBi","order-more":"brand-quick-links-commonStyles__order-more--2Sy-W"}},"./packages/common/api/api.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/api/api.jsx")},"./packages/common/cdn/cdn.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var a=t("./node_modules/react-redux/es/index.js"),r=t("./node_modules/react/index.js"),o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};var i=function(e){return Object(a.connect)(function(e,n){return o({},n,{imgCdnUrl:e.meta.imageCdnUrl})})(e)},l=i(function(e){var n=e.imgCdnUrl,t=e.src,a=(e.dispatch,function(e,n){var t={};for(var a in e)n.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}(e,["imgCdnUrl","src","dispatch"])),i=/^\//.test(t)?"":"/";return r.createElement("img",o({},a,{src:""+n+i+t}))});n.b=i},"./packages/common/classnames/classnames.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return o});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(){for(var e=[],n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];for(var i=function(n){var o=t[n];if(o){var i=void 0===o?"undefined":a(o);"string"===i||"number"===i?e.push(o):Array.isArray(o)?e.push(r.apply(void 0,function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(o))):"object"===i&&Object.keys(o).filter(function(e){return o[e]}).forEach(function(n){return e.push(n)})}},l=0;l<t.length;l++)i(l);return e.join(" ")}function o(e,n,t){var a=e.split(" ").filter(function(e){return e!==n});return t&&a.push(t),a}},"./packages/common/data-cacher/DataCacher.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return l});var a=t("./node_modules/react/index.js"),r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var l=function(e){return function(n,t){return e.reduce(function(e,a){return e||n[a]!==t[a]},!1)}};n.b=function(e){return function(n){var t=function(t){function l(){var e,n,t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l);for(var a=arguments.length,r=Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=t=i(this,(e=l.__proto__||Object.getPrototypeOf(l)).call.apply(e,[this].concat(r))),t.oldProps=void 0,i(t,n)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(l,a.Component),o(l,[{key:"render",value:function(){var t=!this.oldProps||!this.props.loading||e&&e(this.oldProps,this.props);t&&(this.oldProps=r({},this.props,{loading:!0,cachedData:!0,newProps:this.props}));var o=r({},this.props,{cachedData:!1});return a.createElement(n,t?o:this.oldProps)}}]),l}();return t.displayName="DataCacher("+(n.displayName||n.name||"Unknown")+")",t}}},"./packages/common/features/features.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/features/features.jsx")},"./packages/common/geolocation/geolocation.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return a});var a=function(){return"undefined"!=typeof navigator&&void 0!==navigator.geolocation};n.b=function(e,n){e&&"function"==typeof e&&(a()?navigator.geolocation.getCurrentPosition(function(n){e(n.coords.latitude,n.coords.longitude)},function(e){"function"==typeof n&&n(e)}):n&&"function"==typeof n&&n(new Error("Location services not available")))}},"./packages/common/i18n/i18n.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/i18n/i18n.jsx")},"./packages/common/imports/imports.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/imports/imports.jsx")},"./packages/common/logging/logging.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/logging/logging.jsx")},"./packages/common/routing/routing.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/routing/routing.jsx")},"./packages/common/state/state.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/state/state.jsx")},"./packages/common/throttle/throttle.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/throttle/throttle.jsx")},"./packages/common/tracking/tracking.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/tracking/tracking.jsx")},"./packages/common/webview/NativeBridge.jsx":function(e,n,t){"use strict";function a(e){var n="";if(null!=e.tapCallback){var t=e.tapCallback,a="nativeInterop"+function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}();window[a]=function(){null!=t&&t()},n=a,e.tapFunction=n,e.tapCallback=null}}function r(){return"undefined"!=typeof window&&window.taBridgeContext?(window.bridge||window.bridge||(window.bridge=(e=[],n=0,t=[],document.addEventListener("PacificDidReceiveNativeCallback",function(n){if(n.detail){var t=n.detail,a=isNaN(parseInt(t.id))?-1:parseInt(t.id);-1!=a&&(e[a]&&e[a](t.parameters,t.error),delete e[a])}},!1),document.addEventListener("PacificDidReceiveNativeBroadcast",function(e){if(e.detail){var n=e.detail,a=n.name;if(void 0!==a&&t[a]){var r=t[a];if(r instanceof Array){var o=n.parameters;r.forEach(function(e){e(o)})}}}},!1),{post:function(t,a,r,o,i){var l=n++;e[l]=o,window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.pacific?window.webkit.messageHandlers.pacific.postMessage({action:t,parameters:a,uid:r,callback:l,print:i||0}):window.pacific&&window.pacific.postMessage(JSON.stringify({action:t,parameters:a,uid:r,callback:l,print:i||0}))},on:function(e,n){var a=t[e];return a||(t[e]=a=[]),a.push(n),function(){a[indexOf(a,n)]=null}},off:function(e){delete t[e]}})),window.taBridgeContext.uid):null;var e,n,t}function o(e,n){if("undefined"==typeof window||!window.taBridgeContext||!window.taBridgeContext.actions)return!1;var t=window.taBridgeContext.actions[e];return!(!t||!t.v)&&n===t.v}function i(e,n,t){r()&&(e?window.bridge.on(n,t):window.bridge.off(n))}function l(e){e.items.forEach(function(e,n){a(e)})}function s(e,n,t){var a=r();return!(!a||!o(e,n))&&(window.bridge.post(e,t||{},a),!0)}function c(){s("hideSkeleton",1,null)}function u(e){!function(e){null!=e.trailingMenuItems&&e.trailingMenuItems.forEach(function(e,n){var t=e;a(t),null!=t.nestedMenu&&l(t.nestedMenu)})}(e.navigation),s("onNewOrUpdatedScreen",1,e)}function d(e){l(e),s("overflowMenu",1,e)}function p(){o("map",2)?s("map",2,null):s("map",1,null)}function m(e){s("createTrip",1,{isPublic:e})}function f(e){s("shareTrip",1,e)}t.r(n),t.d(n,"isActionSupported",function(){return o}),t.d(n,"postToBridge",function(){return s}),t.d(n,"hideSkeleton",function(){return c}),t.d(n,"onNewOrUpdatedScreen",function(){return u}),t.d(n,"showNativeOverflowMenu",function(){return d}),t.d(n,"showNativeMap",function(){return p}),t.d(n,"showNativeCreateTrip",function(){return m}),t.d(n,"showNativeShareTrip",function(){return f}),t.d(n,"showSavesModal",function(){return b}),t.d(n,"showRegistration",function(){return v}),t.d(n,"close",function(){return g}),t.d(n,"startScreenTransition",function(){return h}),t.d(n,"onOverlayStateChange",function(){return k}),t.d(n,"onHeaderHeightChange",function(){return _}),t.d(n,"onShrinkMap",function(){return y}),t.d(n,"onNavigateToTripDetail",function(){return O}),t.d(n,"onHandleTripCollaboration",function(){return w}),t.d(n,"isNativeWebview",function(){return j}),t.d(n,"getHeaderHeight",function(){return E}),t.d(n,"onTripsRefetch",function(){return N}),t.d(n,"onTripUpdate",function(){return x}),t.d(n,"onTripItemDelete",function(){return C}),t.d(n,"onRefetchTripsWithItems",function(){return S});var b=function(e){o("presentSavesModal",2)?s("presentSavesModal",2,e):s("presentSavesModal",1,{itemId:e.id})},v=function(e){s("showReg",1,{dismissOnCancellation:e})};function g(){s("close",1,null)}function h(){s("startScreenTransition",1,null)}function k(e){s(e?"overlayShown":"overlayHidden",1,null)}function _(e,n){i(e,"updateHeaderHeight",n)}function y(e,n){i(e,"shrinkMap",n)}function O(e,n){i(e,"navigateToTripDetail",n)}function w(e,n){i(e,"handleTripCollaboration",n)}function j(){return null!=r()}function E(){if("undefined"!=typeof window&&void 0!==window.localStorage&&void 0!==window.localStorage.headerHeight){var e=window.localStorage.headerHeight;return"string"==typeof e&&(e=parseInt(e,10)),e}return 0}function N(e,n){i(e,"refetchTrips",n)}function x(e){s("tripUpdate",1,e)}function C(e){s("tripItemDelete",1,e)}function S(e,n){i(e,"refetchTripsWithItems",n)}},"./packages/common/webview/webview.jsx":function(e,n,t){"use strict";var a=t("./packages/common/webview/NativeBridge.jsx");t.d(n,"a",function(){return a})},"./packages/events/event-boundary/EventBoundary.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};var o=function(e){e.stopPropagation()},i=function(e){var n=e.events,t=e.className,i=e.children;return a.createElement("div",r({className:t},n.reduce(function(e,n){return r({},e,(i=o,(a=n)in(t={})?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t));var t,a,i},{})),i)};i.defaultProps={className:void 0},n.a=i},"./packages/events/keyboard-event-listener/KeyboardEventListener.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var o=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleEvent=function(e){var n=e.key;n&&-1!==t.keyNames.indexOf(n)&&t.props.callback(e)},t.keyNames=Array.isArray(e.keyName)?e.keyName:[e.keyName],t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),r(n,[{key:"componentDidMount",value:function(){window.addEventListener(this.props.eventType,this.handleEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(this.props.eventType,this.handleEvent)}},{key:"render",value:function(){return null}}]),n}();o.defaultProps={eventType:"keydown"},n.a=o},"./packages/events/window-resize/WindowResize.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/throttle/throttle.jsx"),o=t.n(r),i=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function l(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var s=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=a=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.handleResize=o()(function(){a.props.callback()},a.props.throttle||0,a.props.useDebounce),l(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),i(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){return null}}]),n}();s.defaultProps={throttle:200,useDebounce:!1},n.a=s},"./packages/events/window-scroll/WindowScroll.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/throttle/throttle.jsx"),o=t.n(r),i=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function l(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var s=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=a=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.handleScroll=a.props.throttle?o()(function(){a.props.callback()},a.props.throttle,a.props.useDebounce):a.props.callback,l(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),i(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.disableListeners()}},{key:"disableListeners",value:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleScroll)}},{key:"render",value:function(){return null}}]),n}();s.defaultProps={throttle:200,useDebounce:!1},n.a=s},"./packages/input/text-input/ManagedTextInput.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),o=t("./packages/input/text-input/ManagedTextInput.less"),i=t.n(o),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var s=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.newListener=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){t.props.onInteractionStart&&!t.state.interactionStarted&&t.props.onInteractionStart(a),t.setState({composing:n});var r=a.currentTarget.value;t.props[e]&&t.props[e](a,r,t.state.composing),t.setState({interactionStarted:!0})}},t.onFocus=t.newListener("onFocus"),t.onBlur=t.newListener("onBlur"),t.onChange=t.newListener("onChange"),t.onKeyUp=t.newListener("onKeyUp"),t.onKeyDown=t.newListener("onKeyDown"),t.onCompositionStart=t.newListener("onCompositionStart",!0),t.onCompositionEnd=t.newListener("onCompositionEnd"),t.state={interactionStarted:!1,composing:!1},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),l(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.inputElem&&this.inputElem.focus()}},{key:"componentDidUpdate",value:function(){this.props.focusOnUpdate&&this.inputElem&&this.inputElem.focus()}},{key:"render",value:function(){var e=this,n={fontSize:this.props.fontSize,lineHeight:this.props.lineHeight};return a.createElement("input",{id:this.props.id,type:this.props.type,name:this.props.name,value:this.props.value,maxLength:this.props.maxLength,className:Object(r.a)(i.a.managedInput,this.props.className),style:n,placeholder:this.props.placeholder,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onCompositionStart:this.onCompositionStart,onCompositionEnd:this.onCompositionEnd,ref:function(n){e.inputElem=n,e.props.onRef&&e.props.onRef(n)}})}}]),n}();s.defaultProps={id:void 0,name:void 0,value:void 0,type:"text",className:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,onFocus:void 0,onBlur:void 0,onChange:void 0,onKeyUp:void 0,onKeyDown:void 0,onCompositionStart:void 0,onCompositionEnd:void 0,onInteractionStart:void 0,onRef:void 0,onCTAClick:void 0},n.a=s},"./packages/input/text-input/ManagedTextInput.less":function(e,n,t){e.exports={managedInput:"input-text-input-ManagedTextInput__managedInput--106PS"}},"./packages/input/text-input/TextInput.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),o=t("./packages/input/text-input/ManagedTextInput.jsx"),i=t("./packages/input/text-input/TextInput.less"),l=t.n(i),s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};n.a=function(e){var n=Object(r.a)(l.a.inputElement,e.className),t=s({},e,{className:n});return a.createElement(o.a,t)}},"./packages/input/text-input/TextInput.less":function(e,n,t){e.exports={inputElement:"input-text-input-TextInput__inputElement--3z9Nm"}},"./packages/social/confirm-username/CheckUsernameQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckUsernameQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkUsername"},arguments:[{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:103}};t.loc.source={body:"query CheckUsernameQuery($username: String!) {\n  checkUsername(username: $username) {\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/ConfirmUsername.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),o=t("./node_modules/react-redux/es/index.js"),i=t("./packages/styleguide/loading/LoadingSpinner.jsx"),l=t("./packages/common/i18n/i18n.jsx"),s=t("./packages/common/logging/logging.jsx"),c=t.n(s),u=t("./packages/input/text-input/TextInput.jsx"),d=t("@ta/social.button"),p=t.n(d),m=t("./packages/common/classnames/classnames.jsx"),f=t("./packages/common/tracking/tracking.jsx"),b=t.n(f),v=t("./node_modules/lodash/debounce.js"),g=t.n(v),h=t("./packages/social/confirm-username/ConfirmUsername.less"),k=t.n(h),_=t("./packages/social/confirm-username/UpdateInsightProfileCardAction.gql"),y=t.n(_),O=t("./packages/social/confirm-username/SubmitOnMount.jsx"),w=new Set,j=Object(o.connect)(function(e){return{userId:e.auth.loggedInUserId,taUnique:e.meta.taUnique}})(function(e){var n=e.userId,t=e.taUnique,o=e.cardId,i=e.cardAction;return w.has(o)?null:(w.add(o),a.createElement(r.Mutation,{mutation:y.a},function(e){var r={userId:n,taUnique:t,cardId:o,cardAction:i};return a.createElement(O.a,{submit:function(){e({variables:r})}})}))}),E=t("./packages/social/confirm-username/ScreenCompleteMutation.gql"),N=t.n(E),x=t("./packages/social/confirm-username/UsernameValidationMutation.gql"),C=t.n(x),S=t("./packages/social/confirm-username/ConfirmUsernameQuery.gql"),T=t.n(S),P=t("./packages/social/confirm-username/CheckUsernameQuery.gql"),L=t.n(P);t.d(n,"b",function(){return A});var I=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function M(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var U="Social_onboarding_unknown",B=/^[a-zA-Z]+\d{11}$/,R=function(e){return e&&"string"==typeof e&&e.match(B)},A=function(e){return e.states.find(function(e){return"ONBOARDING_CONFIRM_USER"===e.id&&"COMPLETED"===e.state})},D=function(e){return e.accepted?null:a.createElement("div",{className:k.a.terms},Object(l.unescaped)(Object(l.localize)("social_legal_tou_returnmem_confirm",{0:"/pages/terms.html",1:k.a.link})))},F=function(e){var n=e.usernameMutationVars,t=e.screenCompleteMutationVars,o=e.onUsernameValid,i=e.screenCompleteCallback,l=e.children,s=e.textInputIsInvalid;return a.createElement(r.Mutation,{mutation:N.a,refetchQueries:[{query:T.a,variables:{userId:n.userId}}]},function(e){return a.createElement(r.Mutation,{mutation:C.a,onCompleted:function(n){o(n)&&(e({variables:t}),i())}},function(e){return a.createElement("form",{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},onSubmit:function(t){t.preventDefault&&t.preventDefault(),s()||e({variables:n})}},l)})})};F.defaultProps={children:null};var z=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onChange=function(e,n){t.state.dataInput=!0,t.setState(M({},e,n)),"username"===e&&"string"==typeof n&&(t.clearErrorState("username"),t.debouncedHandleUsernameChange(n))},t.setErrorState=function(e){var n=t.state.name?t.state.name:Object(l.localize)("onboarding_social_name_screen_display_name_field_v2"),r=t.state.username?t.state.username:Object(l.localize)("social_edit_profile_username");switch(e){case"USERNAME_TOO_SHORT":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_too_short",{0:r})),"username");break;case"USERNAME_TOO_LONG":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_too_long",{0:r})),"username");break;case"USERNAME_INVALID_CHARACTERS":t.setError(Object(l.unescaped)(Object(l.localize)("profile_update_error_username_invalid_characters")),"username");break;case"USERNAME_ALREADY_EXISTS":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_already_exists",{0:r})),"username");break;case"USERNAME_CONTAINS_PROFANITY":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_contains_profanity")),"username");break;case"USERNAME_CONTAINS_TA_WORDS":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_contains_ta_words")),"username");break;case"DISPLAYNAME_TOO_SHORT":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("mobile_profile_update_error_display_name_too_short")),"displayname");break;case"DISPLAYNAME_TOO_LONG":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_display_name_too_long",{0:n})),"displayname");break;case"DISPLAYNAME_CONTAINS_PROFANITY":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_contains_profanity")),"displayname");break;case"DISPLAYNAME_CONTAINS_TA_WORDS":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_contains_ta_words")),"displayname");break;default:c.a.error("Unknown username edit error: "+e),t.setError(a.createElement(a.Fragment,null,Object(l.localize)("social_loading_error_1")),"username")}},t.setError=function(e,n){t.setState({error:{message:e,field:n,advisory:!1}})},t.setAdvisory=function(e,n){t.setState({error:{message:e,field:n,advisory:!0}})},t.clearErrorState=function(e){t.setAdvisory(null,e)},t.hasError=function(e){return t.state.error&&t.state.error.field===e},t.isAdvisory=function(){return t.state.error&&t.state.error.advisory},t.newUser=function(){return!t.props.displayName||!t.props.username||R(t.props.username)},t.handleUsernameChange=function(e){t.props.client.query({query:L.a,variables:{username:e},fetchPolicy:"no-cache"}).then(function(e){var n=e.data.checkUsername.status;"OK"!==n?"USERNAME_IS_SAME"===n?t.clearErrorState("username"):t.setErrorState(n):t.setAdvisory(a.createElement("span",{className:k.a.advisory},Object(l.localize)("social_username_available")),"username")})},t.debouncedHandleUsernameChange=g()(t.handleUsernameChange,500),t.state={name:R(e.username)?"":e.displayName,username:R(e.username)?"":e.username,error:null,dataInput:!1},U=e.trackingModule,t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),I(n,[{key:"componentDidMount",value:function(){var e=R(this.props.username);b()({module:U,action:"namescreen_displayname",context:this.props.displayName&&!e?"prefilled":"blank"}),b()({module:U,action:"namescreen_username",context:this.props.username&&!e?"prefilled":"blank"})}},{key:"render",value:function(){var e=this;return a.createElement(F,{usernameMutationVars:{userId:this.props.userId,displayName:this.props.displayName!==this.state.name?this.state.name:null,username:this.props.username!==this.state.username?this.state.username:null},screenCompleteMutationVars:{userId:this.props.userId,taUnique:this.props.taUnique,cardId:"ONBOARDING_CONFIRM_USER",cardState:"COMPLETED",newlyAccepted:!this.props.acceptedTou},screenCompleteCallback:function(){e.props.onComplete(e.state.dataInput)},onUsernameValid:function(n){return"OK"===n.updateMemberProfile.status?(b()({module:U,action:"namescreen_complete_success",context:""}),!0):(e.setErrorState(n.updateMemberProfile.status),b()({module:U,action:"namescreen_submit_error",context:n.updateMemberProfile.status}),!1)},textInputIsInvalid:function(){return e.state.name?!e.state.username&&(e.setErrorState("USERNAME_TOO_SHORT"),!0):(e.setErrorState("DISPLAYNAME_TOO_SHORT"),!0)}},a.createElement(a.Fragment,null,a.createElement(j,{cardId:"ONBOARDING_CONFIRM_USER",cardAction:"SHOW"}),a.createElement("div",{className:k.a.contentWrapper},a.createElement("div",{className:k.a.title},this.newUser()?Object(l.localize)("onboarding_social_name_screen_new_header"):Object(l.localize)("onboarding_social_name_screen_returning_header")),a.createElement("div",{className:"ui_label_group"},a.createElement("span",{className:k.a.label},Object(l.localize)("onboarding_social_name_screen_display_name_field_v2")),a.createElement("span",{className:k.a.helperText},Object(l.localize)("onboarding_social_name_screen_display_name_helper_text_period_814")),a.createElement(u.a,{maxLength:40,value:this.state.name||"",className:Object(m.a)(k.a.editInput,M({},k.a.errorInputBox,this.hasError("displayname"))),onChange:function(n,t){return e.onChange("name",t)},placeholder:Object(l.localize)("onboarding_social_name_screen_display_name_ghost_text")}),Object(l.unescaped)("&nbsp;"),this.state.error&&this.hasError("displayname")&&a.createElement("span",{className:k.a.errorLabel},this.state.error.message)),a.createElement("div",{className:"ui_label_group"},a.createElement("span",{className:k.a.label},Object(l.localize)("social_edit_profile_username")),a.createElement("span",{className:k.a.helperText},Object(l.localize)("onboarding_social_name_screen_username_helper_text_period_814")),a.createElement("span",{className:k.a.username},a.createElement(u.a,{maxLength:20,value:this.state.username||"",className:Object(m.a)(k.a.usernameInput,k.a.editInput,M({},k.a.errorInputBox,this.hasError("username")&&!this.isAdvisory())),onChange:function(n,t){return e.onChange("username",t)},placeholder:Object(l.localize)("onboarding_social_name_screen_username_ghost_text")}),Object(l.unescaped)("&nbsp;"),this.state.error&&this.hasError("username")&&a.createElement("span",{className:k.a.errorLabel},this.state.error.message))),a.createElement(D,{accepted:this.props.acceptedTou}),a.createElement("div",{className:k.a.buttonContainer},a.createElement(f.Track,{click:{module:U,action:"namescreen_confirm_click",context:""},visible:{module:U,action:"namescreen_shown",context:""}},a.createElement(p.a,{type:"primary",size:"fullwidth"},Object(l.localize)("onboarding_social_name_screen_cta")))))))}}]),n}();n.a=Object(o.connect)(function(e){return{userId:e.auth.loggedInUserId,taUnique:e.meta.taUnique}})(function(e){return a.createElement(r.Query,{query:T.a,variables:{userId:e.userId},fetchPolicy:"network-only"},function(n){var t=n.loading,o=n.data,s=n.error,u=n.refetch;if(s)return c.a.error("Error in ConfirmUsername query: "+s),b()({module:U,action:"confirmusername_query_error_shown",context:e.userId}),a.createElement("div",{className:k.a.ui_error},Object(l.localize)("compliment_9bd"),a.createElement("div",{className:k.a.ui_error_button},a.createElement(p.a,{type:"primary",onClick:function(){return u()}},Object(l.localize)("link_uploader_refresh")),a.createElement(p.a,{type:"primary",onClick:e.closerForError},Object(l.localize)("btn_cancel"))));if(t)return a.createElement("div",{className:k.a.spinner},a.createElement(i.a,null));if(o){var d=o.getTermOfUseAcceptanceInfo&&o.getTermOfUseAcceptanceInfo.accepted,m=o.insightProfile&&o.insightProfile.uiCardsState;if(m&&A(m)&&d)return e.onComplete(!1),null;var f=o.memberProfiles[0],v=f?f.displayName:"",g=f?f.username:"";return a.createElement(r.ApolloConsumer,null,function(n){return a.createElement(z,{userId:e.userId,taUnique:e.taUnique,displayName:v,username:g,onComplete:e.onComplete,trackingModule:e.trackingModule,acceptedTou:d,client:n})})}return null})})},"./packages/social/confirm-username/ConfirmUsername.less":function(e,n,t){e.exports={contentWrapper:"social-confirm-username-ConfirmUsername__contentWrapper--3dBff",title:"social-confirm-username-ConfirmUsername__title--1S1KY",label:"social-confirm-username-ConfirmUsername__label--j1lup",terms:"social-confirm-username-ConfirmUsername__terms--2A-Lt",link:"social-confirm-username-ConfirmUsername__link--1xodC",spinner:"social-confirm-username-ConfirmUsername__spinner--2qYGC",username:"social-confirm-username-ConfirmUsername__username--2E0nZ",usernameInput:"social-confirm-username-ConfirmUsername__usernameInput--j7Nkq",editInput:"social-confirm-username-ConfirmUsername__editInput--2YaOq",errorInputBox:"social-confirm-username-ConfirmUsername__errorInputBox--2Jq5w",errorLabel:"social-confirm-username-ConfirmUsername__errorLabel--NHCYk",advisory:"social-confirm-username-ConfirmUsername__advisory--1OLFY",helperText:"social-confirm-username-ConfirmUsername__helperText--38Jus",buttonContainer:"social-confirm-username-ConfirmUsername__buttonContainer--Rhlcv",ui_error:"social-confirm-username-ConfirmUsername__ui_error--3erWq",ui_error_button:"social-confirm-username-ConfirmUsername__ui_error_button--3hamo"}},"./packages/social/confirm-username/ConfirmUsernameQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConfirmUsernameQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberProfiles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userIds"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insightProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uiCardsState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"getTermOfUseAcceptanceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:273}};t.loc.source={body:"query ConfirmUsernameQuery($userId: String!) {\n  memberProfiles(userIds: [{ id: $userId }]) {\n    displayName\n    username\n  }\n  insightProfile {\n    uiCardsState {\n      states {\n        id\n        state\n      }\n    }\n  }\n  getTermOfUseAcceptanceInfo {\n    accepted\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/ScreenCompleteMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConfirmUsernameComplete"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taUnique"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardTypeEnumInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardState"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardStateEnumInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newlyAccepted"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateInsightProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"request"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"taUnique"},value:{kind:"Variable",name:{kind:"Name",value:"taUnique"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"profile"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uiCardsState"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"ObjectField",name:{kind:"Name",value:"state"},value:{kind:"Variable",name:{kind:"Name",value:"cardState"}}}]}]}}]}}]}}]}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"acceptTermsOfUse"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"newlyAccepted"}}}]}]}]}}],loc:{start:0,end:398}};t.loc.source={body:"mutation ConfirmUsernameComplete(\n  $userId: String!\n  $taUnique: String\n  $cardId: CardTypeEnumInput\n  $cardState: CardStateEnumInput\n  $newlyAccepted: Boolean!\n) {\n  updateInsightProfile(\n    request: {\n      id: { userId: $userId, taUnique: $taUnique }\n      profile: { uiCardsState: { states: [{ id: $cardId, state: $cardState }] } }\n    }\n  )\n  acceptTermsOfUse @include(if: $newlyAccepted)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/SubmitOnMount.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var i=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=a=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.componentDidMount=function(){a.props.submit()},o(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),r(n,[{key:"render",value:function(){return null}}]),n}();n.a=i},"./packages/social/confirm-username/UpdateInsightProfileCardAction.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateInsightProfile"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taUnique"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CardTypeEnumInput"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardAction"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActionTypeEnumInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateInsightProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"request"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"taUnique"},value:{kind:"Variable",name:{kind:"Name",value:"taUnique"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"profile"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uiCardActions"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"ObjectField",name:{kind:"Name",value:"cardAction"},value:{kind:"Variable",name:{kind:"Name",value:"cardAction"}}}]}]}}]}}]}}],directives:[]}]}}],loc:{start:0,end:323}};t.loc.source={body:"mutation updateInsightProfile(\n  $userId: String\n  $taUnique: String!\n  $cardId: CardTypeEnumInput!\n  $cardAction: ActionTypeEnumInput!\n) {\n  updateInsightProfile(\n    request: {\n      id: { userId: $userId, taUnique: $taUnique }\n      profile: { uiCardActions: [{ cardId: $cardId, cardAction: $cardAction }] }\n    }\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/UsernameValidationMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UsernameValidation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"displayName"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateMemberProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"displayName"}}},{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:263}};t.loc.source={body:"mutation UsernameValidation($userId: String!, $displayName: String, $username: String) {\n  updateMemberProfile(userId: $userId, displayName: $displayName, username: $username) {\n    status\n    memberProfile {\n      id\n      displayName\n      username\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/failover/FailoverMessage.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/i18n/i18n.jsx"),o=t("./packages/social/failover/FailoverMessage.less"),i=t.n(o);n.a=function(){return a.createElement("div",{className:i.a.container},a.createElement("p",{className:i.a.heading},Object(r.localize)("social_readonly_message_main")," "),a.createElement("p",{className:i.a.body},Object(r.localize)("social_readonly_message_subtext")," "))}},"./packages/social/failover/FailoverMessage.less":function(e,n,t){e.exports={container:"social-failover-FailoverMessage__container--1_AV5",heading:"social-failover-FailoverMessage__heading--vxjBu",body:"social-failover-FailoverMessage__body--_U4tV"}},"./packages/social/login-gate/AuthGated.jsx":function(e,n,t){"use strict";(function(e){var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),o=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),i=t("./packages/common/webview/webview.jsx"),l=t("@ta/tracking.interactions"),s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},c=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var d=function(n){function t(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(t,a["Component"]),c(t,[{key:"formatInteraction",value:function(e){var n=this.props.tracking;return n?{variables:{interaction:u({},n.source,u({},e,s({element:n.element},n.attributes||{})))}}:null}},{key:"renderInner",value:function(n){var t=this.props,a=t.loggedInUserId,r=t.pid,o=t.flowOrigin,l=t.flow,s=t.extraQueryParams,c=t.onClose;return(0,t.children)(function(){return new Promise(function(t){if(a)t();else if(i.a.isNativeWebview())i.a.showRegistration(!1);else{var u={flow:l||"CORE_COMBINED",pid:r||-1,userRequestedForce:!0,extraQueryParams:s||{},locationId:window.require("page-model").GEO_ID,onSuccess:function(e){n("modalSuccess"),t(e)},onClose:c};o&&(u.extraQueryParams.flowOrigin=o),e.require(["trjs!ta/registration/RegOverlay"],function(e){n("elementClick"),e.showRegOverlayByPageModel(null,null,window.require("page-model"),u)})}})},a)}},{key:"render",value:function(){var e=this;return a.createElement(o.Mutation,{mutation:l.LogInteractionV4},function(n){return e.renderInner(function(t){var a=e.formatInteraction(t);a&&n(a)})})}}]),t}();n.a=Object(r.connect)(function(e,n){return s({loggedInUserId:e.auth.loggedInUserId},n)})(d)}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./packages/social/login-gate/ReadonlyMessageOverlay.less":function(e,n,t){e.exports={container:"social-login-gate-ReadonlyMessageOverlay__container--2soKz",bodyContent:"social-login-gate-ReadonlyMessageOverlay__bodyContent--1Mt3g"}},"./packages/social/login-gate/SocialLoginGate.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),o=t("./packages/common/features/features.jsx"),i=t("./packages/social/failover/FailoverMessage.jsx"),l=t("./packages/social/login-gate/AuthGated.jsx"),s=t("./packages/social/login-gate/TermsOfUseOverlay.jsx"),c=t("@ta/overlays.fullscreen-overlay"),u=t.n(c),d=t("@ta/overlays.pieces"),p=t("./packages/events/keyboard-event-listener/KeyboardEventListener.jsx"),m=t("./packages/social/login-gate/ReadonlyMessageOverlay.less"),f=t.n(m),b=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},v={position:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},g=function(e){var n=a.createElement("div",{className:f.a.container},a.createElement("div",{className:f.a.bodyContent},e.children),a.createElement(d.CloseX,{close:e.closer}));return e.fullscreen?a.createElement(a.Fragment,null,a.createElement(u.a,null,n)):a.createElement(a.Fragment,null,a.createElement(d.BlockScroll,null),a.createElement(d.Backdrop,{close:e.closer},a.createElement(d.Overlay,v,n),a.createElement(p.a,{keyName:"Escape",callback:e.closer})))};g.defaultProps={fullscreen:!1,onClose:null};var h=Object(r.connect)(function(e,n){return b({},n,{fullscreen:n.fullscreenAlways||"MOBILE"===e.meta.device.viewportCategory})})(g),k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function y(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var O=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=y(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.state={openTermsOfUseOverlay:!1,onSuccess:function(){},forceTermsOfUse:!1,openReadonlyOverlay:!1},a.closeTermsOfUseOverlay=function(){a.setState({openTermsOfUseOverlay:!1,onSuccess:function(){}})},a.openReadonlyOverlay=function(){a.setState({openReadonlyOverlay:!0})},a.closeReadonlyOverlay=function(){a.setState({openReadonlyOverlay:!1})},y(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),_(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.pid,r=n.flowOrigin,c=n.children,u=n.onClose,d=n.tracking,p=n.isReadonlyMode;return a.createElement(l.a,{pid:t,flowOrigin:r,extraQueryParams:{social:!0},onClose:u,tracking:d},function(n,t){var r=p?function(){return e.openReadonlyOverlay(),Promise.reject()}:Object(o.featureIsEnabled)("social_2018_login_gate")?function(){return n().then(function(n){var t=n&&(n.hasCreatedMember||!n.hasAcceptedTermsOfUse);return n&&!t||Object(o.featureIsEnabled)("social_2018_login_gate_skip_terms_of_service")?Promise.resolve():new Promise(function(n){e.setState({openTermsOfUseOverlay:!0,forceTermsOfUse:t,onSuccess:function(){n(),e.setState({openTermsOfUseOverlay:!1,onSuccess:function(){}})}})})})}:function(){return Promise.resolve()};return a.createElement(a.Fragment,null,c(r,t),e.state.openTermsOfUseOverlay&&a.createElement(s.a,{onComplete:e.state.onSuccess,forceTermsOfUse:e.state.forceTermsOfUse,onClose:e.closeTermsOfUseOverlay}),e.state.openReadonlyOverlay&&a.createElement(h,{closer:e.closeReadonlyOverlay},a.createElement(i.a,null)))})}}]),n}();O.defaultProps={pid:-1,flowOrigin:void 0,tracking:void 0};n.a=Object(r.connect)(function(e,n){return k({isReadonlyMode:e.meta.readonlyMode},n)})(O)},"./packages/social/login-gate/TermsOfUseOverlay.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),o=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),i=t("./packages/common/logging/logging.jsx"),l=t.n(i),s=t("@ta/overlays.fullscreen-overlay"),c=t.n(s),u=t("@ta/overlays.managers"),d=t("@ta/overlays.pieces"),p=t("./packages/social/confirm-username/ConfirmUsername.jsx"),m=t("./packages/social/login-gate/TermsOverlayQuery.gql"),f=t.n(m),b=t("./packages/social/login-gate/TermsOfUseOverlay.less"),v=t.n(b),g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},h={position:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},k=function(e){var n=e.onComplete,t=e.children;return a.createElement(o.Query,{query:f.a},function(e){var a=e.loading,r=e.data,o=e.error;if(a)return null;if(r){var i=r.getTermOfUseAcceptanceInfo&&r.getTermOfUseAcceptanceInfo.accepted,s=r.insightProfile&&r.insightProfile.uiCardsState;return i&&s&&Object(p.b)(s)?(n(),null):t}return o&&l.a.warn("Error in SkipIfCompleted query: "+o),l.a.warn("TermsOfUseOverlay was shown due to lack of sufficient information or a query error."),t})},_=function(e){var n=function(n){return a.createElement("div",{className:v.a.container},a.createElement("div",{className:v.a.bodyContent},a.createElement(p.a,{onComplete:e.onComplete,closerForError:n,trackingModule:"Social_onboarding_gatedaction"})))},t=function(){return a.createElement(u.Closer,null,function(t){var r=function(){t(),e.onClose&&e.onClose()};return e.fullscreen?a.createElement(a.Fragment,null,a.createElement(c.a,null,n(r))):a.createElement(a.Fragment,null,a.createElement(d.BlockScroll,null),a.createElement(d.Backdrop,{close:function(){}},a.createElement(d.Overlay,h,n(r))))})};return e.forceTermsOfUse?a.createElement(t,null):a.createElement(k,{onComplete:e.onComplete},a.createElement(t,null))};_.defaultProps={fullscreen:!1,onClose:null,forceTermsOfUse:!1};var y=Object(r.connect)(function(e,n){return g({},n,{fullscreen:n.fullscreenAlways||"MOBILE"===e.meta.device.viewportCategory})})(_);n.a=y},"./packages/social/login-gate/TermsOfUseOverlay.less":function(e,n,t){e.exports={container:"social-login-gate-TermsOfUseOverlay__container--2cdv9",bodyContent:"social-login-gate-TermsOfUseOverlay__bodyContent--17ySl"}},"./packages/social/login-gate/TermsOverlayQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TermsOverlay"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insightProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uiCardsState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"getTermOfUseAcceptanceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};t.loc.source={body:"query TermsOverlay {\n  insightProfile {\n    uiCardsState {\n      states {\n        id\n        state\n      }\n    }\n  }\n  getTermOfUseAcceptanceInfo {\n    accepted\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/styleguide/avatar/Avatar.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),o=t("./node_modules/react-redux/es/index.js"),i=t("./packages/common/routing/routing.jsx"),l=t("./packages/styleguide/icon/Icon.jsx"),s=t("@ta/media.image"),c=t("./packages/styleguide/avatar/Avatar.less"),u=t.n(c),d={"xtra-small":24,small:32,default:42,large:72,"xtra-large":120},p={className:void 0,photo:void 0,icon:null,size:"default",tabletSize:null,desktopSize:null,widescreenSize:null,display:null,href:"",target:"_blank",mobileTarget:null,onClick:void 0,imgCdnUrl:"",alt:"",withBorder:!1,notLazy:!1},m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",t=d[n],a=null;if(e&&e.photoSizes&&e.photoSizes.length>0){var r=e.photoSizes.find(function(e){return e.width>=t?e.url:null});a=r?r.url:e.photoSizes[e.photoSizes.length-1].url}return a},f=function(e){var n,t,r=e.photoUrl,o=e.imgCdnUrl,i=e.icon,c=e.alt,u=e.notLazy;return a.createElement(a.Fragment,null,r?function(e,n,t){return t?a.createElement("img",{src:e,alt:n}):a.createElement(s.LazyImage,{src:e,alt:n})}((t=o,0===(n=r).indexOf("http://")||0===n.indexOf("https://")?n:t?t+n:n),c||"",u):a.createElement(l.a,{name:"member-fill"}),i&&a.createElement("div",{className:i}))},b=function(e){return a.createElement(i.ResponsiveTargetLink,{className:e.className,href:e.href,target:e.target,mobileTarget:e.mobileTarget,onClick:e.onClick},a.createElement(f,{photoUrl:e.photoUrl,imgCdnUrl:e.imgCdnUrl,icon:e.icon,alt:e.alt,notLazy:e.notLazy}))};function v(e){var n=e.photo,t=e.photoUrl,o=e.imgCdnUrl,i=e.viewportCategory,l=e.icon,s=e.size,c=e.tabletSize,d=e.desktopSize,p=e.widescreenSize,v=e.display,g=e.href,h=e.onClick,k=e.alt,_=e.withBorder?"ui_social_avatar":"ui_avatar",y="default"!==e.size&&e.size,O=c?c+"-tablet":null,w=d?d+"-desktop":null,j=p?p+"-widescreen":null,E=Object(r.a)(u.a.avatar,_,y,O,w,j,v,e.className),N=void 0;N="DESKTOP"===i?d||c||s:"TABLET"===i&&c||s;var x=n?m(n,N):t;return g?a.createElement(b,{photoUrl:x,imgCdnUrl:e.imgCdnUrl,icon:e.icon,href:e.href,target:e.target,mobileTarget:e.mobileTarget,onClick:e.onClick,alt:e.alt,className:E,withBorder:e.withBorder,notLazy:e.notLazy}):a.createElement("span",{className:E,onClick:h},a.createElement(f,{photoUrl:x,imgCdnUrl:o,icon:l,alt:k,notLazy:e.notLazy}))}b.defaultProps={photoUrl:null,icon:p.icon,className:p.className,href:p.href,target:p.target,onClick:p.onClick,imgCdnUrl:p.imgCdnUrl,alt:p.alt,withBorder:p.withBorder,mobileTarget:p.mobileTarget},f.defaultProps={photoUrl:b.defaultProps.photoUrl,imgCdnUrl:p.imgCdnUrl,icon:p.icon,alt:p.alt,notLazy:p.notLazy},v.defaultProps=p;var g=Object(o.connect)(function(e,n){return{imgCdnUrl:e.meta.imageCdnUrl,viewportCategory:e.meta.device.viewportCategory}})(v);n.a=g},"./packages/styleguide/avatar/Avatar.less":function(e,n,t){e.exports={avatar:"styleguide-avatar-Avatar__avatar--3x5_a"}},"./packages/styleguide/button/Button.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),o=function(e){var n=e.children,t=e.size,o=e.type,i=e.chevron,l=e.loading,s=e.disabled,c=e.onClick;return a.createElement("button",{className:Object(r.a)("ui_button","none"!==o?o:"","default"!==t?t:"",{chevron:i,disabled:s,loading:l}),disabled:s,onClick:c},n)};o.defaultProps={children:null,onClick:function(){},type:"original",size:"default",chevron:!1,loading:!1,disabled:!1},n.a=o},"./packages/styleguide/icon/Icon.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=function(e){var n=e.name,t=e.className;return a.createElement("span",{className:"ui_icon "+n+" "+t})};r.defaultProps={className:""},n.a=r},"./packages/styleguide/loading/LoadingSpinner.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=function(e){var n=e.size,t=e.inverted;return a.createElement("div",{className:"ui_spinner "+(n||"")+" "+(t?"inverted":"")})};r.defaultProps={size:void 0,inverted:!1},n.a=r},"./packages/styleguide/nav-tabs/NavTabs.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),o=function(e){var n=Object(r.a)("ui_tabs",e.className,{inverted:e.inverted,centered:e.centered,small:"small"===e.size,medium:"medium"===e.size,large:"large"===e.size});return a.createElement("div",{className:n},e.children)};o.defaultProps={inverted:!1,centered:!1,size:"medium",className:void 0};var i=function(e){var n=Object(r.a)("ui_tab",{active:e.active});return a.createElement(e.tagName,{className:n},e.children)};i.defaultProps={active:!1,tagName:"span"},n.b=o},"./packages/trips/states/LoggedOut.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/i18n/i18n.jsx"),o=t("./packages/common/cdn/cdn.jsx"),i=t("./packages/common/classnames/classnames.jsx"),l=t("@ta/social.button"),s=t.n(l),c=t("./packages/social/login-gate/SocialLoginGate.jsx"),u=t("./packages/trips/states/LoggedOut.less"),d=t.n(u),p=function(e){var n=e.redirectUrl,t=function(){n&&(window.location=n)};return a.createElement("div",{className:d.a.logged_out_container},a.createElement("div",{className:d.a.section_one},a.createElement(o.a,{className:d.a.ta_logo,src:"/img2/branding/rebrand/TA_logo_primary.svg"}),a.createElement("div",{className:Object(i.a)(d.a.say_hello,d.a.header)},Object(r.localize)("logged_out_home_hello_trips")),a.createElement("div",{className:d.a.text},Object(r.localize)("logged_out_home_trips_give")),a.createElement(c.a,{flowOrigin:"join",pid:40439},function(e){return a.createElement(s.a,{type:"primary",size:"fullwidth",onClick:function(){return e().then(t)}},Object(r.localize)("empty_trip_home_get_started"))}),a.createElement(c.a,{flowOrigin:"login",pid:40439},function(e){return a.createElement("a",{className:Object(i.a)(d.a.log_in,"ui_link"),onClick:function(){return e().then(t)}},Object(r.localize)("trips_log_in_now"))})),a.createElement("div",{className:d.a.section_two}))};p.defaultProps={redirectUrl:void 0},n.a=p},"./packages/trips/states/LoggedOut.less":function(e,n,t){e.exports={logged_out_container:"trips-states-LoggedOut__logged_out_container--2Y8wo",header:"trips-states-LoggedOut__header--2Vzo0",text:"trips-states-LoggedOut__text--1zeh7",section_one:"trips-states-LoggedOut__section_one--1Jpsx",ta_logo:"trips-states-LoggedOut__ta_logo--PtfCv",say_hello:"trips-states-LoggedOut__say_hello--1xYoi",log_in:"trips-states-LoggedOut__log_in--E80DK",section_two:"trips-states-LoggedOut__section_two--2ZMFA"}},"./packages/trips/states/TripsLink.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),o=t("@ta/overlays.modal"),i=t("@ta/overlays.managers"),l=t("./packages/trips/tracking/interactions.jsx"),s=t("./packages/trips/states/LoggedOut.jsx"),c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},u=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var d=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),u(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this.props,n=e.isLoggedIn,t=e.isMobile,r=e.loggedInElement,c=e.loggedOutElement;return a.createElement(l.a,{source:"trips"},function(e){var l=function(){return e({elementClick:{element:t?"mw_trips":"mastheadCta"}})};if(n)return a.createElement("span",{onClick:l},r);var u=t?"TA_GREEN":"WHITE";return a.createElement(a.Fragment,null,a.createElement(i.Opener,{name:"trip-link-widget-modal"},function(e){return c(function(){l(),e()})}),a.createElement(o.Modal,{name:"trip-link-widget-modal",isFullBleed:!0,closeXColorVariant:u},a.createElement("div",{className:"modal-container"},a.createElement(s.a,{redirectUrl:"/Trips"}))))})}}]),n}();n.a=Object(r.connect)(function(e,n){return c({isLoggedIn:e.auth.isMember,isMobile:"MOBILE"===e.meta.device.viewportCategory},n)})(d)},"./packages/trips/tracking/interactions.jsx":function(e,n,t){"use strict";t.d(n,"b",function(){return u});var a=t("./node_modules/react/index.js"),r=t("./packages/common/tracking/tracking.jsx"),o=t("@ta/tracking.interactions"),i=t("./packages/common/routing/routing.jsx"),l=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};var c={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductDetail:"AttractionProductDetail",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",Recent:"Recent",Forums:"Forums",Trips:"Trips"},u=function(e){return e&&c[e]?c[e].toUpperCase():void 0};var d=function(e){var n=e.children,t=e.source,u=e.pageAsContext,d=e.saveObject;return a.createElement(i.RouteConsumer,null,function(e){var i=e.route;return a.createElement(r.TrackingImpressionContext,null,function(e){var r=e.impressionId||"",p=u?i.page:void 0,m={detailId:d?""+d.id:void 0,saveType:d?d.type:void 0};return a.createElement(l.Mutation,{mutation:o.LogInteractionV4,ignoreResults:!0},function(e){return n(function(n){var a,o,i,l={elementClick:n.elementClick&&s({puid:r},m,{context:p},n.elementClick),filterClick:n.filterClick&&s({puid:r},n.filterClick),modalSuccess:n.modalSuccess&&s({puid:r},m,{context:p},n.modalSuccess),overflowClick:n.overflowClick&&s({puid:r},n.overflowClick),overflowSuccess:n.overflowSuccess&&s({puid:r},n.overflowSuccess)},u=(a={},o=t,i=function(e){var n=e;return["elementClick","modalSuccess"].forEach(function(e){n[e]&&n[e].context&&(n[e].context=c[n[e].context]?c[n[e].context].toUpperCase():null),n[e]&&n[e].saveType&&(n[e].saveType=n[e].saveType.toUpperCase())}),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach(function(e){n[e]&&n[e].element&&(n[e].element=n[e].element.toUpperCase())}),["modalSuccess"].forEach(function(e){n[e]&&n[e].fields&&(n[e].fields=n[e].fields.map(function(e){return e.toUpperCase()}))}),n}(l),o in a?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,a);e({variables:{interaction:u}})},r)})})})};d.defaultProps={pageAsContext:!1,saveObject:void 0},n.a=d},"./roots/brand/header/GlobalNav.jsx":function(e,n,t){"use strict";t.r(n);var a=t("./node_modules/react/index.js"),r=t("./packages/common/api/api.jsx"),o=t("./packages/common/classnames/classnames.jsx"),i=t("./packages/common/data-cacher/DataCacher.jsx"),l=t("@ta/brand.global-nav-context"),s=t.n(l),c=t("./packages/brand/global-nav-geopill/GeoPill.jsx"),u=t("./packages/common/i18n/i18n.jsx"),d=t("./packages/styleguide/icon/Icon.jsx"),p=t("./packages/common/tracking/tracking.jsx"),m=t.n(p),f=t("./packages/brand/geopill-util/TripSearchGeoPillBinding.jsx"),b=t("@ta/brand.trip-search-geopill-flyout"),v=t("./packages/brand/global-nav-satellite-geopill/SatelliteGeoPill.less"),g=t.n(v),h=function(e){var n=void 0;return n=e.isNearby?Object(u.localize)("mx_nearby"):e.isGeoScoped?e.geoName:Object(u.localize)("mobile_discovery_where_to"),a.createElement(b.GeoPillFlyout,null,function(t){return a.createElement("div",{ref:t,className:g.a.pillWrap,"data-test-satellite-geopill":!0},a.createElement(p.ClickTracker,{module:"HomeNav_"+e.servletName,action:"click",context:"GeoPicker"},a.createElement("div",{className:"ui_pill "+g.a.pill},n,a.createElement(d.a,{name:"single-chevron-down",className:g.a.icon}))))})};h.defaultProps={geoName:void 0};var k=Object(f.a)(h),_=t("@ta/overlays.pieces"),y=t("@ta/overlays.attached-arrow-overlay"),O=t.n(y),w=t("@ta/overlays.managers"),j=t("./packages/events/event-boundary/EventBoundary.jsx"),E=t("./packages/common/state/state.jsx"),N=t("./packages/brand/global-nav-action-shopping-cart/ShoppingCartRecapture.less"),x=t.n(N),C=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function S(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var T=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=S(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.dismissModal=function(){m()({module:a.props.pageProperty,action:"close"}),a.props.showModal(null)},S(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),C(n,[{key:"componentDidMount",value:function(){this.props.showModal("shopping_cart_recapture"),fetch("/AttractionCommerceAjax?a="+this.props.cookieId,{credentials:"same-origin"}),this.props.onShow&&this.props.onShow()}},{key:"render",value:function(){var e=this;if(!this.props.below)return null;var n=this.props.below;return a.createElement(s.a.Consumer,null,function(t){return a.createElement(w.Global,{name:"shopping_cart_recapture"},a.createElement(j.a,{events:["onClick"]},a.createElement("div",{onClick:e.dismissModal},a.createElement(O.a,{target:n,position:"below",shiftY:4,fixed:t.usePersistentIcons},a.createElement("div",{className:x.a.inner},a.createElement("div",{className:x.a.header_text},e.props.headerText),a.createElement("div",{className:x.a.body_text},e.props.bodyText),a.createElement(w.Closer,null,function(e){return a.createElement(_.CloseX,{close:e})}))))))})}}]),n}();T.defaultProps={onShow:void 0};var P=Object(r.bind)({data:function(e,n){var t=n("/data/1.0/cart/recaptureAlertType");return function(e,n){var a=(t.get().data||{type:"none"}).type,r=void 0===a?"none":a,o=(n||{below:null}).below;return{recaptureType:r,below:void 0===o?null:o}}},actions:{showModal:E.actions.overlays.showGlobalOverlay}})(function(e){switch(e.recaptureType){case"abandoned":return a.createElement(T,{below:e.below,showModal:e.showModal,headerText:Object(u.localize)("abandon_cart_home_banner_2350"),bodyText:Object(u.localize)("attractions.cart_recapture.abandoned_cart_overlay_cta"),cookieId:"rso",pageProperty:"cart_recapture"});case"education":return a.createElement(T,{below:e.below,showModal:e.showModal,headerText:Object(u.localize)("attractions.cart_recapture.alert.headline"),bodyText:Object(u.localize)("attractions.cart_recapture.alert_body"),cookieId:"rsa",pageProperty:"cart_education"});default:return null}}),L=t("./packages/brand/global-nav-action-shopping-cart/ShoppingCart.less"),I=t.n(L),M=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function U(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var R=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=B(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.state={animated:!1},a.animate=function(){a.setState({animated:!0})},B(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),M(n,[{key:"render",value:function(){var e=this;if(!this.props.show)return this.props.children?this.props.children(null):null;var n=this.props.count?a.createElement("span",{className:"shopping-cart-size ui_jewel "+I.a.jewel},this.props.count):null,t={module:"TopNav_"+(this.props.servletName||""),action:"click",context:"Shopping_Cart"};return a.createElement(s.a.Consumer,null,function(r){var i,l=Object(o.a)(I.a.shoppingCartLink,(U(i={},I.a.animated,e.state.animated),U(i,I.a.onDarkBg,"dark"===r.theme),i));return a.createElement(_.Target,null,function(r,o){var i=e.props.count&&e.props.isDesktop&&o?a.createElement(P,{below:o,onShow:e.animate}):null,s=a.createElement(p.ClickTracker,t,a.createElement("a",{ref:r,href:"/ShoppingCart",className:l,title:Object(u.localize)("utility_nav_cart")},a.createElement(d.a,{name:"empty-cart",className:I.a.icon}),a.createElement("span",{className:I.a.label},Object(u.localize)("attractions.cart_button_acc")," ")),n,i);return e.props.children?e.props.children(s):s})})}}]),n}();R.defaultProps={count:0,show:!0};var A=Object(r.bind)(function(e,n){var t=e.meta,a=n("/data/1.0/cart/info?servletName="+(t&&t.initialServletName||""));return P.stage(e,n),function(){var n=a.get().data||{count:0,show:!1},t=n.count,r=void 0===t?0:t,o=n.show;return{count:r,show:void 0!==o&&o,servletName:e.meta.initialServletName,isDesktop:"DESKTOP"===e.meta.device.viewportCategory}}})(R),D=t("./packages/common/logging/logging.jsx"),F=t.n(D),z=t("common/Radio"),G=t.n(z),H=t("./packages/brand/global-nav-action-inbox/InboxTrigger.less"),q=t.n(H),W=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function V(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Q=100,Y=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.clickHandler=function(){var e=t.containerEl.current;if(t.props.showDropdown)window.location="/Inbox";else if(e){var n=void 0;n=t.props.isTablet?[-5,21]:[3,11],t.lastOpenRequestReceived=!1,G()("global-nav-inbox").emit("open",{el:t.containerEl.current,bottomLeftOffset:n,receivedCallback:function(){t.lastOpenRequestReceived=!0}}),setTimeout(t.checkOpenRequestReceived,Q)}},t.checkOpenRequestReceived=function(){t.lastOpenRequestReceived||(F.a.error("Inbox placement global_nav_action_inbox:empty did not respond back about receiving the inbox dropdown open request via Radio. Redirecting to /Inbox as a fallback."),window.location="/Inbox")},t.containerEl=a.createRef(),t.lastOpenRequestReceived=!1,t.lastOpenRequestTimer=null,t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),W(n,[{key:"render",value:function(){var e=this,n=Object(o.a)("ui_jewel",q.a.jewel,V({},q.a.hidden,!this.props.jewel));return a.createElement(s.a.Consumer,null,function(t){var r="dark"===t.theme,i=Object(o.a)(q.a.container,V({},q.a.onDarkBg,r));return a.createElement("div",{title:Object(u.localize)("inbox_title"),className:i,onClick:e.clickHandler,ref:e.containerEl}," ",a.createElement("div",{className:q.a.inboxIcon+" ui_icon comments"},a.createElement("div",{className:q.a.label},Object(u.localize)("inbox_title"))),a.createElement("div",{className:n}))})}}]),n}(),K=Object(r.bind)(function(e,n){var t=n("/data/1.0/inbox/navAction?"+function(e){var n=e.auth.isMember?"true":"false";return new URLSearchParams({isMember:n})}(e).toString());return function(e){return{jewel:(t.get().data||{}).hasUnreadConvos||!1,showDropdown:"Inbox"===!e.route.page,isTablet:"TABLET"===e.meta.device.viewportCategory}}})(Y),$=t("./packages/common/features/features.jsx"),X=t("@ta/overlays.popover"),J=t.n(X),Z=t("./packages/styleguide/avatar/Avatar.jsx"),ee=t("@ta/social.onboarding-state"),ne="40487",te="40486",ae=function(){return Object($.featureIsEnabled)("social_2018")||Object($.featureIsEnabled)("unified_reg_ui_dt")||Object($.featureIsEnabled)("unified_reg_ui_mw")?{flowName:"core_combined",joinPid:ne,loginPid:te}:Object($.featureIsEnabled)("growth_reg_flow_dt")||Object($.featureIsEnabled)("growth_reg_flow_mw")?{flowName:"core_reg_growth",joinPid:"40375",loginPid:"40375"}:Object($.featureIsEnabled)("viator_login_global_nav")?{flowName:"attraction_product_combined",joinPid:"427",loginPid:"427"}:Object($.featureIsEnabled)("brand_login_callout_rollout")?{flowName:"brand_signup_core_combined",joinPid:"427",loginPid:"427"}:{flowName:"core_combined",joinPid:"427",loginPid:"427"}},re=function(e){return"/RegistrationController?flow="+e.flowName+"&pid="+e.loginPid+"&returnTo=%2F&fullscreen=true&flowOrigin=login&hideNavigation=true"},oe=function(e){return"/RegistrationController?flow="+e.flowName+"&pid="+e.joinPid+"&returnTo=%2F&fullscreen=true&flowOrigin=join&hideNavigation=true"},ie=t("./packages/brand/global-nav-action-profile/Profile.less"),le=t.n(ie);var se=function(e){var n=e.member;return a.createElement("ul",{className:le.a.menu},a.createElement("li",null,a.createElement(p.ClickTracker,{module:"UtilityNav",action:"click",context:"UserProfile_viewProfile",value:0,destinationUrl:n.profile},a.createElement("a",{href:n.profile},Object(u.localize)("ip_view_profile_1cf1")))),n.isOwner&&a.createElement("li",null,a.createElement(p.ClickTracker,{module:"UtilityNav",action:"click",context:"UserProfile_ManagementCenter",value:0,destinationUrl:"/ManagementCenter"},a.createElement("a",{href:"/ManagementCenter"},Object(u.localize)("global_nav_profile_my_business")))),Object($.featureIsEnabled)("member_profile_bookings")&&a.createElement("li",{className:le.a.rule},a.createElement(p.ClickTracker,{module:"UtilityNav",action:"click",context:"UserProfile_bookings",value:0,destinationUrl:"/Bookings"},a.createElement("a",{href:"/Bookings",className:"subLink global-nav-submenu-divided"},Object(u.localize)("my_bookings_headtext_fffff9b3")))),a.createElement("li",null,a.createElement(p.ClickTracker,{module:"UtilityNav",action:"click",context:"UserProfile_settings",value:0,destinationUrl:"/Settings-cp"},a.createElement("a",{href:"/Settings-cp"},Object(u.localize)("mem_account_info")))),a.createElement("li",null,a.createElement(p.ClickTracker,{module:"UtilityNav",action:"click",context:"UserProfile_signout",value:0,destinationUrl:"/NewsletterSignOut-e__2F__"},a.createElement("a",{href:"/NewsletterSignOut-e__2F__"},Object(u.localize)("common_Signout")))))},ce=function(e){return Object(o.a)(le.a.loggedInIconWrap,(n={},t=le.a.open,a=e,t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n));var n,t,a},ue=Object(r.bind)({data:function(e,n){var t=null;return e.auth.isMember&&(t=n("/data/1.0/member/self")),function(e){return{member:t?t.get().data:null,isTablet:"TABLET"===e.meta.device.viewportCategory,geoId:e.page.geoId,avatarSize:"DESKTOP"===e.meta.device.viewportCategory?"small":"xtra-small",pageEligibleForOnboarding:"Home"===e.meta.initialServletName}}},actions:{setFireOnboarding:ee.ACTIONS.setShouldFire}})(function(e){var n=ae(),t=re(n),r=oe(n),o=function(n,t,a){return function(r){window.require("ta/registration/RegOverlay").show(r,r.target,{flow:n,pid:t,userRequestedForce:"true",locationId:e.geoId,extraQueryParams:{flowOrigin:a,social:"true"},onSuccess:function(n){!function(n){if(e.pageEligibleForOnboarding&&e.setFireOnboarding){var t=n&&(n.hasCreatedMember||!n.hasAcceptedTermsOfUse);e.setFireOnboarding(t,"MASTHEAD")}}(n)}}),r.preventDefault()}};return a.createElement(s.a.Consumer,null,function(i){var l="light"===i.theme;return a.createElement("div",{className:le.a.container+(l?" "+le.a.white:"")},e.member?a.createElement(J.a,{below:!0,alignEdge:"right",contents:function(){return a.createElement(se,{member:e.member})},closeButton:!1,shiftArrow:e.isTablet?-13:-19,shiftY:e.isTablet?3:2,arrowType:"small",fixed:!0},function(n,t,r,o){return a.createElement(p.ClickTracker,{module:"UtilityNav",action:"open",context:"Signed_in_profile_dropdown"},a.createElement("div",{title:Object(u.localize)("utility_nav_profile"),ref:n,onClick:t,className:ce(o)},e.member.avatar?a.createElement("span",{className:le.a.avatar},a.createElement(Z.a,{photoUrl:e.member.avatar,withBorder:!0,size:e.avatarSize})):a.createElement(d.a,{name:"member",className:le.a.noAvatarIcon})))}):a.createElement(a.Fragment,null,a.createElement("a",{href:t,title:Object(u.localize)("utility_nav_profile"),onClick:o(n.flowName,n.loginPid,"login"),className:le.a.loggedOutIconWrap},a.createElement(d.a,{name:"friend",className:le.a.loggedOutIcon}),a.createElement("span",{className:le.a.label},Object(u.localize)("utility_nav_profile"))," "),a.createElement("a",{href:r,className:"ui_button "+(l?"primary":"secondary")+" small "+le.a.loginButton,"data-flow-name":n.flowName,title:Object(u.localize)("utility_nav_join"),onClick:o(n.flowName,n.joinPid,"join")},Object(u.localize)("reg_and_join"))))})}),de=t("./packages/events/window-scroll/WindowScroll.jsx"),pe=t("./packages/brand/quick-links/QuickLinksLite.jsx"),me=t("./packages/brand/global-nav/menus/NavLinks.jsx"),fe=t("./packages/brand/global-nav/global-nav.jsx"),be=function(e){return e.links?a.createElement(me.a,{links:e.links,activeLinkId:e.activeLinkId,sourceOnly:e.sourceOnly}):null};be.defaultProps={sourceOnly:!1};var ve=Object(fe.a)(be),ge=t("./roots/brand/header/GlobalNav.less"),he=t.n(ge),ke=t("./node_modules/react-redux/es/index.js"),_e=t("@ta/brand.global-nav-state"),ye=t("./packages/styleguide/nav-tabs/NavTabs.jsx"),Oe=t("@ta/overlays.slide-in"),we=t.n(Oe),je=t("./packages/brand/global-nav/sidebar/SideBarNavLinks.jsx"),Ee=t("./packages/styleguide/button/Button.jsx"),Ne=t("./packages/common/routing/routing.jsx"),xe=t("./roots/brand/header/ProfileDataCell.less"),Ce=t.n(xe),Se=Object(ke.connect)(function(e){return{geoId:e.page.geoId,pageEligibleForOnboarding:"Home"===e.meta.initialServletName}},{setFireOnboarding:ee.ACTIONS.setShouldFire})(function(e){var n=e.memberData;if(null!==n&&void 0!==n){var t=n.avatarUrl?a.createElement(Z.a,{photoUrl:n.avatarUrl,className:"ui_icon"}):a.createElement(d.a,{name:"member"});return a.createElement("div",{className:Ce.a.profileDataCell},a.createElement(Ne.Link,{href:n.profileUrl},a.createElement("div",{className:Ce.a.profileDataContainer},t,a.createElement("div",{className:Ce.a.profileData},a.createElement("div",{className:Ce.a.profileName},n.userName),a.createElement("div",{className:Ce.a.viewProfileText},Object(u.localize)("ip_view_profile_1cf1"))))))}var r=ae(),o=re(r),i=oe(r),l="Reg Form | "+r.flowName,s=function(n,t,a){return function(r){window.require("ta/registration/RegOverlay").showForMobile(r,r.target,{flow:n,pid:t,userRequestedForce:"true",locationId:e.geoId,extraQueryParams:{flowOrigin:a,social:"true"},onSuccess:function(n){!function(n){if(e.pageEligibleForOnboarding&&e.setFireOnboarding){var t=n&&(n.hasCreatedMember||!n.hasAcceptedTermsOfUse);e.setFireOnboarding(t,"MASTHEAD")}}(n)}}),r.preventDefault()}};return a.createElement("div",{className:Ce.a.profileDataCellNotLoggedIn},a.createElement(p.ClickTracker,{action:"prod_view",module:"reg_trigger",context:l},a.createElement(Ne.Link,{href:o,onClick:s(r.flowName,r.loginPid,"login")},a.createElement(Ee.a,{size:"fullwidth",type:"secondary"},Object(u.localize)("alerts_center_log_in")))),a.createElement(p.ClickTracker,{action:"prod_view",module:"reg_trigger",context:l},a.createElement(Ne.Link,{href:i,onClick:s(r.flowName,r.joinPid,"join")},a.createElement(Ee.a,{size:"fullwidth",type:"primary"},Object(u.localize)("utility_nav_join")))))}),Te=t("./packages/trips/states/TripsLink.jsx"),Pe=t("./roots/brand/header/ProfileSubLinks.less"),Le=t.n(Pe),Ie=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Me=function(e,n){return{context:e,action:"click",module:"UtilityNav_"+n}},Ue=Object(ke.connect)(function(e,n){return Ie({servletName:e.meta.initialServletName},n)})(function(e){var n=Object(o.a)(Le.a.profileSubLink,Le.a.noBorder),t=e.isOwner?Le.a.profileSubLink:n,r=Object(o.a)("ui_jewel",Le.a.jewel),i=e.isOwner?a.createElement("li",null,a.createElement(p.ClickTracker,Me("UserProfile_ManagementCenter",e.servletName),a.createElement(Ne.Link,{href:"/ManagementCenter",className:n},Object(u.localize)("global_nav_profile_my_business")))):null,l=e.displayInboxIcon?a.createElement("div",{className:Le.a.inboxIconAndJewel},a.createElement(d.a,{name:"comments"}),a.createElement("div",{className:r})):null;return a.createElement("ul",null,i,a.createElement("li",null,a.createElement(Te.a,{loggedInElement:a.createElement(p.ClickTracker,Me("My_trips",e.servletName),a.createElement(Ne.Link,{href:"/Trips",className:t},Object(u.localize)("trips_product_name"))),loggedOutElement:function(n){return a.createElement(p.ClickTracker,Me("My_trips",e.servletName),a.createElement(Ne.Link,{className:t,onClick:n},Object(u.localize)("trips_product_name")))}})),a.createElement("li",null,a.createElement(p.ClickTracker,Ie({dstServlet:"MobileSaves"},Me("Recently_viewed",e.servletName)),a.createElement(Ne.Link,{href:"/Recent",className:Le.a.profileSubLink},Object(u.localize)("rebrand_recently_viewed_shelf_title")))),a.createElement("li",null,a.createElement(p.ClickTracker,Me("UserProfile_ManagementCenter",e.servletName),a.createElement(Ne.Link,{href:"/Bookings",className:Le.a.profileSubLink},Object(u.localize)("my_bookings_headtext_fffff9b3")))),a.createElement("li",null,a.createElement(p.ClickTracker,Me("UserProfile_inbox",e.servletName),a.createElement(Ne.Link,{href:"/Inbox",className:Le.a.profileSubLink},Object(u.localize)("inbox_title"),l))))}),Be=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Re=Object(r.bind)(function(e,n){var t=n("/data/1.0/member/self");return function(e,n){var a=t.get().data,r=null===a||void 0===a?null:{profileUrl:a.profile,userName:a.name,avatarUrl:a.avatar};return Be({},n,{memberData:r,isOwner:!!a&&a.isOwner,servletName:e.meta.initialServletName})}})(function(e){return a.createElement(a.Fragment,null,a.createElement(Se,{memberData:e.memberData}),a.createElement(Ue,{displayInboxIcon:e.displayInboxIcon,isOwner:e.isOwner}))}),Ae=t("./packages/styleguide/loading/LoadingSpinner.jsx"),De=t("./roots/brand/header/Logo.less"),Fe=t.n(De),ze=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};function Ge(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var He=function(e){return e.loading?a.createElement(Ae.a,null):a.createElement(s.a.Consumer,null,function(n){var t,r,i,l,s,c=(r=e.logoThemeOverride,i=e.primaryLogoSvg,l=e.secondaryLogoSvg,s=n.theme,r?"lightTheme"===r?i:l:"light"===s?i:l),d=Object(o.a)(Fe.a.logoContainer,(Ge(t={},Fe.a.centerLogo,e.isMobileBreakpoint),Ge(t,Fe.a.obsoleteBrowser,e.isObsoleteBrowser),t)),m=e.resizeLogo?Fe.a.resizeImg:"",f="TopNav_"+e.trackingUrl;return a.createElement("div",{className:d},a.createElement(p.ClickTracker,{action:"click",module:f,context:"TAlogo"},a.createElement(Ne.Link,{href:"/",className:Fe.a.logo,onClick:function(n){window.open(e.logoLink,"_self"),n.preventDefault()}},a.createElement("img",{className:m,src:c,alt:Object(u.localize)("common_TripAdvisor")}))))})};He.defaultProps={logoThemeOverride:null,logoLink:"/"};var qe=Object(r.bind)(function(e,n){var t=n("/data/1.0/brand/logo?"+function(e){var n={servlet:e.meta.initialServletName,locale:e.i18n.locale,geoId:e.route.geo,viewportCategory:e.meta.device.viewportCategory,latitude:e.route.latitude,longitude:e.route.longitude},t={};return Object.keys(n).forEach(function(e){null!==n[e]&&void 0!==n[e]&&(t[e]=n[e])}),new URLSearchParams(t)}(e).toString());return function(e,n){var a=t.get();return a.loading||void 0===a.data||null===a.data?{loading:!0}:ze({},n,{loading:a.loading,primaryLogoSvg:a.data.primary_logo_svg,secondaryLogoSvg:a.data.secondary_logo_svg,resizeLogo:a.data.resize_logo,logoLink:a.data.logoLink,isMobileBreakpoint:"MOBILE"===e.meta.device.viewportCategory&&!1===e.meta.forceFullSite,isObsoleteBrowser:"IE"===e.meta.device.browser.family&&e.meta.device.browser.majorVersion<=10,trackingUrl:e.tracking.analytics.url?e.tracking.analytics.url.substring(1):""})}})(Object(i.b)()(He)),We=t("./roots/brand/header/SideBar.less"),Ve=t.n(We),Qe=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function Ye(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var Ke=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=Ye(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.trackOnCloseEvent=function(){var e={module:"TopNav_"+a.props.servletName,action:"close",context:"sideBar"};m()(e)},Ye(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),Qe(n,[{key:"render",value:function(){var e=this;return a.createElement(s.a.Consumer,null,function(n){var t,r,i,l=Object(o.a)((t={},r=Ve.a.onDarkBg,i="dark"===n.theme,r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t)),s=Object(o.a)(Ve.a.sideBarContainer,"ui_container"),c="TopNav_"+e.props.servletName,u=Object(o.a)("ui_jewel",Ve.a.jewel),m=e.props.displayJewel?a.createElement("div",{className:u}):null;return a.createElement(a.Fragment,null,a.createElement(w.Opener,{name:"headerHamburgerMenu"},function(e){return a.createElement("div",{className:l,onClick:e},a.createElement(p.ClickTracker,{action:"open",module:c,context:"sidebar"},a.createElement(d.a,{name:"menu-bars"}),m))}),a.createElement(we.a,{name:"headerHamburgerMenu",slideFrom:"left",onClose:e.trackOnCloseEvent,header:a.createElement("div",{className:"ui_container"},a.createElement(qe,{logoThemeOverride:"lightTheme"}))},function(){return a.createElement("div",{className:s},a.createElement(Re,{displayInboxIcon:e.props.displayJewel}),a.createElement(je.a,null))}))})}}]),n}(),$e=Object(r.bind)(function(e,n){Re.stage(e,n),je.a.stage(e,n);var t=n("/data/1.0/inbox/navAction?"+function(e){var n=e.auth.isMember?"true":"false";return new URLSearchParams({isMember:n})}(e).toString());return function(e){var n=t.get().data||{};return{displayJewel:!e.meta.readOnlyMode&&n.hasUnreadConvos,servletName:e.meta.initialServletName}}})(Ke),Xe=t("./packages/brand/global-nav-action-search/Search.less"),Je=t.n(Xe);var Ze=function(){return a.createElement(s.a.Consumer,null,function(e){var n,t,r,i=Object(o.a)(Je.a.icon,(n={},t=Je.a.onDarkBg,r="dark"===e.theme,t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n));return a.createElement("div",{className:Je.a.searchButton,onClick:function(){return G()("masthead_search").emit("open")},title:Object(u.localize)("utility_nav_search")},a.createElement(d.a,{name:"search",className:i}),a.createElement("span",{className:Je.a.label},Object(u.localize)("common_Search"))," ")})},en=t("./packages/brand/global-nav-action-trips/Trips.less"),nn=t.n(en);var tn=function(){return a.createElement(s.a.Consumer,null,function(e){var n,t,r,i=Object(o.a)(nn.a.tripsIcon,(n={},t=nn.a.onDarkBg,r="dark"===e.theme,t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n));return a.createElement(Te.a,{loggedInElement:a.createElement(Ne.Link,{href:"/Trips",className:i,title:Object(u.localize)("trips_product_name")},a.createElement("span",{className:"ui_icon suitcase"}),a.createElement("span",{className:nn.a.label},Object(u.localize)("trips_product_name"))),loggedOutElement:function(e){return a.createElement(Ne.Link,{className:i,title:Object(u.localize)("trips_product_name"),onClick:e},a.createElement("span",{className:"ui_icon suitcase"}),a.createElement("span",{className:nn.a.label},Object(u.localize)("trips_product_name")))}})})},an=t("./roots/brand/header/GlobalNavActions.less"),rn=t.n(an);var on=Object(ke.connect)(function(e){return{isLoggedIn:e.auth.isMember,readOnlyMode:e.meta.readOnlyMode,extraShoppingCartPredicates:!["ShowUserReviews","MobileShowUserReviews"].includes(e.route.page),extraSearchPredicates:!(["Search","MobileFlightSearchResults"].includes(e.route.page)||"FlightSearchResults"===e.route.page&&"MOBILE"===e.meta.device.viewportCategory)}})(function(e){return a.createElement(s.a.Consumer,null,function(n){var t,r,i,l=Object(o.a)(rn.a.separator,(t={},r=rn.a.onDarkBg,i="dark"===n.theme,r in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t));return a.createElement(a.Fragment,null,!e.liteHeader&&a.createElement(a.Fragment,null,e.extraShoppingCartPredicates&&a.createElement(A,null,function(e){return e&&a.createElement(a.Fragment,null,a.createElement("div",{className:rn.a.navAction},e),a.createElement("div",{className:l}))}),(Object($.featureIsEnabled)("saves")||Object($.featureIsEnabled)("trips_2018"))&&a.createElement(a.Fragment,null,a.createElement("div",{className:rn.a.navAction+" "+rn.a.hiddenOnMobile},a.createElement(tn,null)),a.createElement("div",{className:l})),!e.readOnlyMode&&Object($.featureIsEnabled)("unified_inbox_v2")&&a.createElement("div",{className:rn.a.navAction+" "+rn.a.hiddenOnMobile},a.createElement(K,null)),a.createElement("div",{className:l}),a.createElement("div",{className:rn.a.navAction+" "+rn.a.hiddenOnMobile},a.createElement(ue,null))),Object($.featureIsEnabled)("rebrand_masthead_search")&&e.extraSearchPredicates&&a.createElement(a.Fragment,null,a.createElement("div",{className:l+" "+rn.a.tabletOnly}),a.createElement("div",{className:rn.a.searchWrap},a.createElement(Ze,null))))})}),ln=t("./roots/brand/header/GlobalNavBar.less"),sn=t.n(ln),cn=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function un(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var dn=function(e){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.willRenderNavLinksMultiLine=function(){return e.props.displayMultiLine&&"DEFAULT"===e.props.navLinksDisplayType},e.willRenderQuickLinksMultiLine=function(){return e.props.displayMultiLine&&"QUICK_LINKS_LITE"===e.props.navLinksDisplayType&&!e.props.isQuickLinksTilesVisible},e.secondLineNavLinkClasses=function(){return Object(o.a)(sn.a.secondLineNavLinks,un({},sn.a.isQuickLinks,"QUICK_LINKS_LITE"===e.props.navLinksDisplayType))},e.handleScroll=function(){if(e.iconsCanMove){var n=e.props.navHeight,t=n-(e.sideBarTriggerRef.current?e.sideBarTriggerRef.current.clientHeight:n/2),a=window.pageYOffset,r=void 0,o=void 0;a<=0?(r="0px",o="auto"):n-a>0&&a>0&&a<=t?(r=a+"px",o="auto"):(r="auto",o="0px"),r===e.state.iconPosition.top&&o===e.state.iconPosition.bottom||e.setState({iconPosition:{top:r,bottom:o}})}},e.iconsCanMove=!1,e.renderLogo=function(){return e.props.wrapLogoWithH1?a.createElement("h1",null,a.createElement(qe,null)):a.createElement(qe,null)},e.renderGeoPill=function(){if(e.props.hasGeopill&&Object($.featureIsEnabled)("global_nav_geopill")&&e.props.extraGeoPillPredicates){if(e.props.hasSatelliteGeoPill&&!e.props.isTripSearchGeoPillVisible)return a.createElement("div",{className:sn.a.satelliteGeoPillWrap},a.createElement(k,null));if(!e.props.hasSatelliteGeoPill)return a.createElement(c.a,null)}return null},e.state={iconPosition:{top:"0px",bottom:"auto"}},e.sideBarTriggerRef=a.createRef(),e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),cn(n,[{key:"componentDidMount",value:function(){this.props.setBrandHeaderMounted()}},{key:"render",value:function(){var e=this;return a.createElement(s.a.Consumer,null,function(n){e.iconsCanMove=n.usePersistentIcons&&!e.props.isStickyHeader;var t,r,i=Object(o.a)(sn.a.sideBarTrigger,un({},sn.a.persistentIcons,n.usePersistentIcons)),l=Object(o.a)(sn.a.globalNavActions,un({},sn.a.persistentIcons,n.usePersistentIcons)),s={adjustHeightForTablet:1===n.numLines&&"DEFAULT"===e.props.navLinksDisplayType,usePersistentIcons:n.usePersistentIcons},c=function(e){return Object(o.a)(sn.a.globalNavBar,un({},sn.a.globalNavWhite,e))}("light"===n.theme),u=(t=s,e.props.isObsoleteBrowser?Object(o.a)("ui_container",sn.a.obsoleteBrowser,sn.a.globalNavBarContainer):Object(o.a)("ui_container",sn.a.globalNavBarContainer,sn.a.globalNavMobileWebRollout,(un(r={},sn.a.adjustHeightForTablet,t.adjustHeightForTablet),un(r,sn.a.persistentIcons,t.usePersistentIcons),r))),d=n.usePersistentIcons?e.state.iconPosition:null,p=e.props.isMobile?a.createElement("div",{ref:e.sideBarTriggerRef,style:d,className:i},a.createElement($e,null),a.createElement(ve,{sourceOnly:!0})):null;return a.createElement(a.Fragment,null,a.createElement("div",{className:c},a.createElement("div",{className:u},p,!(!e.props.isTripSearchGeoPillVisible&&e.props.isMobile)&&e.renderLogo(),e.renderGeoPill(),!e.props.displayMultiLine&&!e.props.isMobile&&"DEFAULT"===e.props.navLinksDisplayType&&a.createElement("div",{className:"is-hidden-mobile "+sn.a.singleLineNavLinks},a.createElement(ve,null)),a.createElement("div",{style:d,className:l},a.createElement(on,{liteHeader:e.props.liteHeader})))),a.createElement(ye.b,null,(!e.props.isMobile&&e.willRenderNavLinksMultiLine()||e.willRenderQuickLinksMultiLine())&&a.createElement("div",{className:e.secondLineNavLinkClasses()},a.createElement("div",{className:"ui_container ui_columns is-gapless "+sn.a.secondLineContainer},a.createElement("div",{className:"ui_column is-11"},e.willRenderNavLinksMultiLine()&&a.createElement(ve,null),e.willRenderQuickLinksMultiLine()&&a.createElement(pe.a,{displayMode:e.props.isMobile?"ICONS":"TEXT"})),a.createElement("div",{className:"ui_column is-1"})))),a.createElement(de.a,{callback:e.handleScroll,throttle:0}))})}}]),n}(),pn=["HomeRebranded","UserReviewEdit","RentalCars","FlightSearchResults","CheapFlightsSearchResults","MobileFlightSearchResults","AirportDetail","MobileAirportDetail","MobileFlights","MobileAirlineDetail","SearchForums","UserListDetail","Travel","AttractionProductDetail","MobileAttractionProductDetail","MobileAccommodationReviewSearch","MobileFilters","MobileEateryDetail","MobileAccommodationDetail","MobileVacationRentalDetail","MobileAttractionDetail","MobileHotel_Review","MobileShowUserReviews","MobileShowForum","MobileShowTopic","MobileNewTopic","MobileShowSpecialOffer","MobileLocationPhotoDirectLink","MobileReservation","MobileRoadTrip","MobileRoadTripGuide","MobileGuideOverview","MobileShowAnswersList","MobileEateryReviewSearch","MobileGuideDetail","MobileRestaurantMenu","MobileUserReview","MobileWebUpload","MobileQueryBBox","MobileOpeningHours","MobileAttractionReviewSearch","ShoppingCoupon","Search","RoadTrip","RoadTripGuide","Vacation_Packages","MobileVacation_Packages"],mn=["Hotel_Review","VacationRentalReview","Restaurant_Review","Attraction_Review","AttractionOperatorReview"],fn=Object(ke.connect)(function(e){return{isMobile:"MOBILE"===e.meta.device.viewportCategory,wrapLogoWithH1:"Home"===e.meta.initialServletName,hasSatelliteGeoPill:"Home"===e.meta.initialServletName,extraGeoPillPredicates:!(pn.includes(e.route.page)||mn.includes(e.route.page)&&"MOBILE"===e.meta.device.viewportCategory),isQuickLinksTilesVisible:Object(_e.getState)(e).quickLinkTilesVisible,isTripSearchGeoPillVisible:Object(_e.getState)(e).tripSearchGeoPillVisible}},{setBrandHeaderMounted:_e.ACTIONS.setBrandHeaderMounted})(dn),bn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vn=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function gn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var hn=function(e){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.setHeight=function(){var n=e.heightDiv.current;e.setState({height:n?n.clientHeight:0})},e.handleScroll=function(){var n=e.topDiv.current;n&&window.pageYOffset>n.getBoundingClientRect().top+window.pageYOffset!==e.state.scrolledPastTop&&e.setState({scrolledPastTop:!e.state.scrolledPastTop})},e.smartBannerDidClose=function(){return e.setState({hasSmartBanner:!1})},e.state={scrolledPastTop:!1,hasSmartBanner:!1,height:0,heightInitiallySet:!1},e.topDiv=a.createRef(),e.heightDiv=a.createRef(),e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),vn(n,[{key:"componentWillMount",value:function(){this.props.loading||this.props.error||this.setState({hasSmartBanner:this.props.adjustForSmartBanner})}},{key:"componentDidMount",value:function(){G()("global-nav-component").on("smart-banner-did-close",this.smartBannerDidClose),this.props.hideLogo,this.handleScroll()}},{key:"componentDidUpdate",value:function(){this.state.heightInitiallySet||(this.setHeight(),this.setState({heightInitiallySet:!0}))}},{key:"render",value:function(){var e=this;if(this.props.loading)return null;var n,t,r,i,l,c,u,d,p,m,f=(n=this.props.hasWhiteBackground,t=this.props.numLines,r=this.props.usePersistentIcons,{theme:n?"light":"dark",numLines:t,usePersistentIcons:r}),b=(i=this.props.isPersistentHeader,l=this.props.adjustForSmartBanner,c=this.state.hasSmartBanner,u=this.props.isMobileBreakpoint,d=this.state.scrolledPastTop,p=this.props.hasHeroImage,Object(o.a)((gn(m={},he.a.globalNavHome,p),gn(m,he.a.globalNavPersistent,i),gn(m,he.a.globalNavScrolling,!i&&u),gn(m,he.a.smartBannerTop,l&&c),gn(m,he.a.fixed,i&&d),gn(m,he.a.scrolledToTop,i&&!d),m))),v=this.props.isMobileBreakpoint?50:60;return a.createElement(s.a.Provider,{value:f},a.createElement("div",{ref:this.topDiv,style:{height:v+"px"}},a.createElement("div",{className:b},a.createElement("div",{ref:this.heightDiv},a.createElement(fn,{navLinksDisplayType:this.props.navLinksDisplayType,isObsoleteBrowser:this.props.isObsoleteBrowser,navHeight:this.state.height,hasGeopill:this.props.showGeopill,displayMultiLine:this.props.numLines>=2,liteHeader:this.props.liteHeader,isStickyHeader:this.props.isPersistentHeader})))),a.createElement(de.a,{callback:function(){e.handleScroll(),e.setHeight()}}))}}]),n}(),kn=Object(r.bind)(function(e,n){var t=n("/data/1.0/brand/header?"+function(e){var n=e.meta,t=n.initialServletName,a=n.device,r={servlet:t,viewportCategory:e.meta.forceFullSite?"DESKTOP":a.viewportCategory,geoId:e.route.geo?e.route.geo:null,pageName:e.route.page,isTaReferrer:e.meta.isTaReferrer?"true":"false",latitude:e.route.latitude,longitude:e.route.longitude},o={};return Object.keys(r).forEach(function(e){null!==r[e]&&void 0!==r[e]&&(o[e]=r[e])}),new URLSearchParams(o)}(e).toString());return qe.stage(e,n),ve.stage(e,n),pe.a.stage(e,n),c.a.stage(e,n),k.stage(e,n),A.stage(e,n),ue.stage(e,n),K.stage(e,n),$e.stage(e,n),function(e){var n=t.get(),a="IE"===e.meta.device.browser.family&&e.meta.device.browser.majorVersion<=10,r={};return n.data&&(r={showGeopill:n.data.showGeopill,numLines:n.data.numLines,isPersistentHeader:n.data.isPersistentHeader&&!("MOBILE"===e.meta.device.viewportCategory&&"Home"!==e.meta.initialServletName)&&n.data.socialEnabled,navLinksDisplayType:n.data.navLinksDisplayType,usePersistentIcons:n.data.usePersistentIcons,adjustForSmartBanner:n.data.adjustForSmartBanner,hideLogo:n.data.hideLogo,liteHeader:n.data.liteHeader}),bn({loading:n.loading,hasWhiteBackground:"Home"===e.route.page,hasHeroImage:"Home"===e.route.page,isMobileBreakpoint:"MOBILE"===e.meta.device.viewportCategory,error:n.error,isObsoleteBrowser:a},r)}})(Object(i.b)()(hn));n.default=kn},"./roots/brand/header/GlobalNav.less":function(e,n,t){e.exports={globalNavHome:"brand-header-GlobalNav__globalNavHome--2y4TL",globalNavPersistent:"brand-header-GlobalNav__globalNavPersistent--2jrq1",scrolledToTop:"brand-header-GlobalNav__scrolledToTop--2JjZG",fixed:"brand-header-GlobalNav__fixed--3AkBI",globalNavScrolling:"brand-header-GlobalNav__globalNavScrolling--1S2AV",smartBannerTop:"brand-header-GlobalNav__smartBannerTop--27sl2"}},"./roots/brand/header/GlobalNavActions.less":function(e,n,t){e.exports={searchWrap:"brand-header-GlobalNavActions__searchWrap--11tbe",separator:"brand-header-GlobalNavActions__separator--32iAY",onDarkBg:"brand-header-GlobalNavActions__onDarkBg--3OvG_",tabletOnly:"brand-header-GlobalNavActions__tabletOnly--39d7h",navAction:"brand-header-GlobalNavActions__navAction--zQ69I",hiddenOnMobile:"brand-header-GlobalNavActions__hiddenOnMobile--3PoYn"}},"./roots/brand/header/GlobalNavBar.less":function(e,n,t){e.exports={globalNavBar:"brand-header-GlobalNavBar__globalNavBar--2W2el",globalNavWhite:"brand-header-GlobalNavBar__globalNavWhite--1P-Yp",globalNavActions:"brand-header-GlobalNavBar__globalNavActions--37xdt",persistentIcons:"brand-header-GlobalNavBar__persistentIcons--3XHx1",sideBarTrigger:"brand-header-GlobalNavBar__sideBarTrigger--KOXHF",globalNavBarContainer:"brand-header-GlobalNavBar__globalNavBarContainer--3dJ4x",globalNavMobileWebRollout:"brand-header-GlobalNavBar__globalNavMobileWebRollout--2mXph",adjustHeightForTablet:"brand-header-GlobalNavBar__adjustHeightForTablet--2Q0WL",singleLineNavLinks:"brand-header-GlobalNavBar__singleLineNavLinks--1X55C",obsoleteBrowser:"brand-header-GlobalNavBar__obsoleteBrowser--1GWMM",secondLineNavLinks:"brand-header-GlobalNavBar__secondLineNavLinks--2vTE7",isQuickLinks:"brand-header-GlobalNavBar__isQuickLinks--3zApG",secondLineContainer:"brand-header-GlobalNavBar__secondLineContainer--2ANRd",satelliteGeoPillWrap:"brand-header-GlobalNavBar__satelliteGeoPillWrap--3qjB2"}},"./roots/brand/header/Logo.less":function(e,n,t){e.exports={logoContainer:"brand-header-Logo__logoContainer--Yi269",centerLogo:"brand-header-Logo__centerLogo--1FNAe",logo:"brand-header-Logo__logo--XNFmd",resizeImg:"brand-header-Logo__resizeImg--NXuXw",obsoleteBrowser:"brand-header-Logo__obsoleteBrowser--14nMy"}},"./roots/brand/header/ProfileDataCell.less":function(e,n,t){e.exports={profileDataCell:"brand-header-ProfileDataCell__profileDataCell--tko7j",profileDataContainer:"brand-header-ProfileDataCell__profileDataContainer--1sWoL",profileData:"brand-header-ProfileDataCell__profileData--3L27z",profileName:"brand-header-ProfileDataCell__profileName--2N6Re",viewProfileText:"brand-header-ProfileDataCell__viewProfileText--28vKG",profileDataCellNotLoggedIn:"brand-header-ProfileDataCell__profileDataCellNotLoggedIn--1v4SF"}},"./roots/brand/header/ProfileSubLinks.less":function(e,n,t){e.exports={profileSubLink:"brand-header-ProfileSubLinks__profileSubLink--gw7fY",noBorder:"brand-header-ProfileSubLinks__noBorder--39Gm4",inboxIconAndJewel:"brand-header-ProfileSubLinks__inboxIconAndJewel--3bRxv",jewel:"brand-header-ProfileSubLinks__jewel--2vCwL"}},"./roots/brand/header/SideBar.less":function(e,n,t){e.exports={onDarkBg:"brand-header-SideBar__onDarkBg--2z0Zh",sideBarContainer:"brand-header-SideBar__sideBarContainer--1GXka",jewel:"brand-header-SideBar__jewel--nD6jD"}},"@ta/brand.global-nav-context":function(n,t){n.exports=e},"@ta/brand.global-nav-state":function(e,t){e.exports=n},"@ta/brand.trip-search-geopill-flyout":function(e,n){e.exports=t},"@ta/media.image":function(e,n){e.exports=a},"@ta/overlays.attached-arrow-overlay":function(e,n){e.exports=r},"@ta/overlays.fullscreen-overlay":function(e,n){e.exports=o},"@ta/overlays.managers":function(e,n){e.exports=i},"@ta/overlays.modal":function(e,n){e.exports=l},"@ta/overlays.pieces":function(e,n){e.exports=s},"@ta/overlays.popover":function(e,n){e.exports=c},"@ta/overlays.responsive-attached-overlay":function(e,n){e.exports=u},"@ta/overlays.slide-in":function(e,n){e.exports=d},"@ta/social.button":function(e,n){e.exports=p},"@ta/social.onboarding-state":function(e,n){e.exports=m},"@ta/tracking.interactions":function(e,n){e.exports=f},"common/Radio":function(e,n){e.exports=b},"dll-reference @ta/common.global":function(e,n){e.exports=v}})});