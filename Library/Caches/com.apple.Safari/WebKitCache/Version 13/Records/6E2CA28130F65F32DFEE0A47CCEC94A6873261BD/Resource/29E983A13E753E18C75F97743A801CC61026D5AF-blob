define("@ta/social.blocks",["@ta/overlays.fullscreen-overlay","@ta/overlays.headers","@ta/overlays.managers","@ta/overlays.modal","@ta/overlays.pieces","@ta/overlays.toast","@ta/social.button","@ta/tracking.interactions","@ta/common.global"],function(e,n,t,a,r,o,i,l,s){return function(e){var n={};function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(a,r,function(n){return e[n]}.bind(null,r));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/components/dist/",t(t.s="./packages/social/blocks/blocks.jsx")}({"./node_modules/lodash/_Symbol.js":function(e,n,t){var a=t("./node_modules/lodash/_root.js").Symbol;e.exports=a},"./node_modules/lodash/_baseGetTag.js":function(e,n,t){var a=t("./node_modules/lodash/_Symbol.js"),r=t("./node_modules/lodash/_getRawTag.js"),o=t("./node_modules/lodash/_objectToString.js"),i="[object Null]",l="[object Undefined]",s=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?l:i:s&&s in Object(e)?r(e):o(e)}},"./node_modules/lodash/_freeGlobal.js":function(e,n,t){(function(n){var t="object"==typeof n&&n&&n.Object===Object&&n;e.exports=t}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash/_getRawTag.js":function(e,n,t){var a=t("./node_modules/lodash/_Symbol.js"),r=Object.prototype,o=r.hasOwnProperty,i=r.toString,l=a?a.toStringTag:void 0;e.exports=function(e){var n=o.call(e,l),t=e[l];try{e[l]=void 0;var a=!0}catch(e){}var r=i.call(e);return a&&(n?e[l]=t:delete e[l]),r}},"./node_modules/lodash/_objectToString.js":function(e,n){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},"./node_modules/lodash/_root.js":function(e,n,t){var a=t("./node_modules/lodash/_freeGlobal.js"),r="object"==typeof self&&self&&self.Object===Object&&self,o=a||r||Function("return this")();e.exports=o},"./node_modules/lodash/debounce.js":function(e,n,t){var a=t("./node_modules/lodash/isObject.js"),r=t("./node_modules/lodash/now.js"),o=t("./node_modules/lodash/toNumber.js"),i="Expected a function",l=Math.max,s=Math.min;e.exports=function(e,n,t){var c,u,d,m,p,f,b=0,v=!1,k=!1,g=!0;if("function"!=typeof e)throw new TypeError(i);function y(n){var t=c,a=u;return c=u=void 0,b=n,m=e.apply(a,t)}function _(e){var t=e-f;return void 0===f||t>=n||t<0||k&&e-b>=d}function h(){var e=r();if(_(e))return O(e);p=setTimeout(h,function(e){var t=n-(e-f);return k?s(t,d-(e-b)):t}(e))}function O(e){return p=void 0,g&&c?y(e):(c=u=void 0,m)}function N(){var e=r(),t=_(e);if(c=arguments,u=this,f=e,t){if(void 0===p)return function(e){return b=e,p=setTimeout(h,n),v?y(e):m}(f);if(k)return p=setTimeout(h,n),y(f)}return void 0===p&&(p=setTimeout(h,n)),m}return n=o(n)||0,a(t)&&(v=!!t.leading,d=(k="maxWait"in t)?l(o(t.maxWait)||0,n):d,g="trailing"in t?!!t.trailing:g),N.cancel=function(){void 0!==p&&clearTimeout(p),b=0,c=f=u=p=void 0},N.flush=function(){return void 0===p?m:O(r())},N}},"./node_modules/lodash/isObject.js":function(e,n){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},"./node_modules/lodash/isObjectLike.js":function(e,n){e.exports=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash/isSymbol.js":function(e,n,t){var a=t("./node_modules/lodash/_baseGetTag.js"),r=t("./node_modules/lodash/isObjectLike.js"),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||r(e)&&a(e)==o}},"./node_modules/lodash/now.js":function(e,n,t){var a=t("./node_modules/lodash/_root.js");e.exports=function(){return a.Date.now()}},"./node_modules/lodash/toNumber.js":function(e,n,t){var a=t("./node_modules/lodash/isObject.js"),r=t("./node_modules/lodash/isSymbol.js"),o=NaN,i=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return o;if(a(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=a(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var t=s.test(e);return t||c.test(e)?u(e.slice(2),t?2:8):l.test(e)?o:+e}},"./node_modules/react-apollo/react-apollo.browser.umd.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react-apollo/react-apollo.browser.umd.js")},"./node_modules/react-redux/es/index.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react-redux/es/index.js")},"./node_modules/react/index.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react/index.js")},"./node_modules/webpack/buildin/global.js":function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},"./packages/common/classnames/classnames.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return o});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(){for(var e=[],n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];for(var i=function(n){var o=t[n];if(o){var i=void 0===o?"undefined":a(o);"string"===i||"number"===i?e.push(o):Array.isArray(o)?e.push(r.apply(void 0,function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(o))):"object"===i&&Object.keys(o).filter(function(e){return o[e]}).forEach(function(n){return e.push(n)})}},l=0;l<t.length;l++)i(l);return e.join(" ")}function o(e,n,t){var a=e.split(" ").filter(function(e){return e!==n});return t&&a.push(t),a}},"./packages/common/features/features.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/features/features.jsx")},"./packages/common/i18n/i18n.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/i18n/i18n.jsx")},"./packages/common/logging/logging.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/logging/logging.jsx")},"./packages/common/text/EscapeHtml.jsx":function(e,n,t){"use strict";n.a=function(e){return e?e.replace(/[<>&"'`]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;","`":"&#x60;"}[e]}):""}},"./packages/common/tracking/tracking.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/tracking/tracking.jsx")},"./packages/common/webview/NativeBridge.jsx":function(e,n,t){"use strict";function a(e){var n="";if(null!=e.tapCallback){var t=e.tapCallback,a="nativeInterop"+function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}();window[a]=function(){null!=t&&t()},n=a,e.tapFunction=n,e.tapCallback=null}}function r(){return"undefined"!=typeof window&&window.taBridgeContext?(window.bridge||window.bridge||(window.bridge=(e=[],n=0,t=[],document.addEventListener("PacificDidReceiveNativeCallback",function(n){if(n.detail){var t=n.detail,a=isNaN(parseInt(t.id))?-1:parseInt(t.id);-1!=a&&(e[a]&&e[a](t.parameters,t.error),delete e[a])}},!1),document.addEventListener("PacificDidReceiveNativeBroadcast",function(e){if(e.detail){var n=e.detail,a=n.name;if(void 0!==a&&t[a]){var r=t[a];if(r instanceof Array){var o=n.parameters;r.forEach(function(e){e(o)})}}}},!1),{post:function(t,a,r,o,i){var l=n++;e[l]=o,window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.pacific?window.webkit.messageHandlers.pacific.postMessage({action:t,parameters:a,uid:r,callback:l,print:i||0}):window.pacific&&window.pacific.postMessage(JSON.stringify({action:t,parameters:a,uid:r,callback:l,print:i||0}))},on:function(e,n){var a=t[e];return a||(t[e]=a=[]),a.push(n),function(){a[indexOf(a,n)]=null}},off:function(e){delete t[e]}})),window.taBridgeContext.uid):null;var e,n,t}function o(e,n){if("undefined"==typeof window||!window.taBridgeContext||!window.taBridgeContext.actions)return!1;var t=window.taBridgeContext.actions[e];return!(!t||!t.v)&&n===t.v}function i(e,n,t){r()&&(e?window.bridge.on(n,t):window.bridge.off(n))}function l(e){e.items.forEach(function(e,n){a(e)})}function s(e,n,t){var a=r();return!(!a||!o(e,n))&&(window.bridge.post(e,t||{},a),!0)}function c(){s("hideSkeleton",1,null)}function u(e){!function(e){null!=e.trailingMenuItems&&e.trailingMenuItems.forEach(function(e,n){var t=e;a(t),null!=t.nestedMenu&&l(t.nestedMenu)})}(e.navigation),s("onNewOrUpdatedScreen",1,e)}function d(e){l(e),s("overflowMenu",1,e)}function m(){o("map",2)?s("map",2,null):s("map",1,null)}function p(e){s("createTrip",1,{isPublic:e})}function f(e){s("shareTrip",1,e)}t.r(n),t.d(n,"isActionSupported",function(){return o}),t.d(n,"postToBridge",function(){return s}),t.d(n,"hideSkeleton",function(){return c}),t.d(n,"onNewOrUpdatedScreen",function(){return u}),t.d(n,"showNativeOverflowMenu",function(){return d}),t.d(n,"showNativeMap",function(){return m}),t.d(n,"showNativeCreateTrip",function(){return p}),t.d(n,"showNativeShareTrip",function(){return f}),t.d(n,"showSavesModal",function(){return b}),t.d(n,"showRegistration",function(){return v}),t.d(n,"close",function(){return k}),t.d(n,"startScreenTransition",function(){return g}),t.d(n,"onOverlayStateChange",function(){return y}),t.d(n,"onHeaderHeightChange",function(){return _}),t.d(n,"onShrinkMap",function(){return h}),t.d(n,"onNavigateToTripDetail",function(){return O}),t.d(n,"onHandleTripCollaboration",function(){return N}),t.d(n,"isNativeWebview",function(){return j}),t.d(n,"getHeaderHeight",function(){return E}),t.d(n,"onTripsRefetch",function(){return S}),t.d(n,"onTripUpdate",function(){return w}),t.d(n,"onTripItemDelete",function(){return C}),t.d(n,"onRefetchTripsWithItems",function(){return x});var b=function(e){o("presentSavesModal",2)?s("presentSavesModal",2,e):s("presentSavesModal",1,{itemId:e.id})},v=function(e){s("showReg",1,{dismissOnCancellation:e})};function k(){s("close",1,null)}function g(){s("startScreenTransition",1,null)}function y(e){s(e?"overlayShown":"overlayHidden",1,null)}function _(e,n){i(e,"updateHeaderHeight",n)}function h(e,n){i(e,"shrinkMap",n)}function O(e,n){i(e,"navigateToTripDetail",n)}function N(e,n){i(e,"handleTripCollaboration",n)}function j(){return null!=r()}function E(){if("undefined"!=typeof window&&void 0!==window.localStorage&&void 0!==window.localStorage.headerHeight){var e=window.localStorage.headerHeight;return"string"==typeof e&&(e=parseInt(e,10)),e}return 0}function S(e,n){i(e,"refetchTrips",n)}function w(e){s("tripUpdate",1,e)}function C(e){s("tripItemDelete",1,e)}function x(e,n){i(e,"refetchTripsWithItems",n)}},"./packages/common/webview/webview.jsx":function(e,n,t){"use strict";var a=t("./packages/common/webview/NativeBridge.jsx");t.d(n,"a",function(){return a})},"./packages/events/keyboard-event-listener/KeyboardEventListener.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var o=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleEvent=function(e){var n=e.key;n&&-1!==t.keyNames.indexOf(n)&&t.props.callback(e)},t.keyNames=Array.isArray(e.keyName)?e.keyName:[e.keyName],t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),r(n,[{key:"componentDidMount",value:function(){window.addEventListener(this.props.eventType,this.handleEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(this.props.eventType,this.handleEvent)}},{key:"render",value:function(){return null}}]),n}();o.defaultProps={eventType:"keydown"},n.a=o},"./packages/input/text-input/ManagedTextInput.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),o=t("./packages/input/text-input/ManagedTextInput.less"),i=t.n(o),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var s=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.newListener=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){t.props.onInteractionStart&&!t.state.interactionStarted&&t.props.onInteractionStart(a),t.setState({composing:n});var r=a.currentTarget.value;t.props[e]&&t.props[e](a,r,t.state.composing),t.setState({interactionStarted:!0})}},t.onFocus=t.newListener("onFocus"),t.onBlur=t.newListener("onBlur"),t.onChange=t.newListener("onChange"),t.onKeyUp=t.newListener("onKeyUp"),t.onKeyDown=t.newListener("onKeyDown"),t.onCompositionStart=t.newListener("onCompositionStart",!0),t.onCompositionEnd=t.newListener("onCompositionEnd"),t.state={interactionStarted:!1,composing:!1},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),l(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.inputElem&&this.inputElem.focus()}},{key:"componentDidUpdate",value:function(){this.props.focusOnUpdate&&this.inputElem&&this.inputElem.focus()}},{key:"render",value:function(){var e=this,n={fontSize:this.props.fontSize,lineHeight:this.props.lineHeight};return a.createElement("input",{id:this.props.id,type:this.props.type,name:this.props.name,value:this.props.value,maxLength:this.props.maxLength,className:Object(r.a)(i.a.managedInput,this.props.className),style:n,placeholder:this.props.placeholder,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onCompositionStart:this.onCompositionStart,onCompositionEnd:this.onCompositionEnd,ref:function(n){e.inputElem=n,e.props.onRef&&e.props.onRef(n)}})}}]),n}();s.defaultProps={id:void 0,name:void 0,value:void 0,type:"text",className:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,onFocus:void 0,onBlur:void 0,onChange:void 0,onKeyUp:void 0,onKeyDown:void 0,onCompositionStart:void 0,onCompositionEnd:void 0,onInteractionStart:void 0,onRef:void 0,onCTAClick:void 0},n.a=s},"./packages/input/text-input/ManagedTextInput.less":function(e,n,t){e.exports={managedInput:"input-text-input-ManagedTextInput__managedInput--106PS"}},"./packages/input/text-input/TextInput.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),o=t("./packages/input/text-input/ManagedTextInput.jsx"),i=t("./packages/input/text-input/TextInput.less"),l=t.n(i),s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};n.a=function(e){var n=Object(r.a)(l.a.inputElement,e.className),t=s({},e,{className:n});return a.createElement(o.a,t)}},"./packages/input/text-input/TextInput.less":function(e,n,t){e.exports={inputElement:"input-text-input-TextInput__inputElement--3z9Nm"}},"./packages/social/blocks/BlockProfileMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BlockProfile"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userIdToBlock"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"blockSingleUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userIdToBlock"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:110}};t.loc.source={body:"mutation BlockProfile($userIdToBlock: String!) {\n  blockSingleUser(userId: $userIdToBlock) {\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/blocks/BlockStatusQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlockStatusQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberProfiles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userIds"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"userId"},name:{kind:"Name",value:"id"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"static"},arguments:[]}]},{kind:"Field",name:{kind:"Name",value:"followeeCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followerCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFollowing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isBlocking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isBlockingYou"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:232}};t.loc.source={body:"query BlockStatusQuery($userId: String!) {\n  memberProfiles(userIds: [{ id: $userId }]) {\n    userId: id @static\n    followeeCount\n    followerCount\n    isFollowing\n    blockStatus {\n      isBlocking\n      isBlockingYou\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/blocks/BlockUserDescriptionContent.less":function(e,n,t){e.exports={additional:"social-blocks-BlockUserDescriptionContent__additional--2BFq4",list:"social-blocks-BlockUserDescriptionContent__list--EdMg7",notice:"social-blocks-BlockUserDescriptionContent__notice--1tfgu",notice_text:"social-blocks-BlockUserDescriptionContent__notice_text--30aCQ"}},"./packages/social/blocks/BlockUserModal.less":function(e,n,t){e.exports={toast:"social-blocks-BlockUserModal__toast--1_eBG"}},"./packages/social/blocks/ConfirmationView.less":function(e,n,t){e.exports={submit:"social-blocks-ConfirmationView__submit--3RI3f",submitting:"social-blocks-ConfirmationView__submitting--252E5",IE11:"social-blocks-ConfirmationView__IE11--147Em",container:"social-blocks-ConfirmationView__container--3J_v3",loader:"social-blocks-ConfirmationView__loader--3HWSL",button_flex_wrap:"social-blocks-ConfirmationView__button_flex_wrap--1HcNe",button_right_gap:"social-blocks-ConfirmationView__button_right_gap--3ZK1p",button_left_gap:"social-blocks-ConfirmationView__button_left_gap--28BY3"}},"./packages/social/blocks/ImportantBlockUserInfo.less":function(e,n,t){e.exports={privacy:"social-blocks-ImportantBlockUserInfo__privacy--3X42M"}},"./packages/social/blocks/UnblockProfileMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnblockProfile"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userIdToUnblock"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unblockUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userIds"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"userIdToUnblock"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:116}};t.loc.source={body:"mutation UnblockProfile($userIdToUnblock: String!) {\n  unblockUsers(userIds: [$userIdToUnblock]) {\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/blocks/UnblockUserDescriptionContent.less":function(e,n,t){e.exports={list:"social-blocks-UnblockUserDescriptionContent__list--_GRaD",notice:"social-blocks-UnblockUserDescriptionContent__notice--1-RGv",notice_text:"social-blocks-UnblockUserDescriptionContent__notice_text--11TwK"}},"./packages/social/blocks/blocks.jsx":function(e,n,t){"use strict";t.r(n);var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),o=t("./packages/social/blocks/BlockStatusQuery.gql"),i=t.n(o),l=t("./packages/social/blocks/BlockProfileMutation.gql"),s=t.n(l),c=function(e){var n=e.userIdToBlock,t=e.children;return a.createElement(r.Mutation,{mutation:s.a,refetchQueries:[{query:i.a,variables:{userId:n}}],awaitRefetchQueries:!0},function(e,a){return t(function(){return e({variables:{userIdToBlock:n}})},a)})},u=t("./packages/social/blocks/UnblockProfileMutation.gql"),d=t.n(u),m=function(e){var n=e.userIdToUnblock,t=e.children;return a.createElement(r.Mutation,{mutation:d.a,refetchQueries:[{query:i.a,variables:{userId:n}}],awaitRefetchQueries:!0},function(e,a){return t(function(){return e({variables:{userIdToUnblock:n}})},a)})},p=t("@ta/overlays.modal"),f=t("./packages/social/login-gate/SocialOpener.jsx"),b=t("@ta/overlays.managers"),v=t("./packages/common/i18n/i18n.jsx"),k=t("./packages/common/text/EscapeHtml.jsx"),g=t("@ta/overlays.toast"),y=t("@ta/overlays.headers"),_=t("./node_modules/react-redux/es/index.js"),h=t("./packages/common/classnames/classnames.jsx"),O=t("./packages/styleguide/loading/LoadingBubbles.jsx"),N=t("@ta/social.button"),j=t.n(N),E=t("./packages/social/blocks/ConfirmationView.less"),S=t.n(E),w=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function C(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var x=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onSubmit=function(){"function"==typeof t.props.onSubmit&&t.props.onSubmit()},t.onCancel=function(){"function"==typeof t.props.onCancel&&t.props.onCancel()},t.updateBtnRect=function(){var e=t.submitBtnRef.current,n=t.submitBtnRect.height;e&&(t.submitBtnRect={width:e.offsetWidth,height:n})},t.submitBtnRef=a.createRef(),t.submitBtnRect=e.isMobile?{width:180,height:36}:{width:81,height:36},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),w(n,[{key:"componentDidMount",value:function(){this.updateBtnRect()}},{key:"componentDidUpdate",value:function(e){e.isSubmitting&&!this.props.isSubmitting&&this.updateBtnRect()}},{key:"render",value:function(){var e,n=this.props,t=n.isSubmitting,r=n.descriptionContent,o=n.submitContent,i=n.isMobile,l=n.isIE11,s=this.submitBtnRect,c=s.width,u=s.height;return a.createElement("div",{className:Object(h.a)(S.a.container,(e={},C(e,S.a.submitting,t),C(e,S.a.IE11,l),e))},r,a.createElement("div",{className:S.a.submit},a.createElement("span",{className:Object(h.a)(S.a.button_flex_wrap,S.a.button_right_gap)},a.createElement(j.a,{type:"secondary",size:i?"fullwidth":"default",onClick:this.onCancel},Object(v.localize)("social_block_modal_cancel"))),t?a.createElement("div",{style:{width:c,height:u},className:Object(h.a)(S.a.loader,S.a.button_left_gap)},a.createElement(O.a,{color:"dark"})):a.createElement("span",{className:Object(h.a)(S.a.button_flex_wrap,S.a.button_left_gap)},a.createElement(j.a,{type:"primary",size:i?"fullwidth":"default",onClick:this.onSubmit,ref:this.submitBtnRef},o))))}}]),n}();x.defaultProps={submitContent:"Submit",onCancel:void 0,onSubmit:void 0,isSubmitting:!1,isError:!1};var I=Object(_.connect)(function(e,n){return{isMobile:"DESKTOP"!==e.meta.device.viewportCategory,isIE11:"IE"===e.meta.device.browser.family&&11===e.meta.device.browser.majorVersion}})(x),T=t("./packages/social/blocks/ImportantBlockUserInfo.less"),U=t.n(T),P=function(){return a.createElement(a.Fragment,null,Object(v.localize)("social_block_modal_more_v2"),Object(v.unescaped)(Object(v.localize)("social_block_modal_more_hyperlink",{href:Object(v.localize)("mobile_help_center_url")+"/articles/200613547",className:U.a.privacy,target:"_blank"})))},M=function(e){var n=e.children;return a.Children.map(n,function(e){return a.createElement("li",null,e)})},A=t("./packages/social/blocks/BlockUserDescriptionContent.less"),F=t.n(A),D=function(e){var n=e.displayName;return a.createElement(a.Fragment,null,a.createElement("div",{className:F.a.notice,key:"notice"},a.createElement("span",{className:F.a.notice_text},Object(v.localize)("social_block_modal_notice",{displayName:n}))),a.createElement("div",{className:F.a.list,key:"list"},a.createElement(M,null,Object(v.localize)("social_block_modal_ex_follow_v2"),Object(v.localize)("social_block_modal_ex_dm"),Object(v.localize)("social_block_modal_ex_repost_v2"))),a.createElement("div",{className:F.a.additional,key:"additional_info"},a.createElement(P,null)))},B=t("./packages/social/blocks/BlockUserModal.less"),V=t.n(B),R=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function q(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var L=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=q(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.onSubmit=function(){var e=a.props,n=e.blockProfile,t=e.closeModal,r=e.launchToast,o=e.displayName;return n().then(function(){t(),r({node:Object(v.unescaped)(Object(v.localize)("social_block_toast",{username:Object(k.a)(o),className:V.a.toast}))})})},q(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),R(n,[{key:"render",value:function(){var e=this.props,n=e.displayName,t=e.isSubmitting,r=e.closeModal;return a.createElement(I,{descriptionContent:a.createElement(D,{displayName:n}),onSubmit:this.onSubmit,submitContent:Object(v.localize)("social_block_btn"),onCancel:r,isSubmitting:t})}}]),n}(),z=function(e,n){return e+":BLOCK_USER:"+n},$=function(e){var n=e.userId,t=e.namespace,r=e.children;return a.createElement(f.a,{name:z(t,n)},r)};$.defaultProps={namespace:""};var Q=function(e){var n=e.userIdToBlock,t=e.displayName,r=e.namespace,o=e.onClose;return a.createElement(g.Toaster,null,function(e){return a.createElement(b.Closer,null,function(i){return a.createElement(p.Modal,{name:z(r,n),header:a.createElement(y.TitleBar,{displayType:"CENTERED_WHITE"},Object(v.localize)("social_block_modal_title",{displayName:t})),onClose:o},a.createElement(c,{userIdToBlock:n},function(n,r){var o=r.loading;return a.createElement(L,{blockProfile:n,isSubmitting:o,displayName:t,closeModal:i,launchToast:e})}))})})};Q.defaultProps={namespace:""};var H=Q,G=t("./packages/social/blocks/UnblockUserDescriptionContent.less"),K=t.n(G),W=function(e){var n=e.displayName;return a.createElement(a.Fragment,null,a.createElement("div",{className:K.a.notice,key:"notice"},a.createElement("span",{className:K.a.notice_text},Object(v.localize)("social_unblock_modal_notice",{displayName:n}))),a.createElement("div",{className:K.a.list,key:"list"},a.createElement(M,null,Object(v.localize)("social_block_modal_ex_follow_v2"),Object(v.localize)("social_block_modal_ex_dm"),Object(v.localize)("social_block_modal_ex_repost_v2"))))},Y=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function J(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var X=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=J(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.onSubmit=function(){var e=a.props,n=e.unblockProfile,t=e.closeModal;n().then(t)},J(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),Y(n,[{key:"render",value:function(){var e=this.props,n=e.displayName,t=e.isSubmitting,r=e.closeModal;return a.createElement(I,{descriptionContent:a.createElement(W,{displayName:n}),onSubmit:this.onSubmit,onCancel:r,submitContent:Object(v.localize)("social_unblock_btn"),isSubmitting:t})}}]),n}(),Z=function(e,n){return e+":UNBLOCK_USER:"+n},ee=function(e){var n=e.userId,t=e.namespace,r=e.children;return a.createElement(f.a,{name:Z(t,n)},r)};ee.defaultProps={namespace:""};var ne=function(e){var n=e.userIdToUnblock,t=e.displayName,r=e.namespace,o=e.onClose;return a.createElement(b.Closer,null,function(e){return a.createElement(p.Modal,{name:Z(r,n),header:a.createElement(y.TitleBar,{displayType:"CENTERED_WHITE"},Object(v.localize)("social_unblock_modal_title",{displayName:t})),onClose:o},a.createElement(m,{userIdToUnblock:n},function(n,r){var o=r.loading,i=r.data;return a.createElement(X,{unblockProfile:n,isSubmitting:o||i,displayName:t,closeModal:e})}))})};ne.defaultProps={namespace:""};var te=ne,ae=function(){return Object(v.localize)("social_no_permission")},re=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},oe=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function ie(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function le(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function se(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var ce=a.createContext(function(e){throw new Error("Attempted to open a modal without an enclosing MemberInteractionProvider")}),ue=ce.Provider,de=ce.Consumer,me=function(e){function n(){var e,t,a;ie(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=le(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.openModal=function(e){if("BLOCK"===e)a.props.openBlockUserModal();else{if("UNBLOCK"!==e)throw new Error("Attempted to open type "+e+" but it does not exist.");a.props.openUnblockUserModal()}},le(a,t)}return se(n,a["Component"]),oe(n,[{key:"render",value:function(){var e=this.props,n=e.namespace,t=e.member,r=t.userId,o=t.displayName,i=e.onClose,l=e.children;return a.createElement(ue,{value:this.openModal},a.createElement(H,{userIdToBlock:r,displayName:o,namespace:n,onClose:i,key:"BLOCK_MODAL:"+r+":"+n}),a.createElement(te,{userIdToUnblock:r,displayName:o,namespace:n,onClose:i,key:"UNBLOCK_MODAL:"+r+":"+n}),l)}}]),n}(),pe=function(e){function n(){var e,t,a;ie(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=le(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.namespace="MEMBER_INTERACTION:"+Math.random(),le(a,t)}return se(n,a["Component"]),oe(n,[{key:"render",value:function(){var e=this,n=this.props.member.userId;return a.createElement($,{userId:n,namespace:this.namespace},function(t){return a.createElement(ee,{userId:n,namespace:e.namespace},function(n){return a.createElement(me,re({},e.props,{namespace:e.namespace,openUnblockUserModal:n,openBlockUserModal:t}))})})}}]),n}();t.d(n,"BlockProfile",function(){return c}),t.d(n,"UnblockProfile",function(){return m}),t.d(n,"BlockUserModal",function(){return H}),t.d(n,"OpenBlockUserModal",function(){return $}),t.d(n,"UnblockUserModal",function(){return te}),t.d(n,"OpenUnblockUserModal",function(){return ee}),t.d(n,"NoPermissionToast",function(){return ae}),t.d(n,"MemberInteractionProvider",function(){return pe}),t.d(n,"MemberInteractionConsumer",function(){return de})},"./packages/social/confirm-username/CheckUsernameQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckUsernameQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkUsername"},arguments:[{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:103}};t.loc.source={body:"query CheckUsernameQuery($username: String!) {\n  checkUsername(username: $username) {\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/ConfirmUsername.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),o=t("./node_modules/react-redux/es/index.js"),i=t("./packages/styleguide/loading/LoadingSpinner.jsx"),l=t("./packages/common/i18n/i18n.jsx"),s=t("./packages/common/logging/logging.jsx"),c=t.n(s),u=t("./packages/input/text-input/TextInput.jsx"),d=t("@ta/social.button"),m=t.n(d),p=t("./packages/common/classnames/classnames.jsx"),f=t("./packages/common/tracking/tracking.jsx"),b=t.n(f),v=t("./node_modules/lodash/debounce.js"),k=t.n(v),g=t("./packages/social/confirm-username/ConfirmUsername.less"),y=t.n(g),_=t("./packages/social/confirm-username/UpdateInsightProfileCardAction.gql"),h=t.n(_),O=t("./packages/social/confirm-username/SubmitOnMount.jsx"),N=new Set,j=Object(o.connect)(function(e){return{userId:e.auth.loggedInUserId,taUnique:e.meta.taUnique}})(function(e){var n=e.userId,t=e.taUnique,o=e.cardId,i=e.cardAction;return N.has(o)?null:(N.add(o),a.createElement(r.Mutation,{mutation:h.a},function(e){var r={userId:n,taUnique:t,cardId:o,cardAction:i};return a.createElement(O.a,{submit:function(){e({variables:r})}})}))}),E=t("./packages/social/confirm-username/ScreenCompleteMutation.gql"),S=t.n(E),w=t("./packages/social/confirm-username/UsernameValidationMutation.gql"),C=t.n(w),x=t("./packages/social/confirm-username/ConfirmUsernameQuery.gql"),I=t.n(x),T=t("./packages/social/confirm-username/CheckUsernameQuery.gql"),U=t.n(T);t.d(n,"b",function(){return B});var P=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function M(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var A="Social_onboarding_unknown",F=/^[a-zA-Z]+\d{11}$/,D=function(e){return e&&"string"==typeof e&&e.match(F)},B=function(e){return e.states.find(function(e){return"ONBOARDING_CONFIRM_USER"===e.id&&"COMPLETED"===e.state})},V=function(e){return e.accepted?null:a.createElement("div",{className:y.a.terms},Object(l.unescaped)(Object(l.localize)("social_legal_tou_returnmem_confirm",{0:"/pages/terms.html",1:y.a.link})))},R=function(e){var n=e.usernameMutationVars,t=e.screenCompleteMutationVars,o=e.onUsernameValid,i=e.screenCompleteCallback,l=e.children,s=e.textInputIsInvalid;return a.createElement(r.Mutation,{mutation:S.a,refetchQueries:[{query:I.a,variables:{userId:n.userId}}]},function(e){return a.createElement(r.Mutation,{mutation:C.a,onCompleted:function(n){o(n)&&(e({variables:t}),i())}},function(e){return a.createElement("form",{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},onSubmit:function(t){t.preventDefault&&t.preventDefault(),s()||e({variables:n})}},l)})})};R.defaultProps={children:null};var q=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onChange=function(e,n){t.state.dataInput=!0,t.setState(M({},e,n)),"username"===e&&"string"==typeof n&&(t.clearErrorState("username"),t.debouncedHandleUsernameChange(n))},t.setErrorState=function(e){var n=t.state.name?t.state.name:Object(l.localize)("onboarding_social_name_screen_display_name_field_v2"),r=t.state.username?t.state.username:Object(l.localize)("social_edit_profile_username");switch(e){case"USERNAME_TOO_SHORT":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_too_short",{0:r})),"username");break;case"USERNAME_TOO_LONG":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_too_long",{0:r})),"username");break;case"USERNAME_INVALID_CHARACTERS":t.setError(Object(l.unescaped)(Object(l.localize)("profile_update_error_username_invalid_characters")),"username");break;case"USERNAME_ALREADY_EXISTS":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_already_exists",{0:r})),"username");break;case"USERNAME_CONTAINS_PROFANITY":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_contains_profanity")),"username");break;case"USERNAME_CONTAINS_TA_WORDS":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_contains_ta_words")),"username");break;case"DISPLAYNAME_TOO_SHORT":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("mobile_profile_update_error_display_name_too_short")),"displayname");break;case"DISPLAYNAME_TOO_LONG":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_display_name_too_long",{0:n})),"displayname");break;case"DISPLAYNAME_CONTAINS_PROFANITY":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_contains_profanity")),"displayname");break;case"DISPLAYNAME_CONTAINS_TA_WORDS":t.setError(a.createElement(a.Fragment,null,Object(l.localize)("profile_update_error_username_contains_ta_words")),"displayname");break;default:c.a.error("Unknown username edit error: "+e),t.setError(a.createElement(a.Fragment,null,Object(l.localize)("social_loading_error_1")),"username")}},t.setError=function(e,n){t.setState({error:{message:e,field:n,advisory:!1}})},t.setAdvisory=function(e,n){t.setState({error:{message:e,field:n,advisory:!0}})},t.clearErrorState=function(e){t.setAdvisory(null,e)},t.hasError=function(e){return t.state.error&&t.state.error.field===e},t.isAdvisory=function(){return t.state.error&&t.state.error.advisory},t.newUser=function(){return!t.props.displayName||!t.props.username||D(t.props.username)},t.handleUsernameChange=function(e){t.props.client.query({query:U.a,variables:{username:e},fetchPolicy:"no-cache"}).then(function(e){var n=e.data.checkUsername.status;"OK"!==n?"USERNAME_IS_SAME"===n?t.clearErrorState("username"):t.setErrorState(n):t.setAdvisory(a.createElement("span",{className:y.a.advisory},Object(l.localize)("social_username_available")),"username")})},t.debouncedHandleUsernameChange=k()(t.handleUsernameChange,500),t.state={name:D(e.username)?"":e.displayName,username:D(e.username)?"":e.username,error:null,dataInput:!1},A=e.trackingModule,t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),P(n,[{key:"componentDidMount",value:function(){var e=D(this.props.username);b()({module:A,action:"namescreen_displayname",context:this.props.displayName&&!e?"prefilled":"blank"}),b()({module:A,action:"namescreen_username",context:this.props.username&&!e?"prefilled":"blank"})}},{key:"render",value:function(){var e=this;return a.createElement(R,{usernameMutationVars:{userId:this.props.userId,displayName:this.props.displayName!==this.state.name?this.state.name:null,username:this.props.username!==this.state.username?this.state.username:null},screenCompleteMutationVars:{userId:this.props.userId,taUnique:this.props.taUnique,cardId:"ONBOARDING_CONFIRM_USER",cardState:"COMPLETED",newlyAccepted:!this.props.acceptedTou},screenCompleteCallback:function(){e.props.onComplete(e.state.dataInput)},onUsernameValid:function(n){return"OK"===n.updateMemberProfile.status?(b()({module:A,action:"namescreen_complete_success",context:""}),!0):(e.setErrorState(n.updateMemberProfile.status),b()({module:A,action:"namescreen_submit_error",context:n.updateMemberProfile.status}),!1)},textInputIsInvalid:function(){return e.state.name?!e.state.username&&(e.setErrorState("USERNAME_TOO_SHORT"),!0):(e.setErrorState("DISPLAYNAME_TOO_SHORT"),!0)}},a.createElement(a.Fragment,null,a.createElement(j,{cardId:"ONBOARDING_CONFIRM_USER",cardAction:"SHOW"}),a.createElement("div",{className:y.a.contentWrapper},a.createElement("div",{className:y.a.title},this.newUser()?Object(l.localize)("onboarding_social_name_screen_new_header"):Object(l.localize)("onboarding_social_name_screen_returning_header")),a.createElement("div",{className:"ui_label_group"},a.createElement("span",{className:y.a.label},Object(l.localize)("onboarding_social_name_screen_display_name_field_v2")),a.createElement("span",{className:y.a.helperText},Object(l.localize)("onboarding_social_name_screen_display_name_helper_text_period_814")),a.createElement(u.a,{maxLength:40,value:this.state.name||"",className:Object(p.a)(y.a.editInput,M({},y.a.errorInputBox,this.hasError("displayname"))),onChange:function(n,t){return e.onChange("name",t)},placeholder:Object(l.localize)("onboarding_social_name_screen_display_name_ghost_text")}),Object(l.unescaped)("&nbsp;"),this.state.error&&this.hasError("displayname")&&a.createElement("span",{className:y.a.errorLabel},this.state.error.message)),a.createElement("div",{className:"ui_label_group"},a.createElement("span",{className:y.a.label},Object(l.localize)("social_edit_profile_username")),a.createElement("span",{className:y.a.helperText},Object(l.localize)("onboarding_social_name_screen_username_helper_text_period_814")),a.createElement("span",{className:y.a.username},a.createElement(u.a,{maxLength:20,value:this.state.username||"",className:Object(p.a)(y.a.usernameInput,y.a.editInput,M({},y.a.errorInputBox,this.hasError("username")&&!this.isAdvisory())),onChange:function(n,t){return e.onChange("username",t)},placeholder:Object(l.localize)("onboarding_social_name_screen_username_ghost_text")}),Object(l.unescaped)("&nbsp;"),this.state.error&&this.hasError("username")&&a.createElement("span",{className:y.a.errorLabel},this.state.error.message))),a.createElement(V,{accepted:this.props.acceptedTou}),a.createElement("div",{className:y.a.buttonContainer},a.createElement(f.Track,{click:{module:A,action:"namescreen_confirm_click",context:""},visible:{module:A,action:"namescreen_shown",context:""}},a.createElement(m.a,{type:"primary",size:"fullwidth"},Object(l.localize)("onboarding_social_name_screen_cta")))))))}}]),n}();n.a=Object(o.connect)(function(e){return{userId:e.auth.loggedInUserId,taUnique:e.meta.taUnique}})(function(e){return a.createElement(r.Query,{query:I.a,variables:{userId:e.userId},fetchPolicy:"network-only"},function(n){var t=n.loading,o=n.data,s=n.error,u=n.refetch;if(s)return c.a.error("Error in ConfirmUsername query: "+s),b()({module:A,action:"confirmusername_query_error_shown",context:e.userId}),a.createElement("div",{className:y.a.ui_error},Object(l.localize)("compliment_9bd"),a.createElement("div",{className:y.a.ui_error_button},a.createElement(m.a,{type:"primary",onClick:function(){return u()}},Object(l.localize)("link_uploader_refresh")),a.createElement(m.a,{type:"primary",onClick:e.closerForError},Object(l.localize)("btn_cancel"))));if(t)return a.createElement("div",{className:y.a.spinner},a.createElement(i.a,null));if(o){var d=o.getTermOfUseAcceptanceInfo&&o.getTermOfUseAcceptanceInfo.accepted,p=o.insightProfile&&o.insightProfile.uiCardsState;if(p&&B(p)&&d)return e.onComplete(!1),null;var f=o.memberProfiles[0],v=f?f.displayName:"",k=f?f.username:"";return a.createElement(r.ApolloConsumer,null,function(n){return a.createElement(q,{userId:e.userId,taUnique:e.taUnique,displayName:v,username:k,onComplete:e.onComplete,trackingModule:e.trackingModule,acceptedTou:d,client:n})})}return null})})},"./packages/social/confirm-username/ConfirmUsername.less":function(e,n,t){e.exports={contentWrapper:"social-confirm-username-ConfirmUsername__contentWrapper--3dBff",title:"social-confirm-username-ConfirmUsername__title--1S1KY",label:"social-confirm-username-ConfirmUsername__label--j1lup",terms:"social-confirm-username-ConfirmUsername__terms--2A-Lt",link:"social-confirm-username-ConfirmUsername__link--1xodC",spinner:"social-confirm-username-ConfirmUsername__spinner--2qYGC",username:"social-confirm-username-ConfirmUsername__username--2E0nZ",usernameInput:"social-confirm-username-ConfirmUsername__usernameInput--j7Nkq",editInput:"social-confirm-username-ConfirmUsername__editInput--2YaOq",errorInputBox:"social-confirm-username-ConfirmUsername__errorInputBox--2Jq5w",errorLabel:"social-confirm-username-ConfirmUsername__errorLabel--NHCYk",advisory:"social-confirm-username-ConfirmUsername__advisory--1OLFY",helperText:"social-confirm-username-ConfirmUsername__helperText--38Jus",buttonContainer:"social-confirm-username-ConfirmUsername__buttonContainer--Rhlcv",ui_error:"social-confirm-username-ConfirmUsername__ui_error--3erWq",ui_error_button:"social-confirm-username-ConfirmUsername__ui_error_button--3hamo"}},"./packages/social/confirm-username/ConfirmUsernameQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConfirmUsernameQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberProfiles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userIds"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insightProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uiCardsState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"getTermOfUseAcceptanceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:273}};t.loc.source={body:"query ConfirmUsernameQuery($userId: String!) {\n  memberProfiles(userIds: [{ id: $userId }]) {\n    displayName\n    username\n  }\n  insightProfile {\n    uiCardsState {\n      states {\n        id\n        state\n      }\n    }\n  }\n  getTermOfUseAcceptanceInfo {\n    accepted\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/ScreenCompleteMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConfirmUsernameComplete"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taUnique"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardTypeEnumInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardState"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardStateEnumInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newlyAccepted"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateInsightProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"request"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"taUnique"},value:{kind:"Variable",name:{kind:"Name",value:"taUnique"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"profile"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uiCardsState"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"ObjectField",name:{kind:"Name",value:"state"},value:{kind:"Variable",name:{kind:"Name",value:"cardState"}}}]}]}}]}}]}}]}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"acceptTermsOfUse"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"newlyAccepted"}}}]}]}]}}],loc:{start:0,end:398}};t.loc.source={body:"mutation ConfirmUsernameComplete(\n  $userId: String!\n  $taUnique: String\n  $cardId: CardTypeEnumInput\n  $cardState: CardStateEnumInput\n  $newlyAccepted: Boolean!\n) {\n  updateInsightProfile(\n    request: {\n      id: { userId: $userId, taUnique: $taUnique }\n      profile: { uiCardsState: { states: [{ id: $cardId, state: $cardState }] } }\n    }\n  )\n  acceptTermsOfUse @include(if: $newlyAccepted)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/SubmitOnMount.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var i=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=a=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.componentDidMount=function(){a.props.submit()},o(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),r(n,[{key:"render",value:function(){return null}}]),n}();n.a=i},"./packages/social/confirm-username/UpdateInsightProfileCardAction.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateInsightProfile"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taUnique"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CardTypeEnumInput"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardAction"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActionTypeEnumInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateInsightProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"request"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"taUnique"},value:{kind:"Variable",name:{kind:"Name",value:"taUnique"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"profile"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uiCardActions"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"ObjectField",name:{kind:"Name",value:"cardAction"},value:{kind:"Variable",name:{kind:"Name",value:"cardAction"}}}]}]}}]}}]}}],directives:[]}]}}],loc:{start:0,end:323}};t.loc.source={body:"mutation updateInsightProfile(\n  $userId: String\n  $taUnique: String!\n  $cardId: CardTypeEnumInput!\n  $cardAction: ActionTypeEnumInput!\n) {\n  updateInsightProfile(\n    request: {\n      id: { userId: $userId, taUnique: $taUnique }\n      profile: { uiCardActions: [{ cardId: $cardId, cardAction: $cardAction }] }\n    }\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/UsernameValidationMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UsernameValidation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"displayName"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateMemberProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"displayName"}}},{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:263}};t.loc.source={body:"mutation UsernameValidation($userId: String!, $displayName: String, $username: String) {\n  updateMemberProfile(userId: $userId, displayName: $displayName, username: $username) {\n    status\n    memberProfile {\n      id\n      displayName\n      username\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/failover/FailoverMessage.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./packages/common/i18n/i18n.jsx"),o=t("./packages/social/failover/FailoverMessage.less"),i=t.n(o);n.a=function(){return a.createElement("div",{className:i.a.container},a.createElement("p",{className:i.a.heading},Object(r.localize)("social_readonly_message_main")," "),a.createElement("p",{className:i.a.body},Object(r.localize)("social_readonly_message_subtext")," "))}},"./packages/social/failover/FailoverMessage.less":function(e,n,t){e.exports={container:"social-failover-FailoverMessage__container--1_AV5",heading:"social-failover-FailoverMessage__heading--vxjBu",body:"social-failover-FailoverMessage__body--_U4tV"}},"./packages/social/login-gate/AuthGated.jsx":function(e,n,t){"use strict";(function(e){var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),o=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),i=t("./packages/common/webview/webview.jsx"),l=t("@ta/tracking.interactions"),s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},c=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var d=function(n){function t(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(t,a["Component"]),c(t,[{key:"formatInteraction",value:function(e){var n=this.props.tracking;return n?{variables:{interaction:u({},n.source,u({},e,s({element:n.element},n.attributes||{})))}}:null}},{key:"renderInner",value:function(n){var t=this.props,a=t.loggedInUserId,r=t.pid,o=t.flowOrigin,l=t.flow,s=t.extraQueryParams,c=t.onClose;return(0,t.children)(function(){return new Promise(function(t){if(a)t();else if(i.a.isNativeWebview())i.a.showRegistration(!1);else{var u={flow:l||"CORE_COMBINED",pid:r||-1,userRequestedForce:!0,extraQueryParams:s||{},locationId:window.require("page-model").GEO_ID,onSuccess:function(e){n("modalSuccess"),t(e)},onClose:c};o&&(u.extraQueryParams.flowOrigin=o),e.require(["trjs!ta/registration/RegOverlay"],function(e){n("elementClick"),e.showRegOverlayByPageModel(null,null,window.require("page-model"),u)})}})},a)}},{key:"render",value:function(){var e=this;return a.createElement(o.Mutation,{mutation:l.LogInteractionV4},function(n){return e.renderInner(function(t){var a=e.formatInteraction(t);a&&n(a)})})}}]),t}();n.a=Object(r.connect)(function(e,n){return s({loggedInUserId:e.auth.loggedInUserId},n)})(d)}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./packages/social/login-gate/ReadonlyMessageOverlay.less":function(e,n,t){e.exports={container:"social-login-gate-ReadonlyMessageOverlay__container--2soKz",bodyContent:"social-login-gate-ReadonlyMessageOverlay__bodyContent--1Mt3g"}},"./packages/social/login-gate/SocialLoginGate.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),o=t("./packages/common/features/features.jsx"),i=t("./packages/social/failover/FailoverMessage.jsx"),l=t("./packages/social/login-gate/AuthGated.jsx"),s=t("./packages/social/login-gate/TermsOfUseOverlay.jsx"),c=t("@ta/overlays.fullscreen-overlay"),u=t.n(c),d=t("@ta/overlays.pieces"),m=t("./packages/events/keyboard-event-listener/KeyboardEventListener.jsx"),p=t("./packages/social/login-gate/ReadonlyMessageOverlay.less"),f=t.n(p),b=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},v={position:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},k=function(e){var n=a.createElement("div",{className:f.a.container},a.createElement("div",{className:f.a.bodyContent},e.children),a.createElement(d.CloseX,{close:e.closer}));return e.fullscreen?a.createElement(a.Fragment,null,a.createElement(u.a,null,n)):a.createElement(a.Fragment,null,a.createElement(d.BlockScroll,null),a.createElement(d.Backdrop,{close:e.closer},a.createElement(d.Overlay,v,n),a.createElement(m.a,{keyName:"Escape",callback:e.closer})))};k.defaultProps={fullscreen:!1,onClose:null};var g=Object(r.connect)(function(e,n){return b({},n,{fullscreen:n.fullscreenAlways||"MOBILE"===e.meta.device.viewportCategory})})(k),y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();function h(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var O=function(e){function n(){var e,t,a;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=a=h(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.state={openTermsOfUseOverlay:!1,onSuccess:function(){},forceTermsOfUse:!1,openReadonlyOverlay:!1},a.closeTermsOfUseOverlay=function(){a.setState({openTermsOfUseOverlay:!1,onSuccess:function(){}})},a.openReadonlyOverlay=function(){a.setState({openReadonlyOverlay:!0})},a.closeReadonlyOverlay=function(){a.setState({openReadonlyOverlay:!1})},h(a,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,a["Component"]),_(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.pid,r=n.flowOrigin,c=n.children,u=n.onClose,d=n.tracking,m=n.isReadonlyMode;return a.createElement(l.a,{pid:t,flowOrigin:r,extraQueryParams:{social:!0},onClose:u,tracking:d},function(n,t){var r=m?function(){return e.openReadonlyOverlay(),Promise.reject()}:Object(o.featureIsEnabled)("social_2018_login_gate")?function(){return n().then(function(n){var t=n&&(n.hasCreatedMember||!n.hasAcceptedTermsOfUse);return n&&!t||Object(o.featureIsEnabled)("social_2018_login_gate_skip_terms_of_service")?Promise.resolve():new Promise(function(n){e.setState({openTermsOfUseOverlay:!0,forceTermsOfUse:t,onSuccess:function(){n(),e.setState({openTermsOfUseOverlay:!1,onSuccess:function(){}})}})})})}:function(){return Promise.resolve()};return a.createElement(a.Fragment,null,c(r,t),e.state.openTermsOfUseOverlay&&a.createElement(s.a,{onComplete:e.state.onSuccess,forceTermsOfUse:e.state.forceTermsOfUse,onClose:e.closeTermsOfUseOverlay}),e.state.openReadonlyOverlay&&a.createElement(g,{closer:e.closeReadonlyOverlay},a.createElement(i.a,null)))})}}]),n}();O.defaultProps={pid:-1,flowOrigin:void 0,tracking:void 0};n.a=Object(r.connect)(function(e,n){return y({isReadonlyMode:e.meta.readonlyMode},n)})(O)},"./packages/social/login-gate/SocialOpener.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("@ta/overlays.managers"),o=t("./packages/social/login-gate/SocialLoginGate.jsx"),i=function(e){var n=e.name,t=e.local,i=e.pid,l=e.children;return a.createElement(o.a,{pid:i},function(e){return a.createElement(r.Opener,{name:n,local:t},function(n,t){return l(function(){e().then(n)},t)})})};i.defaultProps={local:!1,pid:void 0},n.a=i},"./packages/social/login-gate/TermsOfUseOverlay.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),o=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),i=t("./packages/common/logging/logging.jsx"),l=t.n(i),s=t("@ta/overlays.fullscreen-overlay"),c=t.n(s),u=t("@ta/overlays.managers"),d=t("@ta/overlays.pieces"),m=t("./packages/social/confirm-username/ConfirmUsername.jsx"),p=t("./packages/social/login-gate/TermsOverlayQuery.gql"),f=t.n(p),b=t("./packages/social/login-gate/TermsOfUseOverlay.less"),v=t.n(b),k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},g={position:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},y=function(e){var n=e.onComplete,t=e.children;return a.createElement(o.Query,{query:f.a},function(e){var a=e.loading,r=e.data,o=e.error;if(a)return null;if(r){var i=r.getTermOfUseAcceptanceInfo&&r.getTermOfUseAcceptanceInfo.accepted,s=r.insightProfile&&r.insightProfile.uiCardsState;return i&&s&&Object(m.b)(s)?(n(),null):t}return o&&l.a.warn("Error in SkipIfCompleted query: "+o),l.a.warn("TermsOfUseOverlay was shown due to lack of sufficient information or a query error."),t})},_=function(e){var n=function(n){return a.createElement("div",{className:v.a.container},a.createElement("div",{className:v.a.bodyContent},a.createElement(m.a,{onComplete:e.onComplete,closerForError:n,trackingModule:"Social_onboarding_gatedaction"})))},t=function(){return a.createElement(u.Closer,null,function(t){var r=function(){t(),e.onClose&&e.onClose()};return e.fullscreen?a.createElement(a.Fragment,null,a.createElement(c.a,null,n(r))):a.createElement(a.Fragment,null,a.createElement(d.BlockScroll,null),a.createElement(d.Backdrop,{close:function(){}},a.createElement(d.Overlay,g,n(r))))})};return e.forceTermsOfUse?a.createElement(t,null):a.createElement(y,{onComplete:e.onComplete},a.createElement(t,null))};_.defaultProps={fullscreen:!1,onClose:null,forceTermsOfUse:!1};var h=Object(r.connect)(function(e,n){return k({},n,{fullscreen:n.fullscreenAlways||"MOBILE"===e.meta.device.viewportCategory})})(_);n.a=h},"./packages/social/login-gate/TermsOfUseOverlay.less":function(e,n,t){e.exports={container:"social-login-gate-TermsOfUseOverlay__container--2cdv9",bodyContent:"social-login-gate-TermsOfUseOverlay__bodyContent--17ySl"}},"./packages/social/login-gate/TermsOverlayQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TermsOverlay"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insightProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uiCardsState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"getTermOfUseAcceptanceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};t.loc.source={body:"query TermsOverlay {\n  insightProfile {\n    uiCardsState {\n      states {\n        id\n        state\n      }\n    }\n  }\n  getTermOfUseAcceptanceInfo {\n    accepted\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/styleguide/loading/LoadingBubbles.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=function(e){var n=e.size,t=e.color;return a.createElement("span",{className:"ui_loader "+(n||"")+" "+(t||"")},a.createElement("span",null),a.createElement("span",null),a.createElement("span",null),a.createElement("span",null),a.createElement("span",null))};r.defaultProps={size:void 0,color:void 0},n.a=r},"./packages/styleguide/loading/LoadingSpinner.jsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),r=function(e){var n=e.size,t=e.inverted;return a.createElement("div",{className:"ui_spinner "+(n||"")+" "+(t?"inverted":"")})};r.defaultProps={size:void 0,inverted:!1},n.a=r},"@ta/overlays.fullscreen-overlay":function(n,t){n.exports=e},"@ta/overlays.headers":function(e,t){e.exports=n},"@ta/overlays.managers":function(e,n){e.exports=t},"@ta/overlays.modal":function(e,n){e.exports=a},"@ta/overlays.pieces":function(e,n){e.exports=r},"@ta/overlays.toast":function(e,n){e.exports=o},"@ta/social.button":function(e,n){e.exports=i},"@ta/tracking.interactions":function(e,n){e.exports=l},"dll-reference @ta/common.global":function(e,n){e.exports=s}})});