define("@ta/social.educational-tooltips",["@ta/overlays.fullscreen-overlay","@ta/overlays.managers","@ta/overlays.pieces","@ta/social.button","@ta/social.onboarding","@ta/tracking.interactions","@ta/common.global"],function(e,n,t,o,r,a,i){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/components/dist/",t(t.s="./packages/social/educational-tooltips/index.jsx")}({"./node_modules/dom-helpers/class/addClass.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){e.classList?e.classList.add(n):(0,a.default)(e,n)||("string"==typeof e.className?e.className=e.className+" "+n:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+n))};var o,r=t("./node_modules/dom-helpers/class/hasClass.js"),a=(o=r)&&o.__esModule?o:{default:o};e.exports=n.default},"./node_modules/dom-helpers/class/hasClass.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){return e.classList?!!n&&e.classList.contains(n):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")},e.exports=n.default},"./node_modules/dom-helpers/class/removeClass.js":function(e,n,t){"use strict";function o(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"==typeof e.className?e.className=o(e.className,n):e.setAttribute("class",o(e.className&&e.className.baseVal||"",n))}},"./node_modules/fbjs/lib/emptyFunction.js":function(e,n,t){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},"./node_modules/fbjs/lib/invariant.js":function(e,n,t){"use strict";var o=function(e){};e.exports=function(e,n,t,r,a,i,s,l){if(o(n),!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[t,r,a,i,s,l],d=0;(c=new Error(n.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},"./node_modules/lodash/_Symbol.js":function(e,n,t){var o=t("./node_modules/lodash/_root.js").Symbol;e.exports=o},"./node_modules/lodash/_baseGetTag.js":function(e,n,t){var o=t("./node_modules/lodash/_Symbol.js"),r=t("./node_modules/lodash/_getRawTag.js"),a=t("./node_modules/lodash/_objectToString.js"),i="[object Null]",s="[object Undefined]",l=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:i:l&&l in Object(e)?r(e):a(e)}},"./node_modules/lodash/_freeGlobal.js":function(e,n,t){(function(n){var t="object"==typeof n&&n&&n.Object===Object&&n;e.exports=t}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash/_getRawTag.js":function(e,n,t){var o=t("./node_modules/lodash/_Symbol.js"),r=Object.prototype,a=r.hasOwnProperty,i=r.toString,s=o?o.toStringTag:void 0;e.exports=function(e){var n=a.call(e,s),t=e[s];try{e[s]=void 0;var o=!0}catch(e){}var r=i.call(e);return o&&(n?e[s]=t:delete e[s]),r}},"./node_modules/lodash/_objectToString.js":function(e,n){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},"./node_modules/lodash/_root.js":function(e,n,t){var o=t("./node_modules/lodash/_freeGlobal.js"),r="object"==typeof self&&self&&self.Object===Object&&self,a=o||r||Function("return this")();e.exports=a},"./node_modules/lodash/debounce.js":function(e,n,t){var o=t("./node_modules/lodash/isObject.js"),r=t("./node_modules/lodash/now.js"),a=t("./node_modules/lodash/toNumber.js"),i="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,n,t){var c,u,d,p,m,f,v=0,g=!1,h=!1,b=!0;if("function"!=typeof e)throw new TypeError(i);function y(n){var t=c,o=u;return c=u=void 0,v=n,p=e.apply(o,t)}function _(e){var t=e-f;return void 0===f||t>=n||t<0||h&&e-v>=d}function k(){var e=r();if(_(e))return O(e);m=setTimeout(k,function(e){var t=n-(e-f);return h?l(t,d-(e-v)):t}(e))}function O(e){return m=void 0,b&&c?y(e):(c=u=void 0,p)}function E(){var e=r(),t=_(e);if(c=arguments,u=this,f=e,t){if(void 0===m)return function(e){return v=e,m=setTimeout(k,n),g?y(e):p}(f);if(h)return m=setTimeout(k,n),y(f)}return void 0===m&&(m=setTimeout(k,n)),p}return n=a(n)||0,o(t)&&(g=!!t.leading,d=(h="maxWait"in t)?s(a(t.maxWait)||0,n):d,b="trailing"in t?!!t.trailing:b),E.cancel=function(){void 0!==m&&clearTimeout(m),v=0,c=f=u=m=void 0},E.flush=function(){return void 0===m?p:O(r())},E}},"./node_modules/lodash/isObject.js":function(e,n){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},"./node_modules/lodash/isObjectLike.js":function(e,n){e.exports=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash/isSymbol.js":function(e,n,t){var o=t("./node_modules/lodash/_baseGetTag.js"),r=t("./node_modules/lodash/isObjectLike.js"),a="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||r(e)&&o(e)==a}},"./node_modules/lodash/now.js":function(e,n,t){var o=t("./node_modules/lodash/_root.js");e.exports=function(){return o.Date.now()}},"./node_modules/lodash/toNumber.js":function(e,n,t){var o=t("./node_modules/lodash/isObject.js"),r=t("./node_modules/lodash/isSymbol.js"),a=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return a;if(o(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=o(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var t=l.test(e);return t||c.test(e)?u(e.slice(2),t?2:8):s.test(e)?a:+e}},"./node_modules/prop-types/factoryWithThrowingShims.js":function(e,n,t){"use strict";var o=t("./node_modules/fbjs/lib/emptyFunction.js"),r=t("./node_modules/fbjs/lib/invariant.js"),a=t("./node_modules/prop-types/lib/ReactPropTypesSecret.js");e.exports=function(){function e(e,n,t,o,i,s){s!==a&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function n(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n};return t.checkPropTypes=o,t.PropTypes=t,t}},"./node_modules/prop-types/index.js":function(e,n,t){e.exports=t("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,n,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/react-apollo/react-apollo.browser.umd.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react-apollo/react-apollo.browser.umd.js")},"./node_modules/react-dom/index.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react-dom/index.js")},"./node_modules/react-redux/es/index.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react-redux/es/index.js")},"./node_modules/react-transition-group/CSSTransition.js":function(e,n,t){"use strict";n.__esModule=!0;var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/prop-types/index.js")),a=u(t("./node_modules/dom-helpers/class/addClass.js")),i=u(t("./node_modules/dom-helpers/class/removeClass.js")),s=u(t("./node_modules/react/index.js")),l=u(t("./node_modules/react-transition-group/Transition.js")),c=t("./node_modules/react-transition-group/utils/PropTypes.js");function u(e){return e&&e.__esModule?e:{default:e}}function d(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var p=function(e,n){return e&&n&&n.split(" ").forEach(function(n){return(0,a.default)(e,n)})},m=function(e,n){return e&&n&&n.split(" ").forEach(function(n){return(0,i.default)(e,n)})},f=(o({},l.default.propTypes,{classNames:c.classNamesShape,onEnter:r.func,onEntering:r.func,onEntered:r.func,onExit:r.func,onExiting:r.func,onExited:r.func}),function(e){function n(){var t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=o=d(this,e.call.apply(e,[this].concat(a))),o.onEnter=function(e,n){var t=o.getClassNames(n?"appear":"enter").className;o.removeClasses(e,"exit"),p(e,t),o.props.onEnter&&o.props.onEnter(e)},o.onEntering=function(e,n){var t=o.getClassNames(n?"appear":"enter").activeClassName;o.reflowAndAddClass(e,t),o.props.onEntering&&o.props.onEntering(e)},o.onEntered=function(e,n){var t=o.getClassNames("enter").doneClassName;o.removeClasses(e,n?"appear":"enter"),p(e,t),o.props.onEntered&&o.props.onEntered(e)},o.onExit=function(e){var n=o.getClassNames("exit").className;o.removeClasses(e,"appear"),o.removeClasses(e,"enter"),p(e,n),o.props.onExit&&o.props.onExit(e)},o.onExiting=function(e){var n=o.getClassNames("exit").activeClassName;o.reflowAndAddClass(e,n),o.props.onExiting&&o.props.onExiting(e)},o.onExited=function(e){var n=o.getClassNames("exit").doneClassName;o.removeClasses(e,"exit"),p(e,n),o.props.onExited&&o.props.onExited(e)},o.getClassNames=function(e){var n=o.props.classNames,t="string"!=typeof n?n[e]:n+"-"+e;return{className:t,activeClassName:"string"!=typeof n?n[e+"Active"]:t+"-active",doneClassName:"string"!=typeof n?n[e+"Done"]:t+"-done"}},d(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),n.prototype.removeClasses=function(e,n){var t=this.getClassNames(n),o=t.className,r=t.activeClassName,a=t.doneClassName;o&&m(e,o),r&&m(e,r),a&&m(e,a)},n.prototype.reflowAndAddClass=function(e,n){e&&e.scrollTop,p(e,n)},n.prototype.render=function(){var e=o({},this.props);return delete e.classNames,s.default.createElement(l.default,o({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(s.default.Component));f.propTypes={},n.default=f,e.exports=n.default},"./node_modules/react-transition-group/ReplaceTransition.js":function(e,n,t){"use strict";n.__esModule=!0;var o=s(t("./node_modules/prop-types/index.js")),r=s(t("./node_modules/react/index.js")),a=t("./node_modules/react-dom/index.js"),i=s(t("./node_modules/react-transition-group/TransitionGroup.js"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}o.default.bool.isRequired;var c=function(e){function n(){var t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=o=l(this,e.call.apply(e,[this].concat(a))),u.call(o),l(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),n.prototype.handleLifecycle=function(e,n,t){var o,i=this.props.children,s=r.default.Children.toArray(i)[n];s.props[e]&&(o=s.props)[e].apply(o,t),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},n.prototype.render=function(){var e=this.props,n=e.children,t=e.in,o=function(e,n){var t={};for(var o in e)n.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}(e,["children","in"]),a=r.default.Children.toArray(n),s=a[0],l=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(i.default,o,t?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},n}(r.default.Component),u=function(){var e=this;this.handleEnter=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return e.handleLifecycle("onEnter",0,t)},this.handleEntering=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return e.handleLifecycle("onEntering",0,t)},this.handleEntered=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return e.handleLifecycle("onEntered",0,t)},this.handleExit=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return e.handleLifecycle("onExit",1,t)},this.handleExiting=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return e.handleLifecycle("onExiting",1,t)},this.handleExited=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return e.handleLifecycle("onExited",1,t)}};c.propTypes={},n.default=c,e.exports=n.default},"./node_modules/react-transition-group/Transition.js":function(e,n,t){"use strict";n.__esModule=!0,n.EXITING=n.ENTERED=n.ENTERING=n.EXITED=n.UNMOUNTED=void 0;var o=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(t("./node_modules/prop-types/index.js")),r=i(t("./node_modules/react/index.js")),a=i(t("./node_modules/react-dom/index.js"));t("./node_modules/react-transition-group/utils/PropTypes.js");function i(e){return e&&e.__esModule?e:{default:e}}var s=n.UNMOUNTED="unmounted",l=n.EXITED="exited",c=n.ENTERING="entering",u=n.ENTERED="entered",d=n.EXITING="exiting",p=function(e){function n(t,o){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,e.call(this,t,o)),a=o.transitionGroup,i=a&&!a.isMounting?t.enter:t.appear,d=void 0;return r.nextStatus=null,t.in?i?(d=l,r.nextStatus=c):d=u:d=t.unmountOnExit||t.mountOnEnter?s:l,r.state={status:d},r.nextCallback=null,r}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),n.prototype.getChildContext=function(){return{transitionGroup:null}},n.prototype.componentDidMount=function(){this.updateStatus(!0)},n.prototype.componentWillReceiveProps=function(e){var n=(this.pendingState||this.state).status;e.in?(n===s&&this.setState({status:l}),n!==c&&n!==u&&(this.nextStatus=c)):n!==c&&n!==u||(this.nextStatus=d)},n.prototype.componentDidUpdate=function(){this.updateStatus()},n.prototype.componentWillUnmount=function(){this.cancelNextCallback()},n.prototype.getTimeouts=function(){var e=this.props.timeout,n=void 0,t=void 0,o=void 0;return n=t=o=e,null!=e&&"number"!=typeof e&&(n=e.exit,t=e.enter,o=e.appear),{exit:n,enter:t,appear:o}},n.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.nextStatus;if(null!==n){this.nextStatus=null,this.cancelNextCallback();var t=a.default.findDOMNode(this);n===c?this.performEnter(t,e):this.performExit(t)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},n.prototype.performEnter=function(e,n){var t=this,o=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:n,a=this.getTimeouts();n||o?(this.props.onEnter(e,r),this.safeSetState({status:c},function(){t.props.onEntering(e,r),t.onTransitionEnd(e,a.enter,function(){t.safeSetState({status:u},function(){t.props.onEntered(e,r)})})})):this.safeSetState({status:u},function(){t.props.onEntered(e)})},n.prototype.performExit=function(e){var n=this,t=this.props.exit,o=this.getTimeouts();t?(this.props.onExit(e),this.safeSetState({status:d},function(){n.props.onExiting(e),n.onTransitionEnd(e,o.exit,function(){n.safeSetState({status:l},function(){n.props.onExited(e)})})})):this.safeSetState({status:l},function(){n.props.onExited(e)})},n.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.prototype.safeSetState=function(e,n){var t=this;this.pendingState=e,n=this.setNextCallback(n),this.setState(e,function(){t.pendingState=null,n()})},n.prototype.setNextCallback=function(e){var n=this,t=!0;return this.nextCallback=function(o){t&&(t=!1,n.nextCallback=null,e(o))},this.nextCallback.cancel=function(){t=!1},this.nextCallback},n.prototype.onTransitionEnd=function(e,n,t){this.setNextCallback(t),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=n&&setTimeout(this.nextCallback,n)):setTimeout(this.nextCallback,0)},n.prototype.render=function(){var e=this.state.status;if(e===s)return null;var n=this.props,t=n.children,o=function(e,n){var t={};for(var o in e)n.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}(n,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"==typeof t)return t(e,o);var a=r.default.Children.only(t);return r.default.cloneElement(a,o)},n}(r.default.Component);function m(){}p.contextTypes={transitionGroup:o.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4,n.default=p},"./node_modules/react-transition-group/TransitionGroup.js":function(e,n,t){"use strict";n.__esModule=!0;var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r=l(t("./node_modules/prop-types/index.js")),a=t("./node_modules/react/index.js"),i=l(a),s=t("./node_modules/react-transition-group/utils/ChildMapping.js");function l(e){return e&&e.__esModule?e:{default:e}}var c=Object.values||function(e){return Object.keys(e).map(function(n){return e[n]})},u=(r.default.any,r.default.node,r.default.bool,r.default.bool,r.default.bool,r.default.func,function(e){function n(t,o){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,e.call(this,t,o));return r.state={children:(0,s.getChildMapping)(t.children,function(e){return(0,a.cloneElement)(e,{onExited:r.handleExited.bind(r,e),in:!0,appear:r.getProp(e,"appear"),enter:r.getProp(e,"enter"),exit:r.getProp(e,"exit")})})},r}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),n.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},n.prototype.getProp=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=t[n]?t[n]:e.props[n]},n.prototype.componentDidMount=function(){this.appeared=!0},n.prototype.componentWillReceiveProps=function(e){var n=this,t=this.state.children,o=(0,s.getChildMapping)(e.children),r=(0,s.mergeChildMappings)(t,o);Object.keys(r).forEach(function(i){var s=r[i];if((0,a.isValidElement)(s)){var l=i in t,c=i in o,u=t[i],d=(0,a.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,a.isValidElement)(u)&&(r[i]=(0,a.cloneElement)(s,{onExited:n.handleExited.bind(n,s),in:u.props.in,exit:n.getProp(s,"exit",e),enter:n.getProp(s,"enter",e)})):r[i]=(0,a.cloneElement)(s,{in:!1}):r[i]=(0,a.cloneElement)(s,{onExited:n.handleExited.bind(n,s),in:!0,exit:n.getProp(s,"exit",e),enter:n.getProp(s,"enter",e)})}}),this.setState({children:r})},n.prototype.handleExited=function(e,n){var t=(0,s.getChildMapping)(this.props.children);e.key in t||(e.props.onExited&&e.props.onExited(n),this.setState(function(n){var t=o({},n.children);return delete t[e.key],{children:t}}))},n.prototype.render=function(){var e=this.props,n=e.component,t=e.childFactory,o=function(e,n){var t={};for(var o in e)n.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}(e,["component","childFactory"]),r=c(this.state.children).map(t);return delete o.appear,delete o.enter,delete o.exit,null===n?r:i.default.createElement(n,o,r)},n}(i.default.Component));u.childContextTypes={transitionGroup:r.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}},n.default=u,e.exports=n.default},"./node_modules/react-transition-group/index.js":function(e,n,t){"use strict";var o=s(t("./node_modules/react-transition-group/CSSTransition.js")),r=s(t("./node_modules/react-transition-group/ReplaceTransition.js")),a=s(t("./node_modules/react-transition-group/TransitionGroup.js")),i=s(t("./node_modules/react-transition-group/Transition.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:a.default,ReplaceTransition:r.default,CSSTransition:o.default}},"./node_modules/react-transition-group/utils/ChildMapping.js":function(e,n,t){"use strict";n.__esModule=!0,n.getChildMapping=function(e,n){var t=Object.create(null);e&&o.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=function(e){return n&&(0,o.isValidElement)(e)?n(e):e}(e)});return t},n.mergeChildMappings=function(e,n){function t(t){return t in n?n[t]:e[t]}e=e||{},n=n||{};var o=Object.create(null),r=[];for(var a in e)a in n?r.length&&(o[a]=r,r=[]):r.push(a);var i=void 0,s={};for(var l in n){if(o[l])for(i=0;i<o[l].length;i++){var c=o[l][i];s[o[l][i]]=t(c)}s[l]=t(l)}for(i=0;i<r.length;i++)s[r[i]]=t(r[i]);return s};var o=t("./node_modules/react/index.js")},"./node_modules/react-transition-group/utils/PropTypes.js":function(e,n,t){"use strict";n.__esModule=!0,n.classNamesShape=n.timeoutsShape=void 0,n.transitionTimeout=function(e){var n="transition"+e+"Timeout",t="transition"+e;return function(e){if(e[t]){if(null==e[n])return new Error(n+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[n])return new Error(n+" must be a number (in milliseconds)")}return null}};var o,r=t("./node_modules/prop-types/index.js"),a=(o=r)&&o.__esModule?o:{default:o};n.timeoutsShape=a.default.oneOfType([a.default.number,a.default.shape({enter:a.default.number,exit:a.default.number}).isRequired]),n.classNamesShape=a.default.oneOfType([a.default.string,a.default.shape({enter:a.default.string,exit:a.default.string,active:a.default.string}),a.default.shape({enter:a.default.string,enterDone:a.default.string,enterActive:a.default.string,exit:a.default.string,exitDone:a.default.string,exitActive:a.default.string})])},"./node_modules/react/index.js":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./node_modules/react/index.js")},"./node_modules/webpack/buildin/global.js":function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},"./packages/common/classnames/classnames.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return a});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(){for(var e=[],n=arguments.length,t=Array(n),a=0;a<n;a++)t[a]=arguments[a];for(var i=function(n){var a=t[n];if(a){var i=void 0===a?"undefined":o(a);"string"===i||"number"===i?e.push(a):Array.isArray(a)?e.push(r.apply(void 0,function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(a))):"object"===i&&Object.keys(a).filter(function(e){return a[e]}).forEach(function(n){return e.push(n)})}},s=0;s<t.length;s++)i(s);return e.join(" ")}function a(e,n,t){var o=e.split(" ").filter(function(e){return e!==n});return t&&o.push(t),o}},"./packages/common/features/features.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/features/features.jsx")},"./packages/common/i18n/i18n.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/i18n/i18n.jsx")},"./packages/common/localstorage/localstorage.jsx":function(e,n,t){"use strict";var o=function(e){return function(){try{return e.apply(void 0,arguments)}catch(e){return null}}},r=function(){return window&&window.localStorage?window.localStorage:null},a=o(function(e){var n=r();n&&n.removeItem(e)}),i=o(function(e){var n=r();if(!n)return null;var t=JSON.parse(n.getItem(e)||"0");return t?t.ttl&&t.ttl+t.now<(new Date).getTime()?(a(e),null):t.value:null}),s=o(function(e,n,t){var o=r();o&&o.setItem(e,JSON.stringify({ttl:t||0,now:(new Date).getTime(),value:n}))});n.a={get:i,set:s,has:function(e){return!!i(e)},remove:a}},"./packages/common/logging/logging.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/logging/logging.jsx")},"./packages/common/routing/routing.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/routing/routing.jsx")},"./packages/common/state/state.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/state/state.jsx")},"./packages/common/throttle/throttle.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/throttle/throttle.jsx")},"./packages/common/tracking/tracking.jsx":function(e,n,t){e.exports=t("dll-reference @ta/common.global")("./packages/common/tracking/tracking.jsx")},"./packages/common/webview/NativeBridge.jsx":function(e,n,t){"use strict";function o(e){var n="";if(null!=e.tapCallback){var t=e.tapCallback,o="nativeInterop"+function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()+e()+e()+e()+e()}();window[o]=function(){null!=t&&t()},n=o,e.tapFunction=n,e.tapCallback=null}}function r(){return"undefined"!=typeof window&&window.taBridgeContext?(window.bridge||window.bridge||(window.bridge=(e=[],n=0,t=[],document.addEventListener("PacificDidReceiveNativeCallback",function(n){if(n.detail){var t=n.detail,o=isNaN(parseInt(t.id))?-1:parseInt(t.id);-1!=o&&(e[o]&&e[o](t.parameters,t.error),delete e[o])}},!1),document.addEventListener("PacificDidReceiveNativeBroadcast",function(e){if(e.detail){var n=e.detail,o=n.name;if(void 0!==o&&t[o]){var r=t[o];if(r instanceof Array){var a=n.parameters;r.forEach(function(e){e(a)})}}}},!1),{post:function(t,o,r,a,i){var s=n++;e[s]=a,window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.pacific?window.webkit.messageHandlers.pacific.postMessage({action:t,parameters:o,uid:r,callback:s,print:i||0}):window.pacific&&window.pacific.postMessage(JSON.stringify({action:t,parameters:o,uid:r,callback:s,print:i||0}))},on:function(e,n){var o=t[e];return o||(t[e]=o=[]),o.push(n),function(){o[indexOf(o,n)]=null}},off:function(e){delete t[e]}})),window.taBridgeContext.uid):null;var e,n,t}function a(e,n){if("undefined"==typeof window||!window.taBridgeContext||!window.taBridgeContext.actions)return!1;var t=window.taBridgeContext.actions[e];return!(!t||!t.v)&&n===t.v}function i(e,n,t){r()&&(e?window.bridge.on(n,t):window.bridge.off(n))}function s(e){e.items.forEach(function(e,n){o(e)})}function l(e,n,t){var o=r();return!(!o||!a(e,n))&&(window.bridge.post(e,t||{},o),!0)}function c(){l("hideSkeleton",1,null)}function u(e){!function(e){null!=e.trailingMenuItems&&e.trailingMenuItems.forEach(function(e,n){var t=e;o(t),null!=t.nestedMenu&&s(t.nestedMenu)})}(e.navigation),l("onNewOrUpdatedScreen",1,e)}function d(e){s(e),l("overflowMenu",1,e)}function p(){a("map",2)?l("map",2,null):l("map",1,null)}function m(e){l("createTrip",1,{isPublic:e})}function f(e){l("shareTrip",1,e)}t.r(n),t.d(n,"isActionSupported",function(){return a}),t.d(n,"postToBridge",function(){return l}),t.d(n,"hideSkeleton",function(){return c}),t.d(n,"onNewOrUpdatedScreen",function(){return u}),t.d(n,"showNativeOverflowMenu",function(){return d}),t.d(n,"showNativeMap",function(){return p}),t.d(n,"showNativeCreateTrip",function(){return m}),t.d(n,"showNativeShareTrip",function(){return f}),t.d(n,"showSavesModal",function(){return v}),t.d(n,"showRegistration",function(){return g}),t.d(n,"close",function(){return h}),t.d(n,"startScreenTransition",function(){return b}),t.d(n,"onOverlayStateChange",function(){return y}),t.d(n,"onHeaderHeightChange",function(){return _}),t.d(n,"onShrinkMap",function(){return k}),t.d(n,"onNavigateToTripDetail",function(){return O}),t.d(n,"onHandleTripCollaboration",function(){return E}),t.d(n,"isNativeWebview",function(){return j}),t.d(n,"getHeaderHeight",function(){return x}),t.d(n,"onTripsRefetch",function(){return S}),t.d(n,"onTripUpdate",function(){return w}),t.d(n,"onTripItemDelete",function(){return N}),t.d(n,"onRefetchTripsWithItems",function(){return T});var v=function(e){a("presentSavesModal",2)?l("presentSavesModal",2,e):l("presentSavesModal",1,{itemId:e.id})},g=function(e){l("showReg",1,{dismissOnCancellation:e})};function h(){l("close",1,null)}function b(){l("startScreenTransition",1,null)}function y(e){l(e?"overlayShown":"overlayHidden",1,null)}function _(e,n){i(e,"updateHeaderHeight",n)}function k(e,n){i(e,"shrinkMap",n)}function O(e,n){i(e,"navigateToTripDetail",n)}function E(e,n){i(e,"handleTripCollaboration",n)}function j(){return null!=r()}function x(){if("undefined"!=typeof window&&void 0!==window.localStorage&&void 0!==window.localStorage.headerHeight){var e=window.localStorage.headerHeight;return"string"==typeof e&&(e=parseInt(e,10)),e}return 0}function S(e,n){i(e,"refetchTrips",n)}function w(e){l("tripUpdate",1,e)}function N(e){l("tripItemDelete",1,e)}function T(e,n){i(e,"refetchTripsWithItems",n)}},"./packages/common/webview/webview.jsx":function(e,n,t){"use strict";var o=t("./packages/common/webview/NativeBridge.jsx");t.d(n,"a",function(){return o})},"./packages/events/keyboard-event-listener/KeyboardEventListener.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();var a=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleEvent=function(e){var n=e.key;n&&-1!==t.keyNames.indexOf(n)&&t.props.callback(e)},t.keyNames=Array.isArray(e.keyName)?e.keyName:[e.keyName],t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o["Component"]),r(n,[{key:"componentDidMount",value:function(){window.addEventListener(this.props.eventType,this.handleEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(this.props.eventType,this.handleEvent)}},{key:"render",value:function(){return null}}]),n}();a.defaultProps={eventType:"keydown"},n.a=a},"./packages/events/window-scroll/WindowScroll.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=t("./packages/common/throttle/throttle.jsx"),a=t.n(r),i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function s(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var l=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=o=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.handleScroll=o.props.throttle?a()(function(){o.props.callback()},o.props.throttle,o.props.useDebounce):o.props.callback,s(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o["Component"]),i(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.disableListeners()}},{key:"disableListeners",value:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleScroll)}},{key:"render",value:function(){return null}}]),n}();l.defaultProps={throttle:200,useDebounce:!1},n.a=l},"./packages/input/text-input/ManagedTextInput.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),a=t("./packages/input/text-input/ManagedTextInput.less"),i=t.n(a),s=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();var l=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.newListener=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(o){t.props.onInteractionStart&&!t.state.interactionStarted&&t.props.onInteractionStart(o),t.setState({composing:n});var r=o.currentTarget.value;t.props[e]&&t.props[e](o,r,t.state.composing),t.setState({interactionStarted:!0})}},t.onFocus=t.newListener("onFocus"),t.onBlur=t.newListener("onBlur"),t.onChange=t.newListener("onChange"),t.onKeyUp=t.newListener("onKeyUp"),t.onKeyDown=t.newListener("onKeyDown"),t.onCompositionStart=t.newListener("onCompositionStart",!0),t.onCompositionEnd=t.newListener("onCompositionEnd"),t.state={interactionStarted:!1,composing:!1},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o["Component"]),s(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.inputElem&&this.inputElem.focus()}},{key:"componentDidUpdate",value:function(){this.props.focusOnUpdate&&this.inputElem&&this.inputElem.focus()}},{key:"render",value:function(){var e=this,n={fontSize:this.props.fontSize,lineHeight:this.props.lineHeight};return o.createElement("input",{id:this.props.id,type:this.props.type,name:this.props.name,value:this.props.value,maxLength:this.props.maxLength,className:Object(r.a)(i.a.managedInput,this.props.className),style:n,placeholder:this.props.placeholder,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onCompositionStart:this.onCompositionStart,onCompositionEnd:this.onCompositionEnd,ref:function(n){e.inputElem=n,e.props.onRef&&e.props.onRef(n)}})}}]),n}();l.defaultProps={id:void 0,name:void 0,value:void 0,type:"text",className:void 0,placeholder:void 0,focusOnMount:!1,focusOnUpdate:!1,onFocus:void 0,onBlur:void 0,onChange:void 0,onKeyUp:void 0,onKeyDown:void 0,onCompositionStart:void 0,onCompositionEnd:void 0,onInteractionStart:void 0,onRef:void 0,onCTAClick:void 0},n.a=l},"./packages/input/text-input/ManagedTextInput.less":function(e,n,t){e.exports={managedInput:"input-text-input-ManagedTextInput__managedInput--106PS"}},"./packages/input/text-input/TextInput.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=t("./packages/common/classnames/classnames.jsx"),a=t("./packages/input/text-input/ManagedTextInput.jsx"),i=t("./packages/input/text-input/TextInput.less"),s=t.n(i),l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};n.a=function(e){var n=Object(r.a)(s.a.inputElement,e.className),t=l({},e,{className:n});return o.createElement(a.a,t)}},"./packages/input/text-input/TextInput.less":function(e,n,t){e.exports={inputElement:"input-text-input-TextInput__inputElement--3z9Nm"}},"./packages/social/confirm-username/CheckUsernameQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckUsernameQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkUsername"},arguments:[{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:103}};t.loc.source={body:"query CheckUsernameQuery($username: String!) {\n  checkUsername(username: $username) {\n    status\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/ConfirmUsername.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),a=t("./node_modules/react-redux/es/index.js"),i=t("./packages/styleguide/loading/LoadingSpinner.jsx"),s=t("./packages/common/i18n/i18n.jsx"),l=t("./packages/common/logging/logging.jsx"),c=t.n(l),u=t("./packages/input/text-input/TextInput.jsx"),d=t("@ta/social.button"),p=t.n(d),m=t("./packages/common/classnames/classnames.jsx"),f=t("./packages/common/tracking/tracking.jsx"),v=t.n(f),g=t("./node_modules/lodash/debounce.js"),h=t.n(g),b=t("./packages/social/confirm-username/ConfirmUsername.less"),y=t.n(b),_=t("./packages/social/confirm-username/UpdateInsightProfileCardAction.gql"),k=t.n(_),O=t("./packages/social/confirm-username/SubmitOnMount.jsx"),E=new Set,j=Object(a.connect)(function(e){return{userId:e.auth.loggedInUserId,taUnique:e.meta.taUnique}})(function(e){var n=e.userId,t=e.taUnique,a=e.cardId,i=e.cardAction;return E.has(a)?null:(E.add(a),o.createElement(r.Mutation,{mutation:k.a},function(e){var r={userId:n,taUnique:t,cardId:a,cardAction:i};return o.createElement(O.a,{submit:function(){e({variables:r})}})}))}),x=t("./packages/social/confirm-username/ScreenCompleteMutation.gql"),S=t.n(x),w=t("./packages/social/confirm-username/UsernameValidationMutation.gql"),N=t.n(w),T=t("./packages/social/confirm-username/ConfirmUsernameQuery.gql"),C=t.n(T),I=t("./packages/social/confirm-username/CheckUsernameQuery.gql"),P=t.n(I);t.d(n,"b",function(){return D});var U=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var M="Social_onboarding_unknown",F=/^[a-zA-Z]+\d{11}$/,R=function(e){return e&&"string"==typeof e&&e.match(F)},D=function(e){return e.states.find(function(e){return"ONBOARDING_CONFIRM_USER"===e.id&&"COMPLETED"===e.state})},L=function(e){return e.accepted?null:o.createElement("div",{className:y.a.terms},Object(s.unescaped)(Object(s.localize)("social_legal_tou_returnmem_confirm",{0:"/pages/terms.html",1:y.a.link})))},V=function(e){var n=e.usernameMutationVars,t=e.screenCompleteMutationVars,a=e.onUsernameValid,i=e.screenCompleteCallback,s=e.children,l=e.textInputIsInvalid;return o.createElement(r.Mutation,{mutation:S.a,refetchQueries:[{query:C.a,variables:{userId:n.userId}}]},function(e){return o.createElement(r.Mutation,{mutation:N.a,onCompleted:function(n){a(n)&&(e({variables:t}),i())}},function(e){return o.createElement("form",{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},onSubmit:function(t){t.preventDefault&&t.preventDefault(),l()||e({variables:n})}},s)})})};V.defaultProps={children:null};var q=function(e){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onChange=function(e,n){t.state.dataInput=!0,t.setState(A({},e,n)),"username"===e&&"string"==typeof n&&(t.clearErrorState("username"),t.debouncedHandleUsernameChange(n))},t.setErrorState=function(e){var n=t.state.name?t.state.name:Object(s.localize)("onboarding_social_name_screen_display_name_field_v2"),r=t.state.username?t.state.username:Object(s.localize)("social_edit_profile_username");switch(e){case"USERNAME_TOO_SHORT":t.setError(o.createElement(o.Fragment,null,Object(s.localize)("profile_update_error_username_too_short",{0:r})),"username");break;case"USERNAME_TOO_LONG":t.setError(o.createElement(o.Fragment,null,Object(s.localize)("profile_update_error_username_too_long",{0:r})),"username");break;case"USERNAME_INVALID_CHARACTERS":t.setError(Object(s.unescaped)(Object(s.localize)("profile_update_error_username_invalid_characters")),"username");break;case"USERNAME_ALREADY_EXISTS":t.setError(o.createElement(o.Fragment,null,Object(s.localize)("profile_update_error_username_already_exists",{0:r})),"username");break;case"USERNAME_CONTAINS_PROFANITY":t.setError(o.createElement(o.Fragment,null,Object(s.localize)("profile_update_error_contains_profanity")),"username");break;case"USERNAME_CONTAINS_TA_WORDS":t.setError(o.createElement(o.Fragment,null,Object(s.localize)("profile_update_error_username_contains_ta_words")),"username");break;case"DISPLAYNAME_TOO_SHORT":t.setError(o.createElement(o.Fragment,null,Object(s.localize)("mobile_profile_update_error_display_name_too_short")),"displayname");break;case"DISPLAYNAME_TOO_LONG":t.setError(o.createElement(o.Fragment,null,Object(s.localize)("profile_update_error_display_name_too_long",{0:n})),"displayname");break;case"DISPLAYNAME_CONTAINS_PROFANITY":t.setError(o.createElement(o.Fragment,null,Object(s.localize)("profile_update_error_contains_profanity")),"displayname");break;case"DISPLAYNAME_CONTAINS_TA_WORDS":t.setError(o.createElement(o.Fragment,null,Object(s.localize)("profile_update_error_username_contains_ta_words")),"displayname");break;default:c.a.error("Unknown username edit error: "+e),t.setError(o.createElement(o.Fragment,null,Object(s.localize)("social_loading_error_1")),"username")}},t.setError=function(e,n){t.setState({error:{message:e,field:n,advisory:!1}})},t.setAdvisory=function(e,n){t.setState({error:{message:e,field:n,advisory:!0}})},t.clearErrorState=function(e){t.setAdvisory(null,e)},t.hasError=function(e){return t.state.error&&t.state.error.field===e},t.isAdvisory=function(){return t.state.error&&t.state.error.advisory},t.newUser=function(){return!t.props.displayName||!t.props.username||R(t.props.username)},t.handleUsernameChange=function(e){t.props.client.query({query:P.a,variables:{username:e},fetchPolicy:"no-cache"}).then(function(e){var n=e.data.checkUsername.status;"OK"!==n?"USERNAME_IS_SAME"===n?t.clearErrorState("username"):t.setErrorState(n):t.setAdvisory(o.createElement("span",{className:y.a.advisory},Object(s.localize)("social_username_available")),"username")})},t.debouncedHandleUsernameChange=h()(t.handleUsernameChange,500),t.state={name:R(e.username)?"":e.displayName,username:R(e.username)?"":e.username,error:null,dataInput:!1},M=e.trackingModule,t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o["Component"]),U(n,[{key:"componentDidMount",value:function(){var e=R(this.props.username);v()({module:M,action:"namescreen_displayname",context:this.props.displayName&&!e?"prefilled":"blank"}),v()({module:M,action:"namescreen_username",context:this.props.username&&!e?"prefilled":"blank"})}},{key:"render",value:function(){var e=this;return o.createElement(V,{usernameMutationVars:{userId:this.props.userId,displayName:this.props.displayName!==this.state.name?this.state.name:null,username:this.props.username!==this.state.username?this.state.username:null},screenCompleteMutationVars:{userId:this.props.userId,taUnique:this.props.taUnique,cardId:"ONBOARDING_CONFIRM_USER",cardState:"COMPLETED",newlyAccepted:!this.props.acceptedTou},screenCompleteCallback:function(){e.props.onComplete(e.state.dataInput)},onUsernameValid:function(n){return"OK"===n.updateMemberProfile.status?(v()({module:M,action:"namescreen_complete_success",context:""}),!0):(e.setErrorState(n.updateMemberProfile.status),v()({module:M,action:"namescreen_submit_error",context:n.updateMemberProfile.status}),!1)},textInputIsInvalid:function(){return e.state.name?!e.state.username&&(e.setErrorState("USERNAME_TOO_SHORT"),!0):(e.setErrorState("DISPLAYNAME_TOO_SHORT"),!0)}},o.createElement(o.Fragment,null,o.createElement(j,{cardId:"ONBOARDING_CONFIRM_USER",cardAction:"SHOW"}),o.createElement("div",{className:y.a.contentWrapper},o.createElement("div",{className:y.a.title},this.newUser()?Object(s.localize)("onboarding_social_name_screen_new_header"):Object(s.localize)("onboarding_social_name_screen_returning_header")),o.createElement("div",{className:"ui_label_group"},o.createElement("span",{className:y.a.label},Object(s.localize)("onboarding_social_name_screen_display_name_field_v2")),o.createElement("span",{className:y.a.helperText},Object(s.localize)("onboarding_social_name_screen_display_name_helper_text_period_814")),o.createElement(u.a,{maxLength:40,value:this.state.name||"",className:Object(m.a)(y.a.editInput,A({},y.a.errorInputBox,this.hasError("displayname"))),onChange:function(n,t){return e.onChange("name",t)},placeholder:Object(s.localize)("onboarding_social_name_screen_display_name_ghost_text")}),Object(s.unescaped)("&nbsp;"),this.state.error&&this.hasError("displayname")&&o.createElement("span",{className:y.a.errorLabel},this.state.error.message)),o.createElement("div",{className:"ui_label_group"},o.createElement("span",{className:y.a.label},Object(s.localize)("social_edit_profile_username")),o.createElement("span",{className:y.a.helperText},Object(s.localize)("onboarding_social_name_screen_username_helper_text_period_814")),o.createElement("span",{className:y.a.username},o.createElement(u.a,{maxLength:20,value:this.state.username||"",className:Object(m.a)(y.a.usernameInput,y.a.editInput,A({},y.a.errorInputBox,this.hasError("username")&&!this.isAdvisory())),onChange:function(n,t){return e.onChange("username",t)},placeholder:Object(s.localize)("onboarding_social_name_screen_username_ghost_text")}),Object(s.unescaped)("&nbsp;"),this.state.error&&this.hasError("username")&&o.createElement("span",{className:y.a.errorLabel},this.state.error.message))),o.createElement(L,{accepted:this.props.acceptedTou}),o.createElement("div",{className:y.a.buttonContainer},o.createElement(f.Track,{click:{module:M,action:"namescreen_confirm_click",context:""},visible:{module:M,action:"namescreen_shown",context:""}},o.createElement(p.a,{type:"primary",size:"fullwidth"},Object(s.localize)("onboarding_social_name_screen_cta")))))))}}]),n}();n.a=Object(a.connect)(function(e){return{userId:e.auth.loggedInUserId,taUnique:e.meta.taUnique}})(function(e){return o.createElement(r.Query,{query:C.a,variables:{userId:e.userId},fetchPolicy:"network-only"},function(n){var t=n.loading,a=n.data,l=n.error,u=n.refetch;if(l)return c.a.error("Error in ConfirmUsername query: "+l),v()({module:M,action:"confirmusername_query_error_shown",context:e.userId}),o.createElement("div",{className:y.a.ui_error},Object(s.localize)("compliment_9bd"),o.createElement("div",{className:y.a.ui_error_button},o.createElement(p.a,{type:"primary",onClick:function(){return u()}},Object(s.localize)("link_uploader_refresh")),o.createElement(p.a,{type:"primary",onClick:e.closerForError},Object(s.localize)("btn_cancel"))));if(t)return o.createElement("div",{className:y.a.spinner},o.createElement(i.a,null));if(a){var d=a.getTermOfUseAcceptanceInfo&&a.getTermOfUseAcceptanceInfo.accepted,m=a.insightProfile&&a.insightProfile.uiCardsState;if(m&&D(m)&&d)return e.onComplete(!1),null;var f=a.memberProfiles[0],g=f?f.displayName:"",h=f?f.username:"";return o.createElement(r.ApolloConsumer,null,function(n){return o.createElement(q,{userId:e.userId,taUnique:e.taUnique,displayName:g,username:h,onComplete:e.onComplete,trackingModule:e.trackingModule,acceptedTou:d,client:n})})}return null})})},"./packages/social/confirm-username/ConfirmUsername.less":function(e,n,t){e.exports={contentWrapper:"social-confirm-username-ConfirmUsername__contentWrapper--3dBff",title:"social-confirm-username-ConfirmUsername__title--1S1KY",label:"social-confirm-username-ConfirmUsername__label--j1lup",terms:"social-confirm-username-ConfirmUsername__terms--2A-Lt",link:"social-confirm-username-ConfirmUsername__link--1xodC",spinner:"social-confirm-username-ConfirmUsername__spinner--2qYGC",username:"social-confirm-username-ConfirmUsername__username--2E0nZ",usernameInput:"social-confirm-username-ConfirmUsername__usernameInput--j7Nkq",editInput:"social-confirm-username-ConfirmUsername__editInput--2YaOq",errorInputBox:"social-confirm-username-ConfirmUsername__errorInputBox--2Jq5w",errorLabel:"social-confirm-username-ConfirmUsername__errorLabel--NHCYk",advisory:"social-confirm-username-ConfirmUsername__advisory--1OLFY",helperText:"social-confirm-username-ConfirmUsername__helperText--38Jus",buttonContainer:"social-confirm-username-ConfirmUsername__buttonContainer--Rhlcv",ui_error:"social-confirm-username-ConfirmUsername__ui_error--3erWq",ui_error_button:"social-confirm-username-ConfirmUsername__ui_error_button--3hamo"}},"./packages/social/confirm-username/ConfirmUsernameQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConfirmUsernameQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberProfiles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userIds"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}]}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"insightProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uiCardsState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"getTermOfUseAcceptanceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:273}};t.loc.source={body:"query ConfirmUsernameQuery($userId: String!) {\n  memberProfiles(userIds: [{ id: $userId }]) {\n    displayName\n    username\n  }\n  insightProfile {\n    uiCardsState {\n      states {\n        id\n        state\n      }\n    }\n  }\n  getTermOfUseAcceptanceInfo {\n    accepted\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/ScreenCompleteMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ConfirmUsernameComplete"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taUnique"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardTypeEnumInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardState"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardStateEnumInput"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newlyAccepted"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateInsightProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"request"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"taUnique"},value:{kind:"Variable",name:{kind:"Name",value:"taUnique"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"profile"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uiCardsState"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"ObjectField",name:{kind:"Name",value:"state"},value:{kind:"Variable",name:{kind:"Name",value:"cardState"}}}]}]}}]}}]}}]}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"acceptTermsOfUse"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"newlyAccepted"}}}]}]}]}}],loc:{start:0,end:398}};t.loc.source={body:"mutation ConfirmUsernameComplete(\n  $userId: String!\n  $taUnique: String\n  $cardId: CardTypeEnumInput\n  $cardState: CardStateEnumInput\n  $newlyAccepted: Boolean!\n) {\n  updateInsightProfile(\n    request: {\n      id: { userId: $userId, taUnique: $taUnique }\n      profile: { uiCardsState: { states: [{ id: $cardId, state: $cardState }] } }\n    }\n  )\n  acceptTermsOfUse @include(if: $newlyAccepted)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/SubmitOnMount.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var i=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=o=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.componentDidMount=function(){o.props.submit()},a(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o["Component"]),r(n,[{key:"render",value:function(){return null}}]),n}();n.a=i},"./packages/social/confirm-username/UpdateInsightProfileCardAction.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateInsightProfile"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"taUnique"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CardTypeEnumInput"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardAction"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActionTypeEnumInput"}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateInsightProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"request"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"ObjectField",name:{kind:"Name",value:"taUnique"},value:{kind:"Variable",name:{kind:"Name",value:"taUnique"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"profile"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uiCardActions"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"ObjectField",name:{kind:"Name",value:"cardAction"},value:{kind:"Variable",name:{kind:"Name",value:"cardAction"}}}]}]}}]}}]}}],directives:[]}]}}],loc:{start:0,end:323}};t.loc.source={body:"mutation updateInsightProfile(\n  $userId: String\n  $taUnique: String!\n  $cardId: CardTypeEnumInput!\n  $cardAction: ActionTypeEnumInput!\n) {\n  updateInsightProfile(\n    request: {\n      id: { userId: $userId, taUnique: $taUnique }\n      profile: { uiCardActions: [{ cardId: $cardId, cardAction: $cardAction }] }\n    }\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/confirm-username/UsernameValidationMutation.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UsernameValidation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"displayName"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateMemberProfile"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"displayName"}}},{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:263}};t.loc.source={body:"mutation UsernameValidation($userId: String!, $displayName: String, $username: String) {\n  updateMemberProfile(userId: $userId, displayName: $displayName, username: $username) {\n    status\n    memberProfile {\n      id\n      displayName\n      username\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/educational-tooltips/ImprovedScrollFeedToolTip.less":function(e,n,t){e.exports={container:"social-educational-tooltips-ImprovedScrollFeedToolTip__container--2FiJb",clickable:"social-educational-tooltips-ImprovedScrollFeedToolTip__clickable--3mm1x",downArrow:"social-educational-tooltips-ImprovedScrollFeedToolTip__downArrow--37sjT",ghost:"social-educational-tooltips-ImprovedScrollFeedToolTip__ghost--3MMCL"}},"./packages/social/educational-tooltips/LocationName.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LocationName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locationIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"locations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"locationIds"},value:{kind:"Variable",name:{kind:"Name",value:"locationIds"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:100}};t.loc.source={body:"query LocationName($locationIds: [Int!]!) {\n  locations(locationIds: $locationIds) {\n    name\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/social/educational-tooltips/LoginBar.less":function(e,n,t){e.exports={container:"social-educational-tooltips-LoginBar__container--2Q9gq",ghost:"social-educational-tooltips-LoginBar__ghost--1_zom",leftText:"social-educational-tooltips-LoginBar__leftText--2IVFy",rightSide:"social-educational-tooltips-LoginBar__rightSide--3CgH5",loginButton:"social-educational-tooltips-LoginBar__loginButton--2wE2k",slideInEnter:"social-educational-tooltips-LoginBar__slideInEnter--3s_JU",slideInEnterActive:"social-educational-tooltips-LoginBar__slideInEnterActive--GwqVo"}},"./packages/social/educational-tooltips/ScrollFeedTooltip.less":function(e,n,t){e.exports={toolTip:"social-educational-tooltips-ScrollFeedTooltip__toolTip--YGwsw",toolTipText:"social-educational-tooltips-ScrollFeedTooltip__toolTipText--1GrV2",arrow:"social-educational-tooltips-ScrollFeedTooltip__arrow--3J8jT",bounce:"social-educational-tooltips-ScrollFeedTooltip__bounce--1aF8O"}},"./packages/social/educational-tooltips/index.jsx":function(e,n,t){"use strict";t.r(n);var o=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),a=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),i=t("./packages/common/i18n/i18n.jsx"),s=t("./packages/events/window-scroll/WindowScroll.jsx"),l=t("./packages/common/classnames/classnames.jsx"),c=t("./packages/common/localstorage/localstorage.jsx"),u=t("./packages/common/tracking/tracking.jsx"),d=t.n(u),p=t("./packages/common/features/features.jsx"),m=t("@ta/social.onboarding"),f=new(t("./packages/common/state/state.jsx").PrivateStateAccessor)("social-scroll-tooltip",{onboardingClosed:!1}),v=function(e){return f.getFrom(e)},g={onboardingDone:function(){return f.action({type:"DONE_ONBOARDING"})}};f.setReducer(function(e,n){switch(n.type){case"DONE_ONBOARDING":return{onboardingClosed:!0};default:return e}});var h=t("./packages/social/educational-tooltips/ScrollFeedTooltip.less"),b=t.n(h),y=t("./packages/social/educational-tooltips/LocationName.gql"),_=t.n(y),k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},O=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function E(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var j=1,x="social_tooltip",S=function(){var e="no-fid";return window.location.search.substr(1).split("&").forEach(function(n){var t=n.split("=");"fid"===t[0]&&(e=decodeURIComponent(t[1]))}),e},w=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=o=E(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),o.state={hasScrolled:!1,isHalfSecondAfterMount:!1},o.onScroll=function(){if(o.shouldShow()&&!o.state.hasScrolled){o.setState({hasScrolled:!0});var e=S();d()({module:x,action:"discover_your_feed_scrolled",context:e,value:o.props.locationId}),c.a.remove(m.OnboardingCompleteReload)}},o.shouldShow=function(){if(Object(p.featureIsEnabled)("social_scoped_home_scrolling_tooltip"))return!1;var e=c.a.get("maxTASocialScroll"),n=!o.state.hasScrolled&&o.state.isHalfSecondAfterMount&&(!e||e<3);if(Object(p.featureIsEnabled)("ml_more_visible_scroll_tooltip"))return n;if(n){var t=S();d()({module:x,action:"discover_your_feed_control_ghost_impression",context:t,value:o.props.locationId})}return(o.props.hasClosedOnboarding||o.foundOnPageReload())&&o.props.locationId===j&&null!==o.props.loggedInUserId&&!o.state.hasScrolled&&o.state.isHalfSecondAfterMount},o.foundOnPageReload=function(){return!!c.a.get(m.OnboardingCompleteReload)},E(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o["Component"]),O(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({isHalfSecondAfterMount:!0})},500)}},{key:"render",value:function(){var e=this,n=o.createElement("div",{className:b.a.toolTip,onClick:function(){var n=S();d()({module:x,action:"discover_your_feed_click",context:n,value:e.props.locationId});var t=window.pageYOffset;window.scrollTo({top:e.props.elementToScrollTo.current.getBoundingClientRect().top+t-54,behavior:"smooth"})}},o.createElement(u.Track,{visible:{module:x,action:"discover_your_feed_shown",context:"",value:this.props.locationId}},o.createElement("div",{className:b.a.toolTipText},this.props.locationId===j?Object(i.localize)("tooltips_scroll_travel_feed_1"):o.createElement(a.Query,{query:_.a,variables:{locationIds:[this.props.locationId]}},function(e){var n=e.loading,t=e.data;return n?null:Object(i.localize)("tooltips_geo_updated_1",{Geo:t.locations[0].name})})),o.createElement("div",{className:Object(l.a)("ui_icon","single-chevron-down",b.a.arrow,b.a.bounce)})));return o.createElement(o.Fragment,null,o.createElement(s.a,{callback:this.onScroll,throttle:600}),this.shouldShow()&&n)}}]),n}(),N=Object(r.connect)(function(e,n){return k({locationId:e.page.geoId,loggedInUserId:e.auth.loggedInUserId,hasClosedOnboarding:v(e).onboardingClosed},n)})(w),T=t("@ta/overlays.managers"),C=t("./packages/styleguide/icon/Icon.jsx"),I=t("./packages/social/educational-tooltips/ImprovedScrollFeedToolTip.less"),P=t.n(I),U=function(e){var n=e.onClick,t=e.isGhost;return o.createElement("div",{className:Object(l.a)(P.a.container,n?P.a.clickable:"",t?P.a.ghost:""),onClick:n},o.createElement(C.a,{name:"arrow-down",className:P.a.downArrow}),Object(i.localize)("scroll_tooltip_variant_1"))};U.defaultProps={onClick:function(){},isGhost:!1};var A=U,M=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},F=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function R(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var D=54,L="maxTASocialScroll",V=150,q=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=o=R(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),o.state={isDelayedAfterMount:!1,clickedTooltip:!1,hasScrolled:!1},o.onClick=function(){o.props.elementToScrollTo&&window.scrollTo({top:o.props.elementToScrollTo.current.getBoundingClientRect().top+window.pageYOffset-D,behavior:"smooth"}),o.setState({clickedTooltip:!0})},o.onScroll=function(){o.state.hasScrolled||o.setState({hasScrolled:!0})},o.isGhost=function(){return!Object(p.featureIsEnabled)("social_scoped_home_scrolling_tooltip")},o.hasNotScrolled=function(){return!o.state.hasScrolled&&window.pageYOffset<V},o.shouldShow=function(e){var n=c.a.get(L);return!e&&o.state.isDelayedAfterMount&&o.hasNotScrolled()&&!o.state.clickedTooltip&&(!n||n<3)},R(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o["Component"]),F(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({isDelayedAfterMount:!0})},500)}},{key:"render",value:function(){var e=this;return o.createElement(T.Opener,{name:"onboarding-interstitial"},function(n,t){return e.shouldShow(t)?o.createElement(u.Track,{mount:e.isGhost()?{module:"social_tooltip | discover_your_feed_ghost",action:"impression",context:e.props.feedImpressionId?e.props.feedImpressionId:"",parentUid:e.props.puid}:{module:"social_tooltip | discover_your_feed",action:"impression",context:e.props.feedImpressionId?e.props.feedImpressionId:"",parentUid:e.props.puid},click:{module:"social_tooltip | discover_your_feed",action:"click",context:e.props.feedImpressionId?e.props.feedImpressionId:"",parentUid:e.props.puid}},o.createElement(A,{onClick:e.onClick,isGhost:e.isGhost()}),o.createElement(s.a,{callback:e.onScroll,throttle:600})):null})}}]),n}();q.defaultProps={elementToScrollTo:void 0};var B=Object(r.connect)(function(e,n){return M({puid:e.tracking.uid},n)})(q),G=t("./packages/common/routing/routing.jsx"),z=t("./node_modules/react-transition-group/index.js"),$=t("./packages/social/login-gate/SocialLoginGate.jsx"),H=t("@ta/social.button"),Q=t("./packages/social/educational-tooltips/LoginBar.less"),W=t.n(Q),K=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Y=function(e){var n=e.shouldShow,t=e.trackingOnLoginClick,r=e.trackingOnJoinClick,a=e.trackingOnShow,s=e.isGhost;return o.createElement(z.CSSTransition,{timeout:500,classNames:{enter:W.a.slideInEnter,enterActive:W.a.slideInEnterActive},in:n,unmountOnExit:!0},o.createElement("div",{className:W.a.container+" "+(s?W.a.ghost:"")},o.createElement(u.Track,{mount:K({once:!0},a)},o.createElement("span",{className:W.a.leftText},Object(i.localize)("social_bar_prompt"))),o.createElement("div",{className:W.a.rightSide},o.createElement($.a,{flowOrigin:"login"},function(e){return o.createElement("div",{className:W.a.loginButton},o.createElement(u.Track,{click:K({once:!1},t)},o.createElement(H.SocialButton,{onClick:e,type:"none",size:"large"},o.createElement("span",null,Object(i.localize)("social_bar_log_in")))))}),o.createElement($.a,{flowOrigin:"join"},function(e){return o.createElement(u.Track,{click:K({once:!1},r)},o.createElement(H.SocialButton,{onClick:e,type:"secondary",size:"large"},o.createElement("span",null,Object(i.localize)("social_bar_join"))))}))))};Y.defaultProps={trackingOnLoginClick:void 0,trackingOnJoinClick:void 0,trackingOnShow:void 0,isGhost:!1};var J=Y,X=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Z=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function ee(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var ne=300,te=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=o=ee(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),o.state={hasScrolledPastSecondSection:!1},o.onScroll=function(){!o.state.hasScrolledPastSecondSection&&o.props.topOfFeed.current.getBoundingClientRect().top+ne<0&&o.setState({hasScrolledPastSecondSection:!0})},o.isScopedHome=function(e){return"latitude"in e||"longitude"in e||"geo"in e},o.isGhost=function(){return!Object(p.featureIsEnabled)("social_scoped_home_login_bar")},o.shouldBeOnPage=function(e){return!o.props.isUserLoggedIn&&o.isScopedHome(e)&&"DESKTOP"===o.props.viewportCategory},o.shouldBeVisible=function(e){return o.shouldBeOnPage(e)&&o.state.hasScrolledPastSecondSection},ee(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o["Component"]),Z(n,[{key:"render",value:function(){var e=this;return o.createElement(G.RouteConsumer,null,function(n){var t=n.route;return e.shouldBeOnPage(t)&&o.createElement(o.Fragment,null,o.createElement(s.a,{callback:e.onScroll,throttle:600}),o.createElement(J,{shouldShow:e.shouldBeVisible(t),trackingOnLoginClick:{module:"social_tooltip | login_bar_login",action:"click",context:e.props.feedImpressionId?e.props.feedImpressionId:"",parentUid:e.props.puid},trackingOnJoinClick:{module:"social_tooltip | login_bar_join",action:"click",context:e.props.feedImpressionId?e.props.feedImpressionId:"",parentUid:e.props.puid},trackingOnShow:e.isGhost()?{module:"social_tooltip | login_bar_ghost",action:"impression",context:e.props.feedImpressionId?e.props.feedImpressionId:"",parentUid:e.props.puid}:{module:"social_tooltip | login_bar",action:"impression",context:e.props.feedImpressionId?e.props.feedImpressionId:"",parentUid:e.props.puid},isGhost:e.isGhost()}))})}}]),n}(),oe=Object(r.connect)(function(e,n){return X({isUserLoggedIn:!!e.auth.loggedInUserId,puid:e.tracking.uid,viewportCategory:e.meta.device.viewportCategory},n)})(te);t.d(n,"ScrollFeedTooltip",function(){return N}),t.d(n,"HomeFeedScrollPrompt",function(){return B}),t.d(n,"ScopedHomeLoggedOutUsersLoginBar",function(){return oe}),t.d(n,"getState",function(){return v}),t.d(n,"ACTIONS",function(){return g})},"./packages/social/failover/FailoverMessage.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=t("./packages/common/i18n/i18n.jsx"),a=t("./packages/social/failover/FailoverMessage.less"),i=t.n(a);n.a=function(){return o.createElement("div",{className:i.a.container},o.createElement("p",{className:i.a.heading},Object(r.localize)("social_readonly_message_main")," "),o.createElement("p",{className:i.a.body},Object(r.localize)("social_readonly_message_subtext")," "))}},"./packages/social/failover/FailoverMessage.less":function(e,n,t){e.exports={container:"social-failover-FailoverMessage__container--1_AV5",heading:"social-failover-FailoverMessage__heading--vxjBu",body:"social-failover-FailoverMessage__body--_U4tV"}},"./packages/social/login-gate/AuthGated.jsx":function(e,n,t){"use strict";(function(e){var o=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),a=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),i=t("./packages/common/webview/webview.jsx"),s=t("@ta/tracking.interactions"),l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},c=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var d=function(n){function t(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(t,o["Component"]),c(t,[{key:"formatInteraction",value:function(e){var n=this.props.tracking;return n?{variables:{interaction:u({},n.source,u({},e,l({element:n.element},n.attributes||{})))}}:null}},{key:"renderInner",value:function(n){var t=this.props,o=t.loggedInUserId,r=t.pid,a=t.flowOrigin,s=t.flow,l=t.extraQueryParams,c=t.onClose;return(0,t.children)(function(){return new Promise(function(t){if(o)t();else if(i.a.isNativeWebview())i.a.showRegistration(!1);else{var u={flow:s||"CORE_COMBINED",pid:r||-1,userRequestedForce:!0,extraQueryParams:l||{},locationId:window.require("page-model").GEO_ID,onSuccess:function(e){n("modalSuccess"),t(e)},onClose:c};a&&(u.extraQueryParams.flowOrigin=a),e.require(["trjs!ta/registration/RegOverlay"],function(e){n("elementClick"),e.showRegOverlayByPageModel(null,null,window.require("page-model"),u)})}})},o)}},{key:"render",value:function(){var e=this;return o.createElement(a.Mutation,{mutation:s.LogInteractionV4},function(n){return e.renderInner(function(t){var o=e.formatInteraction(t);o&&n(o)})})}}]),t}();n.a=Object(r.connect)(function(e,n){return l({loggedInUserId:e.auth.loggedInUserId},n)})(d)}).call(this,t("./node_modules/webpack/buildin/global.js"))},"./packages/social/login-gate/ReadonlyMessageOverlay.less":function(e,n,t){e.exports={container:"social-login-gate-ReadonlyMessageOverlay__container--2soKz",bodyContent:"social-login-gate-ReadonlyMessageOverlay__bodyContent--1Mt3g"}},"./packages/social/login-gate/SocialLoginGate.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),a=t("./packages/common/features/features.jsx"),i=t("./packages/social/failover/FailoverMessage.jsx"),s=t("./packages/social/login-gate/AuthGated.jsx"),l=t("./packages/social/login-gate/TermsOfUseOverlay.jsx"),c=t("@ta/overlays.fullscreen-overlay"),u=t.n(c),d=t("@ta/overlays.pieces"),p=t("./packages/events/keyboard-event-listener/KeyboardEventListener.jsx"),m=t("./packages/social/login-gate/ReadonlyMessageOverlay.less"),f=t.n(m),v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},g={position:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},h=function(e){var n=o.createElement("div",{className:f.a.container},o.createElement("div",{className:f.a.bodyContent},e.children),o.createElement(d.CloseX,{close:e.closer}));return e.fullscreen?o.createElement(o.Fragment,null,o.createElement(u.a,null,n)):o.createElement(o.Fragment,null,o.createElement(d.BlockScroll,null),o.createElement(d.Backdrop,{close:e.closer},o.createElement(d.Overlay,g,n),o.createElement(p.a,{keyName:"Escape",callback:e.closer})))};h.defaultProps={fullscreen:!1,onClose:null};var b=Object(r.connect)(function(e,n){return v({},n,{fullscreen:n.fullscreenAlways||"MOBILE"===e.meta.device.viewportCategory})})(h),y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function k(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var O=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=o=k(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),o.state={openTermsOfUseOverlay:!1,onSuccess:function(){},forceTermsOfUse:!1,openReadonlyOverlay:!1},o.closeTermsOfUseOverlay=function(){o.setState({openTermsOfUseOverlay:!1,onSuccess:function(){}})},o.openReadonlyOverlay=function(){o.setState({openReadonlyOverlay:!0})},o.closeReadonlyOverlay=function(){o.setState({openReadonlyOverlay:!1})},k(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,o["Component"]),_(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.pid,r=n.flowOrigin,c=n.children,u=n.onClose,d=n.tracking,p=n.isReadonlyMode;return o.createElement(s.a,{pid:t,flowOrigin:r,extraQueryParams:{social:!0},onClose:u,tracking:d},function(n,t){var r=p?function(){return e.openReadonlyOverlay(),Promise.reject()}:Object(a.featureIsEnabled)("social_2018_login_gate")?function(){return n().then(function(n){var t=n&&(n.hasCreatedMember||!n.hasAcceptedTermsOfUse);return n&&!t||Object(a.featureIsEnabled)("social_2018_login_gate_skip_terms_of_service")?Promise.resolve():new Promise(function(n){e.setState({openTermsOfUseOverlay:!0,forceTermsOfUse:t,onSuccess:function(){n(),e.setState({openTermsOfUseOverlay:!1,onSuccess:function(){}})}})})})}:function(){return Promise.resolve()};return o.createElement(o.Fragment,null,c(r,t),e.state.openTermsOfUseOverlay&&o.createElement(l.a,{onComplete:e.state.onSuccess,forceTermsOfUse:e.state.forceTermsOfUse,onClose:e.closeTermsOfUseOverlay}),e.state.openReadonlyOverlay&&o.createElement(b,{closer:e.closeReadonlyOverlay},o.createElement(i.a,null)))})}}]),n}();O.defaultProps={pid:-1,flowOrigin:void 0,tracking:void 0};n.a=Object(r.connect)(function(e,n){return y({isReadonlyMode:e.meta.readonlyMode},n)})(O)},"./packages/social/login-gate/TermsOfUseOverlay.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=t("./node_modules/react-redux/es/index.js"),a=t("./node_modules/react-apollo/react-apollo.browser.umd.js"),i=t("./packages/common/logging/logging.jsx"),s=t.n(i),l=t("@ta/overlays.fullscreen-overlay"),c=t.n(l),u=t("@ta/overlays.managers"),d=t("@ta/overlays.pieces"),p=t("./packages/social/confirm-username/ConfirmUsername.jsx"),m=t("./packages/social/login-gate/TermsOverlayQuery.gql"),f=t.n(m),v=t("./packages/social/login-gate/TermsOfUseOverlay.less"),g=t.n(v),h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},b={position:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},y=function(e){var n=e.onComplete,t=e.children;return o.createElement(a.Query,{query:f.a},function(e){var o=e.loading,r=e.data,a=e.error;if(o)return null;if(r){var i=r.getTermOfUseAcceptanceInfo&&r.getTermOfUseAcceptanceInfo.accepted,l=r.insightProfile&&r.insightProfile.uiCardsState;return i&&l&&Object(p.b)(l)?(n(),null):t}return a&&s.a.warn("Error in SkipIfCompleted query: "+a),s.a.warn("TermsOfUseOverlay was shown due to lack of sufficient information or a query error."),t})},_=function(e){var n=function(n){return o.createElement("div",{className:g.a.container},o.createElement("div",{className:g.a.bodyContent},o.createElement(p.a,{onComplete:e.onComplete,closerForError:n,trackingModule:"Social_onboarding_gatedaction"})))},t=function(){return o.createElement(u.Closer,null,function(t){var r=function(){t(),e.onClose&&e.onClose()};return e.fullscreen?o.createElement(o.Fragment,null,o.createElement(c.a,null,n(r))):o.createElement(o.Fragment,null,o.createElement(d.BlockScroll,null),o.createElement(d.Backdrop,{close:function(){}},o.createElement(d.Overlay,b,n(r))))})};return e.forceTermsOfUse?o.createElement(t,null):o.createElement(y,{onComplete:e.onComplete},o.createElement(t,null))};_.defaultProps={fullscreen:!1,onClose:null,forceTermsOfUse:!1};var k=Object(r.connect)(function(e,n){return h({},n,{fullscreen:n.fullscreenAlways||"MOBILE"===e.meta.device.viewportCategory})})(_);n.a=k},"./packages/social/login-gate/TermsOfUseOverlay.less":function(e,n,t){e.exports={container:"social-login-gate-TermsOfUseOverlay__container--2cdv9",bodyContent:"social-login-gate-TermsOfUseOverlay__bodyContent--17ySl"}},"./packages/social/login-gate/TermsOverlayQuery.gql":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TermsOverlay"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insightProfile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uiCardsState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"states"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"getTermOfUseAcceptanceInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};t.loc.source={body:"query TermsOverlay {\n  insightProfile {\n    uiCardsState {\n      states {\n        id\n        state\n      }\n    }\n  }\n  getTermOfUseAcceptanceInfo {\n    accepted\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"./packages/styleguide/icon/Icon.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=function(e){var n=e.name,t=e.className;return o.createElement("span",{className:"ui_icon "+n+" "+t})};r.defaultProps={className:""},n.a=r},"./packages/styleguide/loading/LoadingSpinner.jsx":function(e,n,t){"use strict";var o=t("./node_modules/react/index.js"),r=function(e){var n=e.size,t=e.inverted;return o.createElement("div",{className:"ui_spinner "+(n||"")+" "+(t?"inverted":"")})};r.defaultProps={size:void 0,inverted:!1},n.a=r},"@ta/overlays.fullscreen-overlay":function(n,t){n.exports=e},"@ta/overlays.managers":function(e,t){e.exports=n},"@ta/overlays.pieces":function(e,n){e.exports=t},"@ta/social.button":function(e,n){e.exports=o},"@ta/social.onboarding":function(e,n){e.exports=r},"@ta/tracking.interactions":function(e,n){e.exports=a},"dll-reference @ta/common.global":function(e,n){e.exports=i}})});