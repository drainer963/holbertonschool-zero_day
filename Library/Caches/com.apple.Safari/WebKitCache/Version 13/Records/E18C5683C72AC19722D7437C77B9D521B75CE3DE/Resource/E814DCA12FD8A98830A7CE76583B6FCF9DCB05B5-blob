function ClusterIcon(t,e){t.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.cluster_=t,this.className_=t.getMarkerClusterer().getClusterClass(),this.styles_=e,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(t.getMap())}function Cluster(t){this.markerClusterer_=t,this.map_=t.getMap(),this.gridSize_=t.getGridSize(),this.minClusterSize_=t.getMinimumClusterSize(),this.averageCenter_=t.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,t.getStyles())}function MarkerClusterer(t,e,n){this.extend(MarkerClusterer,google.maps.OverlayView),e=e||[],n=n||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=n.gridSize||60,this.minClusterSize_=n.minimumClusterSize||2,this.maxZoom_=n.maxZoom||null,this.styles_=n.styles||[],this.title_=n.title||"",this.zoomOnClick_=!0,n.zoomOnClick!==undefined&&(this.zoomOnClick_=n.zoomOnClick),this.averageCenter_=!1,n.averageCenter!==undefined&&(this.averageCenter_=n.averageCenter),this.ignoreHidden_=!1,n.ignoreHidden!==undefined&&(this.ignoreHidden_=n.ignoreHidden),this.enableRetinaIcons_=!1,n.enableRetinaIcons!==undefined&&(this.enableRetinaIcons_=n.enableRetinaIcons),this.imagePath_=n.imagePath||MarkerClusterer.IMAGE_PATH,this.imageExtension_=n.imageExtension||MarkerClusterer.IMAGE_EXTENSION,this.imageSizes_=n.imageSizes||MarkerClusterer.IMAGE_SIZES,this.calculator_=n.calculator||MarkerClusterer.CALCULATOR,this.batchSize_=n.batchSize||MarkerClusterer.BATCH_SIZE,this.batchSizeIE_=n.batchSizeIE||MarkerClusterer.BATCH_SIZE_IE,this.clusterClass_=n.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(e,!0),this.setMap(t)}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(_,t){function s(t){var e=!!t&&"length"in t&&t.length,n=ht.type(t);return"function"!==n&&!ht.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,i){if(ht.isFunction(n))return ht.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return ht.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(_t.test(n))return ht.filter(n,t,i);n=ht.filter(n,t)}return ht.grep(t,function(t){return-1<ht.inArray(t,n)!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var n={};return ht.each(t.match(Dt)||[],function(t,e){n[e]=!0}),n}function r(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",o),_.removeEventListener("load",o)):(it.detachEvent("onreadystatechange",o),_.detachEvent("onload",o))}function o(){(it.addEventListener||"load"===_.event.type||"complete"===it.readyState)&&(r(),ht.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Ot,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Pt.test(n)?ht.parseJSON(n):n)}catch(r){}ht.data(t,e,n)}else n=undefined}return n}function u(t){var e;for(e in t)if(("data"!==e||!ht.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function i(t,e,n,i){if(Rt(t)){var r,o,a=ht.expando,s=t.nodeType,l=s?ht.cache:t,u=s?t[a]:t[a]&&a;if(u&&l[u]&&(i||l[u].data)||n!==undefined||"string"!=typeof e)return u||(u=s?t[a]=nt.pop()||ht.guid++:a),l[u]||(l[u]=s?{}:{toJSON:ht.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[u]=ht.extend(l[u],e):l[u].data=ht.extend(l[u].data,e)),o=l[u],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[ht.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[ht.camelCase(e)]):r=o,r}}function a(t,e,n){if(Rt(t)){var i,r,o=t.nodeType,a=o?ht.cache:t,s=o?t[ht.expando]:ht.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){r=(e=ht.isArray(e)?e.concat(ht.map(e,ht.camelCase)):e in i?[e]:(e=ht.camelCase(e))in i?[e]:e.split(" ")).length;for(;r--;)delete i[e[r]];if(n?!u(i):!ht.isEmptyObject(i))return}(n||(delete a[s].data,u(a[s])))&&(o?ht.cleanData([t],!0):dt.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function d(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return ht.css(t,e,"")},l=s(),u=n&&n[3]||(ht.cssNumber[e]?"":"px"),c=(ht.cssNumber[e]||"px"!==u&&+l)&&zt.exec(ht.css(t,e));if(c&&c[3]!==u)for(u=u||c[3],n=n||[],c=+l||1;c/=o=o||".5",ht.style(t,e,c+u),o!==(o=s()/l)&&1!==o&&--a;);return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function g(t){var e=Yt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||ht.nodeName(i,e)?o.push(i):ht.merge(o,v(i,e));return e===undefined||e&&ht.nodeName(t,e)?ht.merge([t],o):o}function y(t,e){for(var n,i=0;null!=(n=t[i]);i++)ht._data(n,"globalEval",!e||ht._data(e[i],"globalEval"))}function b(t){Vt.test(t.type)&&(t.defaultChecked=t.checked)}function m(t,e,n,i,r){for(var o,a,s,l,u,c,d,f=t.length,h=g(e),p=[],m=0;m<f;m++)if((a=t[m])||0===a)if("object"===ht.type(a))ht.merge(p,a.nodeType?[a]:a);else if(Xt.test(a)){for(l=l||h.appendChild(e.createElement("div")),u=(Ut.exec(a)||["",""])[1].toLowerCase(),d=Gt[u]||Gt._default,l.innerHTML=d[1]+ht.htmlPrefilter(a)+d[2],o=d[0];o--;)l=l.lastChild;if(!dt.leadingWhitespace&&qt.test(a)&&p.push(e.createTextNode(qt.exec(a)[0])),!dt.tbody)for(o=(a="table"!==u||Kt.test(a)?"<table>"!==d[1]||Kt.test(a)?0:l:l.firstChild)&&a.childNodes.length;o--;)ht.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(ht.merge(p,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=h.lastChild}else p.push(e.createTextNode(a));for(l&&h.removeChild(l),dt.appendChecked||ht.grep(v(p,"input"),b),m=0;a=p[m++];)if(i&&-1<ht.inArray(a,i))r&&r.push(a);else if(s=ht.contains(a.ownerDocument,a),l=v(h.appendChild(a),"script"),s&&y(l),n)for(o=0;a=l[o++];)$t.test(a.type||"")&&n.push(a);return l=null,h}function f(){return!0}function h(){return!1}function p(){try{return it.activeElement}catch(t){}}function x(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)x(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=h;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return ht().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=ht.guid++)),t.each(function(){ht.event.add(this,e,r,i,n)})}function w(t,e){return ht.nodeName(t,"table")&&ht.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function C(t){return t.type=(null!==ht.find.attr(t,"type"))+"/"+t.type,t}function S(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){if(1===e.nodeType&&ht.hasData(t)){var n,i,r,o=ht._data(t),a=ht._data(e,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,r=s[n].length;i<r;i++)ht.event.add(e,n,s[n][i]);a.data&&(a.data=ht.extend({},a.data))}}function T(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ht.expando]){for(i in(r=ht._data(e)).events)ht.removeEvent(e,i,r.handle);e.removeAttribute(ht.expando)}"script"===n&&e.text!==t.text?(C(e).text=t.text,S(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ht.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Vt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function E(n,i,r,o){i=ot.apply([],i);var t,e,a,s,l,u,c=0,d=n.length,f=d-1,h=i[0],p=ht.isFunction(h);if(p||1<d&&"string"==typeof h&&!dt.checkClone&&ae.test(h))return n.each(function(t){var e=n.eq(t);p&&(i[0]=h.call(this,t,e.html())),E(e,i,r,o)});if(d&&(t=(u=m(i,n[0].ownerDocument,!1,n,o)).firstChild,1===u.childNodes.length&&(u=t),t||o)){for(a=(s=ht.map(v(u,"script"),C)).length;c<d;c++)e=u,c!==f&&(e=ht.clone(e,!0,!0),a&&ht.merge(s,v(e,"script"))),r.call(n[c],e,c);if(a)for(l=s[s.length-1].ownerDocument,ht.map(s,S),c=0;c<a;c++)e=s[c],$t.test(e.type||"")&&!ht._data(e,"globalEval")&&ht.contains(l,e)&&(e.src?ht._evalUrl&&ht._evalUrl(e.src):ht.globalEval((e.text||e.textContent||e.innerHTML||"").replace(le,"")));u=t=null}return n}function N(t,e,n){for(var i,r=e?ht.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ht.cleanData(v(i)),i.parentNode&&(n&&ht.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return t}function A(t,e){var n=ht(e.createElement(t)).appendTo(e.body),i=ht.css(n[0],"display");return n.detach(),i}function D(t){var e=it,n=de[t];return n||("none"!==(n=A(t,e))&&n||((e=((ce=(ce||ht("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ce[0].contentDocument).document).write(),e.close(),n=A(t,e),ce.detach()),de[t]=n),n}function M(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function R(t){if(t in Te)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=ke.length;n--;)if((t=ke[n]+e)in Te)return t}function P(t,e){for(var n,i,r,o=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(o[a]=ht._data(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&jt(i)&&(o[a]=ht._data(i,"olddisplay",D(i.nodeName)))):(r=jt(i),(n&&"none"!==n||!r)&&ht._data(i,"olddisplay",r?n:ht.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function O(t,e,n){var i=Ce.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function I(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ht.css(t,n+Ht[o],!0,r)),i?("content"===n&&(a-=ht.css(t,"padding"+Ht[o],!0,r)),"margin"!==n&&(a-=ht.css(t,"border"+Ht[o]+"Width",!0,r))):(a+=ht.css(t,"padding"+Ht[o],!0,r),"padding"!==n&&(a+=ht.css(t,"border"+Ht[o]+"Width",!0,r)));return a}function L(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ge(t),a=dt.boxSizing&&"border-box"===ht.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=ve(t,e,o))<0||null==r)&&(r=t.style[e]),he.test(r))return r;i=a&&(dt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+I(t,e,n||(a?"border":"content"),i,o)+"px"}function B(t,e,n,i,r){return new B.prototype.init(t,e,n,i,r)}function F(){return _.setTimeout(function(){Ee=undefined}),Ee=ht.now()}function z(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=Ht[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function H(t,e,n){for(var i,r=(V.tweeners[e]||[]).concat(V.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function j(e,t,n){var i,r,o,a,s,l,u,c=this,d={},f=e.style,h=e.nodeType&&jt(e),p=ht._data(e,"fxshow");for(i in n.queue||(null==(s=ht._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ht.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(u=ht.css(e,"display"))?ht._data(e,"olddisplay")||D(e.nodeName):u)&&"none"===ht.css(e,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",dt.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),t)if(r=t[i],Oe.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!p||p[i]===undefined)continue;h=!0}d[i]=p&&p[i]||ht.style(e,i)}else u=undefined;if(ht.isEmptyObject(d))"inline"===("none"===u?D(e.nodeName):u)&&(f.display=u);else for(i in p?"hidden"in p&&(h=p.hidden):p=ht._data(e,"fxshow",{}),o&&(p.hidden=!h),h?ht(e).show():c.done(function(){ht(e).hide()}),c.done(function(){var t;for(t in ht._removeData(e,"fxshow"),d)ht.style(e,t,d[t])}),d)a=H(h?p[i]:0,i,c),i in p||(p[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function W(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=ht.camelCase(n)],o=t[n],ht.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=ht.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function V(o,t,e){var n,a,i=0,r=V.prefilters.length,s=ht.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Ee||F(),e=Math.max(0,u.startTime+u.duration-t),n=1-(e/u.duration||0),i=0,r=u.tweens.length;i<r;i++)u.tweens[i].run(n);return s.notifyWith(o,[u,n,e]),n<1&&r?e:(s.resolveWith(o,[u]),!1)},u=s.promise({elem:o,props:ht.extend({},t),opts:ht.extend(!0,{specialEasing:{},easing:ht.easing._default},e),originalProperties:t,originalOptions:e,startTime:Ee||F(),duration:e.duration,tweens:[],createTween:function(t,e){var n=ht.Tween(o,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var e=0,n=t?u.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)u.tweens[e].run(1);return t?(s.notifyWith(o,[u,1,0]),s.resolveWith(o,[u,t])):s.rejectWith(o,[u,t]),this}}),c=u.props;for(W(c,u.opts.specialEasing);i<r;i++)if(n=V.prefilters[i].call(u,o,c,u.opts))return ht.isFunction(n.stop)&&(ht._queueHooks(u.elem,u.opts.queue).stop=ht.proxy(n.stop,n)),n;return ht.map(c,H,u),ht.isFunction(u.opts.start)&&u.opts.start.call(o,u),ht.fx.timer(ht.extend(l,{elem:o,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function U(t){return ht.attr(t,"class")||""}function $(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(Dt)||[];if(ht.isFunction(e))for(;n=r[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function q(e,r,o,a){function s(t){var i;return l[t]=!0,ht.each(e[t]||[],function(t,e){var n=e(r,o,a);return"string"!=typeof n||u||l[n]?u?!(i=n):void 0:(r.dataTypes.unshift(n),s(n),!1)}),i}var l={},u=e===an;return s(r.dataTypes[0])||!l["*"]&&s("*")}function Y(t,e){var n,i,r=ht.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&ht.extend(!0,t,n),t}function G(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),r===undefined&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function X(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function K(t){return t.style&&t.style.display||ht.css(t,"display")}function Z(t){if(!ht.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===K(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(n,t,i,r){var e;if(ht.isArray(t))ht.each(t,function(t,e){i||dn.test(n)?r(n,e):Q(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==ht.type(t))r(n,t);else for(e in t)Q(n+"["+e+"]",t[e],i,r)}function J(){try{return new _.XMLHttpRequest}catch(t){}}function tt(){try{return new _.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ht.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=_.document,rt=nt.slice,ot=nt.concat,at=nt.push,st=nt.indexOf,lt={},ut=lt.toString,ct=lt.hasOwnProperty,dt={},ft="1.12.4",ht=function(t,e){return new ht.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ht.fn=ht.prototype={jquery:ft,constructor:ht,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=ht.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ht.each(this,t)},map:function(n){return this.pushStack(ht.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},ht.extend=ht.fn.extend=function(t){var e,n,i,r,o,a,s=t||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[l]||{},l++),"object"==typeof s||ht.isFunction(s)||(s={}),l===u&&(s=this,l--);l<u;l++)if(null!=(o=arguments[l]))for(r in o)e=s[r],s!==(i=o[r])&&(c&&i&&(ht.isPlainObject(i)||(n=ht.isArray(i)))?(n?(n=!1,a=e&&ht.isArray(e)?e:[]):a=e&&ht.isPlainObject(e)?e:{},s[r]=ht.extend(c,a,i)):i!==undefined&&(s[r]=i));return s},ht.extend({expando:"jQuery"+(ft+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ht.type(t)},isArray:Array.isArray||function(t){return"array"===ht.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ht.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ht.type(t)||t.nodeType||ht.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!dt.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return e===undefined||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ut.call(t)]||"object":typeof t},globalEval:function(t){t&&ht.trim(t)&&(_.execScript||function(t){_.eval.call(_,t)})(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?ht.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(s(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return ot.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),ht.isFunction(t)?(n=rt.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(rt.call(arguments)))}).guid=t.guid=t.guid||ht.guid++,i):undefined},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ht.fn[Symbol.iterator]=nt[Symbol.iterator]),ht.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=function(n){function x(t,e,n,i){var r,o,a,s,l,u,c,d,f=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!i&&((e?e.ownerDocument||e:H)!==R&&M(e),e=e||R,O)){if(11!==h&&(u=vt.exec(t)))if(r=u[1]){if(9===h){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&F(e,a)&&a.id===r)return n.push(a),n}else{if(u[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&v.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(v.qsa&&!$[t+" "]&&(!I||!I.test(t))){if(1!==h)f=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,"\\$&"):e.setAttribute("id",s=z),o=(c=k(t)).length,l=ft.test(s)?"#"+s:"[id='"+s+"']";o--;)c[o]=l+" "+g(c[o]);d=c.join(","),f=yt.test(t)&&m(e.parentNode)||e}if(d)try{return Q.apply(n,f.querySelectorAll(d)),n}catch(p){}finally{s===z&&e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>C.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[z]=!0,t}function r(t){var e=R.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function u(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(a){return l(function(o){return o=+o,l(function(t,e){for(var n,i=a([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function m(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function s(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(s,t,e){var l=t.dir,u=e&&"parentNode"===l,c=W++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||u)return s(t,e,n)}:function(t,e,n){var i,r,o,a=[j,c];if(n){for(;t=t[l];)if((1===t.nodeType||u)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||u){if((i=(r=(o=t[z]||(t[z]={}))[t.uniqueID]||(o[t.uniqueID]={}))[l])&&i[0]===j&&i[1]===c)return a[2]=i[2];if((r[l]=a)[2]=s(t,e,n))return!0}}}function f(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function y(t,e,n){for(var i=0,r=e.length;i<r;i++)x(t,e[i],n);return n}function w(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function b(h,p,m,g,v,t){return g&&!g[z]&&(g=b(g)),v&&!v[z]&&(v=b(v,t)),l(function(t,e,n,i){var r,o,a,s=[],l=[],u=e.length,c=t||y(p||"*",n.nodeType?[n]:n,[]),d=!h||!t&&p?c:w(c,s,h,n,i),f=m?v||(t?h:u||g)?[]:e:d;if(m&&m(d,f,n,i),g)for(r=w(f,l),g(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[l[o]]=!(d[l[o]]=a));if(t){if(v||h){if(v){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(d[o]=a);v(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=v?tt(t,a):s[o])&&(t[r]=!(e[r]=a))}}else f=w(f===e?f.splice(u,f.length):f),v?v(null,e,f,i):Q.apply(e,f)})}function h(t){for(var r,e,n,i=t.length,o=C.relative[t[0].type],a=o||C.relative[" "],s=o?1:0,l=d(function(t){return t===r},a,!0),u=d(function(t){return-1<tt(r,t)},a,!0),c=[function(t,e,n){var i=!o&&(n||e!==N)||((r=e).nodeType?l(t,e,n):u(t,e,n));return r=null,i}];s<i;s++)if(e=C.relative[t[s].type])c=[d(f(c),e)];else{if((e=C.filter[t[s].type].apply(null,t[s].matches))[z]){for(n=++s;n<i&&!C.relative[t[n].type];n++);return b(1<s&&f(c),1<s&&g(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&h(t.slice(s,n)),n<i&&h(t=t.slice(n)),n<i&&g(t))}c.push(e)}return f(c)}function c(g,v){var y=0<v.length,b=0<g.length,t=function(t,e,n,i,r){var o,a,s,l=0,u="0",c=t&&[],d=[],f=N,h=t||b&&C.find.TAG("*",r),p=j+=null==f?1:Math.random()||.1,m=h.length;for(r&&(N=e===R||e||r);u!==m&&null!=(o=h[u]);u++){if(b&&o){for(a=0,e||o.ownerDocument===R||(M(o),n=!O);s=g[a++];)if(s(o,e||R,n)){i.push(o);break}r&&(j=p)}y&&((o=!s&&o)&&l--,t&&c.push(o))}if(l+=u,y&&u!==l){for(a=0;s=v[a++];)s(c,d,e,n);if(t){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=K.call(i));d=w(d)}Q.apply(i,d),r&&!t&&0<d.length&&1<l+v.length&&x.uniqueSort(i)}return r&&(j=p,N=f),c};return y?l(t):t}var p,v,C,_,S,k,T,E,N,A,D,M,R,P,O,I,L,B,F,z="sizzle"+1*new Date,H=n.document,j=0,W=0,V=t(),U=t(),$=t(),q=function(t,e){return t===e&&(D=!0),0},Y=1<<31,G={}.hasOwnProperty,X=[],K=X.pop,Z=X.push,Q=X.push,J=X.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ft=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){M()};try{Q.apply(X=J.call(H.childNodes),H.childNodes),X[H.childNodes.length].nodeType}catch(_t){Q={apply:X.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(p in v=x.support={},S=x.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},M=x.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==R&&9===i.nodeType&&i.documentElement&&(P=(R=i).documentElement,O=!S(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),v.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=r(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=gt.test(R.getElementsByClassName),v.getById=r(function(t){return P.appendChild(t).id=z,!R.getElementsByName||!R.getElementsByName(z).length}),v.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var n=t.replace(xt,wt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),C.find.TAG=v.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},C.find.CLASS=v.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&O)return e.getElementsByClassName(t)},L=[],I=[],(v.qsa=gt.test(R.querySelectorAll))&&(r(function(t){P.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+z+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||I.push(".#.+[+~]")}),r(function(t){var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(v.matchesSelector=gt.test(B=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(t){v.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),L.push("!=",ot)}),I=I.length&&new RegExp(I.join("|")),L=L.length&&new RegExp(L.join("|")),e=gt.test(P.compareDocumentPosition),F=e||gt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===R||t.ownerDocument===H&&F(H,t)?-1:e===R||e.ownerDocument===H&&F(H,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===R?-1:e===R?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return u(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?u(a[i],s[i]):a[i]===H?-1:s[i]===H?1:0}),R},x.matches=function(t,e){return x(t,null,null,e)},x.matchesSelector=function(t,e){if((t.ownerDocument||t)!==R&&M(t),e=e.replace(ct,"='$1']"),v.matchesSelector&&O&&!$[e+" "]&&(!L||!L.test(e))&&(!I||!I.test(e)))try{var n=B.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(_t){}return 0<x(e,R,null,[t]).length},x.contains=function(t,e){return(t.ownerDocument||t)!==R&&M(t),F(t,e)},x.attr=function(t,e){(t.ownerDocument||t)!==R&&M(t);var n=C.attrHandle[e.toLowerCase()],i=n&&G.call(C.attrHandle,e.toLowerCase())?n(t,e,!O):undefined;return i!==undefined?i:v.attributes||!O?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},x.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},x.uniqueSort=function(t){var e,n=[],i=0,r=0;if(D=!v.detectDuplicates,A=!v.sortStable&&t.slice(0),t.sort(q),D){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},_=x.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},(C=x.selectors={cacheLength:50,createPseudo:l,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||x.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&x.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=k(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){
var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=x.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(at," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,m,g){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,a,s,l,u=v!==y?"nextSibling":"previousSibling",c=t.parentNode,d=b&&t.nodeName.toLowerCase(),f=!n&&!b,h=!1;if(c){if(v){for(;u;){for(a=t;a=a[u];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?c.firstChild:c.lastChild],y&&f){for(h=(s=(i=(r=(o=(a=c)[z]||(a[z]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===j&&i[1])&&i[2],a=s&&c.childNodes[s];a=++s&&a&&a[u]||(h=s=0)||l.pop();)if(1===a.nodeType&&++h&&a===t){r[p]=[j,s,h];break}}else if(f&&(h=s=(i=(r=(o=(a=t)[z]||(a[z]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===j&&i[1]),!1===h)for(;(a=++s&&a&&a[u]||(h=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++h||(f&&((r=(o=a[z]||(a[z]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[j,h]),a!==t)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(t,o){var e,a=C.pseudos[t]||C.setFilters[t.toLowerCase()]||x.error("unsupported pseudo: "+t);return a[z]?a(o):1<a.length?(e=[t,t,"",o],C.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=a(t,o),r=i.length;r--;)t[n=tt(t,i[r])]=!(e[n]=i[r])}):function(t){return a(t,0,e)}):a}},pseudos:{not:l(function(t){var i=[],r=[],s=T(t.replace(st,"$1"));return s[z]?l(function(t,e,n,i){for(var r,o=s(t,null,i,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),i[0]=null,!r.pop()}}),has:l(function(e){return function(t){return 0<x(e,t).length}}),contains:l(function(e){return e=e.replace(xt,wt),function(t){return-1<(t.textContent||t.innerText||_(t)).indexOf(e)}}),lang:l(function(n){return ft.test(n||"")||x.error("unsupported lang: "+n),n=n.replace(xt,wt).toLowerCase(),function(t){var e;do{if(e=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===P},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[p]=i(p);for(p in{submit:!0,reset:!0})C.pseudos[p]=o(p);return s.prototype=C.filters=C.pseudos,C.setFilters=new s,k=x.tokenize=function(t,e){var n,i,r,o,a,s,l,u=U[t+" "];if(u)return e?0:u.slice(0);for(a=t,s=[],l=C.preFilter;a;){for(o in n&&!(i=lt.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=ut.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(st," ")}),a=a.slice(n.length)),C.filter)!(i=ht[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?x.error(t):U(t,s).slice(0)},T=x.compile=function(t,e){var n,i=[],r=[],o=$[t+" "];if(!o){for(e||(e=k(t)),n=e.length;n--;)(o=h(e[n]))[z]?i.push(o):r.push(o);(o=$(t,c(r,i))).selector=t}return o},E=x.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,c=!i&&k(t=u.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&v.getById&&9===e.nodeType&&O&&C.relative[o[1].type]){if(!(e=(C.find.ID(a.matches[0].replace(xt,wt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ht.needsContext.test(t)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(xt,wt),yt.test(o[0].type)&&m(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&g(o)))return Q.apply(n,i),n;break}}return(u||T(t,c))(i,e,!O,n,!e||yt.test(t)&&m(e.parentNode)||e),n},v.sortStable=z.split("").sort(q).join("")===z,v.detectDuplicates=!!D,M(),v.sortDetached=r(function(t){return 1&t.compareDocumentPosition(R.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),x}(_);ht.find=yt,ht.expr=yt.selectors,ht.expr[":"]=ht.expr.pseudos,ht.uniqueSort=ht.unique=yt.uniqueSort,ht.text=yt.getText,ht.isXMLDoc=yt.isXML,ht.contains=yt.contains;var bt=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ht(t).is(n))break;i.push(t)}return i},xt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},wt=ht.expr.match.needsContext,Ct=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_t=/^.[^:#\[\.,]*$/;ht.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ht.find.matchesSelector(i,t)?[i]:[]:ht.find.matches(t,ht.grep(e,function(t){return 1===t.nodeType}))},ht.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(ht(t).filter(function(){for(e=0;e<r;e++)if(ht.contains(i[e],this))return!0}));for(e=0;e<r;e++)ht.find(t,i[e],n);return(n=this.pushStack(1<r?ht.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&wt.test(t)?ht(t):t||[],!1).length}});var St,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ht.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||St,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):ht.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ht):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ht.makeArray(t,this));if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:kt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ht?e[0]:e,ht.merge(this,ht.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),Ct.test(i[1])&&ht.isPlainObject(e))for(i in e)ht.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=it.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return St.find(t);this.length=1,this[0]=r}return this.context=it,this.selector=t,this}).prototype=ht.fn,St=ht(it);var Tt=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};ht.fn.extend({has:function(t){var e,n=ht(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ht.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=wt.test(t)||"string"!=typeof t?ht(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ht.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?ht.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.inArray(this[0],ht(t)):ht.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ht.uniqueSort(ht.merge(this.get(),ht(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ht.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return xt((t.parentNode||{}).firstChild,t)},children:function(t){return xt(t.firstChild)},contents:function(t){return ht.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ht.merge([],t.childNodes)}},function(i,r){ht.fn[i]=function(t,e){var n=ht.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=ht.filter(e,n)),1<this.length&&(Et[i]||(n=ht.uniqueSort(n)),Tt.test(i)&&(n=n.reverse())),this.pushStack(n)}});var Nt,At,Dt=/\S+/g;for(At in ht.Callbacks=function(i){i="string"==typeof i?c(i):ht.extend({},i);var r,t,e,n,o=[],a=[],s=-1,l=function(){for(n=i.once,e=r=!0;a.length;s=-1)for(t=a.shift();++s<o.length;)!1===o[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=o.length,t=!1);i.memory||(t=!1),r=!1,n&&(o=t?[]:"")},u={add:function(){return o&&(t&&!r&&(s=o.length-1,a.push(t)),function n(t){ht.each(t,function(t,e){ht.isFunction(e)?i.unique&&u.has(e)||o.push(e):e&&e.length&&"string"!==ht.type(e)&&n(e)})}(arguments),t&&!r&&l()),this},remove:function(){return ht.each(arguments,function(t,e){for(var n;-1<(n=ht.inArray(e,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<ht.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=t="",this},disabled:function(){return!o},lock:function(){return n=!0,t||u.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),r||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!e}};return u},ht.extend({Deferred:function(t){var o=[["resolve","done",ht.Callbacks("once memory"),"resolved"],["reject","fail",ht.Callbacks("once memory"),"rejected"],["notify","progress",ht.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return ht.Deferred(function(i){ht.each(o,function(t,e){var n=ht.isFunction(r[t])&&r[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&ht.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?ht.extend(t,a):a}},s={};return a.pipe=a.then,ht.each(o,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var r,e,n,i=0,o=rt.call(arguments),a=o.length,s=1!==a||t&&ht.isFunction(t.promise)?a:0,l=1===s?t:ht.Deferred(),u=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?rt.call(arguments):t,i===r?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(r=new Array(a),e=new Array(a),n=new Array(a);i<a;i++)o[i]&&ht.isFunction(o[i].promise)?o[i].promise().progress(u(i,e,r)).done(u(i,n,o)).fail(l.reject):--s;return s||l.resolveWith(n,o),l.promise()}}),ht.fn.ready=function(t){return ht.ready.promise().done(t),this},ht.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ht.readyWait++:ht.ready(!0)},ready:function(t){(!0===t?--ht.readyWait:ht.isReady)||(ht.isReady=!0)!==t&&0<--ht.readyWait||(Nt.resolveWith(it,[ht]),ht.fn.triggerHandler&&(ht(it).triggerHandler("ready"),ht(it).off("ready")))}}),ht.ready.promise=function(t){if(!Nt)if(Nt=ht.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)_.setTimeout(ht.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",o),_.addEventListener("load",o);else{it.attachEvent("onreadystatechange",o),_.attachEvent("onload",o);var e=!1;try{e=null==_.frameElement&&it.documentElement}catch(n){}e&&e.doScroll&&function i(){if(!ht.isReady){try{e.doScroll("left")}catch(n){return _.setTimeout(i,50)}r(),ht.ready()}}()}return Nt.promise(t)},ht.ready.promise(),ht(dt))break;dt.ownFirst="0"===At,dt.inlineBlockNeedsLayout=!1,ht(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(e){dt.deleteExpando=!1}t=null}();var Mt,Rt=function(t){var e=ht.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ot=/([A-Z])/g;ht.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ht.cache[t[ht.expando]]:t[ht.expando])&&!u(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return a(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return a(t,e,!0)}}),ht.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(t!==undefined)return"object"==typeof t?this.each(function(){ht.data(this,t)}):1<arguments.length?this.each(function(){ht.data(this,t,e)}):o?l(o,t,ht.data(o,t)):undefined;if(this.length&&(r=ht.data(o),1===o.nodeType&&!ht._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&l(o,i=ht.camelCase(i.slice(5)),r[i]);ht._data(o,"parsedAttrs",!0)}return r},removeData:function(t){return this.each(function(){ht.removeData(this,t)})}}),ht.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ht._data(t,e),n&&(!i||ht.isArray(n)?i=ht._data(t,e,ht.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ht.queue(t,e),i=n.length,r=n.shift(),o=ht._queueHooks(t,e),a=function(){ht.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ht._data(t,n)||ht._data(t,n,{empty:ht.Callbacks("once memory").add(function(){ht._removeData(t,e+"queue"),ht._removeData(t,n)})})}}),ht.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?ht.queue(this[0],e):n===undefined?this:this.each(function(){var t=ht.queue(this,e,n);ht._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ht.dequeue(this,e)})},dequeue:function(t){return this.each(function(){ht.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ht.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=ht._data(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}}),dt.shrinkWrapBlocks=function(){return null!=Mt?Mt:(Mt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Mt=3!==t.offsetWidth),e.removeChild(n),Mt):void 0);var t,e,n};var It,Lt,Bt,Ft=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,zt=new RegExp("^(?:([+-])=|)("+Ft+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===ht.css(t,"display")||!ht.contains(t.ownerDocument,t)},Wt=function(t,e,n,i,r,o,a){var s=0,l=t.length,u=null==n;if("object"===ht.type(n))for(s in r=!0,n)Wt(t,e,s,n[s],!0,o,a);else if(i!==undefined&&(r=!0,ht.isFunction(i)||(a=!0),u&&(a?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ht(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Vt=/^(?:checkbox|radio)$/i,Ut=/<([\w:-]+)/,$t=/^$|\/(?:java|ecma)script/i,qt=/^\s+/,Yt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";It=it.createElement("div"),Lt=it.createDocumentFragment(),Bt=it.createElement("input"),It.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===It.firstChild.nodeType,dt.tbody=!It.getElementsByTagName("tbody").length,dt.htmlSerialize=!!It.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Bt.type="checkbox",Bt.checked=!0,Lt.appendChild(Bt),dt.appendChecked=Bt.checked,It.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!It.cloneNode(!0).lastChild.defaultValue,Lt.appendChild(It),(Bt=it.createElement("input")).setAttribute("type","radio"),Bt.setAttribute("checked","checked"),Bt.setAttribute("name","t"),It.appendChild(Bt),dt.checkClone=It.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!It.addEventListener,It[ht.expando]=1,dt.attributes=!It.getAttribute(ht.expando);var Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td;var Xt=/<|&#?\w+;/,Kt=/<tbody/i;!function(){var t,e,n=it.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(dt[t]=e in _)||(n.setAttribute(e,"t"),dt[t]=!1===n.attributes[e].expando);n=null}();var Zt=/^(?:input|select|textarea)$/i,Qt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ht.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,f,h,p,m,g=ht._data(t);if(g){for(n.handler&&(n=(l=n).handler,r=l.selector),n.guid||(n.guid=ht.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||((c=g.handle=function(t){return void 0===ht||t&&ht.event.triggered===t.type?undefined:ht.event.dispatch.apply(c.elem,arguments)}).elem=t),s=(e=(e||"").match(Dt)||[""]).length;s--;)h=m=(o=ee.exec(e[s])||[])[1],p=(o[2]||"").split(".").sort(),h&&(u=ht.event.special[h]||{},h=(r?u.delegateType:u.bindType)||h,u=ht.event.special[h]||{},d=ht.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ht.expr.match.needsContext.test(r),namespace:p.join(".")},l),(f=a[h])||((f=a[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,c)||(t.addEventListener?t.addEventListener(h,c,!1):t.attachEvent&&t.attachEvent("on"+h,c))),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),ht.event.global[h]=!0);t=null}},remove:function(t,e,n,i,r){var o,a,s,l,u,c,d,f,h,p,m,g=ht.hasData(t)&&ht._data(t);if(g&&(c=g.events)){for(u=(e=(e||"").match(Dt)||[""]).length;u--;)if(h=m=(s=ee.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),h){for(d=ht.event.special[h]||{},f=c[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;o--;)a=f[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(t,a));l&&!f.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||ht.removeEvent(t,h,g.handle),delete c[h])}else for(h in c)ht.event.remove(t,h+e[u],n,i,!0);ht.isEmptyObject(c)&&(delete g.handle,ht._removeData(t,"events"))}},trigger:function(t,e,n,i){var r,o,a,s,l,u,c,d=[n||it],f=ct.call(t,"type")?t.type:t,h=ct.call(t,"namespace")?t.namespace.split("."):[];if(a=u=n=n||it,3!==n.nodeType&&8!==n.nodeType&&!te.test(f+ht.event.triggered)&&(-1<f.indexOf(".")&&(f=(h=f.split(".")).shift(),h.sort()),o=f.indexOf(":")<0&&"on"+f,(t=t[ht.expando]?t:new ht.Event(f,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:ht.makeArray(e,[t]),l=ht.event.special[f]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!ht.isWindow(n)){for(s=l.delegateType||f,te.test(s+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(n.ownerDocument||it)&&d.push(u.defaultView||u.parentWindow||_)}for(c=0;(a=d[c++])&&!t.isPropagationStopped();)t.type=1<c?s:l.bindType||f,(r=(ht._data(a,"events")||{})[t.type]&&ht._data(a,"handle"))&&r.apply(a,e),(r=o&&a[o])&&r.apply&&Rt(a)&&(t.result=r.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=f,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),e))&&Rt(n)&&o&&n[f]&&!ht.isWindow(n)){(u=n[o])&&(n[o]=null),ht.event.triggered=f;try{n[f]()}catch(p){}ht.event.triggered=undefined,u&&(n[o]=u)}return t.result}},dispatch:function(t){t=ht.event.fix(t);var e,n,i,r,o,a=[],s=rt.call(arguments),l=(ht._data(this,"events")||{})[t.type]||[],u=ht.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=ht.event.handlers.call(this,t,l),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,(i=((ht.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)i[r=(o=e[n]).selector+" "]===undefined&&(i[r]=o.needsContext?-1<ht(r,this).index(l):ht.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[ht.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Jt.test(r)?this.mouseHooks:Qt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new ht.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||o===undefined||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ht.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ht.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ht.extend(new ht.Event,n,{type:t,isSimulated:!0});ht.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ht.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},ht.Event=function(t,e){if(!(this instanceof ht.Event))return new ht.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?f:h):this.type=t,e&&ht.extend(this,e),this.timeStamp=t&&t.timeStamp||ht.now(),this[ht.expando]=!0},ht.Event.prototype={constructor:ht.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ht.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){ht.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,i=t.relatedTarget,r=t.handleObj;return i&&(i===n||ht.contains(n,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=o),e}}}),dt.submit||(ht.event.special.submit={setup:function(){if(ht.nodeName(this,"form"))return!1;ht.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ht.nodeName(e,"input")||ht.nodeName(e,"button")?ht.prop(e,"form"):undefined;n&&!ht._data(n,"submit")&&(ht.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ht._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ht.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ht.nodeName(this,"form"))return!1;ht.event.remove(this,"._submit")}}),dt.change||(ht.event.special.change={setup:function(){if(Zt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ht.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ht.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ht.event.simulate("change",this,t)})),!1;ht.event.add(this,"beforeactivate._change",function(t){var e=t.target;Zt.test(e.nodeName)&&!ht._data(e,"change")&&(ht.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ht.event.simulate("change",this.parentNode,t)}),ht._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ht.event.remove(this,"._change"),!Zt.test(this.nodeName)}}),dt.focusin||ht.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){ht.event.simulate(i,t.target,ht.event.fix(t))};ht.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=ht._data(t,i);e||t.addEventListener(n,r,!0),ht._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=ht._data(t,i)-1;e?ht._data(t,i,e):(t.removeEventListener(n,r,!0),ht._removeData(t,i))}}}),ht.fn.extend({on:function(t,e,n,i){return x(this,t,e,n,i)},one:function(t,e,n,i){return x(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ht(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=h),this.each(function(){ht.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this},trigger:function(t,e){return this.each(function(){ht.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ht.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Yt+")[\\s/>]","i"),re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue=g(it).appendChild(it.createElement("div"));ht.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,l=ht.contains(t.ownerDocument,t);if(dt.html5Clone||ht.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ue.innerHTML=t.outerHTML,ue.removeChild(o=ue.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ht.isXMLDoc(t)))for(i=v(o),s=v(t),a=0;null!=(r=s[a]);++a)i[a]&&T(r,i[a]);if(e)if(n)for(s=s||v(t),i=i||v(o),a=0;null!=(r=s[a]);a++)k(r,i[a]);else k(t,o);return 0<(i=v(o,"script")).length&&y(i,!l&&v(t,"script")),i=s=r=null,o},cleanData:function(t,e){for(var n,i,r,o,a=0,s=ht.expando,l=ht.cache,u=dt.attributes,c=ht.event.special;null!=(n=t[a]);a++)if((e||Rt(n))&&(o=(r=n[s])&&l[r])){if(o.events)for(i in o.events)c[i]?ht.event.remove(n,i):ht.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(r))}}}),ht.fn.extend({domManip:E,detach:function(t){return N(this,t,!0)},remove:function(t){return N(this,t)},text:function(t){return Wt(this,function(t){return t===undefined?ht.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,t).appendChild(t)})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ht.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ht.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ht.clone(this,t,e)})},html:function(t){return Wt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!oe.test(t)&&(dt.htmlSerialize||!ie.test(t))&&(dt.leadingWhitespace||!qt.test(t))&&!Gt[(Ut.exec(t)||["",""])[1].toLowerCase()]){t=ht.htmlPrefilter(t);try{for(
;n<i;n++)1===(e=this[n]||{}).nodeType&&(ht.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return E(this,arguments,function(t){var e=this.parentNode;ht.inArray(this,n)<0&&(ht.cleanData(v(this)),e&&e.replaceChild(t,this))},n)}}),ht.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){ht.fn[t]=function(t){for(var e,n=0,i=[],r=ht(t),o=r.length-1;n<=o;n++)e=n===o?this:this.clone(!0),ht(r[n])[a](e),at.apply(i,e.get());return this.pushStack(i)}});var ce,de={HTML:"block",BODY:"block"},fe=/^margin/,he=new RegExp("^("+Ft+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r},me=it.documentElement;!function(){function t(){var t,e,n=it.documentElement;n.appendChild(u),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=o=l=!1,r=s=!0,_.getComputedStyle&&(e=_.getComputedStyle(c),i="1%"!==(e||{}).top,l="2px"===(e||{}).marginLeft,o="4px"===(e||{width:"4px"}).width,c.style.marginRight="50%",r="4px"===(e||{marginRight:"4px"}).marginRight,(t=c.appendChild(it.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",s=!parseFloat((_.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",(a=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(t=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),n.removeChild(u)}var i,r,o,a,s,l,u=it.createElement("div"),c=it.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===c.style.opacity,dt.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===c.style.backgroundClip,(u=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",u.appendChild(c),dt.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,ht.extend(dt,{reliableHiddenOffsets:function(){return null==i&&t(),a},boxSizingReliable:function(){return null==i&&t(),o},pixelMarginRight:function(){return null==i&&t(),r},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),s},reliableMarginLeft:function(){return null==i&&t(),l}}))}();var ge,ve,ye=/^(top|right|bottom|left)$/;_.getComputedStyle?(ge=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=_),e.getComputedStyle(t)},ve=function(t,e,n){var i,r,o,a,s=t.style;return""!==(a=(n=n||ge(t))?n.getPropertyValue(e)||n[e]:undefined)&&a!==undefined||ht.contains(t.ownerDocument,t)||(a=ht.style(t,e)),n&&!dt.pixelMarginRight()&&he.test(a)&&fe.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),a===undefined?a:a+""}):me.currentStyle&&(ge=function(t){return t.currentStyle},ve=function(t,e,n){var i,r,o,a,s=t.style;return null==(a=(n=n||ge(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),he.test(a)&&!ye.test(e)&&(i=s.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),a===undefined?a:a+""||"auto"});var be=/alpha\([^)]*\)/i,xe=/opacity\s*=\s*([^)]*)/i,we=/^(none|table(?!-c[ea]).+)/,Ce=new RegExp("^("+Ft+")(.*)$","i"),_e={position:"absolute",visibility:"hidden",display:"block"},Se={letterSpacing:"0",fontWeight:"400"},ke=["Webkit","O","Moz","ms"],Te=it.createElement("div").style;ht.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=ht.camelCase(e),l=t.style;if(e=ht.cssProps[s]||(ht.cssProps[s]=R(s)||s),a=ht.cssHooks[e]||ht.cssHooks[s],n===undefined)return a&&"get"in a&&(r=a.get(t,!1,i))!==undefined?r:l[e];if("string"===(o=typeof n)&&(r=zt.exec(n))&&r[1]&&(n=d(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(ht.cssNumber[s]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,i))===undefined)))try{l[e]=n}catch(u){}}},css:function(t,e,n,i){var r,o,a,s=ht.camelCase(e);return e=ht.cssProps[s]||(ht.cssProps[s]=R(s)||s),(a=ht.cssHooks[e]||ht.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=ve(t,e,i)),"normal"===o&&e in Se&&(o=Se[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),ht.each(["height","width"],function(t,r){ht.cssHooks[r]={get:function(t,e,n){if(e)return we.test(ht.css(t,"display"))&&0===t.offsetWidth?pe(t,_e,function(){return L(t,r,n)}):L(t,r,n)},set:function(t,e,n){var i=n&&ge(t);return O(t,e,n?I(t,r,n,dt.boxSizing&&"border-box"===ht.css(t,"boxSizing",!1,i),i):0)}}}),dt.opacity||(ht.cssHooks.opacity={get:function(t,e){return xe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=ht.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===ht.trim(o.replace(be,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=be.test(o)?o.replace(be,r):o+" "+r)}}),ht.cssHooks.marginRight=M(dt.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])}),ht.cssHooks.marginLeft=M(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ht.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ht.each({margin:"",padding:"",border:"Width"},function(r,o){ht.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+Ht[e]+o]=i[e]||i[e-2]||i[0];return n}},fe.test(r)||(ht.cssHooks[r+o].set=O)}),ht.fn.extend({css:function(t,e){return Wt(this,function(t,e,n){var i,r,o={},a=0;if(ht.isArray(e)){for(i=ge(t),r=e.length;a<r;a++)o[e[a]]=ht.css(t,e[a],!1,i);return o}return n!==undefined?ht.style(t,e,n):ht.css(t,e)},t,e,1<arguments.length)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ht(this).show():ht(this).hide()})}}),(ht.Tween=B).prototype={constructor:B,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ht.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ht.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.options.duration?this.pos=e=ht.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ht.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ht.fx.step[t.prop]?ht.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ht.cssProps[t.prop]]&&!ht.cssHooks[t.prop]?t.elem[t.prop]=t.now:ht.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ht.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ht.fx=B.prototype.init,ht.fx.step={};var Ee,Ne,Ae,De,Me,Re,Pe,Oe=/^(?:toggle|show|hide)$/,Ie=/queueHooks$/;ht.Animation=ht.extend(V,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return d(n.elem,t,zt.exec(e),n),n}]},tweener:function(t,e){ht.isFunction(t)?(e=t,t=["*"]):t=t.match(Dt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(e)},prefilters:[j],prefilter:function(t,e){e?V.prefilters.unshift(t):V.prefilters.push(t)}}),ht.speed=function(t,e,n){var i=t&&"object"==typeof t?ht.extend({},t):{complete:n||!n&&e||ht.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ht.isFunction(e)&&e};return i.duration=ht.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ht.fx.speeds?ht.fx.speeds[i.duration]:ht.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ht.isFunction(i.old)&&i.old.call(this),i.queue&&ht.dequeue(this,i.queue)},i},ht.fn.extend({fadeTo:function(t,e,n,i){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=ht.isEmptyObject(e),o=ht.speed(t,n,i),a=function(){var t=V(this,ht.extend({},e),o);(r||ht._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,t,o){var a=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof r&&(o=t,t=r,r=undefined),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=ht.timers,i=ht._data(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&Ie.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||ht.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=ht._data(this),n=e[a+"queue"],i=e[a+"queueHooks"],r=ht.timers,o=n?n.length:0;for(e.finish=!0,ht.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===a&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),ht.each(["toggle","show","hide"],function(t,i){var r=ht.fn[i];ht.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(z(i,!0),t,e,n)}}),ht.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){ht.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),ht.timers=[],ht.fx.tick=function(){var t,e=ht.timers,n=0;for(Ee=ht.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ht.fx.stop(),Ee=undefined},ht.fx.timer=function(t){ht.timers.push(t),t()?ht.fx.start():ht.timers.pop()},ht.fx.interval=13,ht.fx.start=function(){Ne||(Ne=_.setInterval(ht.fx.tick,ht.fx.interval))},ht.fx.stop=function(){_.clearInterval(Ne),Ne=null},ht.fx.speeds={slow:600,fast:200,_default:400},ht.fn.delay=function(i,t){return i=ht.fx&&ht.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=_.setTimeout(t,i);e.stop=function(){_.clearTimeout(n)}})},De=it.createElement("input"),Me=it.createElement("div"),Re=it.createElement("select"),Pe=Re.appendChild(it.createElement("option")),(Me=it.createElement("div")).setAttribute("className","t"),Me.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Ae=Me.getElementsByTagName("a")[0],De.setAttribute("type","checkbox"),Me.appendChild(De),(Ae=Me.getElementsByTagName("a")[0]).style.cssText="top:1px",dt.getSetAttribute="t"!==Me.className,dt.style=/top/.test(Ae.getAttribute("style")),dt.hrefNormalized="/a"===Ae.getAttribute("href"),dt.checkOn=!!De.value,dt.optSelected=Pe.selected,dt.enctype=!!it.createElement("form").enctype,Re.disabled=!0,dt.optDisabled=!Pe.disabled,(De=it.createElement("input")).setAttribute("value",""),dt.input=""===De.getAttribute("value"),De.value="t",De.setAttribute("type","radio"),dt.radioValue="t"===De.value;var Le=/\r/g,Be=/[\x20\t\r\n\f]+/g;ht.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=ht.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,ht(this).val()):n)?e="":"number"==typeof e?e+="":ht.isArray(e)&&(e=ht.map(e,function(t){return null==t?"":t+""})),(i=ht.valHooks[this.type]||ht.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=ht.valHooks[e.type]||ht.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Le,""):null==t?"":t:void 0}}),ht.extend({valHooks:{option:{get:function(t){var e=ht.find.attr(t,"value");return null!=e?e:ht.trim(ht.text(t)).replace(Be," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ht.nodeName(n.parentNode,"optgroup"))){if(e=ht(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=ht.makeArray(e),a=r.length;a--;)if(i=r[a],-1<ht.inArray(ht.valHooks.option.get(i),o))try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),ht.each(["radio","checkbox"],function(){ht.valHooks[this]={set:function(t,e){if(ht.isArray(e))return t.checked=-1<ht.inArray(ht(t).val(),e)}},dt.checkOn||(ht.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Fe,ze,He=ht.expr.attrHandle,je=/^(?:checked|selected)$/i,We=dt.getSetAttribute,Ve=dt.input;ht.fn.extend({attr:function(t,e){return Wt(this,ht.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){ht.removeAttr(this,t)})}}),ht.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ht.prop(t,e,n):(1===o&&ht.isXMLDoc(t)||(e=e.toLowerCase(),r=ht.attrHooks[e]||(ht.expr.match.bool.test(e)?ze:Fe)),n!==undefined?null===n?void ht.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=ht.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ht.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(Dt);if(o&&1===t.nodeType)for(;n=o[r++];)i=ht.propFix[n]||n,ht.expr.match.bool.test(n)?Ve&&We||!je.test(n)?t[i]=!1:t[ht.camelCase("default-"+n)]=t[i]=!1:ht.attr(t,n,""),t.removeAttribute(We?n:i)}}),ze={set:function(t,e,n){return!1===e?ht.removeAttr(t,n):Ve&&We||!je.test(n)?t.setAttribute(!We&&ht.propFix[n]||n,n):t[ht.camelCase("default-"+n)]=t[n]=!0,n}},ht.each(ht.expr.match.bool.source.match(/\w+/g),function(t,e){var o=He[e]||ht.find.attr;Ve&&We||!je.test(e)?He[e]=function(t,e,n){var i,r;return n||(r=He[e],He[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,He[e]=r),i}:He[e]=function(t,e,n){if(!n)return t[ht.camelCase("default-"+e)]?e.toLowerCase():null}}),Ve&&We||(ht.attrHooks.value={set:function(t,e,n){if(!ht.nodeName(t,"input"))return Fe&&Fe.set(t,e,n);t.defaultValue=e}}),We||(Fe={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},He.id=He.name=He.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ht.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Fe.set},ht.attrHooks.contenteditable={set:function(t,e,n){Fe.set(t,""!==e&&e,n)}},ht.each(["width","height"],function(t,n){ht.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),dt.style||(ht.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Ue=/^(?:input|select|textarea|button|object)$/i,$e=/^(?:a|area)$/i;ht.fn.extend({prop:function(t,e){return Wt(this,ht.prop,t,e,1<arguments.length)},removeProp:function(e){return e=ht.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),ht.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ht.isXMLDoc(t)||(e=ht.propFix[e]||e,r=ht.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ht.find.attr(t,"tabindex");return e?parseInt(e,10):Ue.test(t.nodeName)||$e.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ht.each(["href","src"],function(t,e){ht.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(ht.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ht.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ht.propFix[this.toLowerCase()]=this}),dt.enctype||(ht.propFix.enctype="encoding");var qe=/[\t\r\n\f]/g;ht.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(ht.isFunction(e))return this.each(function(t){ht(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(Dt)||[];n=this[l++];)if(r=U(n),i=1===n.nodeType&&(" "+r+" ").replace(qe," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=ht.trim(i))&&ht.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(ht.isFunction(e))return this.each(function(t){ht(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Dt)||[];n=this[l++];)if(r=U(n),i=1===n.nodeType&&(" "+r+" ").replace(qe," ")){for(a=0;o=t[a++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(s=ht.trim(i))&&ht.attr(n,"class",s)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"===o?e?this.addClass(r):this.removeClass(r):ht.isFunction(r)?this.each(function(t){ht(this).toggleClass(r.call(this,t,U(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===o)for(e=0,n=ht(this),i=r.match(Dt)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==undefined&&"boolean"!==o||((t=U(this))&&ht._data(this,"__className__",t),ht.attr(this,"class",t||!1===r?"":ht._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+U(n)+" ").replace(qe," ").indexOf(e))return!0;return!1}}),ht.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){ht.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),ht.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ye=_.location,Ge=ht.now(),Xe=/\?/,Ke=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ht.parseJSON=function(t){if(_.JSON&&_.JSON.parse)return _.JSON.parse(t+"");var r,o=null,e=ht.trim(t+"");return e&&!ht.trim(e.replace(Ke,function(t,e,n,i){return r&&e&&(o=0),0===o?t:(r=n||e,o+=!i-!n,"")}))?Function("return "+e)():ht.error("Invalid JSON: "+t)},ht.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{_.DOMParser?e=(new _.DOMParser).parseFromString(t,"text/xml"):((e=new _.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||ht.error("Invalid XML: "+t),e};var Ze=/#.*$/,Qe=/([?&])_=[^&]*/,Je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},an={},sn="*/".concat("*"),ln=Ye.href,un=rn.exec(ln.toLowerCase())||[];ht.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ln,type:"GET",isLocal:tn.test(un[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ht.parseJSON,"text xml":ht.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,ht.ajaxSettings),e):Y(ht.ajaxSettings,t)},ajaxPrefilter:$(on),ajaxTransport:$(an),ajax:function(t,e){function n(t,e,n,i){var r,o,a,s,l,u=e;2!==w&&(w=2,f&&_.clearTimeout(f),p=undefined,d=i||"",C.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(s=G(m,C,n)),s=X(m,s,C,r),r?(m.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(ht.lastModified[c]=l),(l=C.getResponseHeader("etag"))&&(ht.etag[c]=l)),204===t||"HEAD"===m.type?u="nocontent":304===t?u="notmodified":(u=s.state,o=s.data,r=!(a=s.error))):(a=u,!t&&u||(u="error",t<0&&(t=0))),C.status=t,C.statusText=(e||u)+"",r?y.resolveWith(g,[o,u,C]):y.rejectWith(g,[C,u,a]),C.statusCode(x),x=undefined,h&&v.trigger(r?"ajaxSuccess":"ajaxError",[C,m,r?o:a]),b.fireWith(g,[C,u]),h&&(v.trigger("ajaxComplete",[C,m]),--ht.active||ht.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,r,c,d,f,h,p,o,m=ht.ajaxSetup({},e),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?ht(g):ht.event,y=ht.Deferred(),b=ht.Callbacks("once memory"),x=m.statusCode||{},a={},s={},w=0,l="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!o)for(o={};e=Je.exec(d);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?d:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=s[n]=s[n]||t,a[t]=e),this},overrideMimeType:function(t){return w||(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)x[e]=[x[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||l;return p&&p.abort(e),n(0,e),this}};if(y.promise(C).complete=b.add,C.success=C.done,C.error=C.fail,m.url=((t||m.url||ln)+"").replace(Ze,"").replace(nn,un[1]+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=ht.trim(m.dataType||"*").toLowerCase().match(Dt)||[""],null==m.crossDomain&&(i=rn.exec(m.url.toLowerCase()),m.crossDomain=!(!i||i[1]===un[1]&&i[2]===un[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(un[3]||("http:"===un[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ht.param(m.data,m.traditional)),q(on,m,e,C),2===w)return C;for(r in(h=ht.event&&m.global)&&0==ht.active++&&ht.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!en.test(m.type),c=m.url,m.hasContent||(m.data&&(c=m.url+=(Xe.test(c)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Qe.test(c)?c.replace(Qe,"$1_="+Ge++):c+(Xe.test(c)?"&":"?")+"_="+Ge++)),m.ifModified&&(ht.lastModified[c]&&C.setRequestHeader("If-Modified-Since",ht.lastModified[c]),ht.etag[c]&&C.setRequestHeader("If-None-Match",ht.etag[c])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&C.setRequestHeader("Content-Type",m.contentType),C.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+sn+"; q=0.01":""):m.accepts["*"]),m.headers)C.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(g,C,m)||2===w))return C.abort();for(r in l="abort",{success:1,error:1,complete:1})C[r](m[r]);if(p=q(an,m,e,C)){if(C.readyState=1,h&&v.trigger("ajaxSend",[C,m]),2===w)return C;m.async&&0<m.timeout&&(f=_.setTimeout(function(){C.abort("timeout")},m.timeout));try{w=1,p.send(a,n)}catch(u){if(!(w<2))throw u;n(-1,u)}}else n(-1,"No Transport");return C},getJSON:function(t,e,n){return ht.get(t,e,n,"json")},getScript:function(t,e){return ht.get(t,undefined,e,"script")}}),ht.each(["get","post"],function(t,r){ht[r]=function(t,e,n,i){return ht.isFunction(e)&&(i=i||n,n=e,e=undefined),ht.ajax(ht.extend({url:t,type:r,dataType:i,data:e,success:n},ht.isPlainObject(t)&&t))}}),ht._evalUrl=function(t){return ht.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ht.fn.extend({wrapAll:function(e){if(ht.isFunction(e))return this.each(function(t){ht(this).wrapAll(e.call(this,t))});if(this[0]){var t=ht(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return ht.isFunction(n)?this.each(function(t){ht(this).wrapInner(n.call(this,t))}):this.each(function(){var t=ht(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=ht.isFunction(e);return this.each(function(t){ht(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){ht.nodeName(this,"body")||ht(this).replaceWith(this.childNodes)}).end()}}),ht.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Z(t)},ht.expr.filters.visible=function(t){return!ht.expr.filters.hidden(t)};var cn=/%20/g,dn=/\[\]$/,fn=/\r?\n/g,hn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;ht.param=function(t,e){var n,i=[],r=function(t,e){e=ht.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ht.ajaxSettings&&ht.ajaxSettings.traditional),ht.isArray(t)||t.jquery&&!ht.isPlainObject(t))ht.each(t,function(){r(this.name,this.value)});else for(n in t)Q(n,t[n],e,r);return i.join("&").replace(cn,"+")},ht.fn.extend({serialize:function(){return ht.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ht.prop(this,"elements");return t?ht.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ht(this).is(":disabled")&&pn.test(this.nodeName)&&!hn.test(t)&&(this.checked||!Vt.test(t))}).map(function(t,e){var n=ht(this).val();return null==n?null:ht.isArray(n)?ht.map(n,function(t){return{name:e.name,value:t.replace(fn,"\r\n")}}):{name:e.name,value:n.replace(fn,"\r\n")}}).get()}}),ht.ajaxSettings.xhr=_.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<it.documentMode?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var mn=0,gn={},vn=ht.ajaxSettings.xhr();_.attachEvent&&_.attachEvent("onunload",function(){for(var t in gn)gn[t](undefined,!0)}),dt.cors=!!vn&&"withCredentials"in vn,(vn=dt.ajax=!!vn)&&ht.ajaxTransport(function(u){var c;if(!u.crossDomain||dt.cors)return{send:function(t,a){var e,s=u.xhr(),l=++mn;if(s.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(e in u.xhrFields)s[e]=u.xhrFields[e];for(e in u.mimeType&&s.overrideMimeType&&s.overrideMimeType(u.mimeType),u.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&s.setRequestHeader(e,t[e]+"");s.send(u.hasContent&&u.data||null),c=function(t,e){var n,i,r;if(c&&(e||4===s.readyState))if(delete gn[l],c=undefined,s.onreadystatechange=ht.noop,e)4!==s.readyState&&s.abort();else{r={},n=s.status,"string"==typeof s.responseText&&(r.text=s.responseText);try{i=s.statusText}catch(o){i=""}n||!u.isLocal||u.crossDomain?1223===n&&(n=204):n=r.text?200:404}r&&a(n,i,r,s.getAllResponseHeaders())},u.async?4===s.readyState?_.setTimeout(c):s.onreadystatechange=gn[l]=c:c()},abort:function(){c&&c(undefined,!0)}}}),ht.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ht.globalEval(t),t}}}),ht.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ht.ajaxTransport("script",function(e){if(e.crossDomain){var i,r=it.head||ht("head")[0]||it.documentElement;return{send:function(t,n){(i=it.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},r.insertBefore(i,r.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var yn=[],bn=/(=)\?(?=&|$)|\?\?/;ht.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yn.pop()||ht.expando+"_"+Ge++;return this[t]=!0,t}}),ht.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,a=!1!==t.jsonp&&(bn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&bn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ht.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(bn,"$1"+i):!1!==t.jsonp&&(t.url+=(Xe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||ht.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=_[i],_[i]=function(){o=arguments},n.always(function(){r===undefined?ht(_).removeProp(i):_[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,yn.push(i)),o&&ht.isFunction(r)&&r(o[0]),o=r=undefined}),"script"}),ht.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=Ct.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=m([t],e,r),r&&r.length&&ht(r).remove(),ht.merge([],i.childNodes))};var xn=ht.fn.load;ht.fn.load=function(t,e,n){if("string"!=typeof t&&xn)return xn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return-1<s&&(i=ht.trim(t.slice(s,t.length)),t=t.slice(0,s)),ht.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),0<a.length&&ht.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?ht("<div>").append(ht.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ht.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ht.fn[e]=function(t){return this.on(e,t)}}),ht.expr.filters.animated=function(e){return ht.grep(ht.timers,function(t){return e===t.elem}).length},ht.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,u=ht.css(t,"position"),c=ht(t),d={};"static"===u&&(t.style.position="relative"),s=c.offset(),o=ht.css(t,"top"),l=ht.css(t,"left"),("absolute"===u||"fixed"===u)&&-1<ht.inArray("auto",[o,l])?(a=(i=c.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),ht.isFunction(e)&&(e=e.call(t,n,ht.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):c.css(d)}},ht.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ht.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(t=o.documentElement,ht.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=et(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ht.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ht.nodeName(t[0],"html")||(n=t.offset()),n.top+=ht.css(t[0],"borderTopWidth",!0),n.left+=ht.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ht.css(i,"marginTop",!0),left:e.left-n.left-ht.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ht.nodeName(t,"html")&&"static"===ht.css(t,"position");)t=t.offsetParent;return t||me})}}),ht.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o=/Y/.test(r);ht.fn[e]=function(t){return Wt(this,function(t,e,n){var i=et(t);if(n===undefined
)return i?r in i?i[r]:i.document.documentElement[e]:t[e];i?i.scrollTo(o?ht(i).scrollLeft():n,o?n:ht(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),ht.each(["top","left"],function(t,n){ht.cssHooks[n]=M(dt.pixelPosition,function(t,e){if(e)return e=ve(t,n),he.test(e)?ht(t).position()[n]+"px":e})}),ht.each({Height:"height",Width:"width"},function(o,a){ht.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,t){ht.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return Wt(this,function(t,e,n){var i;return ht.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):n===undefined?ht.css(t,e,r):ht.style(t,e,n,r)},a,n?t:undefined,n,null)}})}),ht.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ht.fn.size=function(){return this.length},ht.fn.andSelf=ht.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ht});var wn=_.jQuery,Cn=_.$;return ht.noConflict=function(t){return _.$===ht&&(_.$=Cn),t&&_.jQuery===ht&&(_.jQuery=wn),ht},t||(_.jQuery=_.$=ht),ht}),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";function t(n){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',a=function(t){o(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){r.detach().trigger("closed.bs.alert").remove()}var n=o(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=o("#"===i?[]:i);t&&t.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),o.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var n=o.fn.alert;o.fn.alert=t,o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=n,this},o(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(o){"use strict";function n(i){return this.each(function(){var t=o(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new r(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.isLoading=!1};r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(o.proxy(function(){n[i](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},r.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=n,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target).closest(".btn");n.call(e,"toggle"),o(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function a(r){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},f.DEFAULTS,t.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;e||t.data("bs.carousel",e=new f(this,n)),"number"==typeof r?e.to(r):i?e[i]():n.interval&&e.pause().cycle()})}var f=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};f.VERSION="3.3.7",f.TRANSITION_DURATION=600,f.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},f.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},f.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},f.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},f.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},f.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},f.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},f.prototype.next=function(){if(!this.sliding)return this.slide("next")},f.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},f.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),r=this.interval,o="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=d(this.$indicators.children()[this.getItemIndex(i)]);u&&u.addClass("active")}var c=d.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([t,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(f.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(c)),r&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=f,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};var e=function(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=d.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(i,r),o&&i.data("bs.carousel").to(o),t.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function r(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=a(t),this.options=a.extend({},l.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var o=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][o])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=r(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(s){"use strict";function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function o(i){i&&3===i.which||(s(e).remove(),s(u).each(function(){var t=s(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(e[0],i.target)||(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",u='[data-toggle="dropdown"]',i=function(t){s(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(o(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(u).trigger("focus"),e.trigger("click");var r=" li:not(.disabled):visible a",o=n.find(".dropdown-menu"+r);if(o.length){var a=o.index(t.target);38==t.which&&0<a&&a--,40==t.which&&a<o.length-1&&a++,~a||(a=0),o.eq(a).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",u,i.prototype.toggle).on("keydown.bs.dropdown.data-api",u,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(o){"use strict";function a(i,r){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](r):n.show&&e.show(r)})}var s=function(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=a,o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),i=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(i,r,this)})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:t[0]}),o=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=e.find("> .active"),o=n&&s.support.transition&&(r.length&&r.hasClass("fade")||!!e.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),r.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new u(this,n)),"string"==typeof i&&e[i]()})}var u=function(t,e){this.options=l.extend({},u.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};u.VERSION="3.3.7",u.RESET="affix affix-top affix-bottom",u.DEFAULTS={offset:0,target:window},u.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},u.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(u.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},u.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},u.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var o=this.getState(r,t,n,i);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(u.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=u,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(o){"use strict";function r(t,e){this.$body=o(document.body),this.$scrollElement=o(t).is(document.body)?o(window):o(t),this.options=o.extend({},r.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new r(this,n)),"string"==typeof i&&e[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&o(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},r.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(r[t+1]===undefined||e<r[t+1])&&this.activate(o[t])},r.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=o(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(m){"use strict";function t(i){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new g(this,n)),"string"==typeof i&&e[i]())})}var g=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};g.VERSION="3.3.7",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},g.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},g.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},g.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},g.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},g.prototype.show=function(){var t=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),u=i[0].offsetWidth,c=i[0].offsetHeight;if(s){var d=o,f=this.getPosition(this.$viewport);o="bottom"==o&&l.bottom+c>f.bottom?"top":"top"==o&&l.top-c<f.top?"bottom":"right"==o&&l.right+u>f.width?"left":"left"==o&&l.left-u<f.left?"right":o,i.removeClass(d).addClass(o)}var h=this.getCalculatedOffset(o,l,u,c);this.applyPlacement(h,o);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(g.TRANSITION_DURATION):p()}},g.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,m.offset.setOffset(n[0],m.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=r&&(t.top=t.top+r-l);var u=this.getViewportAdjustedDelta(e,t,s,l);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(e),d=c?2*u.left-i+s:2*u.top-r+l,f=c?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,
n[0][f],c)},g.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},g.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},g.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=m(this.$tip),r=m.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(g.TRANSITION_DURATION):e(),this.hoverState=null,this},g.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=m.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&e instanceof window.SVGElement,o=n?{top:0,left:0}:r?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},i,a,s,o)},g.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},g.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var u=e.left-o,c=e.left+o+n;u<a.left?r.left=a.left-u:c>a.right&&(r.left=a.left+a.width-c)}return r},g.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},g.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},g.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=m.fn.tooltip;m.fn.tooltip=t,m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=e,this}}(jQuery),function(r){"use strict";function t(i){return this.each(function(){var t=r(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new o(this,n)),"string"==typeof i&&e[i]())})}var o=function(t,e){this.init("popover",t,e)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype),(o.prototype.constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=r.fn.popover;r.fn.popover=t,r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=e,this}}(jQuery),function(c,l){"use strict";var u;c.rails!==l&&c.error("jquery-ujs has already been loaded!");var t=c(document);c.rails=u={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return c("meta[name=csrf-token]").attr("content")},csrfParam:function(){return c("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=u.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){c('form input[name="'+u.csrfParam()+'"]').val(u.csrfToken())},fire:function(t,e,n){var i=c.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return c.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,r,o,a;if(u.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,o=i.data("type")||c.ajaxSettings&&c.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=c(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(u.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(u.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=u.href(i),n=i.data("params")||null);return a={type:t||"GET",data:n,dataType:o,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!u.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:u.isCrossDomain(e)},r&&(a.xhrFields={withCredentials:r}),e&&(a.url=e),u.ajax(a)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=u.href(t),n=t.data("method"),i=t.attr("target"),r=u.csrfToken(),o=u.csrfParam(),a=c('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';o===l||r===l||u.isCrossDomain(e)||(s+='<input name="'+o+'" value="'+r+'" type="hidden" />'),i&&a.attr("target",i),a.hide().append(s).appendTo("body"),a.submit()},formElements:function(t,e){return t.is("form")?c(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){u.formElements(t,u.disableSelector).each(function(){u.disableFormElement(c(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){u.formElements(t,u.enableSelector).each(function(){u.enableFormElement(c(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(u.fire(t,"confirm")){try{i=u.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=u.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,r,o,a=c(),s=e||"input,textarea",l=t.find(s),u={};return l.each(function(){(i=c(this)).is("input[type=radio]")?(o=i.attr("name"),u[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(r=t.find('input[type=radio][name="'+o+'"]'),a=a.add(r)),u[o]=o)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(a=a.add(i))}),!!a.length&&a},nonBlankInputs:function(t,e){return u.blankInputs(t,e,!0)},stopEverything:function(t){return c(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return u.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},u.fire(t,"rails:attachBindings")&&(c.ajaxPrefilter(function(t,e,n){t.crossDomain||u.CSRFProtection(n)}),c(window).on("pageshow.rails",function(){c(c.rails.enableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableFormElement(t)}),c(c.rails.linkDisableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableElement(t)})}),t.on("ajax:complete",u.linkDisableSelector,function(){u.enableElement(c(this))}),t.on("ajax:complete",u.buttonDisableSelector,function(){u.enableFormElement(c(this))}),t.on("click.rails",u.linkClickSelector,function(t){var e=c(this),n=e.data("method"),i=e.data("params"),r=t.metaKey||t.ctrlKey;if(!u.allowAction(e))return u.stopEverything(t);if(!r&&e.is(u.linkDisableSelector)&&u.disableElement(e),u.isRemote(e)){if(r&&(!n||"GET"===n)&&!i)return!0;var o=u.handleRemote(e);return!1===o?u.enableElement(e):o.fail(function(){u.enableElement(e)}),!1}return n?(u.handleMethod(e),!1):void 0}),t.on("click.rails",u.buttonClickSelector,function(t){var e=c(this);if(!u.allowAction(e)||!u.isRemote(e))return u.stopEverything(t);e.is(u.buttonDisableSelector)&&u.disableFormElement(e);var n=u.handleRemote(e);return!1===n?u.enableFormElement(e):n.fail(function(){u.enableFormElement(e)}),!1}),t.on("change.rails",u.inputChangeSelector,function(t){var e=c(this);return u.allowAction(e)&&u.isRemote(e)?(u.handleRemote(e),!1):u.stopEverything(t)}),t.on("submit.rails",u.formSubmitSelector,function(t){var e,n,i=c(this),r=u.isRemote(i);if(!u.allowAction(i))return u.stopEverything(t);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((e=u.blankInputs(i,u.requiredInputSelector,!1))&&u.fire(i,"ajax:aborted:required",[e]))return u.stopEverything(t)}else i.data("ujs:formnovalidate-button",l);if(r){if(n=u.nonBlankInputs(i,u.fileInputSelector)){setTimeout(function(){u.disableFormElements(i)},13);var o=u.fire(i,"ajax:aborted:file",[n]);return o||setTimeout(function(){u.enableFormElements(i)},13),o}return u.handleRemote(i),!1}setTimeout(function(){u.disableFormElements(i)},13)}),t.on("click.rails",u.formInputClickSelector,function(t){var e=c(this);if(!u.allowAction(e))return u.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,r=e.closest("form");0===r.length&&(r=c("#"+e.attr("form"))),r.data("ujs:submit-button",i),r.data("ujs:formnovalidate-button",e.attr("formnovalidate")),r.data("ujs:submit-button-formaction",e.attr("formaction")),r.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",u.formSubmitSelector,function(t){this===t.target&&u.disableFormElements(c(this))}),t.on("ajax:complete.rails",u.formSubmitSelector,function(t){this===t.target&&u.enableFormElements(c(this))}),c(function(){u.refreshCSRFTokens()}))}(jQuery),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var e=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return e.get.call(this)},set:function(t){return e.set.call(this,t)}})}(),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var wysihtml5={version:"0.4.13",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};!function(t,e){"function"==typeof define&&define.amd?define(t):e.rangy=t()}(function(){function u(t,e){var n=typeof t[e];return n==b||!(n!=y||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=y||!t[e])}function t(t,e){return typeof t[e]!=x}function n(i){return function(t,e){for(var n=e.length;n--;)if(!i(t,e[n]))return!1;return!0}}function c(t){return t&&k(t,S)&&E(t,_)}function d(t){return e(t,"body")?t.body:t.getElementsByTagName("body")[0]}function f(t){e(window,"console")&&u(window.console,"log")&&window.console.log(t)}function i(t,e){e?window.alert(t):f(t)}function h(t){A.initialized=!0,A.supported=!1,i("Rangy is not supported on this page in your browser. Reason: "+t,A.config.alertOnFail)}function r(t){i("Rangy warning: "+t,A.config.alertOnWarn)}function p(t){return t.message||t.description||String(t)}function o(){if(!A.initialized){var t,e=!1,n=!1;u(document,"createRange")&&(t=document.createRange(),k(t,C)&&E(t,w)&&(e=!0));var i=d(document);if(i&&"body"==i.nodeName.toLowerCase())if(i&&u(i,"createTextRange")&&c(t=i.createTextRange())&&(n=!0),e||n){var r;for(var o in A.initialized=!0,A.features={implementsDomRange:e,implementsTextRange:n},N)(r=N[o])instanceof m&&r.init(r,A);for(var a=0,s=D.length;a<s;++a)try{D[a](A)}catch(l){f("Rangy init listener threw an exception. Continuing. Detail: "+p(l))}}else h("Neither Range nor TextRange are available");else h("No body element found")}}function a(t){t=t||window,o();for(var e=0,n=M.length;e<n;++e)M[e](t)}function m(t,e,n){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=n}function s(t,i,e,r){var n=new m(i,e,function(t){if(!t.initialized){t.initialized=!0;try{r(A,t),t.supported=!0}catch(n){var e="Module '"+i+"' failed to load: "+p(n);f(e)}}});N[i]=n}function l(){}function g(){}var v,y="object",b="function",x="undefined",w=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],_=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],S=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],k=n(u),T=n(e),E=n(t),N={},A={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:u,isHostObject:e,isHostProperty:t,areHostMethods:k,areHostObjects:T,areHostProperties:E,isTextRange:c,getBody:d},features:{},modules:N,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==x||rangyAutoInitialize}};A.fail=h,A.warn=r,!{}.hasOwnProperty?h("hasOwnProperty not supported"):A.util.extend=function(t,e,n){var i,r;for(var o in e)e.hasOwnProperty(o)&&(i=t[o],r=e[o],n&&null!==i&&"object"==typeof i&&null!==r&&"object"==typeof r&&A.util.extend(i,r,!0),t[o]=r);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t},function(){var t=document.createElement("div");t.appendChild(document.createElement("span"));var e,n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(t){return n.call(t,0)})}catch(i){}e||(e=function(t){for(var e=[],n=0,i=t.length;n<i;++n)e[n]=t[n];return e}),A.util.toArray=e}(),u(document,"addEventListener")?v=function(t,e,n){t.addEventListener(e,n,!1)}:u(document,"attachEvent")?v=function(t,e,n){t.attachEvent("on"+e,n)}:h("Document does not have required addEventListener or attachEvent method"),A.util.addListener=v;var D=[];A.init=o,A.addInitListener=function(t){A.initialized?t(A):D.push(t)};var M=[];A.addShimListener=function(t){M.push(t)},A.shim=A.createMissingNativeApi=a,m.prototype={init:function(){for(var t,e,n=this.dependencies||[],i=0,r=n.length;i<r;++i){if(e=n[i],!((t=N[e])&&t instanceof m))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+t)},warn:function(t){A.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){A.warn("DEPRECATED: "+t+" in module "+this.name+"is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},A.createModule=function(t,e,n){var i,r;2==arguments.length?(i=e,r=[]):(i=n,r=e);var o=s(!1,t,r,i);A.initialized&&o.init()},A.createCoreModule=function(t,e,n){s(!0,t,e,n)},A.RangePrototype=l,A.rangePrototype=new l,A.selectionPrototype=new g;var R=!1,P=function(){R||(R=!0,!A.initialized&&A.config.autoInitialize&&o())};if(typeof window!=x){if(typeof document!=x)return u(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",P,!1),v(window,"load",P),A.createCoreModule("DomUtil",[],function(n,u){function t(t){var e;return typeof t.namespaceURI==A||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function e(t){var e=t.parentNode;return 1==e.nodeType?e:null}function c(t){for(var e=0;t=t.previousSibling;)++e;return e}function i(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function d(t,e){var n,i=[];for(n=t;n;n=n.parentNode)i.push(n);for(n=e;n;n=n.parentNode)if(O(i,n))return n;return null}function r(t,e,n){for(var i=n?e:e.parentNode;i;){if(i===t)return!0;i=i.parentNode}return!1}function o(t,e){return r(t,e,!0)}function f(t,e,n){for(var i,r=n?t:t.parentNode;r;){if((i=r.parentNode)===e)return r;r=i}return null}function a(t){var e=t.nodeType;return 3==e||4==e||8==e}function s(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function l(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function h(t,e,n){var i=t.cloneNode(!1);if(i.deleteData(0,e),t.deleteData(e,t.length-e),l(i,t),n)for(var r,o=0;r=n[o++];)r.node==t&&r.offset>e?(r.node=i,r.offset-=e):r.node==t.parentNode&&r.offset>c(t)&&++r.offset;return i}function p(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=A)return t.ownerDocument;if(typeof t.document!=A)return t.document;if(t.parentNode)return p(t.parentNode);throw u.createError("getDocument: no document found for node")}function m(t){var e=p(t);if(typeof e.defaultView!=A)return e.defaultView;if(typeof e.parentWindow!=A)return e.parentWindow;throw u.createError("Cannot get a window object for node")}function g(t){if(typeof t.contentDocument!=A)return t.contentDocument;if(typeof t.contentWindow!=A)return t.contentWindow.document;throw u.createError("getIframeDocument: No Document object found for iframe element")}function v(t){if(typeof t.contentWindow!=A)return t.contentWindow;if(typeof t.contentDocument!=A)return t.contentDocument.defaultView;throw u.createError("getIframeWindow: No Window object found for iframe element")}function y(t){return t&&D.isHostMethod(t,"setTimeout")&&D.isHostObject(t,"document")}function b(t,e,n){var i;if(t?D.isHostProperty(t,"nodeType")?i=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?g(t):p(t):y(t)&&(i=t.document):i=document,!i)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return i}function x(t){for(var e;e=t.parentNode;)t=e;return t}function w(t,e,n,i){var r,o,a,s,l;if(t==n)return e===i?0:e<i?-1:1;if(r=f(n,t,!0))return e<=c(r)?-1:1;if(r=f(t,n,!0))return c(r)<i?-1:1;if(!(o=d(t,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((a=t===o?o:f(t,o,!0))===(s=n===o?o:f(n,o,!0)))throw u.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=o.firstChild;l;){if(l===a)return-1;if(l===s)return 1;l=l.nextSibling}}function C(t){try{return t.parentNode,!1}catch(e){return!0}}function _(t){if(!t)return"[No node]";if(I&&C(t))return"[Broken node]";if(a(t))return'"'+t.data+'"';if(1!=t.nodeType)return t.nodeName;var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+c(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}function S(t){for(var e,n=p(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}function k(t){this.root=t,this._next=t}function T(t){return new k(t)}function E(t,e){this.node=t,this.offset=e}function N(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var A="undefined",D=n.util;D.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||u.fail("document missing a Node creation method"),D.isHostMethod(document,"getElementsByTagName")||u.fail("document missing getElementsByTagName method");var M=document.createElement("div");D.areHostMethods(M,["insertBefore","appendChild","cloneNode"])||u.fail("Incomplete Element implementation"),D.isHostProperty(M,"innerHTML")||u.fail("Element is missing innerHTML property");var R=document.createTextNode("test");D.areHostMethods(R,["splitText","deleteData","insertData","appendData","cloneNode"])||u.fail("Incomplete Text Node implementation");var P,O=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},I=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var e=t.firstChild;t.innerHTML="<br>",I=C(e),n.features.crashyTextNodes=I}(),typeof window.getComputedStyle!=A?P=function(t,e){return m(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=A?P=function(t,e){return t.currentStyle[e]}:u.fail("No means of obtaining computed style properties found"),k.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},E.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+_(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},N.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},N.prototype.toString=function(){return this.message},n.dom={arrayContains:O,isHtmlNamespace:t,parentElement:e,getNodeIndex:c,getNodeLength:i,getCommonAncestor:d,isAncestorOf:r,isOrIsAncestorOf:o,getClosestAncestorIn:f,isCharacterDataNode:a,isTextOrCommentNode:s,insertAfter:l,splitDataNode:h,getDocument:p,getWindow:m,getIframeWindow:v,getIframeDocument:g,getBody:D.getBody,isWindow:y,getContentDocument:b,getRootContainer:x,comparePoints:w,isBrokenNode:C,inspectNode:_,getComputedStyleProperty:P,fragmentFromNodeChildren:S,createIterator:T,DomPosition:E},n.DOMException=N}),A.createCoreModule("DomRange",["DomUtil"],function(a){function i(t,e){return 3!=t.nodeType&&(H(t,e.startContainer)||H(t,e.endContainer))}function s(t){return t.document||j(t.startContainer)}function l(t){return new L(t.parentNode,z(t))}function c(t){return new L(t.parentNode,z(t)+1)}function n(t,e,n){var i=11==t.nodeType?t.firstChild:t;return F(e)?n==e.length?O.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:V(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),i}function e(t,e,n){if(S(t),S(e),s(e)!=s(t))throw new B("WRONG_DOCUMENT_ERR");var i=W(t.startContainer,t.startOffset,e.endContainer,e.endOffset),r=W(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?i<=0&&0<=r:i<0&&0<r}function o(t){for(var e,n,i,r=s(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(i=t.getSubtreeIterator(),n.appendChild(o(i)),i.detach()),10==n.nodeType)throw new B("HIERARCHY_REQUEST_ERR");r.appendChild(n)}return r}function u(t,e,n){var i,r,o,a;for(n=n||{stop:!1};o=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(o))return void(n.stop=!0);if(u(a=t.getSubtreeIterator(),e,n),a.detach(),n.stop)return}else for(i=O.createIterator(o);r=i.next();)if(!1===e(r))return void(n.stop=!0)}function d(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(d(e=t.getSubtreeIterator()),e.detach()):t.remove()}function f(t){for(var e,n,i=s(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(f(n)),n.detach()):t.remove(),10==e.nodeType)throw new B("HIERARCHY_REQUEST_ERR");i.appendChild(e)}return i}function r(i,t,r){var o,a=!(!t||!t.length),s=!!r;a&&(o=new RegExp("^("+t.join("|")+")$"));var l=[];return u(new h(i,!1),function(t){if((!a||o.test(t.nodeType))&&(!s||r(t))){var e=i.startContainer;if(t!=e||!F(e)||i.startOffset!=e.length){var n=i.endContainer;t==n&&F(n)&&0==i.endOffset||l.push(t)}}}),l}function t(t){return"["+("undefined"==typeof t.getName?"Range":t.getName())+"("+O.inspectNode(t.startContainer)+":"+t.startOffset+", "+O.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function h(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&F(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||F(this.sc)?U(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||F(this.ec)?U(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function p(r){return function(t,e){for(var n,i=e?t:t.parentNode;i;){if(n=i.nodeType,q(r,n))return i;i=i.parentNode}return null}}function m(t,e){if(nt(t,e))throw new B("INVALID_NODE_TYPE_ERR")}function g(t,e){if(!q(e,t.nodeType))throw new B("INVALID_NODE_TYPE_ERR")}function v(t,e){if(e<0||e>(F(t)?t.length:t.childNodes.length))throw new B("INDEX_SIZE_ERR")}function y(t,e){if(tt(t,!0)!==tt(e,!0))throw new B("WRONG_DOCUMENT_ERR")}function b(t){if(et(t,!0))throw new B("NO_MODIFICATION_ALLOWED_ERR")}function x(t,e){if(!t)throw new B(e)}function w(t){return G&&O.isBrokenNode(t)||!q(K,t.nodeType)&&!tt(t,!0)}function C(t,e){return e<=(F(t)?t.length:t.childNodes.length)}function _(t){return!!t.startContainer&&!!t.endContainer&&!w(t.startContainer)&&!w(t.endContainer)&&C(t.startContainer,t.startOffset)&&C(t.endContainer,t.endOffset)}function S(t){if(!_(t))throw new Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function k(t,e){S(t);var n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,a=n===r;F(r)&&0<o&&o<r.length&&V(r,o,e),F(n)&&0<i&&i<n.length&&(n=V(n,i,e),a?(o-=i,r=n):r==n.parentNode&&o>=z(n)&&o++,i=0),t.setStartAndEnd(n,i,r,o)}function T(t){S(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}function E(t){t.START_TO_START=st,t.START_TO_END=lt,t.END_TO_END=ut,t.END_TO_START=ct,t.NODE_BEFORE=dt,t.NODE_AFTER=ft,t.NODE_BEFORE_AND_AFTER=ht,t.NODE_INSIDE=pt}function N(t){E(t),E(t.prototype)}function A(a,s){return function(){S(this);var t,e=this.startContainer,n=this.startOffset,i=this.commonAncestorContainer,r=new h(this,!0);e!==i&&(e=(t=c(U(e,i,!0))).node,n=t.offset),u(r,b),r.reset();var o=a(r);return r.detach(),s(this,e,n,e,n),o}}function D(t,u){function e(n,i){return function(t){g(t,X),g(Y(t),K);var e=(n?l:c)(t);(i?r:o)(this,e.node,e.offset)}}function r(t,e,n){var i=t.endContainer,r=t.endOffset;e===t.startContainer&&n===t.startOffset||(Y(e)==Y(i)&&1!=W(e,n,i,r)||(i=e,r=n),u(t,e,n,i,r))}function o(t,e,n){var i=t.startContainer,r=t.startOffset;e===t.endContainer&&n===t.endOffset||(Y(e)==Y(i)&&-1!=W(e,n,i,r)||(i=e,r=n),u(t,i,r,e,n))}var n=function(){};n.prototype=a.rangePrototype,t.prototype=new n,I.extend(t.prototype,{setStart:function(t,e){m(t,!0),v(t,e),r(this,t,e)},setEnd:function(t,e){m(t,!0),v(t,e),o(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],n=t[1],i=e,r=n;switch(t.length){case 3:r=t[2];break;case 4:i=t[2],r=t[3]}u(this,e,n,i,r)},setBoundary:function(t,e,n){this["set"+(n?"Start":"End")](t,e)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(t){S(this),t?u(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):u(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){m(t,!0),u(this,t,0,t,$(t))},selectNode:function(t){m(t,!1),g(t,X);var e=l(t),n=c(t);u(this,e.node,e.offset,n.node,n.offset)},extractContents:A(f,u),deleteContents:A(d,u),canSurroundContents:function(){S(this),b(this.startContainer),b(this.endContainer);var t=new h(this,!0),e=t._first&&i(t._first,this)||t._last&&i(t._last,this);return t.detach(),!e},splitBoundaries:function(){k(this)},splitBoundariesPreservingPositions:function(t){k(this,t)},normalizeBoundaries:function(){S(this);var r=this.startContainer,o=this.startOffset,a=this.endContainer,s=this.endOffset,t=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(s=(a=t).length,t.appendData(e.data),e.parentNode.removeChild(e))},e=function(t){var e=t.previousSibling;if(e&&e.nodeType==t.nodeType){var n=(r=t).length;if(o=e.length,t.insertData(0,e.data),e.parentNode.removeChild(e),r==a)s+=o,a=r;else if(a==t.parentNode){var i=z(t);s==i?(a=t,s=n):i<s&&s--}}},n=!0;if(F(a))a.length==s&&t(a);else{if(0<s){var i=a.childNodes[s-1];i&&F(i)&&t(i)}n=!this.collapsed}if(n){if(F(r))0==o&&e(r);else if(o<r.childNodes.length){var l=r.childNodes[o];l&&F(l)&&e(l)}}else r=a,o=s;u(this,r,o,a,s)},collapseToPoint:function(t,e){m(t,!0),v(t,e),this.setStartAndEnd(t,e)}}),N(t)}function M(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:O.getCommonAncestor(t.startContainer,t.endContainer)}function R(t,e,n,i,r){t.startContainer=e,t.startOffset=n,t.endContainer=i,t.endOffset=r,t.document=O.getDocument(e),M(t)}function P(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,M(this)}var O=a.dom,I=a.util,L=O.DomPosition,B=a.DOMException,F=O.isCharacterDataNode,z=O.getNodeIndex,H=O.isOrIsAncestorOf
,j=O.getDocument,W=O.comparePoints,V=O.splitDataNode,U=O.getClosestAncestorIn,$=O.getNodeLength,q=O.arrayContains,Y=O.getRootContainer,G=a.features.crashyTextNodes;h.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,F(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!F(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(t=n===this.sc?this.so:0)!=(e=n===this.ec?this.eo:n.length)&&n.deleteData(t,e-t)},isPartiallySelectedSubtree:function(){return i(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)(t=this.range.cloneRange()).collapse(!1);else{t=new P(s(this.range));var e=this._current,n=e,i=0,r=e,o=$(e);H(e,this.sc)&&(n=this.sc,i=this.so),H(e,this.ec)&&(r=this.ec,o=this.eo),R(t,n,i,r,o)}return new h(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var X=[1,3,4,5,7,8,10],K=[2,9,11],Z=[5,6,10,12],Q=[1,3,4,5,7,8,10,11],J=[1,3,4,5,7,8],tt=p([9,11]),et=p(Z),nt=p([6,10,12]),it=document.createElement("style"),rt=!1;try{it.innerHTML="<b>x</b>",rt=3==it.firstChild.nodeType}catch(mt){}var ot=(a.features.htmlParsingConforms=rt)?function(t){var e=this.startContainer,n=j(e);if(!e)throw new B("INVALID_STATE_ERR");var i=null;return 1==e.nodeType?i=e:F(e)&&(i=O.parentElement(e)),(i=null===i||"HTML"==i.nodeName&&O.isHtmlNamespace(j(i).documentElement)&&O.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1)).innerHTML=t,O.fragmentFromNodeChildren(i)}:function(t){var e=s(this).createElement("body");return e.innerHTML=t,O.fragmentFromNodeChildren(e)},at=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],st=0,lt=1,ut=2,ct=3,dt=0,ft=1,ht=2,pt=3;I.extend(a.rangePrototype,{compareBoundaryPoints:function(t,e){var n,i,r,o;S(this),y(this.startContainer,e.startContainer);var a=t==ct||t==st?"start":"end",s=t==lt||t==st?"start":"end";return n=this[a+"Container"],i=this[a+"Offset"],r=e[s+"Container"],o=e[s+"Offset"],W(n,i,r,o)},insertNode:function(t){if(S(this),g(t,Q),b(this.startContainer),H(t,this.startContainer))throw new B("HIERARCHY_REQUEST_ERR");var e=n(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){var t,e;if(S(this),this.collapsed)return s(this).createDocumentFragment();if(this.startContainer===this.endContainer&&F(this.startContainer))return(t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=s(this).createDocumentFragment()).appendChild(t),e;var n=new h(this,!0);return t=o(n),n.detach(),t},canSurroundContents:function(){S(this),b(this.startContainer),b(this.endContainer);var t=new h(this,!0),e=t._first&&i(t._first,this)||t._last&&i(t._last,this);return t.detach(),!e},surroundContents:function(t){if(g(t,J),!this.canSurroundContents())throw new B("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);n(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){S(this);for(var t,e=new P(s(this)),n=at.length;n--;)e[t=at[n]]=this[t];return e},toString:function(){S(this);var t=this.startContainer;if(t===this.endContainer&&F(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new h(this,!0);return u(n,function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),n.detach(),e.join("")},compareNode:function(t){S(this);var e=t.parentNode,n=z(t);if(!e)throw new B("NOT_FOUND_ERR");var i=this.comparePoint(e,n),r=this.comparePoint(e,n+1);return i<0?0<r?ht:dt:0<r?ft:pt},comparePoint:function(t,e){return S(this),x(t,"HIERARCHY_REQUEST_ERR"),y(t,this.startContainer),W(t,e,this.startContainer,this.startOffset)<0?-1:0<W(t,e,this.endContainer,this.endOffset)?1:0},createContextualFragment:ot,toHtml:function(){return T(this)},intersectsNode:function(t,e){if(S(this),x(t,"NOT_FOUND_ERR"),j(t)!==s(this))return!1;var n=t.parentNode,i=z(t);x(n,"NOT_FOUND_ERR");var r=W(n,i,this.endContainer,this.endOffset),o=W(n,i+1,this.startContainer,this.startOffset);return e?r<=0&&0<=o:r<0&&0<o},isPointInRange:function(t,e){return S(this),x(t,"HIERARCHY_REQUEST_ERR"),y(t,this.startContainer),0<=W(t,e,this.startContainer,this.startOffset)&&W(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return e(this,t,!1)},intersectsOrTouchesRange:function(t){return e(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=W(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=W(this.endContainer,this.endOffset,t.endContainer,t.endOffset),i=this.cloneRange();return-1==e&&i.setStart(t.startContainer,t.startOffset),1==n&&i.setEnd(t.endContainer,t.endOffset),i}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==W(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==W(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new B("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==pt},containsNodeContents:function(t){return 0<=this.comparePoint(t,0)&&this.comparePoint(t,$(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(0<n.length){e.setStart(n[0],0);var i=n.pop();return e.setEnd(i,i.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return S(this),r(this,t,e)},getDocument:function(){return s(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(t){var e=s(this),n=a.createRange(e);t=t||O.getBody(e),n.selectNodeContents(t);var i=this.intersection(n),r=0,o=0;return i&&(n.setEnd(i.startContainer,i.startOffset),o=(r=n.toString().length)+i.toString().length),{start:r,end:o,containerNode:t}},moveToBookmark:function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var i,r,o,a,s=[e],l=!1,u=!1;!u&&(i=s.pop());)if(3==i.nodeType)r=n+i.length,!l&&t.start>=n&&t.start<=r&&(this.setStart(i,t.start-n),l=!0),l&&t.end>=n&&t.end<=r&&(this.setEnd(i,t.end-n),u=!0),n=r;else for(o=(a=i.childNodes).length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(t){return P.rangesEqual(this,t)},isValid:function(){return _(this)},inspect:function(){return t(this)},detach:function(){}}),D(P,R),I.extend(P,{rangeProperties:at,RangeIterator:h,copyComparisonConstants:N,createPrototypeRange:D,inspect:t,toHtml:T,getRangeDocument:s,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),a.DomRange=P}),A.createCoreModule("WrappedRange",["DomRange"],function(f,h){var p,t,C=f.dom,m=f.util,_=C.DomPosition,g=f.DomRange,v=C.getBody,y=C.getContentDocument,S=C.isCharacterDataNode;if(f.features.implementsDomRange&&function(){function i(t){for(var e,n=r.length;n--;)t[e=r[n]]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function t(t,e,n,i,r){var o=t.startContainer!==e||t.startOffset!=n,a=t.endContainer!==i||t.endOffset!=r,s=!t.equals(t.nativeRange);(o||a||s)&&(t.setEnd(i,r),t.setStart(e,n))}var e,n,r=g.rangeProperties;p=function(t){if(!t)throw h.createError("WrappedRange: Range must be specified");this.nativeRange=t,i(this)},g.createPrototypeRange(p,t),(e=p.prototype).selectNode=function(t){this.nativeRange.selectNode(t),i(this)},e.cloneContents=function(){return this.nativeRange.cloneContents()},e.surroundContents=function(t){this.nativeRange.surroundContents(t),i(this)},e.collapse=function(t){this.nativeRange.collapse(t),i(this)},e.cloneRange=function(){return new p(this.nativeRange.cloneRange())},e.refresh=function(){i(this)},e.toString=function(){return this.nativeRange.toString()};var o=document.createTextNode("test");v(document).appendChild(o);var a=document.createRange();a.setStart(o,0),a.setEnd(o,0);try{a.setStart(o,1),e.setStart=function(t,e){this.nativeRange.setStart(t,e),i(this)},e.setEnd=function(t,e){this.nativeRange.setEnd(t,e),i(this)},n=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(d){e.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(v2){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}i(this)},e.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(v2){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}i(this)},n=function(e,n){return function(t){try{this.nativeRange[e](t)}catch(v2){this.nativeRange[n](t),this.nativeRange[e](t)}i(this)}}}e.setStartBefore=n("setStartBefore","setEndBefore"),e.setStartAfter=n("setStartAfter","setEndAfter"),e.setEndBefore=n("setEndBefore","setStartBefore"),e.setEndAfter=n("setEndAfter","setStartAfter"),e.selectNodeContents=function(t){this.setStartAndEnd(t,0,C.getNodeLength(t))},a.selectNodeContents(o),a.setEnd(o,3);var s=document.createRange();s.selectNodeContents(o),s.setEnd(o,4),s.setStart(o,2),-1==a.compareBoundaryPoints(a.START_TO_END,s)&&1==a.compareBoundaryPoints(a.END_TO_START,s)?e.compareBoundaryPoints=function(t,e){return t==(e=e.nativeRange||e).START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:e.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var l=document.createElement("div");l.innerHTML="123";var u=l.firstChild,c=v(document);c.appendChild(l),a.setStart(u,1),a.setEnd(u,2),a.deleteContents(),"13"==u.data&&(e.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},e.extractContents=function(){var t=this.nativeRange.extractContents();return i(this),t}),c.removeChild(l),c=null,m.isHostMethod(a,"createContextualFragment")&&(e.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),v(document).removeChild(o),e.getName=function(){return"WrappedRange"},f.WrappedRange=p,f.createNativeRange=function(t){return(t=y(t,h,"createNativeRange")).createRange()}}(),f.features.implementsTextRange){var r=function(t){var e=t.parentElement(),n=t.duplicate();n.collapse(!0);var i=n.parentElement();(n=t.duplicate()).collapse(!1);var r=n.parentElement(),o=i==r?i:C.getCommonAncestor(i,r);return o==e?o:C.getCommonAncestor(e,o)},o=function(t){return 0==t.compareEndPoints("StartToEnd",t)},a=function(t,e,n,i,r){var o=t.duplicate();o.collapse(n);var a=o.parentElement();if(C.isOrIsAncestorOf(e,a)||(a=e),!a.canHaveHTML){var s=new _(a.parentNode,C.getNodeIndex(a));return{boundaryPosition:s,nodeInfo:{nodeIndex:s.offset,containerElement:s.node}}}var l=C.getDocument(a).createElement("span");l.parentNode&&l.parentNode.removeChild(l);for(var u,c,d,f,h,p=n?"StartToStart":"StartToEnd",m=r&&r.containerElement==a?r.nodeIndex:0,g=a.childNodes.length,v=g,y=v;y==g?a.appendChild(l):a.insertBefore(l,a.childNodes[y]),o.moveToElementText(l),0!=(u=o.compareEndPoints(p,t))&&m!=v;){if(-1==u){if(v==m+1)break;m=y}else v=v==m+1?m:y;y=Math.floor((m+v)/2),a.removeChild(l)}if(h=l.nextSibling,-1==u&&h&&S(h)){var b;if(o.setEndPoint(n?"EndToStart":"EndToEnd",t),/[\r\n]/.test(h.data)){var x=o.duplicate(),w=x.text.replace(/\r\n/g,"\r").length;for(b=x.moveStart("character",w);-1==(u=x.compareEndPoints("StartToEnd",x));)b++,x.moveStart("character",1)}else b=o.text.length;f=new _(h,b)}else c=(i||!n)&&l.previousSibling,f=(d=(i||n)&&l.nextSibling)&&S(d)?new _(d,0):c&&S(c)?new _(c,c.data.length):new _(a,C.getNodeIndex(l));return l.parentNode.removeChild(l),{boundaryPosition:f,nodeInfo:{nodeIndex:y,containerElement:a}}},s=function(t,e){var n,i,r,o,a=t.offset,s=C.getDocument(t.node),l=v(s).createTextRange(),u=S(t.node);return u?i=(n=t.node).parentNode:(n=a<(o=t.node.childNodes).length?o[a]:null,i=t.node),(r=s.createElement("span")).innerHTML="&#feff;",n?i.insertBefore(r,n):i.appendChild(r),l.moveToElementText(r),l.collapse(!e),i.removeChild(r),u&&l[e?"moveStart":"moveEnd"]("character",a),l};(t=function(t){this.textRange=t,this.refresh()}).prototype=new g(document),t.prototype.refresh=function(){var t,e,n,i=r(this.textRange);o(this.textRange)?e=t=a(this.textRange,i,!0,!0).boundaryPosition:(t=(n=a(this.textRange,i,!0,!1)).boundaryPosition,e=a(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},t.prototype.getName=function(){return"WrappedTextRange"},g.copyComparisonConstants(t);var e=function(t){if(t.collapsed)return s(new _(t.startContainer,t.startOffset),!0);var e=s(new _(t.startContainer,t.startOffset),!0),n=s(new _(t.endContainer,t.endOffset),!1),i=v(g.getRangeDocument(t)).createTextRange();return i.setEndPoint("StartToStart",e),i.setEndPoint("EndToEnd",n),i};if(t.rangeToTextRange=e,t.prototype.toTextRange=function(){return e(this)},f.WrappedTextRange=t,!f.features.implementsDomRange||f.config.preferTextRange){var n=function(){return this}();"undefined"==typeof n.Range&&(n.Range=t),f.createNativeRange=function(t){return t=y(t,h,"createNativeRange"),v(t).createTextRange()},f.WrappedRange=t}}f.createRange=function(t){return t=y(t,h,"createRange"),new f.WrappedRange(f.createNativeRange(t))},f.createRangyRange=function(t){return t=y(t,h,"createRangyRange"),new g(t)},f.createIframeRange=function(t){return h.deprecationNotice("createIframeRange()","createRange(iframeEl)"),f.createRange(t)},f.createIframeRangyRange=function(t){return h.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),f.createRangyRange(t)},f.addShimListener(function(t){var e=t.document;"undefined"==typeof e.createRange&&(e.createRange=function(){return f.createRange(e)}),e=t=null})}),A.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(f,u){function r(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function o(t,e){if(t){if(N.isWindow(t))return t;if(t instanceof y)return t.win;var n=N.getContentDocument(t,u,e);return N.getWindow(n)}return window}function t(t){return o(t,"getWinSelection").getSelection()}function a(t){return o(t,"getDocSelection").document.selection}function h(t){var e=!1;return t.anchorNode&&(e=1==N.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}function s(t,e,n){var i=n?"end":"start",r=n?"start":"end";t.anchorNode=e[i+"Container"],t.anchorOffset=e[i+"Offset"],t.focusNode=e[r+"Container"],t.focusOffset=e[r+"Offset"]}function i(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function l(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function c(t){var e;return t instanceof M?((e=f.createNativeRange(t.getDocument())).setEnd(t.endContainer,t.endOffset),e.setStart(t.startContainer,t.startOffset)):t instanceof R?e=t.nativeRange:I.implementsDomRange&&t instanceof N.getWindow(t.startContainer).Range&&(e=t),e}function n(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;e<n;++e)if(!N.isAncestorOf(t[0],t[e]))return!1;return!0}function d(t){var e=t.getNodes();if(!n(e))throw u.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return e[0]}function p(t){return!!t&&"undefined"!=typeof t.text}function m(t,e){var n=new R(e);t._ranges=[n],s(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function g(t){if(t._ranges.length=0,"None"==t.docSelection.type)l(t);else{var e=t.docSelection.createRange();if(p(e))m(t,e);else{t.rangeCount=e.length;for(var n,i=B(e.item(0)),r=0;r<t.rangeCount;++r)(n=f.createRange(i)).selectNode(e.item(r)),t._ranges.push(n);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function v(t,e){for(var n=t.docSelection.createRange(),i=d(e),r=B(n.item(0)),o=F(r).createControlRange(),a=0,s=n.length;a<s;++a)o.add(n.item(a));try{o.add(i)}catch(l){throw u.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),g(t)}function y(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function b(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}function x(t,e){for(var n,i,r=et.length;r--;)if(i=(n=et[r]).selection,"deleteAll"==e)b(i);else if(n.win==t)return"delete"==e?(et.splice(r,1),!0):i;return"deleteAll"==e&&(et.length=0),null}function w(t,e){for(var n,i=B(e[0].startContainer),r=F(i).createControlRange(),o=0,a=e.length;o<a;++o){n=d(e[o]);try{r.add(n)}catch(s){throw u.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}r.select(),g(t)}function C(t,e){if(t.win.document!=B(e))throw new P("WRONG_DOCUMENT_ERR")}function e(i){return function(t,e){var n;this.rangeCount?(n=this.getRangeAt(0))["set"+(i?"Start":"End")](t,e):(n=f.createRange(this.win.document)).setStartAndEnd(t,e),this.setSingleRange(n,this.isBackward())}}function _(t){var e=[],n=new O(t.anchorNode,t.anchorOffset),i=new O(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var o=0,a=t.rangeCount;o<a;++o)e[o]=M.inspect(t.getRangeAt(o));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}f.config.checkSelectionRanges=!0;var S,k,T="boolean",E="number",N=f.dom,A=f.util,D=A.isHostMethod,M=f.DomRange,R=f.WrappedRange,P=f.DOMException,O=N.DomPosition,I=f.features,L="Control",B=N.getDocument,F=N.getBody,z=M.rangesEqual,H=D(window,"getSelection"),j=A.isHostObject(document,"selection");I.implementsWinGetSelection=H;var W=(I.implementsDocSelection=j)&&(!H||f.config.preferTextRange);W?(S=a,f.isSelectionValid=function(t){var e=o(t,"isSelectionValid").document,n=e.selection;return"None"!=n.type||B(n.createRange().parentElement())==e}):H?(S=t,f.isSelectionValid=function(){return!0}):u.fail("Neither document.selection or window.getSelection() detected.");var V=(f.getNativeSelection=S)(),U=f.createNativeRange(document),$=F(document),q=A.areHostProperties(V,["anchorNode","focusNode","anchorOffset","focusOffset"]);I.selectionHasAnchorAndFocus=q;var Y=D(V,"extend");I.selectionHasExtend=Y;var G=typeof V.rangeCount==E;I.selectionHasRangeCount=G;var X=!1,K=!0,Z=Y?function(t,e){var n=M.getRangeDocument(e),i=f.createRange(n);i.collapseToPoint(e.endContainer,e.endOffset),t.addRange(c(i)),t.extend(e.startContainer,e.startOffset)}:null;A.areHostMethods(V,["addRange","getRangeAt","removeAllRanges"])&&typeof V.rangeCount==E&&I.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var e=t.rangeCount,n=1<e,i=[],r=h(t),o=0;o<e;++o)i[o]=t.getRangeAt(o);var a=F(document),s=a.appendChild(document.createElement("div"));s.contentEditable="false";var l=s.appendChild(document.createTextNode("\xa0\xa0\xa0")),u=document.createRange();if(u.setStart(l,1),u.collapse(!0),t.addRange(u),K=1==t.rangeCount,t.removeAllRanges(),!n){var c=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(c&&36<=parseInt(c[1]))X=!1;else{var d=u.cloneRange();u.setStart(l,0),d.setEnd(l,3),d.setStart(l,2),t.addRange(u),t.addRange(d),X=2==t.rangeCount}}for(a.removeChild(s),t.removeAllRanges(),o=0;o<e;++o)0==o&&r?Z?Z(t,i[o]):(f.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(i[o])):t.addRange(i[o])}}(),I.selectionSupportsMultipleRanges=X,I.collapsedNonEditableSelectionsSupported=K;var Q,J,tt=!1;$&&D($,"createControlRange")&&(Q=$.createControlRange(),A.areHostProperties(Q,["item","add"])&&(tt=!0)),I.implementsControlRange=tt,k=q?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed},D(V,"getRangeAt")?J=function(t,e){try{return t.getRangeAt(e)}catch(n){return null}}:q&&(J=function(t){var e=B(t.anchorNode),n=f.createRange(e);return n.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),n}),y.prototype=f.selectionPrototype;var et=[],nt=function(t){if(t&&t instanceof y)return t.refresh(),t;var e=x(t=o(t,"getNativeSelection")),n=S(t),i=j?a(t):null;return e?(e.nativeSelection=n,e.docSelection=i,e.refresh()):(e=new y(n,i,t),et.push({win:t,selection:e})),e};f.getSelection=nt,f.getIframeSelection=function(t){return u.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),f.getSelection(N.getIframeWindow(t))};var it,rt=y.prototype;if(!W&&q&&A.areHostMethods(V,["removeAllRanges","addRange"])){rt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),l(this)};var ot=function(t,e){Z(t.nativeSelection,e),t.refresh()};rt.addRange=G?function(t,e){var n;if(tt&&j&&this.docSelection.type==L)v(this,t);else if(r(e)&&Y)ot(this,t);else if(X?n=this.rangeCount:(this.removeAllRanges(),n=0),this.nativeSelection.addRange(c(t).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(f.config.checkSelectionRanges){var i=J(this.nativeSelection,this.rangeCount-1);i&&!z(i,t)&&(t=new R(i))}this._ranges[this.rangeCount-1]=t,s(this,t,at(this.nativeSelection)),this.isCollapsed=k(this)}else this.refresh()}:function(t,e){r(e)&&Y?ot(this,t):(this.nativeSelection.addRange(c(t)),this.refresh())},rt.setRanges=function(t){if(tt&&j&&1<t.length)w(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])}}}else{if(!(D(V,"empty")&&D(U,"select")&&tt&&W))return u.fail("No means of selecting a Range or TextRange was found"),!1;rt.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=B(this.anchorNode);else if(this.docSelection.type==L){var e=this.docSelection.createRange();e.length&&(t=B(e.item(0)))}if(t)F(t).createTextRange().select(),this.docSelection.empty()}}catch(n){}l(this)},rt.addRange=function(t){this.docSelection.type==L?v(this,t):(f.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},rt.setRanges=function(t){this.removeAllRanges();var e=t.length;1<e?w(this,t):e&&this.addRange(t[0])}}if(rt.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new P("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()},W)it=function(t){var e;f.isSelectionValid(t.win)?e=t.docSelection.createRange():(e=F(t.win.document).createTextRange()).collapse(!0),t.docSelection.type==L?g(t):p(e)?m(t,e):l(t)};else if(D(V,"getRangeAt")&&typeof V.rangeCount==E)it=function(t){if(tt&&j&&t.docSelection.type==L)g(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var e=0,n=t.rangeCount;e<n;++e)t._ranges[e]=new f.WrappedRange(t.nativeSelection.getRangeAt(e));s(t,t._ranges[t.rangeCount-1],at(t.nativeSelection)),t.isCollapsed=k(t)}else l(t)};else{if(!q||typeof V.isCollapsed!=T||typeof U.collapsed!=T||!I.implementsDomRange)return u.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;it=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=J(n,0),t._ranges=[e],t.rangeCount=1,i(t),t.isCollapsed=k(t)):l(t)}}rt.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(it(this),t){var r=e.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;r--;)if(!z(e[r],this._ranges[r]))return!0;return!1}};var at,st=function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var i=0,r=n.length;i<r;++i)z(e,n[i])||t.addRange(n[i]);t.rangeCount||l(t)};rt.removeRange=tt&&j?function(t){if(this.docSelection.type==L){for(var e=this.docSelection.createRange(),n=d(t),i=B(e.item(0)),r=F(i).createControlRange(),o=!1,a=0,s=e.length;a<s;++a)e.item(a)!==n||o?r.add(e.item(a)):o=!0;r.select(),g(this)}else st(this,t)}:function(t){st(this,t)},!W&&q&&I.implementsDomRange?(at=h,rt.isBackward=function(){return at(this)}):at=rt.isBackward=function(){return!1},rt.isBackwards=rt.isBackward,rt.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},rt.collapse=function(t,e){C(this,t);var n=f.createRange(t);n.collapseToPoint(t,e),this.setSingleRange(n),this.isCollapsed=!0},rt.collapseToStart=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},rt.collapseToEnd=function(){if(!this.rangeCount)throw new P("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},rt.selectAllChildren=function(t){C(this,t);var e=f.createRange(t);e.selectNodeContents(t),this.setSingleRange(e)},rt.deleteFromDocument=function(){if(tt&&j&&this.docSelection.type==L){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,r=n.length;i<r;++i)n[i].deleteContents();this.addRange(n[r-1])}}},rt.eachRange=function(t,e){for(var n=0,i=this._ranges.length;n<i;++n)if(t(this.getRangeAt(n)))return e},rt.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},rt.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},rt.callMethodOnEachRange=function(e,n){var i=[];return this.eachRange(function(t){i.push(t[e].apply(t,n))}),i},rt.setStart=e(!0),rt.setEnd=e(!1),f.rangePrototype.select=function(t){nt(this.getDocument()).setSingleRange(this,t)},rt.changeEachRange=function(e){var n=[],t=this.isBackward();this.eachRange(function(t){e(t),n.push(t)}),this.removeAllRanges(),t&&1==n.length?this.addRange(n[0],"backward"):this.setRanges(n)},rt.containsNode=function(e,n){return this.eachRange(function(t){return t.containsNode(e,n)},!0)||!1},rt.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},rt.moveToBookmark=function(t){for(var e,n,i=[],r=0;e=t.rangeBookmarks[r++];)(n=f.createRange(this.win)).moveToBookmark(e),i.push(n);t.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},rt.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(M.toHtml(t))}),e.join("")},I.implementsTextRange&&(rt.getNativeTextRange=function(){var t;if(t=this.docSelection){var e=t.createRange();if(p(e))return e;throw u.createError("getNativeTextRange: selection is a control selection")}if(0<this.rangeCount)return f.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw u.createError("getNativeTextRange: selection contains no range")}),rt.getName=function(){return"WrappedSelection"},rt.inspect=function(){return _(this)},rt.detach=function(){x(this.win,"delete"),b(this)},y.detachAll=function(){x(null,"deleteAll")},y.inspect=_,y.isDirectionBackward=r,f.Selection=y,f.selectionPrototype=rt,f.addShimListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return nt(t)}),t=null})}),A;h("No document found")}else h("No window found")},this),function(t,e){"function"==typeof define&&define.amd?define(["rangy"],t):t(e.rangy)}(function(t){t.createModule("SaveRestore",["WrappedRange"],function(s,a){function l(t,e){return(e||document).getElementById(t)}function o(t,e){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=m.getDocument(t.startContainer),o=t.cloneRange();return o.collapse(e),(n=r.createElement("span")).id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(g)),o.insertNode(n),n}function u(t,e,n,i){var r=l(n,t);r?(e[i?"setStartBefore":"setEndBefore"](r),r.parentNode.removeChild(r)):a.warn("Marker element has been removed. Cannot restore selection.")}function c(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function d(t,e){var n,i=s.DomRange.getRangeDocument(t),r=t.toString();return t.collapsed?{document:i,markerId:(n=o(t,!1)).id,collapsed:!0}:(n=o(t,!1),{document:i,startMarkerId:o(t,!0).id,endMarkerId:n.id,collapsed:!1,backward:e,toString:function(){return"original text: '"+r+"', new text: '"+t.toString()+"'"}})}function i(t,e){var n=t.document;void 0===e&&(e=!0);var i=s.createRange(n);if(t.collapsed){var r=l(t.markerId,n);if(r){r.style.display="inline";var o=r.previousSibling;o&&3==o.nodeType?(r.parentNode.removeChild(r),i.collapseToPoint(o,o.length)):(i.collapseBefore(r),r.parentNode.removeChild(r))}else a.warn("Marker element has been removed. Cannot restore selection.")}else u(n,i,t.startMarkerId,!0),u(n,i,t.endMarkerId,!1);return e&&i.normalizeBoundaries(),i}function f(t,e){var n,i,r=[];(t=t.slice(0)).sort(c);for(var o=0,a=t.length;o<a;++o)r[o]=d(t[o],e);for(o=a-1;0<=o;--o)n=t[o],i=s.DomRange.getRangeDocument(n),n.collapsed?n.collapseAfter(l(r[o].markerId,i)):(n.setEndBefore(l(r[o].endMarkerId,i)),n.setStartAfter(l(r[o].startMarkerId,i)));return r}function t(t){if(!s.isSelectionValid(t))return a.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var e=s.getSelection(t),n=e.getAllRanges(),i=1==n.length&&e.isBackward(),r=f(n,i);return i?e.setSingleRange(n[0],"backward"):e.setRanges(n),{win:t,rangeInfos:r,restored:!1}}function h(t){for(var e=[],n=t.length-1;0<=n;n--)e[n]=i(t[n],!0);return e}function e(t,e){if(!t.restored){var n=t.rangeInfos,i=s.getSelection(t.win),r=h(n);1==n.length&&e&&s.features.selectionHasExtend&&n[0].backward?(i.removeAllRanges(),i.addRange(r[0],!0)):i.setRanges(r),t.restored=!0}}function p(t,e){var n=l(e,t);n&&n.parentNode.removeChild(n)}function n(t){for(var e,n=t.rangeInfos,i=0,r=n.length;i<r;++i)(e=n[i]).collapsed?p(t.doc,e.markerId):(p(t.doc,e.startMarkerId),p(t.doc,e.endMarkerId))}var m=s.dom,g="\ufeff";s.util.extend(s,{saveRange:d,restoreRange:i,saveRanges:f,restoreRanges:h,saveSelection:t,restoreSelection:e,removeMarkerElement:p,removeMarkers:n})})},this);var Base=function(){};Base.extend=function(t,e){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,t),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(t){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=t)return(t.extend||n).call(t,i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:r.valueOf()},n.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var n=this[t];if(n&&"function"==typeof e&&(!n.valueOf||n.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var i=e.valueOf();(e=function(){var t=this.base||Base.prototype.base;this.base=n;var e=i.apply(this,arguments);return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString}this[t]=e}else if(t){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;l=a[s++];)t[l]!=o[l]&&r.call(this,l,t[l]);for(var l in t)o[l]||r.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(t){this.extend(t)}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)this.prototype[i]===undefined&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function o(t){return+(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[undefined,0])[1]}function a(t){return+(t.match(/android (\d+)/)||[undefined,0])[1]}function e(t,e){var n,i=-1;return"Microsoft Internet Explorer"==navigator.appName?n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=new RegExp(
"Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(i=parseFloat(RegExp.$1)),-1!==i&&(!t||(e?"<"===e?t<i:">"===e?i<t:"<="===e?t<=i:">="===e?i<=t:void 0:t===i))}var r,s,n=navigator.userAgent,l=document.createElement("div"),t=-1!==n.indexOf("Gecko")&&-1===n.indexOf("KHTML"),i=-1!==n.indexOf("AppleWebKit/"),u=-1!==n.indexOf("Chrome/"),c=-1!==n.indexOf("Opera/");return{USER_AGENT:n,supported:function(){var t=this.USER_AGENT.toLowerCase(),e="contentEditable"in l,n=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,i=document.querySelector&&document.querySelectorAll,r=this.isIos()&&o(t)<5||this.isAndroid()&&a(t)<4||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return e&&n&&i&&!r},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return e()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return e()},hasCurrentStyleProperty:function(){return"currentStyle"in l},hasHistoryIssue:function(){return t&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return t},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){return"on"+t in l||(l.setAttribute("on"+t,"return;"),"function"==typeof l["on"+t])},supportsEventsInIframeCorrectly:function(){return!c},supportsHTML5Tags:function(t){var e=t.createElement("div"),n="<article>foo</article>";return e.innerHTML=n,e.innerHTML.toLowerCase()===n},supportsCommand:(r={formatBlock:e(10,"<="),insertUnorderedList:e(),insertOrderedList:e()},s={insertHTML:t},function(t,e){if(!r[e]){try{return t.queryCommandSupported(e)}catch(n){}try{return t.queryCommandEnabled(e)}catch(i){return!!s[e]}}return!1}),doesAutoLinkingInContentEditable:function(){return e()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return t||c||i},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return t||e()||c},autoScrollsToCaret:function(){return!i},autoClosesUnclosedTags:function(){var t,e,n=l.cloneNode(!1);return n.innerHTML="<p><div></div>",e=n.innerHTML.toLowerCase(),t="<p></p><div></div>"===e||"<p><div></div></p>"===e,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return c},supportsSpeechApiOn:function(t){return 11<=(n.match(/Chrome\/(\d+)/)||[undefined,0])[1]&&("onwebkitspeechchange"in t||"speech"in t)},crashesWhenDefineProperty:function(t){return e(9)&&("XMLHttpRequest"===t||"XDomainRequest"===t)},doesAsyncFocus:function(){return e()},hasProblemsSettingCaretAfterImg:function(){return e()},hasUndoInContextMenu:function(){return t||u||c},hasInsertNodeIssue:function(){return c},hasIframeFocusIssue:function(){return e()},createsNestedInvalidMarkupAfterPaste:function(){return i},supportsMutationEvents:function(){return"MutationEvent"in window}}}(),wysihtml5.lang.array=function(o){return{contains:function(t){if(Array.isArray(t)){for(var e=t.length;e--;)if(-1!==wysihtml5.lang.array(o).indexOf(t[e]))return!0;return!1}return-1!==wysihtml5.lang.array(o).indexOf(t)},indexOf:function(t){if(o.indexOf)return o.indexOf(t);for(var e=0,n=o.length;e<n;e++)if(o[e]===t)return e;return-1},without:function(t){t=wysihtml5.lang.array(t);for(var e=[],n=0,i=o.length;n<i;n++)t.contains(o[n])||e.push(o[n]);return e},get:function(){for(var t=0,e=o.length,n=[];t<e;t++)n.push(o[t]);return n},map:function(t,e){if(Array.prototype.map)return o.map(t,e);for(var n=o.length>>>0,i=new Array(n),r=0;r<n;r++)i[r]=t.call(e,o[r],r,o);return i},unique:function(){for(var t=[],e=o.length,n=0;n<e;)wysihtml5.lang.array(t).contains(o[n])||t.push(o[n]),n++;return t}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},off:function(t,e){this.events=this.events||{};var n,i,r=0;if(t){for(n=this.events[t]||[],i=[];r<n.length;r++)n[r]!==e&&e&&i.push(n[r]);this.events[t]=i}else this.events={};return this},fire:function(t,e){this.events=this.events||{};for(var n=this.events[t]||[],i=0;i<n.length;i++)n[i].call(this,e);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(n){return{merge:function(t){for(var e in t)n[e]=t[e];return this},get:function(){return n},clone:function(){var t,e={};for(t in n)e[t]=n[t];return e},isArray:function(){return"[object Array]"===Object.prototype.toString.call(n)}}},function(){var t=/^\s+/,e=/\s+$/,i=/[&<>"]/g,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};wysihtml5.lang.string=function(n){return n=String(n),{trim:function(){return n.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)n=this.replace("#{"+e+"}").by(t[e]);return n},replace:function(e){return{by:function(t){return n.split(e).join(t)}}},escapeHTML:function(){return n.replace(i,function(t){return r[t]})}}}}(),function(o){function t(t,e){return n(t,e)?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),l(t,e))}function r(t){return t.replace(c,function(t,e){var n=(e.match(d)||[])[1]||"",i=h[n];(e=e.replace(d,"")).split(i).length>e.split(n).length&&(e+=n,n="");var r=e,o=e;return e.length>f&&(o=o.substr(0,f)+"..."),"www."===r.substr(0,4)&&(r="http://"+r),'<a href="'+r+'">'+o+"</a>"+n})}function a(t){var e=t._wysihtml5_tempElement;return e||(e=t._wysihtml5_tempElement=t.createElement("div")),e}function s(t){var e=t.parentNode,n=o.lang.string(t.data).escapeHTML(),i=a(e.ownerDocument);for(i.innerHTML="<span></span>"+r(n),i.removeChild(i.firstChild);i.firstChild;)e.insertBefore(i.firstChild,t);e.removeChild(t)}function n(t,e){for(var n;t.parentNode;){if(n=(t=t.parentNode).nodeName,t.className&&o.lang.array(t.className.split(" ")).contains(e))return!0;if(u.contains(n))return!0;if("body"===n)return!1}return!1}function l(t,e){if(!(u.contains(t.nodeName)||t.className&&o.lang.array(t.className.split(" ")).contains(e))){if(t.nodeType!==o.TEXT_NODE||!t.data.match(c)){for(var n=o.lang.array(t.childNodes).get(),i=n.length,r=0;r<i;r++)l(n[r],e);return t}s(t)}}var u=o.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),c=/((https?:\/\/|www\.)[^\s<]{3,})/gi,d=/([^\w\/\-](,?))$/i,f=100,h={")":"(","]":"[","}":"{"};o.dom.autoLink=t,o.dom.autoLink.URL_REG_EXP=c}(wysihtml5),function(){var i=wysihtml5.dom;i.addClass=function(t,e){var n=t.classList;if(n)return n.add(e);i.hasClass(t,e)||(t.className+=" "+e)},i.removeClass=function(t,e){var n=t.classList;if(n)return n.remove(e);t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")},i.hasClass=function(t,e){var n=t.classList;if(n)return n.contains(e);var i=t.className;return 0<i.length&&(i==e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(i))}}(),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function g(t,e){var n=t.createElement("li");return e.appendChild(n),n}function v(t,e){return t.createElement(e)}function t(t,e,n){if("UL"===t.nodeName||"OL"===t.nodeName||"MENU"===t.nodeName)return t;var i,r,o,a,s,l,u,c,d,f=t.ownerDocument,h=v(f,e),p=t.querySelectorAll("br"),m=p.length;for(d=0;d<m;d++)for(a=p[d];(s=a.parentNode)&&s!==t&&s.lastChild===a;){if("block"===wysihtml5.dom.getStyle("display").from(s)){s.removeChild(a);break}wysihtml5.dom.insert(a).after(a.parentNode)}for(r=(i=wysihtml5.lang.array(t.childNodes).get()).length,d=0;d<r;d++)c=c||g(f,h),o=i[d],l="block"===wysihtml5.dom.getStyle("display").from(o),u="BR"===o.nodeName,!l||n&&wysihtml5.dom.hasClass(o,n)?u?c=c.firstChild?null:c:c.appendChild(o):((c=c.firstChild?g(f,h):c).appendChild(o),c=null);return 0===i.length&&g(f,h),t.parentNode.replaceChild(h,t),h}return t}(),wysihtml5.dom.copyAttributes=function(o){return{from:function(r){return{to:function(t){for(var e,n=0,i=o.length;n<i;n++)e=o[n],"undefined"!=typeof r[e]&&""!==r[e]&&(t[e]=r[e]);return{andTo:arguments.callee}}}}}},function(a){var s=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],l=function(t){return!!e(t)&&parseInt(a.getStyle("width").from(t),10)<t.offsetWidth},e=function(t){for(var e=0,n=s.length;e<n;e++)if("border-box"===a.getStyle(s[e]).from(t))return s[e]};a.copyStyles=function(o){return{from:function(t){l(t)&&(o=wysihtml5.lang.array(o).without(s));for(var e,n="",i=o.length,r=0;r<i;r++)e=o[r],n+=e+":"+a.getStyle(e).from(t)+";";return{to:function(t){return a.setStyles(n).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(a){a.dom.delegate=function(i,r,t,o){return a.dom.observe(i,t,function(t){for(var e=t.target,n=a.lang.array(i.querySelectorAll(r));e&&e!==i;){if(n.contains(e)){o.call(e,t);break}e=e.parentNode}})}}(wysihtml5),function(a){a.dom.domNode=function(i){var r=[a.ELEMENT_NODE,a.TEXT_NODE],o=function(t){return t.nodeType===a.TEXT_NODE&&/^\s*$/g.test(t.data)};return{prev:function(t){var e=i.previousSibling,n=t&&t.nodeTypes?t.nodeTypes:r;return e?!a.lang.array(n).contains(e.nodeType)||t&&t.ignoreBlankTexts&&o(e)?a.dom.domNode(e).prev(t):e:null},next:function(t){var e=i.nextSibling,n=t&&t.nodeTypes?t.nodeTypes:r;return e?!a.lang.array(n).contains(e.nodeType)||t&&t.ignoreBlankTexts&&o(e)?a.dom.domNode(e).next(t):e:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var i=function(t,e){var n=e.createElement("div");n.style.display="none",e.body.appendChild(n);try{n.innerHTML=t}catch(i){}return e.body.removeChild(n),n},r=function(t){if(!t._wysihtml5_supportsHTML5Tags){for(var e=0,n=o.length;e<n;e++)t.createElement(o[e]);t._wysihtml5_supportsHTML5Tags=!0}},o=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(t,e){var n;return e=e||document,"object"==typeof t&&t.nodeType?(n=e.createElement("div")).appendChild(t):wysihtml5.browser.supportsHTML5Tags(e)?(n=e.createElement("div")).innerHTML=t:(r(e),n=i(t,e)),n}}(),wysihtml5.dom.getParentElement=function(){function a(t,e){return!e||!e.length||("string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t))}function s(t){return t.nodeType===wysihtml5.ELEMENT_NODE}function l(t,e,n){var i=(t.className||"").match(n)||[];return e?i[i.length-1]===e:!!i.length}function u(t,e,n){var i=(t.getAttribute("style")||"").match(n)||[];return e?i[i.length-1]===e:!!i.length}return function(t,e,n,i){var r=e.cssStyle||e.styleRegExp,o=e.className||e.classRegExp;for(n=n||50;n--&&t&&"BODY"!==t.nodeName&&(!i||t!==i);){if(s(t)&&a(t.nodeName,e.nodeName)&&(!r||u(t,e.cssStyle,e.styleRegExp))&&(!o||l(t,e.className,e.classRegExp)))return t;t=t.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function f(t){return t.replace(e,function(t){return t.charAt(1).toUpperCase()})}var h={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},e=/\-[a-z]/g;return function(d){return{from:function(t){if(t.nodeType===wysihtml5.ELEMENT_NODE){var e=t.ownerDocument,n=h[d]||f(d),i=t.style,r=t.currentStyle,o=i[n];if(o)return o;if(r)try{return r[n]}catch(c){}var a,s,l=e.defaultView||e.parentWindow,u=("height"===d||"width"===d)&&"TEXTAREA"===t.nodeName;return l.getComputedStyle?(u&&(a=i.overflow,i.overflow="hidden"),s=l.getComputedStyle(t,null).getPropertyValue(d),u&&(i.overflow=a||""),s):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(t,e){var n=[];for(t=t.firstChild;t;t=t.nextSibling)3==t.nodeType?e&&/^\s*$/.test(t.innerText||t.textContent)||n.push(t):n=n.concat(wysihtml5.dom.getTextNodes(t,e));return n},wysihtml5.dom.hasElementWithTagName=function(){function r(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=e++)}var o={},e=1;return function(t,e){var n=r(t)+":"+e,i=o[n];return i||(i=o[n]=t.getElementsByTagName(e)),0<i.length}}(),function(r){function o(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=e++)}var a={},e=1;r.dom.hasElementWithClassName=function(t,e){if(!r.browser.supportsNativeGetElementsByClassName())return!!t.querySelector("."+e);var n=o(t)+":"+e,i=a[n];return i||(i=a[n]=t.getElementsByClassName(e)),0<i.length}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(r){return r=r.join("\n"),{into:function(t){var e=t.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=r:e.appendChild(t.createTextNode(r));var n=t.querySelector("head link");if(n)n.parentNode.insertBefore(e,n);else{var i=t.querySelector("head");i&&i.appendChild(e)}}}},function(o){o.dom.lineBreaks=function(i){function n(t){return"BR"===t.nodeName}function r(t){return!!n(t)||"block"===o.dom.getStyle("display").from(t)}return{add:function(){var t=i.ownerDocument,e=o.dom.domNode(i).next({ignoreBlankTexts:!0}),n=o.dom.domNode(i).prev({ignoreBlankTexts:!0});e&&!r(e)&&o.dom.insert(t.createElement("br")).after(i),n&&!r(n)&&o.dom.insert(t.createElement("br")).before(i)},remove:function(){var t=o.dom.domNode(i).next({ignoreBlankTexts:!0}),e=o.dom.domNode(i).prev({ignoreBlankTexts:!0});t&&n(t)&&t.parentNode.removeChild(t),e&&n(e)&&e.parentNode.removeChild(e)}}}}(wysihtml5),wysihtml5.dom.observe=function(i,r,o){for(var a,t,e=0,n=(r="string"==typeof r?[r]:r).length;e<n;e++)t=r[e],i.addEventListener?i.addEventListener(t,o,!1):(a=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},o.call(i,t)},i.attachEvent("on"+t,a));return{stop:function(){for(var t,e=0,n=r.length;e<n;e++)t=r[e],i.removeEventListener?i.removeEventListener(t,o,!1):i.detachEvent("on"+t,a)}}},wysihtml5.dom.parse=function(){function t(t,e){wysihtml5.lang.object(E).merge(T).merge(e.rules).get();var n,i,r,o=e.context||t.ownerDocument||document,a=o.createDocumentFragment(),s="string"==typeof t,l=!1;for(!0===e.clearInternals&&(l=!0),e.uneditableClass&&(N=e.uneditableClass),n=s?wysihtml5.dom.getAsDom(t,o):t;n.firstChild;)(i=d(r=n.firstChild,e.cleanUp,l))&&a.appendChild(i),r!==i&&n.removeChild(r);return n.innerHTML="",n.appendChild(a),s?wysihtml5.quirks.getCorrectInnerHTML(n):n}function d(t,e,n){var i,r,o,a=t.nodeType,s=t.childNodes,l=s.length,u=C[a],c=0;if(N&&1===a&&wysihtml5.dom.hasClass(t,N))return t;if(!(r=u&&u(t,n))){if(!1!==r)return null;for(i=t.ownerDocument.createDocumentFragment(),c=l;c--;)s[c]&&(o=d(s[c],e,n))&&(s[c]===o&&c--,i.insertBefore(o,i.firstChild));return wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(t.nodeName.toLowerCase())&&t.parentNode.lastChild!==t&&(t.nextSibling&&3===t.nextSibling.nodeType&&/^\s/.test(t.nextSibling.nodeValue)||i.appendChild(t.ownerDocument.createTextNode(" "))),i.normalize&&i.normalize(),i}for(c=0;c<l;c++)s[c]&&(o=d(s[c],e,n))&&(s[c]===o&&c--,r.appendChild(o));if(e&&r.nodeName.toLowerCase()===_&&(!r.childNodes.length||/^\s*$/gi.test(r.innerHTML)&&(n||"_wysihtml5-temp-placeholder"!==t.className&&"rangySelectionBoundary"!==t.className)||!r.attributes.length)){for(i=r.ownerDocument.createDocumentFragment();r.firstChild;)i.appendChild(r.firstChild);return i.normalize&&i.normalize(),i}return r.normalize&&r.normalize(),r}function e(t,e){var n,i,r=E.tags,o=t.nodeName.toLowerCase(),a=t.scopeName;if(t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(a&&"HTML"!=a&&(o=a+":"+o),"outerHTML"in t&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==t.nodeName||"</p>"===t.outerHTML.slice(-4).toLowerCase()||(o="div")),o in r){if(!(n=r[o])||n.remove)return null;if(n.unwrap)return!1;n="string"==typeof n?{rename_tag:n}:n}else{if(!t.firstChild)return null;n={rename_tag:_}}return u(t,i=t.ownerDocument.createElement(n.rename_tag||o),n,e),l(t,i,n),n.one_of_type&&!s(t,E,n.one_of_type,e)?(!n.remove_action||"unwrap"!=n.remove_action)&&null:(t=null,i.normalize&&i.normalize(),i)}function s(t,e,n,i){var r;if("SPAN"===t.nodeName&&!i&&("_wysihtml5-temp-placeholder"===t.className||"rangySelectionBoundary"===t.className))return!0;for(r in n)if(n.hasOwnProperty(r)&&e.type_definitions&&e.type_definitions[r]&&o(t,e.type_definitions[r]))return!0;return!1}function o(t,e){var n,i,r,o,a,s=t.getAttribute("class"),l=t.getAttribute("style");if(e.methods)for(var u in e.methods)if(e.methods.hasOwnProperty(u)&&O[u]&&O[u](t))return!0;if(s&&e.classes){n=(s=s.replace(/^\s+/g,"").replace(/\s+$/g,"").split(k)).length;for(var c=0;c<n;c++)if(e.classes[s[c]])return!0}if(l&&e.styles)for(i in l=l.split(";"),e.styles)if(e.styles.hasOwnProperty(i))for(var d=l.length;d--;)if((a=l[d].split(":"))[0].replace(/\s/g,"").toLowerCase()===i&&(!0===e.styles[i]||1===e.styles[i]||wysihtml5.lang.array(e.styles[i]).contains(a[1].replace(/\s/g,"").toLowerCase())))return!0;if(e.attrs)for(r in e.attrs)if(e.attrs.hasOwnProperty(r)&&"string"==typeof(o=S(t,r))&&-1<o.search(e.attrs[r]))return!0;return!1}function l(t,e,n){var i;if(n&&n.keep_styles)for(i in n.keep_styles)n.keep_styles.hasOwnProperty(i)&&("float"==i?(t.style.styleFloat&&(e.style.styleFloat=t.style.styleFloat),t.style.cssFloat&&(e.style.cssFloat=t.style.cssFloat)):t.style[i]&&(e.style[i]=t.style[i]))}function u(t,e,n,i){var r,o,a,s,l,u,c,d={},f=n.set_class,h=n.add_class,p=n.add_style,m=n.set_attributes,g=n.check_attributes,v=E.classes,y=0,b=[],x=[],w=[],C=[];if(m&&(d=wysihtml5.lang.object(m).clone()),g)for(s in g)(u=M[g[s]])&&((c=S(t,s))||"alt"===s&&"IMG"==t.nodeName)&&"string"==typeof(l=u(c))&&(d[s]=l);if(f&&b.push(f),h)for(s in h)(u=P[h[s]])&&"string"==typeof(a=u(S(t,s)))&&b.push(a);if(p)for(s in p)(u=R[p[s]])&&(newStyle=u(S(t,s)),"string"==typeof newStyle&&x.push(newStyle));if("string"==typeof v&&"any"===v&&t.getAttribute("class"))d["class"]=t.getAttribute("class");else{for(i||(v["_wysihtml5-temp-placeholder"]=1,v._rangySelectionBoundary=1,v["wysiwyg-tmp-selected-cell"]=1),(C=t.getAttribute("class"))&&(b=b.concat(C.split(k))),r=b.length;y<r;y++)v[o=b[y]]&&w.push(o);w.length&&(d["class"]=wysihtml5.lang.array(w).unique().join(" "))}for(s in d["class"]&&i&&(d["class"]=d["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(d["class"])&&delete d["class"]),x.length&&(d.style=wysihtml5.lang.array(x).unique().join(" ")),d)try{e.setAttribute(s,d[s])}catch(_){}d.src&&("undefined"!=typeof d.width&&e.setAttribute("width",d.width),"undefined"!=typeof d.height&&e.setAttribute("height",d.height))}function S(t,e){return e=e.toLowerCase(),"IMG"==t.nodeName&&"src"==e&&!0===n(t)?t.src:A&&"outerHTML"in t?-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null:t.getAttribute(e)}function n(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}}function i(t){var e=t.nextSibling;if(!e||e.nodeType!==wysihtml5.TEXT_NODE){var n=t.data.replace(D,"");return t.ownerDocument.createTextNode(n)}e.data=t.data.replace(D,"")+e.data.replace(D,"")}function r(t){if(E.comments)return t.ownerDocument.createComment(t.nodeValue)}var a,c,f,h,p,m,g,v,y,b,x,w,C={1:e,3:i,8:r},_="span",k=/\s+/,T={tags:{},classes:{}},E={},N=!1,A=!wysihtml5.browser.supportsGetAttributeCorrectly(),D=/\uFEFF/g,M={url:(p=/^https?:\/\//i,function(t){return t&&t.match(p)?t.replace(p,function(t){return t.toLowerCase()}):null}),src:(h=/^(\/|https?:\/\/)/i,function(t){return t&&t.match(h)?t.replace(h,function(t){return t.toLowerCase()}):null}),href:(f=/^(#|\/|https?:\/\/|mailto:)/i,function(t){return t&&t.match(f)?t.replace(f,function(t){return t.toLowerCase()}):null}),alt:(c=/[^ a-z0-9_\-]/gi,function(t){return t?t.replace(c,""):""}),numbers:(a=/\D/g,function(t){return(t=(t||"").replace(a,""))||null}),any:function(t){return t}},R={align_text:(m={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"},function(t){return m[String(t).toLowerCase()]})},P={align_img:(b={left:"wysiwyg-float-left",right:"wysiwyg-float-right"},function(t){return b[String(t).toLowerCase()]}),align_text:(y={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"},function(t){return y[String(t).toLowerCase()]}),clear_br:(v={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"},function(t){return v[String(t).toLowerCase()]}),size_font:(g={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"},function(t){return g[String(t).charAt(0)]})},O={has_visible_contet:(w=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"],function(t){if((x=(t.innerText||t.textContent).replace(/\s/g,""))&&0<x.length)return!0;for(var e=w.length;e--;)if(t.querySelector(w[e]))return!0;return!!(t.offsetWidth&&0<t.offsetWidth&&t.offsetHeight&&0<t.offsetHeight)})};return t}(),wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e,n=wysihtml5.lang.array(t.childNodes).get(),i=n.length,r=0;r<i;r++)(e=n[r]).nodeType===wysihtml5.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},wysihtml5.dom.renameElement=function(t,e){for(var n,i=t.ownerDocument.createElement(e);n=t.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(i),t.parentNode.replaceChild(i,t),i},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode)if(t.firstChild){for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t),t=e=null}else t.parentNode.removeChild(t)},function(e){function c(t){return"block"===e.getStyle("display").from(t)}function d(t){return"BR"===t.nodeName}function f(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}function t(t,e){if(t.nodeName.match(/^(MENU|UL|OL)$/)){var n,i,r,o,a,s=t.ownerDocument,l=s.createDocumentFragment(),u=wysihtml5.dom.domNode(t).prev({ignoreBlankTexts:!0});if(e)for(!u||c(u)||d(u)||f(l);a=t.firstElementChild||t.firstChild;){for(i=a.lastChild;n=a.firstChild;)r=n===i&&!c(n)&&!d(n),l.appendChild(n),r&&f(l);a.parentNode.removeChild(a)}else for(;a=t.firstElementChild||t.firstChild;){if(a.querySelector&&a.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;n=a.firstChild;)l.appendChild(n);else{for(o=s.createElement("p");n=a.firstChild;)o.appendChild(n);l.appendChild(o)}a.parentNode.removeChild(a)}t.parentNode.replaceChild(l,t)}}e.resolveList=t}(wysihtml5.dom),function(l){var u=document,c=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],d=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],f=["referrer","write","open","close"];l.dom.Sandbox=Base.extend({constructor:function(t,e){this.callback=t||l.EMPTY_FUNCTION,this.config=l.lang.object({}).merge(e).get(),this.editableArea=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=u.getElementById(t)),t.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var t=this,e=u.createElement("iframe");return e.className="wysihtml5-sandbox",l.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(e),l.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(e.src="javascript:'<html></html>'"),e.onload=function(){e.onreadystatechange=e.onload=null,t._onLoadIframe(e)},e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&(e.onreadystatechange=e.onload=null,t._onLoadIframe(e))},e},_onLoadIframe:function(t){if(l.dom.contains(u.documentElement,t)){var e=this,n=t.contentWindow,i=t.contentWindow.document,r=u.characterSet||u.charset||"utf-8",o=this._getHtml({charset:r,stylesheets:this.config.stylesheets});if(i.open("text/html","replace"),i.write(o),i.close(),this.getWindow=function(){return t.contentWindow},this.getDocument=function(){return t.contentWindow.document},n.onerror=function(t,e,n){throw new Error("wysihtml5.Sandbox: "+t,e,n)},!l.browser.supportsSandboxedIframes()){var a,s;for(a=0,s=c.length;a<s;a++)this._unset(n,c[a]);for(a=0,s=d.length;a<s;a++)this._unset(n,d[a],l.EMPTY_FUNCTION);for(a=0,s=f.length;a<s;a++)this._unset(i,f[a]);this._unset(i,"cookie","",!0)}this.loaded=!0,setTimeout(function(){e.callback(e)},0)}},_getHtml:function(t){var e,n=t.stylesheets,i="",r=0;if(n="string"==typeof n?[n]:n)for(e=n.length;r<e;r++)i+='<link rel="stylesheet" href="'+n[r]+'">';return t.stylesheets=i,l.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,e,n,i){try{t[e]=n}catch(o){}try{t.__defineGetter__(e,function(){return n})}catch(o){}if(i)try{t.__defineSetter__(e,function(){})}catch(o){}if(!l.browser.crashesWhenDefineProperty(e))try{var r={get:function(){return n}};i&&(r.set=function(){}),Object.defineProperty(t,e,r)}catch(o){}}})}(wysihtml5),function(i){var e=document;i.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(t,e,n){this.callback=t||i.EMPTY_FUNCTION,this.config=i.lang.object({}).merge(e).get(),this.element=n?this._bindElement(n):this._createElement()},_createElement:function(){var t=e.createElement("div");return t.className="wysihtml5-sandbox",this._loadElement(t),t},_bindElement:function(t){return t.className=t.className&&""!=t.className?t.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(t,!0),t},_loadElement:function(t,e){var n=this;if(!e){var i=this._getHtml();t.innerHTML=i}this.getWindow=function(){return t.ownerDocument.defaultView},this.getDocument=function(){return t.ownerDocument},this.loaded=!0,setTimeout(function(){n.callback(n)},0)},_getHtml:function(){return""}})}(wysihtml5),function(){var i={className:"class"};wysihtml5.dom.setAttributes=function(n){return{on:function(t){for(var e in n)t.setAttribute(i[e]||e,n[e])}}}}(),wysihtml5.dom.setStyles=function(i){return{on:function(t){var e=t.style;if("string"!=typeof i)for(var n in i)"float"===n?(e.cssFloat=i[n],e.styleFloat=i[n]):e[n]=i[n];else e.cssText+=";"+i}}},function(a){a.simulatePlaceholder=function(t,e,n){var i="placeholder",r=function(){var t=0<e.element.offsetWidth&&0<e.element.offsetHeight;e.hasPlaceholderSet()&&(e.clear(),e.element.focus(),t&&setTimeout(function(){var t=e.selection.getSelection();t.focusNode&&t.anchorNode||e.selection.selectNode(e.element.firstChild||e.element)},0)),e.placeholderSet=!1,a.removeClass(e.element,i)},o=function(){e.isEmpty()&&(e.placeholderSet=!0,e.setValue(n),a.addClass(e.element,i))};t.on("set_placeholder",o).on("unset_placeholder",r).on("focus:composer",r).on("paste:composer",r).on("blur:composer",o),o()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(t,e){var n=!wysihtml5.browser.supportsGetAttributeCorrectly();return e=e.toLowerCase(),"IMG"==t.nodeName&&"src"==e&&!0===_isLoadedImage(t)?t.src:n&&"outerHTML"in t?-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null:t.getAttribute(e)},function(r){function o(t,e){for(var n,i=[],r=0,o=t.length;r<o;r++)if(n=t[r].querySelectorAll(e))for(var a=n.length;a--;i.unshift(n[a]));return i}function l(t){t.parentNode.removeChild(t)}function d(t,e){t.parentNode.insertBefore(e,t.nextSibling)}function f(t,e){for(var n=t.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!e||e==n.tagName.toLowerCase())return n;return null}var h=r.dom,p=function(t){this.el=t,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},n=function(t,e){t?(this.cell=t,this.table=h.getParentElement(t,{nodeName:["TABLE"]})):e&&(this.table=e,this.cell=this.table.querySelectorAll("th, td")[0])};n.prototype={addSpannedCellToMap:function(t,e,n,i,r,o){for(var a=[],s=n+(o?parseInt(o,10)-1:0),l=i+(r?parseInt(r,10)-1:0),u=n;u<=s;u++){"undefined"==typeof e[u]&&(e[u]=[]);for(var c=i;c<=l;c++)e[u][c]=new p(t),e[u][c].isColspan=r&&1<parseInt(r,10),e[u][c].isRowspan=o&&1<parseInt(o,10),e[u][c].firstCol=c==i,e[u][c].lastCol=c==l,e[u][c].firstRow=u==n,e[u][c].lastRow=u==s,e[u][c].isReal=c==i&&u==n,(e[u][c].spanCollection=a).push(e[u][c])}},setCellAsModified:function(t){if(t.modified=!0,0<t.spanCollection.length)for(var e=0,n=t.spanCollection.length;e<n;e++)t.spanCollection[e].modified=!0},setTableMap:function(){var t,e,n,i,r,o,a,s,l=[],u=this.getTableRows();for(t=0;t<u.length;t++)for(e=u[t],n=this.getRowCells(e),o=0,"undefined"==typeof l[t]&&(l[t]=[]),i=0;i<n.length;i++){for(r=n[i];"undefined"!=typeof l[t][o];)o++;a=h.getAttribute(r,"colspan"),s=h.getAttribute(r,"rowspan"),a||s?(this.addSpannedCellToMap(r,l,t,o,a,s),o+=a?parseInt(a,10):1):(l[t][o]=new p(r),o++)}return this.map=l},getRowCells:function(t){var e=this.table.querySelectorAll("table"),n=e?o(e,"th, td"):[],i=t.querySelectorAll("th, td");return 0<n.length?r.lang.array(i).without(n):i},getTableRows:function(){var t=this.table.querySelectorAll("table"),e=t?o(t,"tr"):[],n=this.table.querySelectorAll("tr");return 0<e.length?r.lang.array(n).without(e):n},getMapIndex:function(t){for(var e=this.map.length,n=this.map&&this.map[0]?this.map[0].length:0,i=0;i<e;i++)for(var r=0;r<n;r++)if(this.map[i][r].el===t)return{row:i,col:r};return!1},getElementAtIndex:function(t){return this.setTableMap(),this.map[t.row]&&this.map[t.row][t.col]&&this.map[t.row][t.col].el?this.map[t.row][t.col].el:null},getMapElsTo:function(t){var e=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var n=this.idx_start;this.idx_start=this.idx_end,this.idx_end=n}if(this.idx_start.col>this.idx_end.col){var i=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=i}if(null!=this.idx_start&&null!=this.idx_end)for(var r=this.idx_start.row,o=this.idx_end.row;r<=o;r++)for(var a=this.idx_start.col,s=this.idx_end.col;a<=s;a++)e.push(this.map[r][a].el);return e},orderSelectionEnds:function(t){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var e=this.idx_start;this.idx_start=this.idx_end,this.idx_end=e}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(t,e,n){for(var i,r=this.table.ownerDocument,o=r.createDocumentFragment(),a=0;a<e;a++){if(i=r.createElement(t),n)for(var s in n)n.hasOwnProperty(s)&&i.setAttribute(s,n[s]);i.appendChild(document.createTextNode("\xa0")),
o.appendChild(i)}return o},correctColIndexForUnreals:function(t,e){for(var n=this.map[e],i=-1,r=0;r<t;r++)n[r].isReal&&i++;return i},getLastNewCellOnRow:function(t,e){for(var n,i,r=this.getRowCells(t),o=0,a=r.length;o<a;o++)if(n=r[o],!1===(i=this.getMapIndex(n))||void 0!==e&&i.row!=e)return n;return null},removeEmptyTable:function(){var t=this.table.querySelectorAll("td, th");return(!t||0==t.length)&&(l(this.table),!0)},splitRowToCells:function(t){if(t.isColspan){var e=parseInt(h.getAttribute(t.el,"colspan")||1,10),n=t.el.tagName.toLowerCase();if(1<e){var i=this.createCells(n,e-1);d(t.el,i)}t.el.removeAttribute("colspan")}},getRealRowEl:function(t,e){var n=null,i=null;e=e||this.idx;for(var r=0,o=this.map[e.row].length;r<o;r++)if((i=this.map[e.row][r]).isReal&&(n=h.getParentElement(i.el,{nodeName:["TR"]})))return n;return null===n&&t&&(n=h.getParentElement(this.map[e.row][e.col].el,{nodeName:["TR"]})||null),n},injectRowAt:function(t,e,n,i,r){var o=this.getRealRowEl(!1,{row:t,col:e}),a=this.createCells(i,n);if(o){var s=this.correctColIndexForUnreals(e,t);0<=s?d(this.getRowCells(o)[s],a):o.insertBefore(a,o.firstChild)}else{var l=this.table.ownerDocument.createElement("tr");l.appendChild(a),d(h.getParentElement(r.el,{nodeName:["TR"]}),l)}},canMerge:function(t){if(this.to=t,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var e=this.idx_start;this.idx_start=this.idx_end,this.idx_end=e}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}for(var i=this.idx_start.row,r=this.idx_end.row;i<=r;i++)for(var o=this.idx_start.col,a=this.idx_end.col;o<=a;o++)if(this.map[i][o].isColspan||this.map[i][o].isRowspan)return!1;return!0},decreaseCellSpan:function(t,e){var n=parseInt(h.getAttribute(t.el,e),10)-1;1<=n?t.el.setAttribute(e,n):(t.el.removeAttribute(e),"colspan"==e&&(t.isColspan=!1),"rowspan"==e&&(t.isRowspan=!1),t.firstCol=!0,t.lastCol=!0,t.firstRow=!0,t.lastRow=!0,t.isReal=!0)},removeSurplusLines:function(){var t,e,n,i,r,o,a;if(this.setTableMap(),this.map){for(n=0,i=this.map.length;n<i;n++){for(a=!0,r=0,o=(t=this.map[n]).length;r<o;r++)if(e=t[r],!(h.getAttribute(e.el,"rowspan")&&1<parseInt(h.getAttribute(e.el,"rowspan"),10)&&!0!==e.firstRow)){a=!1;break}if(a)for(r=0;r<o;r++)this.decreaseCellSpan(t[r],"rowspan")}var s=this.getTableRows();for(n=0,i=s.length;n<i;n++)0==(t=s[n]).childNodes.length&&/^\s*$/.test(t.textContent||t.innerText)&&l(t)}},fillMissingCells:function(){var t=0,e=0,n=null;if(this.setTableMap(),this.map){t=this.map.length;for(var i=0;i<t;i++)this.map[i].length>e&&(e=this.map[i].length);for(var r=0;r<t;r++)for(var o=0;o<e;o++)this.map[r]&&!this.map[r][o]&&0<o&&(this.map[r][o]=new p(this.createCells("td",1)),(n=this.map[r][o-1])&&n.el&&n.el.parent&&d(this.map[r][o-1].el,this.map[r][o].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var t=this.map[this.idx.row][this.idx.col],e=h.getAttribute(t.el,"colspan")?parseInt(h.getAttribute(t.el,"colspan"),10):1,n=t.el.tagName.toLowerCase();if(t.isRowspan){var i=parseInt(h.getAttribute(t.el,"rowspan"),10);if(1<i)for(var r=1,o=i-1;r<=o;r++)this.injectRowAt(this.idx.row+r,this.idx.col,e,n,t);t.el.removeAttribute("rowspan")}this.splitRowToCells(t)}},merge:function(t){if(this.rectify())if(this.canMerge(t)){for(var e=this.idx_end.row-this.idx_start.row+1,n=this.idx_end.col-this.idx_start.col+1,i=this.idx_start.row,r=this.idx_end.row;i<=r;i++)for(var o=this.idx_start.col,a=this.idx_end.col;o<=a;o++)i==this.idx_start.row&&o==this.idx_start.col?(1<e&&this.map[i][o].el.setAttribute("rowspan",e),1<n&&this.map[i][o].el.setAttribute("colspan",n)):(/^\s*<br\/?>\s*$/.test(this.map[i][o].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[i][o].el.innerHTML),l(this.map[i][o].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(t){var e=this.getMapIndex(t.el),n=e.row+1,i={row:n,col:e.col};if(n<this.map.length){var r=this.getRealRowEl(!1,i);if(null!==r){var o=this.correctColIndexForUnreals(i.col,i.row);if(0<=o)d(this.getRowCells(r)[o],t.el);else{var a=this.getLastNewCellOnRow(r,n);null!==a?d(a,t.el):r.insertBefore(t.el,r.firstChild)}2<parseInt(h.getAttribute(t.el,"rowspan"),10)?t.el.setAttribute("rowspan",parseInt(h.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan")}}},removeRowCell:function(t){t.isReal?t.isRowspan?this.collapseCellToNextRow(t):l(t.el):2<parseInt(h.getAttribute(t.el,"rowspan"),10)?t.el.setAttribute("rowspan",parseInt(h.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var t=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=this.map[this.idx.row],n=0,i=e.length;n<i;n++)e[n].isReal&&t.push(e[n].el);return t},getColumnElementsByCell:function(){var t=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=0,n=this.map.length;e<n;e++)this.map[e][this.idx.col]&&this.map[e][this.idx.col].isReal&&t.push(this.map[e][this.idx.col].el);return t},removeRow:function(){var t=h.getParentElement(this.cell,{nodeName:["TR"]});if(t){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=this.map[this.idx.row],n=0,i=e.length;n<i;n++)e[n].modified||(this.setCellAsModified(e[n]),this.removeRowCell(e[n]));l(t)}},removeColCell:function(t){t.isColspan?2<parseInt(h.getAttribute(t.el,"colspan"),10)?t.el.setAttribute("colspan",parseInt(h.getAttribute(t.el,"colspan"),10)-1):t.el.removeAttribute("colspan"):t.isReal&&l(t.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=0,e=this.map.length;t<e;t++)this.map[t][this.idx.col].modified||(this.setCellAsModified(this.map[t][this.idx.col]),this.removeColCell(this.map[t][this.idx.col]))},remove:function(t){if(this.rectify()){switch(t){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(t){var e=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==t&&h.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(h.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(var n=this.map[this.idx.row],i=e.createElement("tr"),r=0,o=n.length;r<o;r++)n[r].modified||(this.setCellAsModified(n[r]),this.addRowCell(n[r],i,t));switch(t){case"below":d(this.getRealRowEl(!0),i);break;case"above":var a=h.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});a&&a.parentNode.insertBefore(i,a)}}},addRowCell:function(t,e,n){var i=t.isColspan?{colspan:h.getAttribute(t.el,"colspan")}:null;t.isReal?"above"!=n&&t.isRowspan?t.el.setAttribute("rowspan",parseInt(h.getAttribute(t.el,"rowspan"),10)+1):e.appendChild(this.createCells("td",1,i)):"above"!=n&&t.isRowspan&&t.lastRow?e.appendChild(this.createCells("td",1,i)):c.isRowspan&&t.el.attr("rowspan",parseInt(h.getAttribute(t.el,"rowspan"),10)+1)},add:function(t){this.rectify()&&("below"!=t&&"above"!=t||this.addRow(t),"before"!=t&&"after"!=t||this.addColumn(t))},addColCell:function(t,e,n){var i,r=t.el.tagName.toLowerCase();switch(n){case"before":i=!t.isColspan||t.firstCol;break;case"after":i=!t.isColspan||t.lastCol||t.isColspan&&c.el==this.cell}if(i){switch(n){case"before":t.el.parentNode.insertBefore(this.createCells(r,1),t.el);break;case"after":d(t.el,this.createCells(r,1))}t.isRowspan&&this.handleCellAddWithRowspan(t,e+1,n)}else t.el.setAttribute("colspan",parseInt(h.getAttribute(t.el,"colspan"),10)+1)},addColumn:function(t){var e,n;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==t&&h.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(h.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(var i=0,r=this.map.length;i<r;i++)(e=this.map[i])[this.idx.col]&&((n=e[this.idx.col]).modified||(this.setCellAsModified(n),this.addColCell(n,i,t)))},handleCellAddWithRowspan:function(t,e,n){for(var i,r,o,a=parseInt(h.getAttribute(this.cell,"rowspan"),10)-1,s=h.getParentElement(t.el,{nodeName:["TR"]}),l=t.el.tagName.toLowerCase(),u=this.table.ownerDocument,c=0;c<a;c++)if(i=this.correctColIndexForUnreals(this.idx.col,e+c),s=f(s,"tr"))if(0<i)switch(n){case"before":r=this.getRowCells(s),0<i&&this.map[e+c][this.idx.col].el!=r[i]&&i==r.length-1?d(r[i],this.createCells(l,1)):r[i].parentNode.insertBefore(this.createCells(l,1),r[i]);break;case"after":d(this.getRowCells(s)[i],this.createCells(l,1))}else s.insertBefore(this.createCells(l,1),s.firstChild);else(o=u.createElement("tr")).appendChild(this.createCells(l,1)),this.table.appendChild(o)}},h.table={getCellsBetween:function(t,e){return new n(t).getMapElsTo(e)},addCells:function(t,e){new n(t).add(e)},removeCells:function(t,e){new n(t).remove(e)},mergeCellsBetween:function(t,e){new n(t).merge(e)},unmergeCell:function(t){new n(t).unmerge()},orderSelectionEnds:function(t,e){return new n(t).orderSelectionEnds(e)},indexOf:function(t){var e=new n(t);return e.setTableMap(),e.getMapIndex(t)},findCell:function(t,e){return new n(null,t).getElementAtIndex(e)},findRowByCell:function(t){return new n(t).getRowElementsByCell()},findColumnByCell:function(t){return new n(t).getColumnElementsByCell()},canMerge:function(t,e){return new n(t).canMerge(e)}}}(wysihtml5),wysihtml5.dom.query=function(t,e){var n,i=[];t.nodeType&&(t=[t]);for(var r=0,o=t.length;r<o;r++)if(n=t[r].querySelectorAll(e))for(var a=n.length;a--;i.unshift(n[a]));return i},wysihtml5.dom.compareDocumentPosition=document.documentElement.compareDocumentPosition?function(t,e){return t.compareDocumentPosition(e)}:function(t,e){var n,i;if(n=9===t.nodeType?t:t.ownerDocument,i=9===e.nodeType?e:e.ownerDocument,t===e)return 0;if(t===e.ownerDocument)return 20;if(t.ownerDocument===e)return 10;if(n!==i)return 1;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 20;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 10;for(var r=t,o=[],a=null;r;){if(r==e)return 10;o.push(r),r=r.parentNode}for(r=e,a=null;r;){if(r==t)return 20;var s=wysihtml5.lang.array(o).indexOf(r);if(-1!==s){var l=o[s],u=wysihtml5.lang.array(l.childNodes).indexOf(o[s-1]);return wysihtml5.lang.array(l.childNodes).indexOf(a)<u?2:4}r=(a=r).parentNode}return 1},wysihtml5.dom.unwrap=function(t){if(t.parentNode){for(;t.lastChild;)wysihtml5.dom.insert(t.lastChild).after(t);t.parentNode.removeChild(t)}},wysihtml5.quirks.cleanPastedHTML=function(){function t(t,e,n){e=e||f,n=n||t.ownerDocument||document;var i,r,o,a,s,l,u="string"==typeof t,c=0;for(s in i=u?wysihtml5.dom.getAsDom(t,n):t,e)for(o=i.querySelectorAll(s),r=e[s],a=o.length;c<a;c++)r(o[c]);var d=wysihtml5.dom.getTextNodes(i);for(l=d.length;l--;)d[l].nodeValue=d[l].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return o=t=e=null,u?i.innerHTML:i}var f={"a u":wysihtml5.dom.replaceWithChildNodes};return t}(),wysihtml5.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=t&&"<p>&nbsp;</p><p>&nbsp;</p>"!=t||(e.innerHTML="")},0)};return function(t){wysihtml5.dom.observe(t.element,["cut","keydown"],e)}}(),function(s){var l="%7E";s.quirks.getCorrectInnerHTML=function(t){var e=t.innerHTML;if(-1===e.indexOf(l))return e;var n,i,r,o,a=t.querySelectorAll("[href*='~'], [src*='~']");for(o=0,r=a.length;o<r;o++)n=a[o].href||a[o].src,i=s.lang.string(n).replace("~").by(l),e=s.lang.string(e).replace(i).by(n);return e}}(wysihtml5),function(i){var r="wysihtml5-quirks-redraw";i.quirks.redraw=function(t){i.dom.addClass(t,r),i.dom.removeClass(t,r);try{var e=t.ownerDocument;e.execCommand("italic",!1,null),e.execCommand("italic",!1,null)}catch(n){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(n,r){function t(){return c.observe(n,"mousedown",function(t){var e=wysihtml5.dom.getParentElement(t.target,{nodeName:["TD","TH"]});e&&i(e)}),d}function i(t){d.start=t,d.end=t,d.cells=[t],d.table=c.getParentElement(d.start,{nodeName:["TABLE"]}),d.table&&(o(),c.addClass(t,f),h=c.observe(n,"mousemove",e),p=c.observe(n,"mouseup",s),r.fire("tableselectstart").fire("tableselectstart:composer"))}function o(){if(n){var t=n.querySelectorAll("."+f);if(0<t.length)for(var e=0;e<t.length;e++)c.removeClass(t[e],f)}}function a(t){for(var e=0;e<t.length;e++)c.addClass(t[e],f)}function e(t){var e,n=null,i=c.getParentElement(t.target,{nodeName:["TD","TH"]});i&&d.table&&d.start&&(n=c.getParentElement(i,{nodeName:["TABLE"]}))&&n===d.table&&(o(),e=d.end,d.end=i,d.cells=c.table.getCellsBetween(d.start,i),1<d.cells.length&&r.composer.selection.deselect(),a(d.cells),d.end!==e&&r.fire("tableselectchange").fire("tableselectchange:composer"))}function s(){h.stop(),p.stop(),r.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){l()},0)}function l(){var e=c.observe(n.ownerDocument,"click",function(t){e.stop(),c.getParentElement(t.target,{nodeName:["TABLE"]})!=d.table&&(o(),d.table=null,d.start=null,d.end=null,r.fire("tableunselect").fire("tableunselect:composer"))})}function u(t,e){d.start=t,d.end=e,d.table=c.getParentElement(d.start,{nodeName:["TABLE"]}),selectedCells=c.table.getCellsBetween(d.start,d.end),a(selectedCells),l(),r.fire("tableselect").fire("tableselect:composer")}var c=wysihtml5.dom,d={table:null,start:null,end:null,cells:null,select:u},f="wysiwyg-tmp-selected-cell",h=null,p=null;return t()},function(l){var u=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,c=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,d=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,f=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,h=function(t){return new RegExp("(^|\\s|;)"+t+"\\s*:\\s*[^;$]+","gi")};l.quirks.styleParser={parseColor:function(t,e){var n,i,r=h(e),o=t.match(r),a=10;if(o){for(var s=o.length;s--;)o[s]=l.lang.string(o[s].split(":")[1]).trim();if(n=o[o.length-1],u.test(n))i=n.match(u);else if(c.test(n))i=n.match(c);else if(d.test(n))i=n.match(d),a=16;else if(f.test(n))return(i=n.match(f)).shift(),i.push(1),l.lang.array(i).map(function(t,e){return e<3?16*parseInt(t,16)+parseInt(t,16):parseFloat(t)});if(i)return i.shift(),i[3]||i.push(1),l.lang.array(i).map(function(t,e){return e<3?parseInt(t,a):parseFloat(t)})}return!1},unparseColor:function(t,e){if(e){if("hex"==e)return t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("hash"==e)return"#"+t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("rgb"==e)return"rgb("+t[0]+","+t[1]+","+t[2]+")";if("rgba"==e)return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")";if("csv"==e)return t[0]+","+t[1]+","+t[2]+","+t[3]}return t[3]&&1!==t[3]?"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")":"rgb("+t[0]+","+t[1]+","+t[2]+")"},parseFontSize:function(t){var e=t.match(h("font-size"));return!!e&&l.lang.string(e[e.length-1].split(":")[1]).trim()}}}(wysihtml5),function(b){function a(t){var e=0;if(t.parentNode)for(;e+=t.offsetTop||0,t=t.offsetParent;);return e}function r(t,e){for(var n=0;e!==t;)if(n++,!(e=e.parentNode))throw new Error("not a descendant of ancestor!");return n}function e(t){if(!t.canSurroundContents())for(var e=t.commonAncestorContainer,n=r(e,t.startContainer),i=r(e,t.endContainer);!t.canSurroundContents();)i<n?(t.setStartBefore(t.startContainer),n=r(e,t.startContainer)):(t.setEndAfter(t.endContainer),i=r(e,t.endContainer))}var x=b.dom;b.Selection=Base.extend({constructor:function(t,e,n){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc,this.contain=e,this.unselectableClass=n||!1},getBookmark:function(){var t=this.getRange();return t&&e(t),t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(t,e){var n=rangy.createRange(this.doc),i=t.nodeType===b.ELEMENT_NODE,r="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,o=i?t.innerHTML:t.data,a=""===o||o===b.INVISIBLE_SPACE,s=x.getStyle("display").from(t),l="block"===s||"list-item"===s;if(a&&i&&r&&!e)try{t.innerHTML=b.INVISIBLE_SPACE}catch(u){}r?n.selectNodeContents(t):n.selectNode(t),r&&a&&i?n.collapse(l):r&&a&&(n.setStartAfter(t),n.setEndAfter(t)),this.setSelection(n)},getSelectedNode:function(t){var e,n;return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange())&&n.length?n.item(0):(e=this.getSelection(this.doc)).focusNode===e.anchorNode?e.focusNode:(n=this.getRange(this.doc))?n.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var t=this.getRange();e(t),this.setSelection(t)},getSelectedOwnNodes:function(){for(var t=this.getOwnRanges(),e=[],n=0,i=t.length;n<i;n++)e.push(t[n].commonAncestorContainer||this.doc.body);return e},findNodesInSelection:function(e){for(var t,n=this.getOwnRanges(),i=[],r=0,o=n.length;r<o;r++)t=n[r].getNodes([1],function(t){return b.lang.array(e).contains(t.nodeName)}),i=i.concat(t);return i},containsUneditable:function(){for(var t=this.getOwnUneditables(),e=this.getSelection(),n=0,i=t.length;n<i;n++)if(e.containsNode(t[n]))return!0;return!1},deleteContents:function(){for(var t=this.getOwnRanges(),e=t.length;e--;)t[e].deleteContents();this.setSelection(t[0])},getPreviousNode:function(t,e){t||(t=this.getSelection().anchorNode);if(t===this.contain)return!1;var n,i=t.previousSibling;return i!==this.contain&&(i&&3!==i.nodeType&&1!==i.nodeType?i=this.getPreviousNode(i,e):i&&3===i.nodeType&&/^\s*$/.test(i.textContent)?i=this.getPreviousNode(i,e):e&&i&&1===i.nodeType&&!b.lang.array(["BR","HR","IMG"]).contains(i.nodeName)&&/^[\s]*$/.test(i.innerHTML)?i=this.getPreviousNode(i,e):i||t===this.contain||(n=t.parentNode)!==this.contain&&(i=this.getPreviousNode(n,e)),i!==this.contain&&i)},getSelectionParentsByTag:function(){for(var t,e=this.getSelectedOwnNodes(),n=[],i=0,r=e.length;i<r;i++)(t=e[i].nodeName&&"LI"===e[i].nodeName?e[i]:b.dom.getParentElement(e[i],{nodeName:["LI"]},!1,this.contain))&&n.push(t);return n.length?n:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var t=this.getRange(),e=t.startContainer,n=t.startOffset,i=rangy.createRange(this.doc);return i.selectNodeContents(e),i.setStart(e,n),i}},caretIsLastInSelection:function(){rangy.createRange(this.doc),this.getSelection();var t=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(t)},caretIsFirstInSelection:function(){var t=rangy.createRange(this.doc),e=this.getSelection(),n=this.getRange(),i=n.startContainer;return i.nodeType===b.TEXT_NODE?this.isCollapsed()&&i.nodeType===b.TEXT_NODE&&/^\s*$/.test(i.data.substr(0,n.startOffset)):(t.selectNodeContents(this.getRange().commonAncestorContainer),t.collapse(!0),this.isCollapsed()&&(t.startContainer===e.anchorNode||t.endContainer===e.anchorNode)&&t.startOffset===e.anchorOffset)},caretIsInTheBeginnig:function(t){var e=this.getSelection(),n=e.anchorNode,i=e.anchorOffset;return t?0===i&&(n.nodeName&&n.nodeName===t.toUpperCase()||b.dom.getParentElement(n.parentNode,{nodeName:t},1)):0===i&&!this.getPreviousNode(n,!0)},caretIsBeforeUneditable:function(){var t=this.getSelection(),e=t.anchorNode;if(0===t.anchorOffset){var n=this.getPreviousNode(e,!0);if(n)for(var i=this.getOwnUneditables(),r=0,o=i.length;r<o;r++)if(n===i[r])return i[r]}return!1},executeAndRestoreRangy:function(t){var e=this.doc.defaultView||this.doc.parentWindow,n=rangy.saveSelection(e);if(n)try{t()}catch(i){setTimeout(function(){throw i},0)}else t();rangy.restoreSelection(n)},executeAndRestore:function(t,e){var n,i,r,o,a,s,l,u,c=this.doc.body,d=e&&c.scrollTop,f=e&&c.scrollLeft,h="_wysihtml5-temp-placeholder",p='<span class="'+h+'">'+b.INVISIBLE_SPACE+"</span>",m=this.getRange(!0);if(m){m.collapsed||(s=(l=m.cloneRange()).createContextualFragment(p),l.collapse(!1),l.insertNode(s),l.detach()),a=m.createContextualFragment(p),m.insertNode(a),s&&(n=this.contain.querySelectorAll("."+h),m.setStartBefore(n[0]),m.setEndAfter(n[n.length-1])),this.setSelection(m);try{t(m.startContainer,m.endContainer)}catch(v){setTimeout(function(){throw v},0)}if((n=this.contain.querySelectorAll("."+h))&&n.length){u=rangy.createRange(this.doc),r=n[0].nextSibling,1<n.length&&(o=n[n.length-1].previousSibling),o&&r?(u.setStartBefore(r),u.setEndAfter(o)):(i=this.doc.createTextNode(b.INVISIBLE_SPACE),x.insert(i).after(n[0]),u.setStartBefore(i),u.setEndAfter(i)),this.setSelection(u);for(var g=n.length;g--;)n[g].parentNode.removeChild(n[g])}else this.contain.focus();e&&(c.scrollTop=d,c.scrollLeft=f);try{n.parentNode.removeChild(n)}catch(y){}}else t(c,c)},set:function(t,e){var n=rangy.createRange(this.doc);n.setStart(t,e||0),this.setSelection(n)},insertHTML:function(t){var e=rangy.createRange(this.doc).createContextualFragment(t),n=e.lastChild;this.insertNode(e),n&&this.setAfter(n)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e,n=this.getOwnRanges(),i=[];if(0==n.length)return i;for(var r=n.length;r--;){e=this.doc.createElement(t.nodeName),i.push(e),t.className&&(e.className=t.className),t.cssStyle&&e.setAttribute("style",t.cssStyle);try{n[r].surroundContents(e),this.selectNode(e)}catch(o){e.appendChild(n[r].extractContents()),n[r].insertNode(e)}}return i},deblockAndSurround:function(t){var e,n,i,r=this.doc.createElement("div"),o=rangy.createRange(this.doc);if(r.className=t.className,this.composer.commands.exec("formatBlock",t.nodeName,t.className),(e=this.contain.querySelectorAll("."+t.className))[0])for(e[0].parentNode.insertBefore(r,e[0]),o.setStartBefore(e[0]),o.setEndAfter(e[e.length-1]),n=o.extractContents();n.firstChild;)if(1==(i=n.firstChild).nodeType&&b.dom.hasClass(i,t.className)){for(;i.firstChild;)r.appendChild(i.firstChild);"BR"!==i.nodeName&&r.appendChild(this.doc.createElement("br")),n.removeChild(i)}else r.appendChild(i);else r=null;return r},scrollIntoView:function(){var t,e,n=this.doc,i=5,r=n.documentElement.scrollHeight>n.documentElement.offsetHeight,o=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||((e=n.createElement("span")).innerHTML=b.INVISIBLE_SPACE,e);r&&(this.insertNode(o),t=a(o),o.parentNode.removeChild(o),t>=n.body.scrollTop+n.documentElement.offsetHeight-i&&(n.body.scrollTop=t))},selectLine:function(){b.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView.getSelection();t.modify("move","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e,n,i,r,o=this.doc.selection.createRange(),a=o.boundingTop,s=this.doc.body.scrollWidth;if(o.moveToPoint){for(0===a&&(n=this.doc.createElement("span"),this.insertNode(n),a=n.offsetTop,n.parentNode.removeChild(n)),a+=1,i=-10;i<s;i+=2)try{o.moveToPoint(i,a);break}catch(l){}for(t=a,e=this.doc.selection.createRange(),r=s;0<=r;r--)try{e.moveToPoint(r,t);break}catch(u){}o.setEndPoint("EndToEnd",e),o.select()}},getText:function(){var t=this.getSelection();return t?t.toString():""},getNodes:function(t,e){var n=this.getRange();return n?n.getNodes([t],e):[]},fixRangeOverflow:function(t){if(this.contain&&this.contain.firstChild&&t){var e=t.compareNode(this.contain);if(2!==e)1===e&&t.setStartBefore(this.contain.firstChild),0===e&&t.setEndAfter(this.contain.lastChild),3===e&&(t.setStartBefore(this.contain.firstChild),t.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(t)){var n=t.endContainer.previousElementSibling;n&&t.setEnd(n,this._endOffsetForNode(n))}}},_endOffsetForNode:function(t){var e=document.createRange();return e.selectNodeContents(t),e.endOffset},_detectInlineRangeProblems:function(t){var e=x.compareDocumentPosition(t.startContainer,t.endContainer);return 0==t.endOffset&&4&e},getRange:function(t){var e=this.getSelection(),n=e&&e.rangeCount&&e.getRangeAt(0);return!0!==t&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var t=x.query(this.contain,"."+this.unselectableClass),e=x.query(t,"."+this.unselectableClass);return b.lang.array(t).without(e)},getOwnRanges:function(){var t,e=[],n=this.getRange();if(n&&e.push(n),this.unselectableClass&&this.contain&&n){var i,r=this.getOwnUneditables();if(0<r.length)for(var o=0,a=r.length;o<a;o++){t=[];for(var s=0,l=e.length;s<l;s++){if(e[s])switch(e[s].compareNode(r[o])){case 2:break;case 3:(i=e[s].cloneRange()).setEndBefore(r[o]),t.push(i),(i=e[s].cloneRange()).setStartAfter(r[o]),t.push(i);break;default:t.push(e[s])}e=t}}}return e},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){var e=this.doc.defaultView||this.doc.parentWindow;return rangy.getSelection(e).setSingleRange(t)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},isEndToEndInNode:function(t){var e=this.getRange(),n=e.commonAncestorContainer,i=e.startContainer,r=e.endContainer;if(n.nodeType===b.TEXT_NODE&&(n=n.parentNode),i.nodeType===b.TEXT_NODE&&!/^\s*$/.test(i.data.substr(e.startOffset)))return!1;if(r.nodeType===b.TEXT_NODE&&!/^\s*$/.test(r.data.substr(e.endOffset)))return!1;for(;i&&i!==n;){if(i.nodeType!==b.TEXT_NODE&&!b.dom.contains(n,i))return!1;if(b.dom.domNode(i).prev({ignoreBlankTexts:!0}))return!1;i=i.parentNode}for(;r&&r!==n;){if(r.nodeType!==b.TEXT_NODE&&!b.dom.contains(n,r))return!1;if(b.dom.domNode(r).next({ignoreBlankTexts:!0}))return!1;r=r.parentNode}return!!b.lang.array(t).contains(n.nodeName)&&n},deselect:function(){var t=this.getSelection();t&&t.removeAllRanges()}})}(wysihtml5),function(u,a){function n(t,e,n){if(!t.className)return!1;var i=t.className.match(n)||[];return i[i.length-1]===e}function i(t,e){if(!t.getAttribute||!t.getAttribute("style"))return!1;t.getAttribute("style").match(e);return!!t.getAttribute("style").match(e)}function r(t,e,n){t.getAttribute("style")?(s(t,n),t.getAttribute("style")&&!/^\s*$/.test(t.getAttribute("style"))?t.setAttribute("style",e+";"+t.getAttribute("style")):t.setAttribute("style",e)):t.setAttribute("style",e)}function o(t,e,n){t.className?(l(t,n),t.className+=" "+e):t.className=e}function l(t,e){t.className&&(t.className=t.className.replace(e,""))}function s(t,e){var n,i=[];if(t.getAttribute("style")){for(var r=(n=t.getAttribute("style").split(";")).length;r--;)n[r].match(e)||/^\s*$/.test(n[r])||i.push(n[r]);i.length?t.setAttribute("style",i.join(";")):t.removeAttribute("style")}}function c(t,e){var n=[],i=e.split(";"),r=t.getAttribute("style");if(r){r=r.replace(/\s/gi,"").toLowerCase(),n.push(new RegExp("(^|\\s|;)"+e.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var o=i.length;0<o--;)/^\s*$/.test(i[o])||n.push(new RegExp("(^|\\s|;)"+i[o].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var a=0,s=n.length;a<s;a++)if(r.match(n[a]))return n[a]}return!1}function d(t,e,n,i){return n?c(t,n):i?u.dom.hasClass(t,i):a.dom.arrayContains(e,t.tagName.toLowerCase())}function f(t,e,n,i){for(var r=t.length;r--;)if(!d(t[r],e,n,i))return!1;return!!t.length}function h(t,e,n){var i=c(t,e);return i?(s(t,i),"remove"):(r(t,e,n),"change")}function p(t,e){return t.className.replace(w," ")==e.className.replace(w," ")}function m(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}function g(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var n,i,r,o=0,a=t.attributes.length;o<a;++o)if("class"!=(r=(n=t.attributes[o]).name)){if(i=e.attributes.getNamedItem(r),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}function v(t,e){return a.dom.isCharacterDataNode(t)?0==e?!!t.previousSibling:e!=t.length||!!t.nextSibling:0<e&&e<t.childNodes.length}function y(t,e,n,i){var r;if(a.dom.isCharacterDataNode(e)&&(0==n?(n=a.dom.getNodeIndex(e),e=e.parentNode):n==e.length?(n=a.dom.getNodeIndex(e)+1,e=e.parentNode):r=a.dom.splitDataNode(e,n)),!(r||i&&e===i)){var o;for((r=e.cloneNode(!1)).id&&r.removeAttribute("id");o=e.childNodes[n];)r.appendChild(o);a.dom.insertAfter(r,e)}return e==t?r:y(t,r.parentNode,a.dom.getNodeIndex(r),i)}function b(t){this.isElementMerge=t.nodeType==u.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function t(t,e,n,i,r,o,a){this.tagNames=t||[x],this.cssClass=e||!1!==e&&"",this.similarClassRegExp=n,this.cssStyle=r||"",this.similarStyleRegExp=o,this.normalize=i,this.applyToAnyTagName=!1,this.container=a}var x="span",w=/\s+/g;b.prototype={doMerge:function(){for(var t,e,n,i=[],r=0,o=this.textNodes.length;r<o;++r)e=(t=this.textNodes[r]).parentNode,i[r]=t.data,r&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=n=i.join(""),n},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){for(var t=[],e=0,n=this.textNodes.length;e<n;++e)t[e]="'"+this.textNodes[e].data+"'";return"[Merge("+t.join(",")+")]"}},t.prototype={getAncestorWithClass:function(t){for(var e;t;){if(e=this.cssClass?n(t,this.cssClass,this.similarClassRegExp):""===this.cssStyle,t.nodeType==u.ELEMENT_NODE&&"false"!=t.getAttribute("contenteditable")&&a.dom.arrayContains(this.tagNames,t.tagName.toLowerCase())&&e)return t;t=t.parentNode}return!1},getAncestorWithStyle:function(t){for(var e;t;){if(e=!!this.cssStyle&&i(t,this.similarStyleRegExp),t.nodeType==u.ELEMENT_NODE&&"false"!=t.getAttribute("contenteditable")&&a.dom.arrayContains(this.tagNames,t.tagName.toLowerCase())&&e)return t;t=t.parentNode}return!1},getMatchingAncestor:function(t){var e=this.getAncestorWithClass(t),n=!1;return e?this.cssStyle&&(n="class"):(e=this.getAncestorWithStyle(t))&&(n="style"),{element:e,type:n}},postApply:function(t,e){for(var n,i,r,o=t[0],a=t[t.length-1],s=[],l=o,u=a,c=0,d=a.length,f=0,h=t.length;f<h;++f)r=null,(i=t[f])&&i.parentNode&&(r=this.getAdjacentMergeableTextNode(i.parentNode,!1)),r?(n||(n=new b(r),s.push(n)),n.textNodes.push(i),i===o&&(c=(l=n.firstTextNode).length),i===a&&(u=n.firstTextNode,d=n.getLength())):n=null;if(a&&a.parentNode){var p=this.getAdjacentMergeableTextNode(a.parentNode,!0);p&&(n||(n=new b(a),s.push(n)),n.textNodes.push(p))}if(s.length){for(f=0,h=s.length;f<h;++f)s[f].doMerge();e.setStart(l,c),e.setEnd(u,d)}},getAdjacentMergeableTextNode:function(t,e){var n,i=t.nodeType==u.TEXT_NODE,r=i?t.parentNode:t,o=e?"nextSibling":"previousSibling";if(i){if((n=t[o])&&n.nodeType==u.TEXT_NODE)return n}else if((n=r[o])&&this.areElementsMergeable(t,n))return n[e?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,e){return a.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&a.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&p(t,e)&&g(t,e)},createContainer:function(t){var e=t.createElement(this.tagNames[0]);return this.cssClass&&(e.className=this.cssClass),this.cssStyle&&e.setAttribute("style",this.cssStyle),e},applyToTextNode:function(t){var e=t.parentNode;if(1==e.childNodes.length&&a.dom.arrayContains(this.tagNames,e.tagName.toLowerCase()))this.cssClass&&o(e,this.cssClass,this.similarClassRegExp),this.cssStyle&&r(e,this.cssStyle,this.similarStyleRegExp);else{var n=this.createContainer(a.dom.getDocument(t));t.parentNode.insertBefore(n,t),n.appendChild(t)}},isRemovable:function(t){return a.dom.arrayContains(this.tagNames,t.tagName.toLowerCase())&&""===u.lang.string(t.className).trim()&&(!t.getAttribute("style")||""===u.lang.string(t.getAttribute("style")).trim())},undoToTextNode:function(t,e,n,i){var r=!n,o=n||i,a=!1;if(!e.containsNode(o)){var s=e.cloneRange();s.selectNode(o),s.isPointInRange(e.endContainer,e.endOffset)&&v(e.endContainer,e.endOffset)&&(y(o,e.endContainer,e.endOffset,this.container),e.setEndAfter(o)),s.isPointInRange(e.startContainer,e.startOffset)&&v(e.startContainer,e.startOffset)&&(o=y(o,e.startContainer,e.startOffset,this.container))}!r&&this.similarClassRegExp&&l(o,this.similarClassRegExp),r&&this.similarStyleRegExp&&(a="change"===h(o,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(o)&&!a&&m(o)},
applyToRange:function(t){for(var e,n=t.length;n--;){if(!(e=t[n].getNodes([u.TEXT_NODE])).length)try{var i=this.createContainer(t[n].endContainer.ownerDocument);return t[n].surroundContents(i),void this.selectNode(t[n],i)}catch(s){}if(t[n].splitBoundaries(),(e=t[n].getNodes([u.TEXT_NODE])).length){for(var r,o=0,a=e.length;o<a;++o)r=e[o],this.getMatchingAncestor(r).element||this.applyToTextNode(r);t[n].setStart(e[0],0),r=e[e.length-1],t[n].setEnd(r,r.length),this.normalize&&this.postApply(e,t[n])}}},undoToRange:function(t){for(var e,n,i,r=t.length;r--;){if((e=t[r].getNodes([u.TEXT_NODE])).length)t[r].splitBoundaries(),e=t[r].getNodes([u.TEXT_NODE]);else{var o=t[r].endContainer.ownerDocument.createTextNode(u.INVISIBLE_SPACE);t[r].insertNode(o),t[r].selectNode(o),e=[o]}for(var a=0,s=e.length;a<s;++a)t[r].isValid()&&(n=e[a],"style"===(i=this.getMatchingAncestor(n)).type?this.undoToTextNode(n,t[r],!1,i.element):i.element&&this.undoToTextNode(n,t[r],i.element));1==s?this.selectNode(t[r],e[0]):(t[r].setStart(e[0],0),n=e[e.length-1],t[r].setEnd(n,n.length),this.normalize&&this.postApply(e,t[r]))}},selectNode:function(t,e){var n=e.nodeType===u.ELEMENT_NODE,i=!("canHaveHTML"in e)||e.canHaveHTML,r=n?e.innerHTML:e.data,o=""===r||r===u.INVISIBLE_SPACE;if(o&&n&&i)try{e.innerHTML=u.INVISIBLE_SPACE}catch(a){}t.selectNodeContents(e),o&&n?t.collapse(!1):o&&(t.setStartAfter(e),t.setEndAfter(e))},getTextSelectedByRange:function(t,e){var n=e.cloneRange();n.selectNodeContents(t);var i=n.intersection(e),r=i?i.toString():"";return n.detach(),r},isAppliedToRange:function(t){for(var e,n,i=[],r="full",o=t.length;o--;){if(!(n=t[o].getNodes([u.TEXT_NODE])).length)return!!(e=this.getMatchingAncestor(t[o].startContainer).element)&&{elements:[e],coverage:r};for(var a,s=0,l=n.length;s<l;++s)a=this.getTextSelectedByRange(n[s],t[o]),(e=this.getMatchingAncestor(n[s]).element)&&""!=a?(i.push(e),1===u.dom.getTextNodes(e,!0).length?r="full":"full"===r&&(r="inline")):e||(r="partial")}return!!i.length&&{elements:i,coverage:r}},toggleRange:function(t){var e,n=this.isAppliedToRange(t);n?"full"===n.coverage?this.undoToRange(t):"inline"===n.coverage?(e=f(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(t),e||this.applyToRange(t)):(f(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(t),this.applyToRange(t)):this.applyToRange(t)}},u.selection.HTMLApplier=t}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),r=n&&n.exec,o=null;if(this.editor.fire("beforecommand:composer"),r)i.unshift(this.composer),o=r.apply(n,i);else try{o=this.doc.execCommand(t,!1,e)}catch(a){}return this.editor.fire("aftercommand:composer"),o},state:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),r=n&&n.state;if(r)return i.unshift(this.composer),r.apply(n,i);try{return this.doc.queryCommandState(t)}catch(o){return!1}},stateValue:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),i=e&&e.stateValue;return!!i&&(n.unshift(this.composer),i.apply(e,n))}}),wysihtml5.commands.bold={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"b")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"b")}},function(m){function r(t,e){var n,i,r,o,a,s,l,u,c,d=t.doc,f="_wysihtml5-temp-"+ +new Date,h=/non-matching-class/g,p=0;for(m.commands.formatInline.exec(t,g,v,f,h,g,g,!0,!0),n=(i=d.querySelectorAll(v+"."+f)).length;p<n;p++)for(c in(r=i[p]).removeAttribute("class"),e)"text"!==c&&r.setAttribute(c,e[c]);s=r,1===n&&(l=y.getTextContent(r),o=!!r.querySelector("*"),a=""===l||l===m.INVISIBLE_SPACE,!o&&a&&(y.setTextContent(r,e.text||r.href),u=d.createTextNode(" "),t.selection.setAfter(r),y.insert(u).after(r),s=u)),t.selection.setAfter(s)}function o(t,e,n){for(var i,r=e.length;r--;){for(var o=(i=e[r].attributes).length;o--;)e[r].removeAttribute(i.item(o).name);for(var a in n)n.hasOwnProperty(a)&&e[r].setAttribute(a,n[a])}}var g,v="A",y=m.dom;m.commands.createLink={exec:function(t,e,n){var i=this.state(t,e);i?t.selection.executeAndRestore(function(){o(t,i,n)}):r(t,n="object"==typeof n?n:{href:n})},state:function(t,e){return m.commands.formatInline.state(t,e,"A")}}}(wysihtml5),function(n){function i(t,e){for(var n,i,r=e.length,o=0;o<r;o++)n=e[o],i=a.getParentElement(n,{nodeName:"code"}),a.getTextContent(n).match(a.autoLink.URL_REG_EXP)&&!i?i=a.renameElement(n,"code"):a.replaceWithChildNodes(n)}var a=n.dom;n.commands.removeLink={exec:function(t,e){var n=this.state(t,e);n&&t.selection.executeAndRestore(function(){i(t,n)})},state:function(t,e){return n.commands.formatInline.state(t,e,"A")}}}(wysihtml5),function(i){var r=/wysiwyg-font-size-[0-9a-z\-]+/g;i.commands.fontSize={exec:function(t,e,n){i.commands.formatInline.execWithToggle(t,e,"span","wysiwyg-font-size-"+n,r)},state:function(t,e,n){return i.commands.formatInline.state(t,e,"span","wysiwyg-font-size-"+n,r)}}}(wysihtml5),function(r){var i=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;r.commands.fontSizeStyle={exec:function(t,e,n){n="object"==typeof n?n.size:n,/^\s*$/.test(n)||r.commands.formatInline.execWithToggle(t,e,"span",!1,!1,"font-size:"+n,i)},state:function(t,e){return r.commands.formatInline.state(t,e,"span",!1,!1,"font-size",i)},stateValue:function(t,e){var n,i=this.state(t,e);return i&&r.lang.object(i).isArray()&&(i=i[0]),!(!i||!(n=i.getAttribute("style")))&&r.quirks.styleParser.parseFontSize(n)}}}(wysihtml5),function(i){var r=/wysiwyg-color-[0-9a-z]+/g;i.commands.foreColor={exec:function(t,e,n){i.commands.formatInline.execWithToggle(t,e,"span","wysiwyg-color-"+n,r)},state:function(t,e,n){return i.commands.formatInline.state(t,e,"span","wysiwyg-color-"+n,r)}}}(wysihtml5),function(o){var a=/(\s|^)color\s*:\s*[^;\s]+;?/gi;o.commands.foreColorStyle={exec:function(t,e,n){var i,r=o.quirks.styleParser.parseColor("object"==typeof n?"color:"+n.color:"color:"+n,"color");r&&(i="color: rgb("+r[0]+","+r[1]+","+r[2]+");",1!==r[3]&&(i+="color: rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+");"),o.commands.formatInline.execWithToggle(t,e,"span",!1,!1,i,a))},state:function(t,e){return o.commands.formatInline.state(t,e,"span",!1,!1,"color",a)},stateValue:function(t,e,n){var i,r=this.state(t,e);return r&&o.lang.object(r).isArray()&&(r=r[0]),!!(r&&(i=r.getAttribute("style"))&&i)&&(val=o.quirks.styleParser.parseColor(i,"color"),o.quirks.styleParser.unparseColor(val,n))}}}(wysihtml5),function(a){var o=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;a.commands.bgColorStyle={exec:function(t,e,n){var i,r=a.quirks.styleParser.parseColor("object"==typeof n?"background-color:"+n.color:"background-color:"+n,"background-color");r&&(i="background-color: rgb("+r[0]+","+r[1]+","+r[2]+");",1!==r[3]&&(i+="background-color: rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+");"),a.commands.formatInline.execWithToggle(t,e,"span",!1,!1,i,o))},state:function(t,e){return a.commands.formatInline.state(t,e,"span",!1,!1,"background-color",o)},stateValue:function(t,e,n){var i,r=this.state(t,e),o=!1;return r&&a.lang.object(r).isArray()&&(r=r[0]),!(!r||!(i=r.getAttribute("style")))&&(o=a.quirks.styleParser.parseColor(i,"background-color"),a.quirks.styleParser.unparseColor(o,n))}}}(wysihtml5),function(m){function g(t,e,n){t.className?(y(t,n),t.className=m.lang.string(t.className+" "+e).trim()):t.className=e}function v(t,e,n){b(t,n),t.getAttribute("style")?t.setAttribute("style",m.lang.string(t.getAttribute("style")+" "+e).trim()):t.setAttribute("style",e)}function y(t,e){var n=e.test(t.className);return t.className=t.className.replace(e,""),""==m.lang.string(t.className).trim()&&t.removeAttribute("class"),n}function b(t,e){var n=e.test(t.getAttribute("style"));return t.setAttribute("style",(t.getAttribute("style")||"").replace(e,"")),""==m.lang.string(t.getAttribute("style")||"").trim()&&t.removeAttribute("style"),n}function o(t){var e=t.lastChild;e&&n(e)&&e.parentNode.removeChild(e)}function n(t){return"BR"===t.nodeName}function x(t,e){t.selection.isCollapsed()&&t.selection.selectLine();for(var n=t.selection.surround(e),i=0,r=n.length;i<r;i++)m.dom.lineBreaks(n[i]).remove(),o(n[i])}function w(t){return!!m.lang.string(t.className).trim()}function C(t){return!!m.lang.string(t.getAttribute("style")||"").trim()}var _=m.dom,S=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];m.commands.formatBlock={exec:function(e,t,i,n,r,o,a){e.doc;var s,l,u,c,d,f=this.state(e,t,i,n,r,o,a),h=e.config.useLineBreaks,p=h?"DIV":"P";i="string"==typeof i?i.toUpperCase():i,f.length?e.selection.executeAndRestoreRangy(function(){for(var t=f.length;t--;){if(r&&(l=y(f[t],r)),a&&(c=b(f[t],a)),(c||l)&&null===i&&f[t].nodeName!=p)return;var e=w(f[t]),n=C(f[t]);e||n||!h&&"P"!==i?_.renameElement(f[t],"P"===i?"DIV":p):(m.dom.lineBreaks(f[t]).add(),_.replaceWithChildNodes(f[t]))}}):(null===i||m.lang.array(S).contains(i))&&(s=e.selection.findNodesInSelection(S).concat(e.selection.getSelectedOwnNodes()),e.selection.executeAndRestoreRangy(function(){for(var t=s.length;t--;)(d=_.getParentElement(s[t],{nodeName:S}))==e.element&&(d=null),d&&(i&&(d=_.renameElement(d,i)),n&&g(d,n,r),o&&v(d,o,a),u=!0)}),u)||x(e,{nodeName:i||p,className:n||null,cssStyle:o||null})},state:function(t,e,n,i,r,o,a){var s,l=t.selection.getSelectedOwnNodes(),u=[];n="string"==typeof n?n.toUpperCase():n;for(var c=0,d=l.length;c<d;c++)(s=_.getParentElement(l[c],{nodeName:n,className:i,classRegExp:r,cssStyle:o,styleRegExp:a}))&&-1==m.lang.array(u).indexOf(s)&&u.push(s);return 0!=u.length&&u}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(t,e,n){var i,r,o,a=this.state(t);a?t.selection.executeAndRestore(function(){i=a.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(a),i&&wysihtml5.dom.replaceWithChildNodes(i)}):(o=(r=t.selection.getRange()).extractContents(),a=t.doc.createElement("pre"),i=t.doc.createElement("code"),n&&(i.className=n),a.appendChild(i),i.appendChild(o),r.insertNode(a),t.selection.selectNode(a))},state:function(t){var e=t.selection.getSelectedNode();return e&&e.nodeName&&"PRE"==e.nodeName&&e.firstChild&&e.firstChild.nodeName&&"CODE"==e.firstChild.nodeName?e:wysihtml5.dom.getParentElement(e,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(e,{nodeName:"PRE"})}},function(d){function s(t){var e=h[t];return e?[t.toLowerCase(),e.toLowerCase()]:[t.toLowerCase()]}function f(t,e,n,i,r,o){var a=t;return e&&(a+=":"+e),i&&(a+=":"+i),l[a]||(l[a]=new d.selection.HTMLApplier(s(t),e,n,!0,i,r,o)),l[a]}var h={strong:"b",em:"i",b:"strong",i:"em"},l={};d.commands.formatInline={exec:function(t,e,n,i,r,o,a,s,l){var u=t.selection.createRange(),c=t.selection.getOwnRanges();if(!c||0==c.length)return!1;t.selection.getSelection().removeAllRanges(),f(n,i,r,o,a,t.element).toggleRange(c),s?l||t.cleanUp():(u.setStart(c[0].startContainer,c[0].startOffset),u.setEnd(c[c.length-1].endContainer,c[c.length-1].endOffset),t.selection.setSelection(u),t.selection.executeAndRestore(function(){l||t.cleanUp()},!0,!0))},execWithToggle:function(t,e,n,i,r,o,a){var s=this;if(this.state(t,e,n,i,r,o,a)&&t.selection.isCollapsed()&&!t.selection.caretIsLastInSelection()&&!t.selection.caretIsFirstInSelection()){var l=s.state(t,e,n,i,r)[0];t.selection.executeAndRestoreRangy(function(){l.parentNode;t.selection.selectNode(l,!0),d.commands.formatInline.exec(t,e,n,i,r,o,a,!0,!0)})}else this.state(t,e,n,i,r,o,a)&&!t.selection.isCollapsed()?t.selection.executeAndRestoreRangy(function(){d.commands.formatInline.exec(t,e,n,i,r,o,a,!0,!0)}):d.commands.formatInline.exec(t,e,n,i,r,o,a)},state:function(t,e,n,i,r,o,a){var s,l,u=t.doc,c=h[n]||n;return!(!d.dom.hasElementWithTagName(u,n)&&!d.dom.hasElementWithTagName(u,c))&&(!(i&&!d.dom.hasElementWithClassName(u,i))&&(!(!(s=t.selection.getOwnRanges())||0===s.length)&&(!(!(l=f(n,i,r,o,a,t.element).isAppliedToRange(s))||!l.elements)&&l.elements)))}}}(wysihtml5),function(r){r.commands.insertBlockQuote={exec:function(e,t){var n=this.state(e,t),i=e.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);e.selection.executeAndRestore(function(){if(n)e.config.useLineBreaks&&r.dom.lineBreaks(n).add(),r.dom.unwrap(n);else if(e.selection.isCollapsed()&&e.selection.selectLine(),i){var t=i.ownerDocument.createElement("blockquote");r.dom.insert(t).after(i),t.appendChild(i)}else e.selection.surround({nodeName:"blockquote"})})},state:function(t){var e=t.selection.getSelectedNode(),n=r.dom.getParentElement(e,{nodeName:"BLOCKQUOTE"},!1,t.element);return n||!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(t,e,n){t.commands.support(e)?t.doc.execCommand(e,!1,n):t.selection.insertHTML(n)},state:function(){return!1}},function(l){var u="IMG";l.commands.insertImage={exec:function(t,e,n){n="object"==typeof n?n:{src:n};var i,r,o=t.doc,a=this.state(t);if(a)return t.selection.setBefore(a),(r=a.parentNode).removeChild(a),l.dom.removeEmptyTextNodes(r),"A"!==r.nodeName||r.firstChild||(t.selection.setAfter(r),r.parentNode.removeChild(r)),void l.quirks.redraw(t.element);for(var s in a=o.createElement(u),n)a.setAttribute("className"===s?"class":s,n[s]);t.selection.insertNode(a),l.browser.hasProblemsSettingCaretAfterImg()?(i=o.createTextNode(l.INVISIBLE_SPACE),t.selection.insertNode(i),t.selection.setAfter(i)):t.selection.setAfter(a)},state:function(t){var e,n,i,r=t.doc;return!!l.dom.hasElementWithTagName(r,u)&&(!!(e=t.selection.getSelectedNode())&&(e.nodeName===u?e:e.nodeType===l.ELEMENT_NODE&&(n=t.selection.getText(),!(n=l.lang.string(n).trim())&&(1===(i=t.selection.getNodes(l.ELEMENT_NODE,function(t){return"IMG"===t.nodeName})).length&&i[0]))))}}}(wysihtml5),function(n){var i="<br>"+(n.browser.needsSpaceAfterLineBreak()?" ":"");n.commands.insertLineBreak={exec:function(t,e){t.commands.support(e)?(t.doc.execCommand(e,!1,null),n.browser.autoScrollsToCaret()||t.selection.scrollIntoView()):t.commands.exec("insertHTML",i)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"OL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"UL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"UL")}},wysihtml5.commands.insertList=function(l){var a=function(t,e){if(t&&t.nodeName){"string"==typeof e&&(e=[e]);for(var n=e.length;n--;)if(t.nodeName===e[n])return!0}return!1},s=function(t,e,n){var i={el:null,other:!1};if(t){var r=l.dom.getParentElement(t,{nodeName:"LI"}),o="UL"===e?"OL":"UL";a(t,e)?i.el=t:a(t,o)?i={el:t,other:!0}:r&&(a(r.parentNode,e)?i.el=r.parentNode:a(r.parentNode,o)&&(i={el:r.parentNode,other:!0}))}return i.el&&!n.element.contains(i.el)&&(i.el=null),i},u=function(i,r,o){var a,s="UL"===r?"OL":"UL";o.selection.executeAndRestore(function(){var t=d(s,o);if(t.length)for(var e=t.length;e--;)l.dom.renameElement(t[e],r.toLowerCase());else{for(var n=(a=d(["OL","UL"],o)).length;n--;)l.dom.resolveList(a[n],o.config.useLineBreaks);l.dom.resolveList(i,o.config.useLineBreaks)}})},c=function(n,i,r){var o="UL"===i?"OL":"UL";r.selection.executeAndRestore(function(){for(var t=[n].concat(d(o,r)),e=t.length;e--;)l.dom.renameElement(t[e],i.toLowerCase())})},d=function(e,t){for(var n=t.selection.getOwnRanges(),i=[],r=n.length;r--;)i=i.concat(n[r].getNodes([1],function(t){return a(t,e)}));return i},f=function(o,a){a.selection.executeAndRestoreRangy(function(){var t,e,n="_wysihtml5-temp-"+(new Date).getTime(),i=a.selection.deblockAndSurround({nodeName:"div",className:n}),r=/\uFEFF/g;i.innerHTML=i.innerHTML.replace(r,""),i&&(t=l.lang.array(["","<br>",l.INVISIBLE_SPACE]).contains(i.innerHTML),e=l.dom.convertToList(i,o.toLowerCase(),a.parent.config.uneditableContainerClassname),t&&a.selection.selectNode(e.querySelector("li"),!0))})};return{exec:function(t,e,n){var i=t.doc,r="OL"===n?"insertOrderedList":"insertUnorderedList",o=t.selection.getSelectedNode(),a=s(o,n,t);a.el?a.other?c(a.el,n,t):u(a.el,n,t):t.commands.support(r)?i.execCommand(r,!1,null):f(n,t)},state:function(t,e,n){var i=t.selection.getSelectedNode(),r=s(i,n,t);return!(!r.el||r.other)&&r.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"i")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"i")}},function(e){var n="wysiwyg-text-align-center",i=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyCenter={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,n,i)}}}(wysihtml5),function(e){var n="wysiwyg-text-align-left",i=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyLeft={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,n,i)}}}(wysihtml5),function(e){var n="wysiwyg-text-align-right",i=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyRight={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,n,i)}}}(wysihtml5),function(e){var n="wysiwyg-text-align-justify",i=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyFull={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,n,i)}}}(wysihtml5),function(e){var n="text-align: right;",i=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignRightStyle={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,null,null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,null,null,n,i)}}}(wysihtml5),function(e){var n="text-align: left;",i=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignLeftStyle={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,null,null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,null,null,n,i)}}}(wysihtml5),function(e){var n="text-align: center;",i=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignCenterStyle={exec:function(t){return e.commands.formatBlock.exec(t,"formatBlock",null,null,null,n,i)},state:function(t){return e.commands.formatBlock.state(t,"formatBlock",null,null,null,n,i)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(t){return t.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"u")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"u")}},wysihtml5.commands.undo={exec:function(t){return t.undoManager.undo()},state:function(){return!1}},wysihtml5.commands.createTable={exec:function(t,e,n){var i,r,o;if(n&&n.cols&&n.rows&&0<parseInt(n.cols,10)&&0<parseInt(n.rows,10)){for(o=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",o+="<tbody>",r=0;r<n.rows;r++){for(o+="<tr>",i=0;i<n.cols;i++)o+="<td>&nbsp;</td>";o+="</tr>"}o+="</tbody></table>",t.commands.exec("insertHTML",o)}},state:function(){return!1}},wysihtml5.commands.mergeTableCells={exec:function(t,e){t.tableSelection&&t.tableSelection.start&&t.tableSelection.end&&(this.state(t,e)?wysihtml5.dom.table.unmergeCell(t.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(t.tableSelection.start,t.tableSelection.end))},state:function(t){if(t.tableSelection){var e=t.tableSelection.start,n=t.tableSelection.end;if(e&&n&&e==n&&(wysihtml5.dom.getAttribute(e,"colspan")&&1<parseInt(wysihtml5.dom.getAttribute(e,"colspan"),10)||wysihtml5.dom.getAttribute(e,"rowspan")&&1<parseInt(wysihtml5.dom.getAttribute(e,"rowspan"),10)))return[e]}return!1}},wysihtml5.commands.addTableCells={exec:function(t,e,n){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var i=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(i.start,n):"after"!=n&&"below"!=n||wysihtml5.dom.table.addCells(i.end,n),setTimeout(function(){t.tableSelection.select(i.start,i.end)},0)}},state:function(){return!1}},wysihtml5.commands.deleteTableCells={exec:function(t,e,n){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var i,r=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end),o=wysihtml5.dom.table.indexOf(r.start),a=t.tableSelection.table;wysihtml5.dom.table.removeCells(r.start,n),setTimeout(function(){(i=wysihtml5.dom.table.findCell(a,o))||("row"==n&&(i=wysihtml5.dom.table.findCell(a,{row:o.row-1,col:o.col})),"column"==n&&(i=wysihtml5.dom.table.findCell(a,{row:o.row,col:o.col-1}))),i&&t.tableSelection.select(i,i)},0)}},state:function(){return!1}},wysihtml5.commands.indentList={exec:function(t){var e=t.selection.getSelectionParentsByTag("LI");return!!e&&this.tryToPushLiLevel(e,t.selection)},state:function(){return!1},tryToPushLiLevel:function(e,t){var n,i,r,o,a,s=!1;return t.executeAndRestoreRangy(function(){for(var t=e.length;t--;)o=e[t],n="OL"===o.parentNode.nodeName?"OL":"UL",i=o.ownerDocument.createElement(n),r=wysihtml5.dom.domNode(o).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),a=r?r.querySelector("ul, ol"):null,r&&(a?a.appendChild(o):(i.appendChild(o),r.appendChild(i)),s=!0)}),s}},wysihtml5.commands.outdentList={exec:function(t){var e=t.selection.getSelectionParentsByTag("LI");return!!e&&this.tryToPullLiLevel(e,t)},state:function(){return!1},tryToPullLiLevel:function(n,i){var r,o,a,s,l,u=!1,c=this;return i.selection.executeAndRestoreRangy(function(){for(var t=n.length;t--;)if((s=n[t]).parentNode&&("OL"===(r=s.parentNode).tagName||"UL"===r.tagName)){if(u=!0,o=wysihtml5.dom.getParentElement(r.parentNode,{nodeName:["OL","UL"]},!1,i.element),a=wysihtml5.dom.getParentElement(r.parentNode,{nodeName:["LI"]},!1,i.element),o&&a)s.nextSibling&&(l=c.getAfterList(r,s),s.appendChild(l)),o.insertBefore(s,a.nextSibling);else{s.nextSibling&&(l=c.getAfterList(r,s),s.appendChild(l));for(var e=s.childNodes.length;e--;)r.parentNode.insertBefore(s.childNodes[e],r.nextSibling);r.parentNode.insertBefore(document.createElement("br"),r.nextSibling),s.parentNode.removeChild(s)}0===r.childNodes.length&&r.parentNode.removeChild(r)}}),u},getAfterList:function(t,e){for(var n=t.nodeName,i=document.createElement(n);e.nextSibling;)i.appendChild(e.nextSibling);return i}},function(c){var o=90,a=89,i=8,s=46,d=25,f="data-wysihtml5-selection-node",h="data-wysihtml5-selection-offset",t=(c.INVISIBLE_SPACE,c.INVISIBLE_SPACE,c.dom);c.UndoManager=c.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var n,r=this;this.composer.sandbox.getDocument();t.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var e=t.keyCode,n=e===o&&!t.shiftKey,i=e===o&&t.shiftKey||e===a;n?(r.undo(),t.preventDefault()):i&&(r.redo(),t.preventDefault())}}),t.observe(this.element,"keydown",function(t){var e=t.keyCode;e!==n&&((n=e)!==i&&e!==s||r.transact())}),this.editor.on("newword:composer",function(){r.transact()}).on("beforecommand:composer",function(){r.transact()})},transact:function(){var t,e,n,i,r,o=this.historyStr[this.position-1],a=this.composer.getValue(!1,!1),s=0<this.element.offsetWidth&&0<this.element.offsetHeight;if(a!==o){var l=this.historyStr.length=this.historyDom.length=this.position;d<l&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,s&&(e=(t=this.composer.selection.getRange())&&t.startContainer?t.startContainer:this.element,n=t&&t.startOffset?t.startOffset:0,e.nodeType===c.ELEMENT_NODE?i=e:(i=e.parentNode,r=this.getChildNodeIndex(i,e)),i.setAttribute(h,n),void 0!==r&&i.setAttribute(f,r));var u=this.element.cloneNode(!!a);this.historyDom.push(u),this.historyStr.push(a),i&&(i.removeAttribute(h),i.removeAttribute(f))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(t){this.element.innerHTML="";for(var e,n,i,r=0,o=t.childNodes,a=t.childNodes.length;r<a;r++)this.element.appendChild(o[r].cloneNode(!0));t.hasAttribute(h)?(e=t.getAttribute(h),i=t.getAttribute(f),n=this.element):(e=(n=this.element.querySelector("["+h+"]")||this.element).getAttribute(h),i=n.getAttribute(f),n.removeAttribute(h),n.removeAttribute(f)),null!==i&&(n=this.getChildNodeByIndex(n,+i)),this.composer.selection.set(n,e)},getChildNodeIndex:function(t,e){for(var n=0,i=t.childNodes,r=i.length;n<r;n++)if(i[n]===e)return n},getChildNodeByIndex:function(t,e){return t.childNodes[e]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,n){this.parent=t,this.element=e,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.on("beforeload",function(){e.parent.on("change_view",function(t){t===e.name?((e.parent.currentView=e).show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(l){var u=l.dom,c=l.browser;l.views.Composer=l.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,n){this.base(t,e,n),this.config.noTextarea?this.editableArea=e:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t,e){var n=this.isEmpty()?"":l.quirks.getCorrectInnerHTML(this.element);return!1!==t&&(n=this.parent.parse(n,!1!==e)),n},setValue:function(t,e){e&&(t=this.parent.parse(t));try{this.element.innerHTML=t}catch(n){this.element.innerText=t}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=u.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(t){l.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var e=this.element.lastChild;t&&e&&this.selection&&("BR"===e.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return u.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var t=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(t)||""===t||"<br>"===t||"<p></p>"===t||"<p><br></p>"===t||this.hasPlaceholderSet()},_initContentEditableArea:function(){var t=this;this.config.noTextarea?this.sandbox=new u.ContentEditableArea(function(){t._create()},{},this.editableArea):(this.sandbox=new u.ContentEditableArea(function(){t._create()}),this.editableArea=this.sandbox.getContentEditable(),u.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var t=this;this.sandbox=new u.Sandbox(function(){t._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var e=this.textarea.element;u.insert(this.editableArea).after(e),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var t=document.createElement("input");t.type="hidden",t.name="_wysihtml5_mode",t.value=1,u.insert(t).after(this.textarea.element)}},_create:function(){var t=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new l.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new l.Commands(this.parent),this.config.noTextarea||u.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),u.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var e=this.config.name;e&&(u.addClass(this.element,e),this.config.contentEditableMode||u.addClass(this.editableArea,e)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var n="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");n&&u.simulatePlaceholder(this.parent,this,n),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||c.isIos()||setTimeout(function(){t.focus(!0)},100),c.clearsContentEditableCorrectly()||l.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var o=this,t=c.canDisableAutoLinking(),e=c.doesAutoLinkingInContentEditable();if(t&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!e||e&&t)&&(this.parent.on("newword:composer",function(){u.getTextContent(o.element).match(u.autoLink.URL_REG_EXP)&&o.selection.executeAndRestore(function(t,e){for(var n=o.element.querySelectorAll("."+o.config.uneditableContainerClassname),i=!1,r=n.length;r--;)l.dom.contains(n[r],e)&&(i=!0);i||u.autoLink(e.parentNode,[o.config.uneditableContainerClassname])})}),u.observe(this.element,"blur",function(){u.autoLink(o.element,[o.config.uneditableContainerClassname])}));var r=this.sandbox.getDocument().getElementsByTagName("a"),a=u.autoLink.URL_REG_EXP,s=function(t){var e=l.lang.string(u.getTextContent(t)).trim();return"www."===e.substr(0,4)&&(e="http://"+e),e};u.observe(this.element,"keydown",function(t){if(r.length){var e,n=o.selection.getSelectedNode(t.target.ownerDocument),i=u.getParentElement(n,{nodeName:"A"},4);i&&(e=s(i),setTimeout(function(){var t=s(i);t!==e&&t.match(a)&&i.setAttribute("href",t)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),c.supportsEvent("resizeend")){var o=["width","height"],a=o.length,s=this.element;u.observe(s,"resizeend",function(t){var e,n=t.target||t.srcElement,i=n.style,r=0;if("IMG"===n.nodeName){for(;r<a;r++)i[e=o[r]]&&(n.setAttribute(e,parseInt(i[e],10)),i[e]="");l.quirks.redraw(s)}})}},_initUndoManager:function(){this.undoManager=new l.UndoManager(this.parent)},_initLineBreaking:function(){function i(t){var e=u.getParentElement(t,{nodeName:["P","DIV"]},2);e&&u.contains(r.element,e)&&r.selection.executeAndRestore(function(){r.config.useLineBreaks?u.replaceWithChildNodes(e):"P"!==e.nodeName&&u.renameElement(e,"p")})}var r=this,o=["LI","P","H1","H2","H3","H4","H5","H6"],a=["UL","OL","MENU"];this.config.useLineBreaks||u.observe(this.element,["focus","keydown"],function(){if(r.isEmpty()){var t=r.doc.createElement("P");r.element.innerHTML="",r.element.appendChild(t),c.displaysCaretInEmptyContentEditableCorrectly()?r.selection.selectNode(t,!0):(t.innerHTML="<br>",r.selection.setBefore(t.firstChild))}}),u.observe(this.element,"keydown",function(t){var e=t.keyCode;if(!t.shiftKey&&(e===l.ENTER_KEY||e===l.BACKSPACE_KEY)){var n=u.getParentElement(r.selection.getSelectedNode(),{nodeName:o},4);n?setTimeout(function(){var t=r.selection.getSelectedNode();if("LI"===n.nodeName){if(!t)return;u.getParentElement(t,{
nodeName:a},2)||i(t)}e===l.ENTER_KEY&&n.nodeName.match(/^H[1-6]$/)&&i(t)},0):r.config.useLineBreaks&&e===l.ENTER_KEY&&!l.browser.insertsLineBreaksOnReturn()&&(t.preventDefault(),r.commands.exec("insertLineBreak"))}})}})}(wysihtml5),function(u){var c=u.dom,d=document,a=window,f=d.createElement("div"),h=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],p=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],m=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",".wysiwyg-color-black {color: black;}",".wysiwyg-color-silver {color: silver;}",".wysiwyg-color-gray {color: gray;}",".wysiwyg-color-white {color: white;}",".wysiwyg-color-maroon {color: maroon;}",".wysiwyg-color-red {color: red;}",".wysiwyg-color-purple {color: purple;}",".wysiwyg-color-fuchsia {color: fuchsia;}",".wysiwyg-color-green {color: green;}",".wysiwyg-color-lime {color: lime;}",".wysiwyg-color-olive {color: olive;}",".wysiwyg-color-yellow {color: yellow;}",".wysiwyg-color-navy {color: navy;}",".wysiwyg-color-blue {color: blue;}",".wysiwyg-color-teal {color: teal;}",".wysiwyg-color-aqua {color: aqua;}",".wysiwyg-color-orange {color: orange;}",u.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],g=function(t){if(t.setActive)try{t.setActive()}catch(o){}else{var e=t.style,n=d.documentElement.scrollTop||d.body.scrollTop,i=d.documentElement.scrollLeft||d.body.scrollLeft,r={position:e.position,top:e.top,left:e.left,WebkitUserSelect:e.WebkitUserSelect};c.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),c.setStyles(r).on(t),a.scrollTo&&a.scrollTo(i,n)}};u.views.Composer.prototype.style=function(){var t,e=this,n=d.querySelector(":focus"),i=this.textarea.element,r=i.hasAttribute("placeholder"),o=r&&i.getAttribute("placeholder"),a=i.style.display,s=i.disabled;this.focusStylesHost=f.cloneNode(!1),this.blurStylesHost=f.cloneNode(!1),this.disabledStylesHost=f.cloneNode(!1),r&&i.removeAttribute("placeholder"),i===n&&i.blur(),i.disabled=!1,i.style.display=t="none",(i.getAttribute("rows")&&"auto"===c.getStyle("height").from(i)||i.getAttribute("cols")&&"auto"===c.getStyle("width").from(i))&&(i.style.display=t=a),c.copyStyles(p).from(i).to(this.editableArea).andTo(this.blurStylesHost),c.copyStyles(h).from(i).to(this.element).andTo(this.blurStylesHost),c.insertCSS(m).into(this.element.ownerDocument),i.disabled=!0,c.copyStyles(p).from(i).to(this.disabledStylesHost),c.copyStyles(h).from(i).to(this.disabledStylesHost),i.disabled=s,i.style.display=a,g(i),i.style.display=t,c.copyStyles(p).from(i).to(this.focusStylesHost),c.copyStyles(h).from(i).to(this.focusStylesHost),i.style.display=a,c.copyStyles(["display"]).from(i).to(this.editableArea);var l=u.lang.array(p).without(["display"]);return n?n.focus():i.blur(),r&&i.setAttribute("placeholder",o),this.parent.on("focus:composer",function(){c.copyStyles(l).from(e.focusStylesHost).to(e.editableArea),c.copyStyles(h).from(e.focusStylesHost).to(e.element)}),this.parent.on("blur:composer",function(){c.copyStyles(l).from(e.blurStylesHost).to(e.editableArea),c.copyStyles(h).from(e.blurStylesHost).to(e.element)}),this.parent.observe("disable:composer",function(){c.copyStyles(l).from(e.disabledStylesHost).to(e.editableArea),c.copyStyles(h).from(e.disabledStylesHost).to(e.element)}),this.parent.observe("enable:composer",function(){c.copyStyles(l).from(e.blurStylesHost).to(e.editableArea),c.copyStyles(h).from(e.blurStylesHost).to(e.element)}),this}}(wysihtml5),function(u){var c=u.dom,d=u.browser,f={66:"bold",73:"italic",85:"underline"},s=function(t,e,n){var i=t.getPreviousNode(e,!0),r=t.getSelectedNode();if(1!==r.nodeType&&r.parentNode!==n&&(r=r.parentNode),i)if(1==r.nodeType){var o=r.firstChild;if(1==i.nodeType)for(;r.firstChild;)i.appendChild(r.firstChild);else for(;r.firstChild;)e.parentNode.insertBefore(r.firstChild,e);r.parentNode&&r.parentNode.removeChild(r),t.setBefore(o)}else 1==i.nodeType?i.appendChild(r):e.parentNode.insertBefore(r,e),t.setBefore(r)},h=function(t,e,n,i){if(e.isCollapsed())if(e.caretIsInTheBeginnig("LI"))t.preventDefault(),i.commands.exec("outdentList");else if(e.caretIsInTheBeginnig())t.preventDefault();else{if(e.caretIsFirstInSelection()&&e.getPreviousNode()&&e.getPreviousNode().nodeName&&/^H\d$/gi.test(e.getPreviousNode().nodeName)){var r=e.getPreviousNode();if(t.preventDefault(),/^\s*$/.test(r.textContent||r.innerText))r.parentNode.removeChild(r);else{var o=r.ownerDocument.createRange();o.selectNodeContents(r),o.collapse(!1),e.setSelection(o)}}var a=e.caretIsBeforeUneditable();a&&(t.preventDefault(),s(e,a,n))}else e.containsUneditable()&&(t.preventDefault(),e.deleteContents())},p=function(t){if(t.selection.isCollapsed()){if(t.selection.caretIsInTheBeginnig("LI")&&t.commands.exec("indentList"))return}else t.selection.deleteContents();t.commands.exec("insertHTML","&emsp;")};u.views.Composer.prototype.observe=function(){var o=this,n=this.getValue(!1,!1),t=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),a=this.element,e=d.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?a:this.sandbox.getWindow(),i=["drop","paste"],r=["drop","paste","mouseup","focus","keyup"];if(c.observe(t,"DOMNodeRemoved",function(){clearInterval(s),o.parent.fire("destroy:composer")}),!d.supportsMutationEvents())var s=setInterval(function(){c.contains(document.documentElement,t)||(clearInterval(s),o.parent.fire("destroy:composer"))},250);c.observe(e,r,function(){setTimeout(function(){o.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&u.browser.supportsCommand(this.doc,"enableObjectResizing")&&u.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=c.observe(t,["focus","mouseup","mouseover"],function(){o.doc.execCommand("enableObjectResizing",!1,"false"),o.doc.execCommand("enableInlineTableEditing",!1,"false"),o.tableClickHandle.stop()}):setTimeout(function(){o.doc.execCommand("enableObjectResizing",!1,"false"),o.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=u.quirks.tableCellsSelection(a,o.parent)),c.observe(e,"focus",function(t){o.parent.fire("focus",t).fire("focus:composer",t),setTimeout(function(){n=o.getValue(!1,!1)},0)}),c.observe(e,"blur",function(t){if(n!==o.getValue(!1,!1)){var e=t;"function"==typeof Object.create&&(e=Object.create(t,{type:{value:"change"}})),o.parent.fire("change",e).fire("change:composer",e)}o.parent.fire("blur",t).fire("blur:composer",t)}),c.observe(a,"dragenter",function(){o.parent.fire("unset_placeholder")}),c.observe(a,i,function(t){setTimeout(function(){o.parent.fire(t.type,t).fire(t.type+":composer",t)},0)}),c.observe(a,"keyup",function(t){var e=t.keyCode;e!==u.SPACE_KEY&&e!==u.ENTER_KEY||o.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){o.parent.fire("newword:composer")},0)}),d.canSelectImagesInContentEditable()||c.observe(a,"mousedown",function(t){var e=t.target,n=a.querySelectorAll("img"),i=a.querySelectorAll("."+o.config.uneditableContainerClassname+" img"),r=u.lang.array(n).without(i);"IMG"===e.nodeName&&u.lang.array(r).contains(e)&&o.selection.selectNode(e)}),d.canSelectImagesInContentEditable()||c.observe(a,"drop",function(){setTimeout(function(){o.selection.getSelection().removeAllRanges()},0)}),d.hasHistoryIssue()&&d.supportsSelectionModify()&&c.observe(a,"keydown",function(t){if(t.metaKey||t.ctrlKey){var e=t.keyCode,n=a.ownerDocument.defaultView.getSelection();37!==e&&39!==e||(37===e&&(n.modify("extend","left","lineboundary"),t.shiftKey||n.collapseToStart()),39===e&&(n.modify("extend","right","lineboundary"),t.shiftKey||n.collapseToEnd()),t.preventDefault())}}),c.observe(a,"keydown",function(t){var e=t.keyCode,n=f[e];(t.ctrlKey||t.metaKey)&&!t.altKey&&n&&(o.commands.exec(n),t.preventDefault()),8===e?h(t,o.selection,a,o):o.config.handleTabKey&&9===e&&(t.preventDefault(),p(o,a))}),c.observe(a,"keydown",function(t){var e,n=o.selection.getSelectedNode(!0),i=t.keyCode;!n||"IMG"!==n.nodeName||i!==u.BACKSPACE_KEY&&i!==u.DELETE_KEY||((e=n.parentNode).removeChild(n),"A"!==e.nodeName||e.firstChild||e.parentNode.removeChild(e),setTimeout(function(){u.quirks.redraw(a)},0),t.preventDefault())}),!this.config.contentEditableMode&&d.hasIframeFocusIssue()&&(c.observe(t,"focus",function(){setTimeout(function(){o.doc.querySelector(":focus")!==o.element&&o.focus()},0)}),c.observe(this.element,"blur",function(){setTimeout(function(){o.selection.getSelection().removeAllRanges()},0)}));var l={IMG:"Image: ",A:"Link: "};c.observe(a,"mouseover",function(t){var e,n=t.target,i=n.nodeName;"A"!==i&&"IMG"!==i||(n.hasAttribute("title")||(e=l[i]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",e)))})}}(wysihtml5),function(o){var a=400;o.views.Synchronizer=Base.extend({constructor:function(t,e,n){this.editor=t,this.textarea=e,this.composer=n,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(o.lang.string(this.composer.getValue(!1,!1)).trim(),t)},fromTextareaToComposer:function(t){var e=this.textarea.getValue(!1,!1);e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var e,n=this,t=this.textarea.element.form,i=function(){e=setInterval(function(){n.fromComposerToTextarea()},a)},r=function(){clearInterval(e),e=null};i(),t&&(o.dom.observe(t,"submit",function(){n.sync(!0)}),o.dom.observe(t,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(t){"composer"!==t||e?"textarea"===t&&(n.fromComposerToTextarea(!0),r()):(n.fromTextareaToComposer(!0),i())}),this.editor.on("destroy:composer",r)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,n){this.base(t,e,n),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return!1!==t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},cleanUp:function(){var t=this.parent.parse(this.element.value);this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,n=this.element.value;return t&&!n||n===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,n=this.parent,i={focusin:"focus",focusout:"blur"},e=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];n.on("beforeload",function(){wysihtml5.dom.observe(t,e,function(t){var e=i[t.type]||t.type;n.fire(e).fire(e+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){n.fire("paste").fire("paste:textarea")},0)})})}}),function(r){var t,i={name:t,style:!0,toolbar:t,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:r.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:t,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container"};r.Editor=r.lang.Dispatcher.extend({constructor:function(t,e){if(this.editableElement="string"==typeof t?document.getElementById(t):t,this.config=r.lang.object({}).merge(i).merge(e).get(),this._isCompatible=r.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new r.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&r.browser.isTouchDevice()){var n=this;setTimeout(function(){n.fire("beforeload").fire("load")},0)}else r.dom.addClass(document.body,this.config.bodyClassName),this.composer=new r.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new r.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new r.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t,e){return this.currentView.getValue(t,e)},setValue:function(t,e){return this.fire("unset_placeholder"),t?(this.currentView.setValue(t,e),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t,e){var n=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,i=this.config.parser(t,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:n,uneditableClass:this.config.uneditableContainerClassname,clearInternals:e});return"object"==typeof t&&r.quirks.redraw(t),i},_initParser:function(){this.on("paste:composer",function(){var t=!0,e=this;e.composer.selection.executeAndRestore(function(){r.quirks.cleanPastedHTML(e.composer.element),e.parse(e.composer.element)},t)})}})}(wysihtml5),function(a){var s=a.dom,l="wysihtml5-command-dialog-opened",u="input, select, textarea",c="[data-wysihtml5-dialog-field]",d="data-wysihtml5-dialog-field";a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){if(!this._observed){var n=this,i=function(t){var e=n._serialize();e==n.elementToChange?n.fire("edit",e):n.fire("save",e),n.hide(),t.preventDefault(),t.stopPropagation()};s.observe(n.link,"click",function(){s.hasClass(n.link,l)&&setTimeout(function(){n.hide()},0)}),s.observe(this.container,"keydown",function(t){var e=t.keyCode;e===a.ENTER_KEY&&i(t),e===a.ESCAPE_KEY&&(n.fire("cancel"),n.hide())}),s.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",i),s.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){n.fire("cancel"),n.hide(),t.preventDefault(),t.stopPropagation()});for(var t=this.container.querySelectorAll(u),e=0,r=t.length,o=function(){clearInterval(n.interval)};e<r;e++)s.observe(t[e],"change",o);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll(c),n=e.length,i=0;i<n;i++)t[e[i].getAttribute(d)]=e[i].value;return t},_interpolate:function(t){for(var e,n,i,r=document.querySelector(":focus"),o=this.container.querySelectorAll(c),a=o.length,s=0;s<a;s++)(e=o[s])!==r&&(t&&"hidden"===e.type||(n=e.getAttribute(d),i=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":e.defaultValue,e.value=i))},show:function(t){if(!s.hasClass(this.link,l)){var e=this,n=this.container.querySelector(u);if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){e._interpolate(!0)},500)),s.addClass(this.link,l),this.container.style.display="",this.fire("show"),n&&!t)try{n.focus()}catch(i){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,s.removeClass(this.link,l),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(a){var s=a.dom,l={position:"relative"},u={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},c={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},d={"x-webkit-speech":"",speech:""};a.toolbar.Speech=function(t,e){var n=document.createElement("input");if(a.browser.supportsSpeechApiOn(n)){var i=t.editor.textarea.element.getAttribute("lang");i&&(d.lang=i);var r=document.createElement("div");a.lang.object(u).merge({width:e.offsetWidth+"px",height:e.offsetHeight+"px"}),s.insert(n).into(r),s.insert(r).into(e),s.setStyles(c).on(n),s.setAttributes(d).on(n),s.setStyles(u).on(r),s.setStyles(l).on(e);var o="onwebkitspeechchange"in n?"webkitspeechchange":"speechchange";s.observe(n,o,function(){t.execCommand("insertText",n.value),n.value=""}),s.observe(n,"click",function(t){s.hasClass(e,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})}else e.style.display="none"}}(wysihtml5),function(c){var a="wysihtml5-command-disabled",s="wysihtml5-commands-disabled",l="wysihtml5-command-active",u="wysihtml5-action-active",d=c.dom;c.toolbar.Toolbar=Base.extend({constructor:function(t,e,n){this.editor=t,this.container="string"==typeof e?document.getElementById(e):e,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),n&&this.show();for(var i=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),r=i.length,o=0;o<r;o++)new c.toolbar.Speech(this,i[o])},_getLinks:function(t){for(var e,n,i,r,o,a=this[t+"Links"]=c.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),s=a.length,l=0,u=this[t+"Mapping"]={};l<s;l++)i=(e=a[l]).getAttribute("data-wysihtml5-"+t),r=e.getAttribute("data-wysihtml5-"+t+"-value"),n=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+i+"']"),o=this._getDialog(e,i),u[i+":"+r]={link:e,group:n,name:i,value:r,dialog:o,state:!1}},_getDialog:function(e,n){var t,i,r=this,o=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return o&&((t=c.toolbar["Dialog_"+n]?new c.toolbar["Dialog_"+n](e,o):new c.toolbar.Dialog(e,o)).on("show",function(){i=r.composer.selection.getBookmark(),r.editor.fire("show:dialog",{command:n,dialogContainer:o,commandLink:e})}),t.on("save",function(t){i&&r.composer.selection.setBookmark(i),r._execCommand(n,t),r.editor.fire("save:dialog",{command:n,dialogContainer:o,commandLink:e})}),t.on("cancel",function(){r.editor.focus(!1),r.editor.fire("cancel:dialog",{command:n,dialogContainer:o,commandLink:e})})),t},execCommand:function(t,e){if(!this.commandsDisabled){var n=this.commandMapping[t+":"+e];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;"change_view"===t&&e.textarea&&(e.currentView===e.textarea?e.fire("change_view","composer"):e.fire("change_view","textarea")),"showSource"==t&&e.fire("showSource")},_observe:function(){for(var r=this,e=this.editor,n=this.container,t=this.commandLinks.concat(this.actionLinks),i=t.length,o=0;o<i;o++)"A"===t[o].nodeName?d.setAttributes({href:"javascript:;",unselectable:"on"}).on(t[o]):d.setAttributes({unselectable:"on"}).on(t[o]);d.delegate(n,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(t){t.preventDefault()}),d.delegate(n,"[data-wysihtml5-command]","click",function(t){var e=this,n=e.getAttribute("data-wysihtml5-command"),i=e.getAttribute("data-wysihtml5-command-value");r.execCommand(n,i),t.preventDefault()}),d.delegate(n,"[data-wysihtml5-action]","click",function(t){var e=this.getAttribute("data-wysihtml5-action");r.execAction(e),t.preventDefault()}),e.on("interaction:composer",function(){r._updateLinkStates()}),e.on("focus:composer",function(){r.bookmark=null}),this.editor.config.handleTables&&(e.on("tableselect:composer",function(){r.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),e.on("tableunselect:composer",function(){r.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),e.on("change_view",function(t){e.textarea&&setTimeout(function(){r.commandsDisabled="composer"!==t,r._updateLinkStates(),r.commandsDisabled?d.addClass(n,s):d.removeClass(n,s)},0)})},_updateLinkStates:function(){var t,e,n,i,r=this.commandMapping,o=this.actionMapping;for(t in r)i=r[t],this.commandsDisabled?(e=!1,d.removeClass(i.link,l),i.group&&d.removeClass(i.group,l),i.dialog&&i.dialog.hide()):(e=this.composer.commands.state(i.name,i.value),d.removeClass(i.link,a),i.group&&d.removeClass(i.group,a)),i.state!==e&&((i.state=e)?(d.addClass(i.link,l),i.group&&d.addClass(i.group,l),i.dialog&&("object"==typeof e||c.lang.object(e).isArray()?(!i.dialog.multiselect&&c.lang.object(e).isArray()&&(e=1!==e.length||e[0],i.state=e),i.dialog.show(e)):i.dialog.hide())):(d.removeClass(i.link,l),i.group&&d.removeClass(i.group,l),i.dialog&&i.dialog.hide()));for(t in o)"change_view"===(n=o[t]).name&&(n.state=this.editor.currentView===this.editor.textarea,n.state?d.addClass(n.link,u):d.removeClass(n.link,u))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(t){t.toolbar.Dialog_createTable=t.toolbar.Dialog.extend({show:function(t){this.base(t)}})}(wysihtml5),function(u){u.dom;var c="[data-wysihtml5-dialog-field]",d="data-wysihtml5-dialog-field";u.toolbar.Dialog_foreColorStyle=u.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var t={},e=this.container.querySelectorAll(c),n=e.length,i=0;i<n;i++)t[e[i].getAttribute(d)]=e[i].value;return t},_interpolate:function(t){for(var e,n=document.querySelector(":focus"),i=this.container.querySelectorAll(c),r=i.length,o=0,a=this.elementToChange?u.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,s=a?a.getAttribute("style"):null,l=s?u.quirks.styleParser.parseColor(s,"color"):null;o<r;o++)(e=i[o])!==n&&(t&&"hidden"===e.type||"color"===e.getAttribute(d)&&(l?l[3]&&1!=l[3]?e.value="rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+");":e.value="rgb("+l[0]+","+l[1]+","+l[2]+");":e.value="rgb(0,0,0);"))}})}(wysihtml5),function(o){o.dom;o.toolbar.Dialog_fontSizeStyle=o.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(){var t=document.querySelector(":focus"),e=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),n=this.elementToChange?o.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,i=n?n.getAttribute("style"):null,r=i?o.quirks.styleParser.parseFontSize(i):null;e&&e!==t&&r&&!/^\s*$/.test(r)&&(e.value=r)}})}(wysihtml5),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var r={};return i.m=n,i.c=r,i.p="",i(0)}([function(d,f,h){(function(t){"use strict";function e(){var e=new i.HandlebarsEnvironment;return a.extend(e,i),e.SafeString=r["default"],e.Exception=o["default"],e.Utils=a,e.escapeExpression=a.escapeExpression,e.VM=s,e.template=function(t){return s.template(t,e)},e}var n=h(6)["default"];f.__esModule=!0;var i=n(h(1)),r=n(h(2)),o=n(h(3)),a=n(h(4)),s=n(h(5)),l=e();l.create=e;var u=void 0!==t?t:window,c=u.Handlebars;l.noConflict=function(){u.Handlebars===l&&(u.Handlebars=c)},l["default"]=l,f["default"]=l,d.exports=f["default"]}).call(f,function(){return this}())},function(t,e,n){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},r(this)}function r(o){o.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new p["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),o.registerHelper("blockHelperMissing",function(t,e){var n=e.inverse,i=e.fn;if(!0===t)return i(this);if(!1===t||null==t)return n(this);if(m(t))return 0<t.length?(e.ids&&(e.ids=[e.name]),o.helpers.each(t,e)):n(this);if(e.data&&e.ids){var r=f(e.data);r.contextPath=h.appendContextPath(e.data.contextPath,e.name),e={data:r}}return i(t,e)}),o.registerHelper("each",function(i,t){function e(t,e,n){s&&(s.key=t,s.index=e,s.first=0===e,s.last=!!n,l&&(s.contextPath=l+t)),a+=r(i[t],{data:s,blockParams:h.blockParams([i[t],t],[l+t,null])})}if(!t)throw new p["default"]("Must pass iterator to #each");var r=t.fn,n=t.inverse,o=0,a="",s=void 0,l=void 0;if(t.data&&t.ids&&(l=h.appendContextPath(t.data.contextPath,t.ids[0])+"."),g(i)&&(i=i.call(this)),t.data&&(s=f(t.data)),i&&"object"==typeof i)if(m(i))for(var u=i.length;o<u;o++)e(o,o,o===i.length-1);else{var c=void 0;for(var d in i)i.hasOwnProperty(d)&&(c&&e(c,o-1),c=d,o++);c&&e(c,o-1,!0)}return 0===o&&(a=n(this)),a}),o.registerHelper("if",function(t,e){return g(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||h.isEmpty(t)?e.inverse(this):e.fn(this)}),o.registerHelper("unless",function(t,e){return o.helpers["if"].call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})}),o.registerHelper("with",function(t,e){g(t)&&(t=t.call(this));var n=e.fn;if(h.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=f(e.data);i.contextPath=h.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return n(t,e)}),o.registerHelper("log",function(t,e){var n=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;o.log(n,t)}),o.registerHelper("lookup",function(t,e){return t&&t[e]})}function f(t){var e=h.extend({},t);return e._parent=t,e}var o=n(6)["default"];e.__esModule=!0,e.HandlebarsEnvironment=i,e.createFrame=f;var h=o(n(4)),p=o(n(3)),a="3.0.1";e.VERSION=a;var s=6;e.COMPILER_REVISION=s;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};e.REVISION_CHANGES=l;var m=h.isArray,g=h.isFunction,u=h.toString,c="[object Object]";i.prototype={constructor:i,logger:d,log:v,registerHelper:function(t,e){if(u.call(t)===c){if(e)throw new p["default"]("Arg not supported with multiple helpers");h.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(u.call(t)===c)h.extend(this.partials,t);else{if(void 0===e)throw new p["default"]("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&d.level<=t){var n=d.methodMap[t];(console[n]||console.log).call(console,e)}}},v=(e.logger=d).log;e.log=v},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n,t.exports=e["default"]},function(t,e){"use strict";function s(t,e){var n=e&&e.loc,i=void 0,r=void 0;n&&(t+=" - "+(i=n.start.line)+":"+(r=n.start.column));for(var o=Error.prototype.constructor.call(this,t),a=0;a<l.length;a++)this[l[a]]=o[l[a]];Error.captureStackTrace&&Error.captureStackTrace(this,s),n&&(this.lineNumber=i,this.column=r)}e.__esModule=!0;var l=["description","fileName","lineNumber","message","name","number","stack"];s.prototype=new Error,e["default"]=s,t.exports=e["default"]},function(t,e){"use strict";function n(t){return c[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function r(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return f.test(t)?t.replace(d,n):t}function a(t){return!t&&0!==t||!(!p(t)||0!==t.length)}function s(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=i,e.indexOf=r,e.escapeExpression=o,e.isEmpty=a,e.blockParams=s,e.appendContextPath=l;var u,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},d=/[&<>"'`]/g,f=/[&<>"'`]/,h=Object.prototype.toString;e.toString=h,(u=function(t){return"function"==typeof t})(/x/)&&(e.isFunction=u=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)}),e.isFunction=u;var p=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===h.call(t)};e.isArray=p},function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=u.COMPILER_REVISION;if(e!==n){if(e<n){var i=u.REVISION_CHANGES[n],r=u.REVISION_CHANGES[e];throw new h["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new h["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(s,l){function t(t,e,n){n.hash&&(e=f.extend({},e,n.hash)),t=l.VM.resolvePartial.call(this,t,e,n);var i=l.VM.invokePartial.call(this,t,e,n);if(null==i&&l.compile&&(n.partials[n.name]=l.compile(t,s.compilerOptions,l),i=n.partials[n.name](e,n)),null==i)throw new h["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode");if(n.indent){for(var r=i.split("\n"),o=0,a=r.length;o<a&&(r[o]||o+1!==a);o++)r[o]=n.indent+r[o];i=r.join("\n")}return i}function a(t,e){var n=void 0===e?{}:arguments[1],i=n.data;a._setup(n),!n.partial&&s.useData&&(i=d(t,i));var r=void 0,o=s.useBlockParams?[]:void 0;return s.useDepths&&(r=n.depths?[t].concat(n.depths):[t]),s.main.call(u,t,u.helpers,u.partials,i,o,r)}if(!l)throw new h["default"]("No environment passed to template");if(!s||!s.main)throw new h["default"]("Unknown template object: "+typeof s);l.VM.checkRevision(s.compiler);var u={strict:function(t,e){if(!(e in t))throw new h["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:f.escapeExpression,invokePartial:t,fn:function(t){return s[t]},programs:[],program:function(t,e,n,i,r){var o=this.programs[t],a=this.fn(t);return e||r||i||n?o=c(this,t,a,e,n,i,r):o||(o=this.programs[t]=c(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=f.extend({},e,t)),n},noop:l.VM.noop,compilerInfo:s.compiler};return a.isTop=!0,a._setup=function(t){t.partial?(u.helpers=t.helpers,u.partials=t.partials):(u.helpers=u.merge(t.helpers,l.helpers),s.usePartial&&(u.partials=u.merge(t.partials,l.partials)))},a._child=function(t,e,n,i){if(s.useBlockParams&&!n)throw new h["default"]("must pass block params");if(s.useDepths&&!i)throw new h["default"]("must pass parent depths");return c(u,t,s[t],e,0,n,i)},a}function c(i,t,r,o,e,a,s){function n(t,e){var n=void 0===e?{}:arguments[1];return r.call(i,t,i.helpers,i.partials,n.data||o,a&&[n.blockParams].concat(a),s&&[t].concat(s))}return n.program=t,n.depth=s?s.length:0,n.blockParams=e||0
,n}function o(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t=n.partials[n.name],t}function a(t,e,n){if(n.partial=!0,void 0===t)throw new h["default"]("The partial "+n.name+" could not be found");return t instanceof Function?t(e,n):void 0}function s(){return""}function d(t,e){return e&&"root"in e||((e=e?u.createFrame(e):{}).root=t),e}var l=n(6)["default"];e.__esModule=!0,e.checkRevision=i,e.template=r,e.wrapProgram=c,e.resolvePartial=o,e.invokePartial=a,e.noop=s;var f=l(n(4)),h=l(n(3)),u=n(1)},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0}])}),this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(){return'      <span class="fa fa-quote-left"></span>\n'},5:function(){return'      <span class="glyphicon glyphicon-quote"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r;return'<li>\n  <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.program(5,i,0),data:i}))?r:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.color=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.black:r,t))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.black:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.silver:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.gray:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.maroon:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.red:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.purple:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.green:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.olive:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.navy:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.blue:r,t))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.colours:r)?r.orange:r,t))+"</a></li>\n  </ul>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.emphasis=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(t,e,n,i){var r;return'    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=t?t.locale:t)?r.emphasis:r)?r.small:r,t))+"</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.emphasis:r)?r.bold:r,t))+'</a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.emphasis:r)?r.italic:r,t))+'</a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.emphasis:r)?r.underline:r,t))+"</a>\n"+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.emphasis:r)?r.small:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?r:"")+"  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl["font-styles"]=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(){return'      <span class="fa fa-font"></span>\n'},5:function(){return'      <span class="glyphicon glyphicon-font"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'" data-toggle="dropdown">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.program(5,i,0),data:i}))?r:"")+'    <span class="current-font">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.normal:r,t))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.normal:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h1:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h2:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h3:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h4:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h5:r,t))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.font_styles:r)?r.h6:r,t))+"</a></li>\n  </ul>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.html=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(){return'        <span class="fa fa-pencil"></span>\n'},5:function(){return'        <span class="glyphicon glyphicon-pencil"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-action="change_view" title="'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=t?t.locale:t)?r.html:r)?r.edit:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.program(5,i,0),data:i}))?r:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.image=Handlebars.template({1:function(){return"modal-sm"},3:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},5:function(){return'      <span class="fa fa-file-image-o"></span>\n'},7:function(){return'      <span class="glyphicon glyphicon-picture"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.smallmodals:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.image:r)?r.insert:r,t))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control" data-wysihtml5-dialog-field="src">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.image:r)?r.cancel:r,t))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.image:r)?r.insert:r,t))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="insertImage" title="'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.image:r)?r.insert:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.program(7,i,0),data:i}))?r:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.link=Handlebars.template({1:function(){return"modal-sm"},3:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},5:function(){return'      <span class="fa fa-share-square-o"></span>\n'},7:function(){return'      <span class="glyphicon glyphicon-share"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.smallmodals:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.insert:r,t))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.target:r,t))+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.cancel:r,t))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.insert:r,t))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="createLink" title="'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.link:r)?r.insert:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.program(7,i,0),data:i}))?r:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.lists=Handlebars.template({1:function(t){var e;return"btn-"+this.escapeExpression(this.lambda(null!=(e=null!=(e=null!=t?t.options:t)?e.toolbar:e)?e.size:e,t))},3:function(){return'      <span class="fa fa-list-ul"></span>\n'},5:function(){return'      <span class="glyphicon glyphicon-list"></span>\n'},7:function(){return'      <span class="fa fa-list-ol"></span>\n'},9:function(){return'      <span class="glyphicon glyphicon-th-list"></span>\n'},11:function(){return'      <span class="fa fa-outdent"></span>\n'},13:function(){return'      <span class="glyphicon glyphicon-indent-right"></span>\n'},15:function(){return'      <span class="fa fa-indent"></span>\n'},17:function(){return'      <span class="glyphicon glyphicon-indent-left"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.lists:r)?r.unordered:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.program(5,i,0),data:i}))?r:"")+'    </a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="insertOrderedList" title="'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.lists:r)?r.ordered:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(7,i,0),inverse:this.program(9,i,0),data:i}))?r:"")+'    </a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="Outdent" title="'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.lists:r)?r.outdent:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(11,i,0),inverse:this.program(13,i,0),data:i}))?r:"")+'    </a>\n    <a class="btn '+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="Indent" title="'+a(o(null!=(r=null!=(r=null!=t?t.locale:t)?r.lists:r)?r.indent:r,t))+'" tabindex="-1">\n'+(null!=(r=e["if"].call(t,null!=(r=null!=(r=null!=t?t.options:t)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(15,i,0),inverse:this.program(17,i,0),data:i}))?r:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),function(t){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],t):t(jQuery,wysihtml5)}(function(t,e){(function(s,a){"use strict";var l=function(t,e,n){if(a.tpl[t])return a.tpl[t]({locale:e,options:n})},n=function(t,e){this.el=t;var n=s.extend(!0,{},u,e);for(var i in n.customTemplates)a.tpl[i]=n.customTemplates[i];this.toolbar=this.createToolbar(t,n),this.editor=this.createEditor(n)};n.prototype={constructor:n,createEditor:function(t){t=t||{},(t=s.extend(!0,{},t)).toolbar=this.toolbar[0];var e=new a.Editor(this.el[0],t);if(e.composer.editableArea.contentDocument?this.addMoreShortcuts(e,e.composer.editableArea.contentDocument.body||e.composer.editableArea.contentDocument,t.shortcuts):this.addMoreShortcuts(e,e.composer.editableArea,t.shortcuts),t&&t.events)for(var n in t.events)e.on(n,t.events[n]);return e.on("beforeload",this.syncBootstrapDialogEvents),e},syncBootstrapDialogEvents:function(){var e=this;s.map(this.toolbar.commandMapping,function(t){return[t]}).filter(function(t){return t.dialog}).map(function(t){return t.dialog}).forEach(function(t){t.on("show",function(){s(this.container).modal("show")}),t.on("hide",function(){s(this.container).modal("hide"),e.composer.focus()}),s(t.container).on("shown.bs.modal",function(){s(this).find("input, select, textarea").first().focus()})})},createToolbar:function(t,e){var o=this,n=s("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),i=e.locale||u.locale||"en";c.hasOwnProperty(i)||(console.debug("Locale '"+i+"' not found. Available locales are: "+Object.keys(c)+". Falling back to 'en'."),i="en");var r=s.extend(!0,{},c.en,c[i]);for(var a in e.toolbar)e.toolbar[a]&&(n.append(l(a,r,e)),"html"===a&&this.initHtml(n));return n.find('a[data-wysihtml5-command="formatBlock"]').click(function(t){var e=t.delegateTarget||t.target||t.srcElement,n=s(e),i=n.data("wysihtml5-display-format-name"),r=n.data("wysihtml5-format-name")||n.html();i!==undefined&&"true"!==i||o.toolbar.find(".current-font").text(r)}),n.find('a[data-wysihtml5-command="foreColor"]').click(function(t){var e=t.target||t.srcElement,n=s(e);o.toolbar.find(".current-color").text(n.html())}),this.el.before(n),n},initHtml:function(t){var e='a[data-wysihtml5-action="change_view"]';t.find(e).click(function(){t.find("a.btn").not(e).toggleClass("disabled")})},addMoreShortcuts:function(r,t,o){a.dom.observe(t,"keydown",function(t){var e=t.keyCode,n=o[e];if((t.ctrlKey||t.metaKey||t.altKey)&&n&&a.commands[n]){var i=r.toolbar.commandMapping[n+":null"];i&&i.dialog&&!i.state?i.dialog.show():a.commands[n].exec(r.composer,n),t.preventDefault()}})}};var i={resetDefaults:function(){s.fn.wysihtml5.defaultOptions=s.extend(!0,{},s.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var t=s(this);t.data("wysihtml5",new n(t,e))})},shallowExtend:function(t){var e=s.extend({},s.fn.wysihtml5.defaultOptions,t||{},s(this).data()),n=this;return i.bypassDefaults.apply(n,[e])},deepExtend:function(t){var e=s.extend(!0,{},s.fn.wysihtml5.defaultOptions,t||{}),n=this;return i.bypassDefaults.apply(n,[e])},init:function(t){var e=this;return i.shallowExtend.apply(e,[t])}};s.fn.wysihtml5=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void s.error("Method "+t+" does not exist on jQuery.wysihtml5"):i.init.apply(this,arguments)},s.fn.wysihtml5.Constructor=n;var u=s.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small"}};"undefined"==typeof s.fn.wysihtml5.defaultOptionsCache&&(s.fn.wysihtml5.defaultOptionsCache=s.extend(!0,{},s.fn.wysihtml5.defaultOptions));var c=s.fn.wysihtml5.locale={}})(t,e)}),function(n){n.commands.small={exec:function(t,e){return n.commands.formatInline.exec(t,e,"small")},state:function(t,e){return n.commands.formatInline.state(t,e,"small")}}}(wysihtml5),function(t){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],t):t(jQuery)}(function(t){t.fn.wysihtml5.locale.en=t.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(n){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}(function(t){var mt,gt="slider",vt="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(t){"use strict";function e(){}function n(c){function n(t){t.prototype.option||(t.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))})}function i(l,u){c.fn[l]=function(e){if("string"==typeof e){for(var t=f.call(arguments,1),n=0,i=this.length;n<i;n++){var r=this[n],o=c.data(r,l);if(o)if(c.isFunction(o[e])&&"_"!==e.charAt(0)){var a=o[e].apply(o,t);if(a!==undefined&&a!==o)return a}else d("no such method '"+e+"' for "+l+" instance");else d("cannot call methods on "+l+" prior to initialization; attempted to call '"+e+"'")}return this}var s=this.map(function(){var t=c.data(this,l);return t?(t.option(e),t._init()):(t=new u(this,e),c.data(this,l,t)),c(this)});return!s||1<s.length?s:s[0]}}if(c){var d="undefined"==typeof console?e:function(t){console.error(t)};return c.bridget=function(t,e){n(e),i(t,e)},c.bridget}}var f=Array.prototype.slice;n(t)}(t),function(H){function n(t,e){function n(t,e){var n="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(n);try{return JSON.parse(i)}catch(r){return i}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),e=e||{};for(var i=Object.keys(this.defaultOptions),r=0;r<i.length;r++){var o=i[r],a=e[o];a=null!==(a=void 0!==a?a:n(this.element,o))?a:this.defaultOptions[o],this.options||(this.options={}),this.options[o]=a}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var s,l,u,c,d,f=this.element.style.width,h=!1,p=this.element.parentNode;if(this.sliderElem)h=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var m=document.createElement("div");m.className="slider-track",(l=document.createElement("div")).className="slider-track-low",(s=document.createElement("div")).className="slider-selection",(u=document.createElement("div")).className="slider-track-high",(c=document.createElement("div")).className="slider-handle min-slider-handle",c.setAttribute("role","slider"),c.setAttribute("aria-valuemin",this.options.min),c.setAttribute("aria-valuemax",this.options.max),(d=document.createElement("div")).className="slider-handle max-slider-handle",d.setAttribute("role","slider"),d.setAttribute("aria-valuemin",this.options.min),d.setAttribute("aria-valuemax",this.options.max),m.appendChild(l),m.appendChild(s),m.appendChild(u),this.rangeHighlightElements=[];var g=this.options.rangeHighlights;if(Array.isArray(g)&&0<g.length)for(var v=0;v<g.length;v++){var y=document.createElement("div"),b=g[v]["class"]||"";y.className="slider-rangeHighlight slider-selection "+b,this.rangeHighlightElements.push(y),m.appendChild(y)}var x=Array.isArray(this.options.labelledby);if(x&&this.options.labelledby[0]&&c.setAttribute("aria-labelledby",this.options.labelledby[0]),x&&this.options.labelledby[1]&&d.setAttribute("aria-labelledby",this.options.labelledby[1]),!x&&this.options.labelledby&&(c.setAttribute("aria-labelledby",this.options.labelledby),d.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&0<this.options.ticks.length){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",r=0;r<this.options.ticks.length;r++){var w=document.createElement("div");if(w.className="slider-tick",this.options.ticks_tooltip){var C=this._addTickListener(),_=C.addMouseEnter(this,w,r),S=C.addMouseLeave(this,w);this.ticksCallbackMap[r]={mouseEnter:_,mouseLeave:S}}this.ticks.push(w),this.ticksContainer.appendChild(w)}s.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&0<this.options.ticks_labels.length)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++){var k=document.createElement("div"),T=0===this.options.ticks_positions.length,E=this.options.reversed&&T?this.options.ticks_labels.length-(r+1):r;k.className="slider-tick-label",k.innerHTML=this.options.ticks_labels[E],this.tickLabels.push(k),this.tickLabelContainer.appendChild(k)}var N=function N(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},A=document.createElement("div");A.className="tooltip tooltip-main",A.setAttribute("role","presentation"),N(A);var D=document.createElement("div");D.className="tooltip tooltip-min",D.setAttribute("role","presentation"),N(D);var M=document.createElement("div");M.className="tooltip tooltip-max",M.setAttribute("role","presentation"),N(M),this.sliderElem.appendChild(m),this.sliderElem.appendChild(A),this.sliderElem.appendChild(D),this.sliderElem.appendChild(M),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(c),this.sliderElem.appendChild(d),p.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(H&&(this.$element=H(this.element),this.$sliderElem=H(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),j[this.options.scale]&&(this.options.scale=j[this.options.scale]),!0===h&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-right"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=f,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&0<this.options.ticks.length&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),
Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=l||this.trackLow,this.trackSelection=s||this.trackSelection,this.trackHigh=u||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=c||this.handle1,this.handle2=d||this.handle2,!0===h)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var R=!1;try{var P=Object.defineProperty({},"passive",{get:function F(){R=!0}});window.addEventListener("test",null,P)}catch(z){}var O=!!R&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,O),this.sliderElem.addEventListener("touchmove",this.touchmove,O)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var I=this._addTickListener(),L=I.addMouseEnter(this,this.handle1),B=I.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:L,mouseLeave:B},L=I.addMouseEnter(this,this.handle2),B=I.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:L,mouseLeave:B}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var i={formatInvalidInputErrorMsg:function e(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},j={linear:{toValue:function u(t){var e=t/100*(this.options.max-this.options.min),n=!0;if(0<this.options.ticks_positions.length){for(var i,r,o,a=0,s=1;s<this.options.ticks_positions.length;s++)if(t<=this.options.ticks_positions[s]){i=this.options.ticks[s-1],o=this.options.ticks_positions[s-1],r=this.options.ticks[s],a=this.options.ticks_positions[s];break}e=i+(t-o)/(a-o)*(r-i),n=!1}var l=(n?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function a(t){if(this.options.max===this.options.min)return 0;if(0<this.options.ticks_positions.length){for(var e,n,i,r=0,o=0;o<this.options.ticks.length;o++)if(t<=this.options.ticks[o]){e=0<o?this.options.ticks[o-1]:0,i=0<o?this.options.ticks_positions[o-1]:0,n=this.options.ticks[o],r=this.options.ticks_positions[o];break}if(0<o)return i+(t-e)/(n-e)*(r-i)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function u(t){var e=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),i=Math.exp(e+(n-e)*t/100);return(i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function a(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-n)/(e-n)}}};if((mt=function r(t,e){return n.call(this,t,e),this}).prototype={_init:function o(){},constructor:mt,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function s(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function l(){return this.sliderElem},getValue:function c(){return this.options.range?this._state.value:this._state.value[0]},setValue:function d(t,e,n){t||(t=0);var i=this.getValue();this._state.value=this._validateInputValue(t);var r=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=r(this._state.value[0]),this._state.value[1]=r(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=r(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var o=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(o),!0===e&&this._trigger("slide",o),i!==o&&!0===n&&this._trigger("change",{oldValue:i,newValue:o}),this},destroy:function f(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),H&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function h(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function p(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function m(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function g(){return this._state.enabled},on:function v(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function y(t,e){H?(this.$element.off(t,e),this.$sliderElem.off(t,e)):this._unbindNonQueryEventHandler(t,e)},getAttribute:function b(t){return t?this.options[t]:this.options},setAttribute:function x(t,e){return this.options[t]=e,this},refresh:function w(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),H&&H.data(this.element,"slider",this),this},relayout:function C(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function _(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function S(t,e){this.eventToCallbackMap[t]===undefined&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function k(t,e){var n=this.eventToCallbackMap[t];if(n!==undefined)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function T(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];delete this.eventToCallbackMap[n]}},_showTooltip:function E(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function N(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function A(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var n=this.options.formatter(t?t.value[0]:this._state.value[0]),i=e(t||this._state,this.options.reversed);this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=i[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function D(){return{addMouseEnter:function e(i,t,r){var o=function o(){var t=i._state,e=0<=r?r:this.attributes["aria-valuenow"].value,n=parseInt(e,10);t.value[0]=n,t.percentage[0]=i.options.ticks_positions[n],i._setToolTipOnMouseOver(t),i._showTooltip()};return t.addEventListener("mouseenter",o,!1),o},addMouseLeave:function i(t,e){var n=function n(){t._hideTooltip()};return e.addEventListener("mouseleave",n,!1),n}}},_layout:function M(){var t,e;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),0<this.rangeHighlightElements.length&&Array.isArray(this.options.rangeHighlights)&&0<this.options.rangeHighlights.length)for(var n=0;n<this.options.rangeHighlights.length;n++){var i=this._toPercentage(this.options.rangeHighlights[n].start),r=this._toPercentage(this.options.rangeHighlights[n].end);if(this.options.reversed){var o=100-r;r=100-i,i=o}var a=this._createHighlightRange(i,r);a?"vertical"===this.options.orientation?(this.rangeHighlightElements[n].style.top=a.start+"%",this.rangeHighlightElements[n].style.height=a.size+"%"):(this.options.rtl?this.rangeHighlightElements[n].style.right=a.start+"%":this.rangeHighlightElements[n].style.left=a.start+"%",this.rangeHighlightElements[n].style.width=a.size+"%"):this.rangeHighlightElements[n].style.display="none"}if(Array.isArray(this.options.ticks)&&0<this.options.ticks.length){var s,l="vertical"===this.options.orientation?"height":"width";s="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var u=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var c=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[s]=-u/2+"px"),c=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>c&&(c=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=c+"px")}for(var d=0;d<this.options.ticks.length;d++){var f=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(f=100-f),this.ticks[d].style[this.stylePos]=f+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?f>=t[0]&&f<=t[1]&&this._addClass(this.ticks[d],"in-selection"):"after"===this.options.selection&&f>=t[0]?this._addClass(this.ticks[d],"in-selection"):"before"===this.options.selection&&f<=t[0]&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[l]=u+"px","vertical"!==this.options.orientation&&this.options.ticks_positions[d]!==undefined?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=f+"%",this.tickLabels[d].style[s]=-u/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[s]=this.sliderElem.offsetWidth/2*-1+"px"))}}if(this.options.range){e=this.options.formatter(this._state.value),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");var h=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,h);var p=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")}else e=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var m=this.tooltip_min.getBoundingClientRect(),g=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?m.right>g.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):m.right>g.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function R(t,e){return this._isHighlightRange(t,e)?e<t?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function P(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function O(){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function I(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function L(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),i=Math.abs(this._state.percentage[1]-e);this._state.dragged=n<i?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var r=this._calculateValue();return this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function B(t){if(t.changedTouches!==undefined){var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY}else this._mousedown(t)},_triggerFocusOnHandle:function F(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function z(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,r="horizontal"===this.options.orientation&&this.options.reversed;(i||r)&&(n=-n)}var o=this._state.value[t]+n*this.options.step,a=o/this.options.max*100;if(this._state.keyCtrl=t,this.options.range)this._adjustPercentageForRangeSliders(a),o=[this._state.keyCtrl?this._state.value[0]:o,this._state.keyCtrl?o:this._state.value[1]];return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!0,!0),this._setDataVal(o),this._trigger("slideStop",o),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function W(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function V(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function U(t){if(t.changedTouches!==undefined){var e=t.changedTouches[0],n=e.pageX-this.touchX,i=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&n<=5&&-5<=n&&(15<=i||i<=-15)?this._mousedown(t):i<=5&&-5<=i&&(15<=n||n<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function $(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function q(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),(this._state.inDrag=!1)===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function Y(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var n=[e,Infinity],i=0;i<this.options.ticks.length;i++){var r=Math.abs(this.options.ticks[i]-e);r<=n[1]&&(n=[this.options.ticks[i],r])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return e},_applyPrecision:function G(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function X(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function K(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function Z(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var n=e/this._state.size*100;return n=Math.round(n/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(n=100-n),Math.max(0,Math.min(100,n))},_validateInputValue:function Q(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(i.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function J(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(i.formatInvalidInputErrorMsg(n))}},_setDataVal:function tt(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function et(t,e){e=e||0===e?e:undefined;var n=this.eventToCallbackMap[t];if(n&&n.length)for(var i=0;i<n.length;i++){(0,n[i])(e)}H&&this._triggerJQueryEvent(t,e)},_triggerJQueryEvent:function nt(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function it(){this.$element.off(),this.$sliderElem.off()},_setText:function rt(t,e){"undefined"!=typeof t.textContent?t.textContent=e:"undefined"!=typeof t.innerText&&(t.innerText=e)},_removeClass:function ot(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r],a=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");i=i.replace(a," ")}t.className=i.trim()},_addClass:function at(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r];new RegExp("(?:\\s|^)"+o+"(?:\\s|$)").test(i)||(i+=" "+o)}t.className=i.trim()},_offsetLeft:function st(t){return t.getBoundingClientRect().left},_offsetRight:function lt(t){return t.getBoundingClientRect().right},_offsetTop:function ut(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function ct(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function dt(t,e,n){if(H)H.style(t,e,n);else{var i=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});t.style[i]=n}},_toValue:function ft(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function ht(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function pt(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,n="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},H&&H.fn){var t=void 0;H.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),t=vt):(H.bridget(gt,mt),t=gt),H.bridget(vt,mt),H(function(){H("input[data-provide=slider]")[t]()})}}(t),mt}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(c){var o,n=0,s=Array.prototype.slice;return c.cleanData=(o=c.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=c._data(n,"events"))&&e.remove&&c(n).triggerHandler("remove")}catch(r){}o(t)}),c.widget=function(t,n,e){var i,r,o,a={},s=t.split(".")[0],l=s+"-"+(t=t.split(".")[1]);return e||(e=n,n=c.Widget),c.isArray(e)&&(e=c.extend.apply(null,[{}].concat(e))),c.expr[":"][l.toLowerCase()]=function(t){return!!c.data(t,l)},c[s]=c[s]||{},i=c[s][t],r=c[s][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},c.extend(r,i,{version:e.version,_proto:c.extend({},e),_childConstructors:[]}),(o=new n).options=c.widget.extend({},o.options),c.each(e,function(e,o){c.isFunction(o)?a[e]=function(){function i(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var t,e=this._super,n=this._superApply;return this._super=i,this._superApply=r,t=o.apply(this,arguments),this._super=e,this._superApply=n,t}}():a[e]=o}),r.prototype=c.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||t},a,{constructor:r,namespace:s,widgetName:t,widgetFullName:l}),i?(c.each(i._childConstructors,function(t,e){var n=e.prototype;c.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):n._childConstructors.push(r),c.widget.bridge(t,r),r},c.widget.extend=function(t){for(var e,n,i=s.call(arguments,1),r=0,o=i.length;r<o;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&n!==undefined&&(c.isPlainObject(n)?t[e]=c.isPlainObject(t[e])?c.widget.extend({},t[e],n):c.widget.extend({},n):t[e]=n);return t},c.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;c.fn[o]=function(n){var t="string"==typeof n,i=s.call(arguments,1),r=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=c.data(this,a);return"instance"===n?(r=e,!1):e?c.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==undefined?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:c.error("no such method '"+n+"' for "+o+" widget instance"):c.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):r=undefined:(i.length&&(n=c.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=c.data(this,a);t?(t.option(n||{}),t._init&&t._init()):c.data(this,a,new e(n,this))})),r}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=c(e||this.defaultElement||this)[0],this.element=c(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=c(),this.hoverable=c(),this.focusable=c(),this.classesElementLookup={},e!==this&&(c.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=c(e.style?e.ownerDocument:e.document||e),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this.options=c.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){var n=this;this._destroy(),c.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:c.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,o=t;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(n=t.split(".")).shift(),n.length){for(i=o[t]=c.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),1===arguments.length)return i[t]===undefined?null:i[t];i[t]=e}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,n,i;for(e in t)i=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&i&&i.length&&(n=c(i.get()),this._removeClass(i,e),n.addClass(this._classes({element:n,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){function t(t,e){var n,i;for(i=0;i<t.length;i++)n=a.classesElementLookup[t[i]]||c(),n=r.add?c(c.unique(n.get().concat(r.element.get()))):c(n.not(r.element).get()),a.classesElementLookup[t[i]]=n,o.push(t[i]),e&&r.classes[t[i]]&&o.push(r.classes[t[i]])}var o=[],a=this;return r=c.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&t(
r.keys.match(/\S+/g)||[],!0),r.extra&&t(r.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(n){var i=this;c.each(i.classesElementLookup,function(t,e){-1!==c.inArray(n.target,e)&&(i.classesElementLookup[t]=c(e.not(n.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(a,s,t){var l,u=this;"boolean"!=typeof a&&(t=s,s=a,a=!1),t?(s=l=c(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,l=this.widget()),c.each(t,function(t,e){function n(){if(a||!0!==u.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||c.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+u.eventNamespace,o=i[2];o?l.on(r,o,n):s.on(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=c(this.bindings.not(t).get()),this.focusable=c(this.focusable.not(t).get()),this.hoverable=c(this.hoverable.not(t).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(c(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(c(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(c(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(c(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,n){var i,r,o=this.options[t];if(n=n||{},(e=c.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!(c.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(o,a){c.Widget.prototype["_"+o]=function(e,t,n){var i;"string"==typeof t&&(t={effect:t});var r=t?!0===t||"number"==typeof t?a:t.effect||a:o;"number"==typeof(t=t||{})&&(t={duration:t}),i=!c.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&c.effects&&c.effects.effect[r]?e[o](t):r!==o&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){c(this)[o](),n&&n.call(e[0]),t()})}}),c.widget}),function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}(function(r){var o=!1;return r(document).on("mouseup",function(){o=!1}),r.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===r.data(t.target,e.widgetName+".preventClickEvent"))return r.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&r(t.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===r.data(t.target,this.widgetName+".preventClickEvent")&&r.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0))}},_mouseMove:function(t){if(this._mouseMoved){if(r.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&r.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(i){return i.extend(i.expr[":"],{data:i.expr.createPseudo?i.expr.createPseudo(function(e){return function(t){return!!i.data(t,e)}}):function(t,e,n){return!!i.data(t,n[3])}})}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(o){return o.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=o(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&r.length?r:o(this[0].ownerDocument||document)}}),function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(h){return h.widget("ui.sortable",h.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return e<=t&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),h.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),h(t.target).parents().each(function(){if(h.data(this,r.widgetName+"-item")===r)return n=h(this),!1}),h.data(t.target,r.widgetName+"-item")===r&&(n=h(t.target)),!!n&&(!(this.options.handle&&!e&&(h(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},h.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=h("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return h.ui.ddmanager&&(h.ui.ddmanager.current=this),h.ui.ddmanager&&!o.dropBehaviour&&h.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,n,i,r,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&h.ui.ddmanager&&!o.dropBehaviour&&h.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(i=(n=this.items[e]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===i||h.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&h.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),h.ui.ddmanager&&h.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(h.ui.ddmanager&&!this.options.dropBehaviour&&h.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,h(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new h.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),h.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?h(this.domPosition.prev).after(this.currentItem):h(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},h(t).each(function(){var t=(h(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(h(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,l=s+t.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||s<i+u&&i+u<l,f="y"===this.options.axis||o<e+c&&e+c<a,h=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){a.push(this)}var n,i,r,o,a=[],s=[],l=this._connectWith();if(l&&t)for(n=l.length-1;0<=n;n--)for(i=(r=h(l[n],this.document[0])).length-1;0<=i;i--)(o=h.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([h.isFunction(o.options.items)?o.options.items.call(o.element):h(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(s.push([h.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):h(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;0<=n;n--)s[n][0].each(e);return h(a)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=h.grep(this.items,function(t){for(var e=0;e<n.length;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,n,i,r,o,a,s,l,u=this.items,c=[[h.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):h(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(e=d.length-1;0<=e;e--)for(n=(i=h(d[e],this.document[0])).length-1;0<=n;n--)(r=h.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(c.push([h.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):h(r.options.items,r.element),r]),this.containers.push(r));for(e=c.length-1;0<=e;e--)for(o=c[e][1],n=0,l=(a=c[e][0]).length;n<l;n++)(s=h(a[n])).data(this.widgetName+"-item",o),u.push({item:s,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,n,i,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(n=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?h(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)r=this.containers[e].element.offset(),this.containers[e].containerCache.left=r.left,this.containers[e].containerCache.top=r.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var t=n.currentItem[0].nodeName.toLowerCase(),e=h("<"+t+">",n.document[0]);return n._addClass(e,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),h("<tr>",n.document[0]).appendTo(e)):"tr"===t?n._createTrPlaceholder(n.currentItem,e):"img"===t&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(t,e){i&&!r.forcePlaceholderSize||(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=h(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(t,e){var n=this;t.children().each(function(){h("<td>&#160;</td>",n.document[0]).attr("colspan",h(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,n,i,r,o,a,s,l,u,c,d=null,f=null;for(e=this.containers.length-1;0<=e;e--)if(!h.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(d&&h.contains(this.containers[e].element[0],d.element[0]))continue;d=this.containers[e],f=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(i=1e4,r=null,o=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",c=u?"pageX":"pageY",n=this.items.length-1;0<=n;n--)h.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(s=this.items[n].item.offset()[o],l=!1,t[c]-s>this.items[n][a]/2&&(l=!0),Math.abs(t[c]-s)<i&&(i=Math.abs(t[c]-s),r=this.items[n],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=h.isFunction(e.helper)?h(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||h("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!e.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!e.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),h.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&h.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&h.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=h(i.containment)[0],e=h(i.containment).offset(),n="hidden"!==h(t).css("overflow"),this.containment=[e.left+(parseInt(h(t).css("borderLeftWidth"),10)||0)+(parseInt(h(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(h(t).css("borderTopWidth"),10)||0)+(parseInt(h(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(h(t).css("borderLeftWidth"),10)||0)-(parseInt(h(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(h(t).css("borderTopWidth"),10)||0)-(parseInt(h(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&h.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e,n,i=this.options,r=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&h.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-i.grid[1]:e+i.grid[1]:e,n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===h.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||h([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}),function(t,a){function s(t,e,n,i){this.node=t,this.current_node=e,this.new_position=n,this.old_position=i}function l(t,e,n,i){this.node=t,this.current_node=e,this.new_position=n,this.positions_updater=i}function u(t,e,n,i){this.node=t,this.current_node=e,this.new_position=n,this.positions_updater=i}function i(t,e){this.node=t,e||(e={}),e.update=a.proxy(this.sortable_stop_handler,this);var n={axis:"y"},i=a.extend({},n,e);this.node.sortable(i)}if(!a)throw new Error("jQuery required by Sortable");s.prototype.update=function(){var i=this.new_position>this.old_position?-1:1,n=-1===i?this.old_position+1:this.new_position,r=-1===i?this.new_position:this.old_position-1,o=this.current_node.data("role");a("*[data-position]",this.node).filter(function(){var t=a(this).data("position"),e=a(this).data("role");return o!==e&&n<=t&&t<=r}).each(function(){var t=a(this),e=t.data("position")+i;t.attr("data-position",e).data("position",e);var n=a('*[data-role~="position"]',t);0<n.length&&n.val(e)})},l.prototype.sort=function(){a.ajax({type:"POST",dataType:"script",url:this.current_node.data("move-url"),data:{position:this.new_position},success:a.proxy(this.sort_by_server_success,this),error:a.proxy(this.sort_by_server_error,this)})},l.prototype.sort_by_server_success=function(){this.positions_updater.update(),this.node.trigger("sortable:sort_success").trigger("sortable:stop").sortable(
"enable")},l.prototype.sort_by_server_error=function(){this.node.sortable("cancel").trigger("sortable:sort_error").trigger("sortable:stop").sortable("enable")},u.prototype.sort=function(){var t=a('*[data-role~="position"]',this.current_node);0<t.length?(this.positions_updater.update(),this.current_node.data("position",this.new_position),t.val(this.new_position)):console&&console.error&&console.error('Could not found any *[data-role~="position"] element for',this.current_node),this.node.trigger("sortable:sort_success").trigger("sortable:stop").sortable("enable")},i.prototype.sortable_stop_handler=function(t,e){this.node.sortable("disable").trigger("sortable:start");var n=e.item,i=n.index(),r=parseInt(n.data("position")),o=new s(this.node,n,i,r);new(n.data("move-url")?l:u)(this.node,n,i,o).sort()},a.fn.activerecord_sortable=function(n){a(this).each(function(){var t=a(this),e=new i(t,n);t.data("sortable-instance",e)})}}(window,window.jQuery);var IdealImageSlider=function(){"use strict";var t,e,s=(t=window)["r"+(e="equestAnimationFrame")]||t["webkitR"+e]||t["mozR"+e]||t["msR"+e]||function(t){setTimeout(t,1e3/60)},r=function(e,n){function i(){var t=(new Date).getTime();n<=t-r?e.call():o.value=s(i)}var r=(new Date).getTime(),o={};return o.value=s(i),o},o=function(t,e){var n=Object.prototype.toString.call(e).slice(8,-1);return null!=e&&n===t},l=function(t){return Math.round(t)===t},u=function(t){t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var i in n)n.hasOwnProperty(i)&&(o("Object",n[i])&&null!==n[i]?u(t[i],n[i]):t[i]=n[i])}return t},c=function(t,e){return!!e&&(t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className))},d=function(t,e){e&&(t.classList?t.classList.add(e):t.className+=" "+e)},a=function(t,e){e&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},f=function(t){return Array.prototype.slice.call(t)},h=function(t,e,n){null!=t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)},p=function(t,e){if(!t.style.backgroundImage){var n=new Image;n.setAttribute("src",t.getAttribute("data-src")),n.onload=function(){t.style.backgroundImage="url("+t.getAttribute("data-src")+")",t.setAttribute("data-actual-width",this.naturalWidth),t.setAttribute("data-actual-height",this.naturalHeight),"function"==typeof e&&e(this)}}},m=function(){var t="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)";return 1<window.devicePixelRatio||!(!window.matchMedia||!window.matchMedia(t).matches)},g=function(t,e,n){t.style.webkitTransitionDuration=t.style.MozTransitionDuration=t.style.msTransitionDuration=t.style.OTransitionDuration=t.style.transitionDuration=n+"ms",t.style.webkitTransform=t.style.MozTransform=t.style.msTransform=t.style.OTransform="translateX("+e+"px)"},n=function(t){t.style.removeProperty("-webkit-transition-duration"),t.style.removeProperty("transition-duration"),t.style.removeProperty("-webkit-transform"),t.style.removeProperty("-ms-transform"),t.style.removeProperty("transform")},v=function(i){var r=i.time,o=+new Date+r,a=function(){var t=+new Date,e=o-t;if(e<60)i.run(1);else{var n=1-e/r;i.run(n),s(a)}};a()},y=function(e,t){if(void 0===t&&(t=!0),!l(e.settings.height)){var n=Math.round(e._attributes.container.offsetHeight),i=n;if(e._attributes.aspectWidth&&e._attributes.aspectHeight)i=e._attributes.aspectHeight/e._attributes.aspectWidth*e._attributes.container.offsetWidth;else{var r=e._attributes.currentSlide.getAttribute("data-actual-width"),o=e._attributes.currentSlide.getAttribute("data-actual-height");r&&o&&(i=o/r*e._attributes.container.offsetWidth)}var a=parseInt(e.settings.maxHeight,10);a&&a<i&&(i=a),(i=Math.round(i))!==n&&(t?v({time:e.settings.transitionDuration,run:function(t){e._attributes.container.style.height=Math.round(t*(i-n)+n)+"px"}}):e._attributes.container.style.height=i+"px")}},b={vars:{start:{},delta:{},isScrolling:void 0,direction:null},start:function(t){if(!c(this._attributes.container,this.settings.classes.animating)){var e=t.touches[0];b.vars.start={x:e.pageX,y:e.pageY,time:+new Date},b.vars.delta={},b.vars.isScrolling=void 0,b.vars.direction=null,this.stop(),this.settings.beforeChange.apply(this),d(this._attributes.container,this.settings.classes.touching)}},move:function(t){if(!c(this._attributes.container,this.settings.classes.animating)&&!(1<t.touches.length||t.scale&&1!==t.scale)){var e=t.touches[0];b.vars.delta={x:e.pageX-b.vars.start.x,y:e.pageY-b.vars.start.y},"undefined"==typeof b.vars.isScrolling&&(b.vars.isScrolling=!!(b.vars.isScrolling||Math.abs(b.vars.delta.x)<Math.abs(b.vars.delta.y))),b.vars.isScrolling||(t.preventDefault(),g(this._attributes.previousSlide,b.vars.delta.x-this._attributes.previousSlide.offsetWidth,0),g(this._attributes.currentSlide,b.vars.delta.x,0),g(this._attributes.nextSlide,b.vars.delta.x+this._attributes.currentSlide.offsetWidth,0))}},end:function(){if(!c(this._attributes.container,this.settings.classes.animating)){var t=+new Date-b.vars.start.time,e=Number(t)<250&&20<Math.abs(b.vars.delta.x)||Math.abs(b.vars.delta.x)>this._attributes.currentSlide.offsetWidth/2,n=b.vars.delta.x<0?"next":"previous",i=this.settings.transitionDuration?this.settings.transitionDuration/2:0;b.vars.isScrolling||(e?(b.vars.direction=n,"next"==b.vars.direction?(g(this._attributes.currentSlide,-this._attributes.currentSlide.offsetWidth,i),g(this._attributes.nextSlide,0,i)):(g(this._attributes.previousSlide,0,i),g(this._attributes.currentSlide,this._attributes.currentSlide.offsetWidth,i)),r(b.transitionEnd.bind(this),i)):"next"==n?(g(this._attributes.currentSlide,0,i),g(this._attributes.nextSlide,this._attributes.currentSlide.offsetWidth,i)):(g(this._attributes.previousSlide,-this._attributes.previousSlide.offsetWidth,i),g(this._attributes.currentSlide,0,i)),i&&(d(this._attributes.container,this.settings.classes.animating),r(function(){a(this._attributes.container,this.settings.classes.animating)}.bind(this),i)))}},transitionEnd:function(){if(b.vars.direction){n(this._attributes.previousSlide),n(this._attributes.currentSlide),n(this._attributes.nextSlide),a(this._attributes.container,this.settings.classes.touching),a(this._attributes.previousSlide,this.settings.classes.previousSlide),a(this._attributes.currentSlide,this.settings.classes.currentSlide),a(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","true");var t=this._attributes.slides,e=t.indexOf(this._attributes.currentSlide);"next"==b.vars.direction?(this._attributes.previousSlide=this._attributes.currentSlide,this._attributes.currentSlide=t[e+1],this._attributes.nextSlide=t[e+2],"undefined"==typeof this._attributes.currentSlide&&"undefined"==typeof this._attributes.nextSlide?(this._attributes.currentSlide=t[0],this._attributes.nextSlide=t[1]):"undefined"==typeof this._attributes.nextSlide&&(this._attributes.nextSlide=t[0]),p(this._attributes.nextSlide)):(this._attributes.nextSlide=this._attributes.currentSlide,this._attributes.previousSlide=t[e-2],this._attributes.currentSlide=t[e-1],"undefined"==typeof this._attributes.currentSlide&&"undefined"==typeof this._attributes.previousSlide?(this._attributes.currentSlide=t[t.length-1],this._attributes.previousSlide=t[t.length-2]):"undefined"==typeof this._attributes.previousSlide&&(this._attributes.previousSlide=t[t.length-1]),p(this._attributes.previousSlide)),d(this._attributes.previousSlide,this.settings.classes.previousSlide),d(this._attributes.currentSlide,this.settings.classes.currentSlide),d(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),y(this),this.settings.afterChange.apply(this)}}},i=function(t){this.settings={selector:"",height:"auto",initialHeight:400,maxHeight:null,interval:4e3,transitionDuration:700,effect:"slide",disableNav:!1,keyboardNav:!0,previousNavSelector:"",nextNavSelector:"",classes:{container:"ideal-image-slider",slide:"iis-slide",previousSlide:"iis-previous-slide",currentSlide:"iis-current-slide",nextSlide:"iis-next-slide",previousNav:"iis-previous-nav",nextNav:"iis-next-nav",animating:"iis-is-animating",touchEnabled:"iis-touch-enabled",touching:"iis-is-touching",directionPrevious:"iis-direction-previous",directionNext:"iis-direction-next"},onInit:function(){},onStart:function(){},onStop:function(){},onDestroy:function(){},beforeChange:function(){},afterChange:function(){}},"string"==typeof t?this.settings.selector=t:"object"==typeof t&&u(this.settings,t);var o=document.querySelector(this.settings.selector);if(!o)return null;var e=f(o.children),a=[];o.innerHTML="",Array.prototype.forEach.call(e,function(t){if(t instanceof HTMLImageElement||t instanceof HTMLAnchorElement){var e=document.createElement("a"),n="",i="";if(t instanceof HTMLAnchorElement){n=t.getAttribute("href"),i=t.getAttribute("target");var r=t.querySelector("img");if(null===r)return;t=r}"undefined"!=typeof t.dataset?(u(e.dataset,t.dataset),t.dataset.src?e.dataset.src=t.dataset.src:e.dataset.src=t.src,m()&&t.dataset["src-2x"]&&(e.dataset.src=t.dataset["src-2x"])):t.getAttribute("data-src")?e.setAttribute("data-src",t.getAttribute("data-src")):e.setAttribute("data-src",t.getAttribute("src")),n&&e.setAttribute("href",n),i&&e.setAttribute("target",i),t.getAttribute("className")&&d(e,t.getAttribute("className")),t.getAttribute("id")&&e.setAttribute("id",t.getAttribute("id")),t.getAttribute("title")&&e.setAttribute("title",t.getAttribute("title")),t.getAttribute("alt")&&(e.innerHTML=t.getAttribute("alt")),e.setAttribute("role","tabpanel"),e.setAttribute("aria-hidden","true"),e.style.cssText+="-webkit-transition-duration:"+this.settings.transitionDuration+"ms;-moz-transition-duration:"+this.settings.transitionDuration+"ms;-o-transition-duration:"+this.settings.transitionDuration+"ms;transition-duration:"+this.settings.transitionDuration+"ms;",o.appendChild(e),a.push(e)}}.bind(this));var n,i,r=a;if(r.length<=1)return o.innerHTML="",Array.prototype.forEach.call(e,function(t){o.appendChild(t)}),null;this.settings.disableNav||(this.settings.previousNavSelector?n=document.querySelector(this.settings.previousNavSelector):(n=document.createElement("a"),o.appendChild(n)),this.settings.nextNavSelector?i=document.querySelector(this.settings.nextNavSelector):(i=document.createElement("a"),o.appendChild(i)),d(n,this.settings.classes.previousNav),d(i,this.settings.classes.nextNav),h(n,"click",function(){return!c(this._attributes.container,this.settings.classes.animating)&&(this.stop(),void this.previousSlide())}.bind(this)),h(i,"click",function(){return!c(this._attributes.container,this.settings.classes.animating)&&(this.stop(),void this.nextSlide())}.bind(this)),("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.settings.effect="slide",n.style.display="none",i.style.display="none",d(o,this.settings.classes.touchEnabled),h(o,"touchstart",b.start.bind(this),!1),h(o,"touchmove",b.move.bind(this),!1),h(o,"touchend",b.end.bind(this),!1)),this.settings.keyboardNav&&h(document,"keyup",function(t){var e="number"==typeof(t=t||window.event).which?t.which:t.keyCode;if(37==e){if(c(this._attributes.container,this.settings.classes.animating))return!1;this.stop(),this.previousSlide()}else if(39==e){if(c(this._attributes.container,this.settings.classes.animating))return!1;this.stop(),this.nextSlide()}}.bind(this)));if(this._attributes={container:o,slides:r,previousSlide:"undefined"!=typeof r[r.length-1]?r[r.length-1]:r[0],currentSlide:r[0],nextSlide:"undefined"!=typeof r[1]?r[1]:r[0],timerId:0,origChildren:e,aspectWidth:0,aspectHeight:0},l(this.settings.height))this._attributes.container.style.height=this.settings.height+"px";else{if(l(this.settings.initialHeight)&&(this._attributes.container.style.height=this.settings.initialHeight+"px"),-1<this.settings.height.indexOf(":")){var s=this.settings.height.split(":");2==s.length&&l(parseInt(s[0],10))&&l(parseInt(s[1],10))&&(this._attributes.aspectWidth=parseInt(s[0],10),this._attributes.aspectHeight=parseInt(s[1],10))}h(window,"resize",function(){y(this,!1)}.bind(this))}d(o,this.settings.classes.container),d(o,"iis-effect-"+this.settings.effect),Array.prototype.forEach.call(this._attributes.slides,function(t){d(t,this.settings.classes.slide)}.bind(this)),d(this._attributes.previousSlide,this.settings.classes.previousSlide),d(this._attributes.currentSlide,this.settings.classes.currentSlide),d(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),p(this._attributes.currentSlide,function(){this.settings.onInit.apply(this),y(this,!1)}.bind(this)),p(this._attributes.previousSlide),p(this._attributes.nextSlide)};return i.prototype.get=function(t){return this._attributes?this._attributes.hasOwnProperty(t)?this._attributes[t]:void 0:null},i.prototype.set=function(t,e){return this._attributes?this._attributes[t]=e:null},i.prototype.start=function(){this._attributes&&(this._attributes.timerId=setInterval(this.nextSlide.bind(this),this.settings.interval),this.settings.onStart.apply(this),window.onblur=function(){this.stop()}.bind(this))},i.prototype.stop=function(){this._attributes&&(clearInterval(this._attributes.timerId),this._attributes.timerId=0,this.settings.onStop.apply(this))},i.prototype.previousSlide=function(){this.settings.beforeChange.apply(this),a(this._attributes.previousSlide,this.settings.classes.previousSlide),a(this._attributes.currentSlide,this.settings.classes.currentSlide),a(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","true");var t=this._attributes.slides,e=t.indexOf(this._attributes.currentSlide);this._attributes.nextSlide=this._attributes.currentSlide,this._attributes.previousSlide=t[e-2],this._attributes.currentSlide=t[e-1],"undefined"==typeof this._attributes.currentSlide&&"undefined"==typeof this._attributes.previousSlide?(this._attributes.currentSlide=t[t.length-1],this._attributes.previousSlide=t[t.length-2]):"undefined"==typeof this._attributes.previousSlide&&(this._attributes.previousSlide=t[t.length-1]),p(this._attributes.previousSlide),d(this._attributes.previousSlide,this.settings.classes.previousSlide),d(this._attributes.currentSlide,this.settings.classes.currentSlide),d(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),d(this._attributes.container,this.settings.classes.directionPrevious),r(function(){a(this._attributes.container,this.settings.classes.directionPrevious)}.bind(this),this.settings.transitionDuration),this.settings.transitionDuration&&(d(this._attributes.container,this.settings.classes.animating),r(function(){a(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)),y(this),this.settings.afterChange.apply(this)},i.prototype.nextSlide=function(){this.settings.beforeChange.apply(this),a(this._attributes.previousSlide,this.settings.classes.previousSlide),a(this._attributes.currentSlide,this.settings.classes.currentSlide),a(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","true");var t=this._attributes.slides,e=t.indexOf(this._attributes.currentSlide);this._attributes.previousSlide=this._attributes.currentSlide,this._attributes.currentSlide=t[e+1],this._attributes.nextSlide=t[e+2],"undefined"==typeof this._attributes.currentSlide&&"undefined"==typeof this._attributes.nextSlide?(this._attributes.currentSlide=t[0],this._attributes.nextSlide=t[1]):"undefined"==typeof this._attributes.nextSlide&&(this._attributes.nextSlide=t[0]),p(this._attributes.nextSlide),d(this._attributes.previousSlide,this.settings.classes.previousSlide),d(this._attributes.currentSlide,this.settings.classes.currentSlide),d(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),d(this._attributes.container,this.settings.classes.directionNext),r(function(){a(this._attributes.container,this.settings.classes.directionNext)}.bind(this),this.settings.transitionDuration),this.settings.transitionDuration&&(d(this._attributes.container,this.settings.classes.animating),r(function(){a(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)),y(this),this.settings.afterChange.apply(this)},i.prototype.gotoSlide=function(t){this.settings.beforeChange.apply(this),this.stop(),a(this._attributes.previousSlide,this.settings.classes.previousSlide),a(this._attributes.currentSlide,this.settings.classes.currentSlide),a(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","true"),t--;var e=this._attributes.slides,n=e.indexOf(this._attributes.currentSlide);this._attributes.previousSlide=e[t-1],this._attributes.currentSlide=e[t],this._attributes.nextSlide=e[t+1],"undefined"==typeof this._attributes.previousSlide&&(this._attributes.previousSlide=e[e.length-1]),"undefined"==typeof this._attributes.nextSlide&&(this._attributes.nextSlide=e[0]),p(this._attributes.previousSlide),p(this._attributes.currentSlide),p(this._attributes.nextSlide),d(this._attributes.previousSlide,this.settings.classes.previousSlide),d(this._attributes.currentSlide,this.settings.classes.currentSlide),d(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),t<n?(d(this._attributes.container,this.settings.classes.directionPrevious),r(function(){a(this._attributes.container,this.settings.classes.directionPrevious)}.bind(this),this.settings.transitionDuration)):(d(this._attributes.container,this.settings.classes.directionNext),r(function(){a(this._attributes.container,this.settings.classes.directionNext)}.bind(this),this.settings.transitionDuration)),this.settings.transitionDuration&&(d(this._attributes.container,this.settings.classes.animating),r(function(){a(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)),y(this),this.settings.afterChange.apply(this)},i.prototype.destroy=function(){clearInterval(this._attributes.timerId),this._attributes.timerId=0,this._attributes.container.innerHTML="",Array.prototype.forEach.call(this._attributes.origChildren,function(t){this._attributes.container.appendChild(t)}.bind(this)),a(this._attributes.container,this.settings.classes.container),a(this._attributes.container,"iis-effect-"+this.settings.effect),this._attributes.container.style.height="",this.settings.onDestroy.apply(this)},{_hasClass:c,_addClass:d,_removeClass:a,Slider:i}}();!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=t()}}(function(){var i;return function(){function c(o,a,s){function l(n,t){if(!a[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};o[n][0].call(r.exports,function(t){var e=o[n][1][t];return l(e||t)},r,r.exports,c,o,a,s)}return a[n].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}return c}()({1:[function(t,e){function n(t){if(t){var e=/^#([a-fA-F0-9]{3})$/i,n=/^#([a-fA-F0-9]{6})$/i,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/(\w+)/,a=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(var u=0;u<a.length;u++)a[u]=parseInt(l[u]+l[u],16)}else if(l=t.match(n)){l=l[1];for(u=0;u<a.length;u++)a[u]=parseInt(l.slice(2*u,2*u+2),16)}else if(l=t.match(i)){for(u=0;u<a.length;u++)a[u]=parseInt(l[u+1]);s=parseFloat(l[4])}else if(l=t.match(r)){for(u=0;u<a.length;u++)a[u]=Math.round(2.55*parseFloat(l[u+1]));s=parseFloat(l[4])}else if(l=t.match(o)){if("transparent"==l[1])return[0,0,0,0];if(!(a=b[l[1]]))return}for(u=0;u<a.length;u++)a[u]=v(a[u],0,255);return s=s||0==s?v(s,0,1):1,a[3]=s,a}}function i(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]);return[v(parseInt(n[1]),0,360),v(parseFloat(n[2]),0,100),v(parseFloat(n[3]),0,100),v(isNaN(i)?1:i,0,1)]}}}function r(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]);return[v(parseInt(n[1]),0,360),v(parseFloat(n[2]),0,100),v(parseFloat(n[3]),0,100),v(isNaN(i)?1:i,0,1)]}}}function o(t){var e=n(t);return e&&e.slice(0,3)}function a(t){var e=i(t);return e&&e.slice(0,3)}function s(t){var e=n(t);return e?e[3]:(e=i(t))?e[3]:(e=r(t))?e[3]:void 0}function l(t){return"#"+y(t[0])+y(t[1])+y(t[2])}function u(t,e){return e<1||t[3]&&t[3]<1?c(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function c(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function d(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"}function f(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function h(t,e){return e<1||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function p(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(e!==undefined&&1!==e?", "+e:"")+")"}function g(t){return x[t.slice(0,3)]}function v(t,e,n){return Math.min(Math.max(e,t),n)}function y(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var b=t(5);e.exports={getRgba:n,getHsla:i,getRgb:o,getHsl:a,getHwb:r,getAlpha:s,hexString:l,rgbString:u,rgbaString:c,percentString:d,percentaString:f,hslString:h,hslaString:p,hwbString:m,keyword:g};var x={};for(var w in b)x[b[w]]=w},{5:5}],2:[function(t,e){var c=t(4),n=t(1),a=function(t){return t instanceof a?t:this instanceof a?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=n.getRgba(t))?this.setValues("rgb",e):(e=n.getHsla(t))?this.setValues("hsl",e):(e=n.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&((e=t).r!==undefined||e.red!==undefined?this.setValues("rgb",e):e.l!==undefined||e.lightness!==undefined?this.setValues("hsl",e):e.v!==undefined||e.value!==undefined?this.setValues("hsv",e):e.w!==undefined||e.whiteness!==undefined?this.setValues("hwb",e):e.c===undefined&&e.cyan===undefined||this.setValues("cmyk",e)))):new a(t);var e};a.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return t===undefined?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return n<e?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,i=t,r=e===undefined?.5:e,o=2*r-1,a=n.alpha()-i.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new a,i=this.values,r=n.values;for(var o in i)i.hasOwnProperty(o)&&(t=i[o],"[object Array]"===(e={}.toString.call(t))?r[o]=t.slice(0):"[object Number]"===e?r[o]=t:console.error("unexpected color value:",t));return n}},a.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},a.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},a.prototype.setValues=function(t,e){var n,i,r=this.values,o=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(e[t.charAt(0)]!==undefined){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];s=e.a}else if(e[o[t][0]]!==undefined){var l=o[t];for(n=0;n<t.length;n++)r[t][n]=e[l[n]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,s===undefined?r.alpha:s)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(a[t][n],r[t][n])),r[t][n]=Math.round(i);for(var u in o)u!==t&&(r[u]=c[t][u](r[t]));return!0},a.prototype.setSpace=function(t,e){var n=e[0];return n===undefined?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},a.prototype.setChannel=function(t,e,n){var i=this.values[t];return n===undefined?i[e]:(n===i[e]||(i[e]=n,this.setValues(t,i)),this)},"undefined"!=typeof window&&(window.Color=a),e.exports=a},{1:1,4:4}],3:[function(t,e){function o(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return s==a?e=0:i==s?e=(r-o)/l:r==s?e=2+(o-i)/l:o==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function n(t){var e,n,i=t[0],r=t[1],o=t[2],a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?e=0:i==s?e=(r-o)/l:r==s?e=2+(o-i)/l:o==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]}function i(t){var e=t[0],n=t[1],i=t[2];return[o(t)[0],100*(1/255*Math.min(e,Math.min(n,i))),100*(i=1-1/255*Math.max(e,Math.max(n,i)))]}function a(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]}function s(t){return K[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function u(t){var e=l(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))]}function c(t){return B(u(t))}function d(t){var e,n,i,r,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[o=255*l,o,o];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(i=a+1/3*-(u-1))<0&&i++,1<i&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[u]=255*o;return r}function f(t){var e=t[0],n=t[1]/100,i=t[2]/100;return 0===i?[0,0,0]:[e,100*(2*(n*=(i*=2)<=1?i:2-i)/(i+n)),100*((i+n)/2)]}function h(t){return i(d(t))}function p(t){return a(d(t))}function m(t){return s(d(t))}function v(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o));i*=255;switch(r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function y(t){var e,n,i=t[0],r=t[1]/100,o=t[2]/100;return e=r*o,[i,100*(e=(e/=(n=(2-r)*o)<=1?n:2-n)||0),100*(n/=2)]}function x(t){return i(v(t))}function w(t){return a(v(t))}function C(t){return s(v(t))}function _(t){var e,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(1<u&&(s/=u,l/=u),i=6*a-(e=Math.floor(6*a)),0!=(1&e)&&(i=1-i),o=s+i*((n=1-l)-s),e){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function S(t){return o(_(t))}function k(t){return n(_(t))}function T(t){return a(_(t))}function E(t){return s(_(t))}function N(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function A(t){return o(N(t))}function D(t){return n(N(t))}function M(t){return i(N(t))}function R(t){return s(N(t))}function P(t){var e,n,i,r=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,e=.0031308<(e=3.2406*r+-1.5372*o+-.4986*a)?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function O(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]}function I(t){return B(O(t))}function L(t){var e,n,i,r,o=t[0],a=t[1],s=t[2];return o<=8?r=(n=100*o/903.3)/100*7.787+16/116:(
n=100*Math.pow((o+16)/116,3),r=Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),n,i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function B(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]}function F(t){return P(L(t))}function z(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]}function H(t){return L(z(t))}function j(t){return F(z(t))}function W(t){return X[t]}function V(t){return o(W(t))}function U(t){return n(W(t))}function $(t){return i(W(t))}function q(t){return a(W(t))}function Y(t){return u(W(t))}function G(t){return l(W(t))}e.exports={rgb2hsl:o,rgb2hsv:n,rgb2hwb:i,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:u,rgb2lch:c,hsl2rgb:d,hsl2hsv:f,hsl2hwb:h,hsl2cmyk:p,hsl2keyword:m,hsv2rgb:v,hsv2hsl:y,hsv2hwb:x,hsv2cmyk:w,hsv2keyword:C,hwb2rgb:_,hwb2hsl:S,hwb2hsv:k,hwb2cmyk:T,hwb2keyword:E,cmyk2rgb:N,cmyk2hsl:A,cmyk2hsv:D,cmyk2hwb:M,cmyk2keyword:R,keyword2rgb:W,keyword2hsl:V,keyword2hsv:U,keyword2hwb:$,keyword2cmyk:q,keyword2lab:Y,keyword2xyz:G,xyz2rgb:P,xyz2lab:O,xyz2lch:I,lab2xyz:L,lab2rgb:F,lab2lch:B,lch2lab:z,lch2xyz:H,lch2rgb:j};var X={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},K={};for(var Z in X)K[JSON.stringify(X[Z])]=Z},{}],4:[function(t,e){var r=t(3),o=function(){return new l};for(var n in r){o[n+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(n);var i=/(\w+)2(\w+)/.exec(n),a=i[1],s=i[2];o[a]=o[a]||{},o[a][s]=o[n]=function(i){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var e=r[i](t);if("string"==typeof e||e===undefined)return e;for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]);return e}}(n)}var l=function(){this.convs={}};l.prototype.routeSpace=function(t,e){var n=e[0];return n===undefined?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},l.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},l.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=o[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){l.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),e.exports=o},{3:3}],5:[function(t,e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],6:[function(Mo,Ro,t){var e,n;e=this,n=function(){"use strict";function u(){return Ei.apply(null,arguments)}function t(t){Ei=t}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function n(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)d(e,n)&&(t[n]=e[n]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return Se(t,e,n,i,!0).utc()}function e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(t){return null==t._pf&&(t._pf=e()),t._pf}function m(t){if(null==t._isValid){var e=p(t),n=Ni.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&e.bigHour===undefined),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function i(t){var e=h(NaN);return null!=t?f(p(e),t):p(e).userInvalidated=!0,e}function g(t,e){var n,i,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=p(e)),o(e._locale)||(t._locale=e._locale),0<Di.length)for(n=0;n<Di.length;n++)o(r=e[i=Di[n]])||(t[i]=r);return t}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Mi&&(Mi=!0,u.updateOffset(this),Mi=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function x(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function w(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&x(t[i])!==x(e[i]))&&a++;return a+o}function C(t){!1===u.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(o,a){var s=!0;return f(function(t){if(null!=u.deprecationHandler&&u.deprecationHandler(null,o),s){for(var e,n=[],i=0;i<arguments.length;i++){if(e="","object"==typeof arguments[i]){for(var r in e+="\n["+i+"] ",t)e+=r+": "+arguments[0][r]+", ";e=e.slice(0,-2)}else e=arguments[i];n.push(e)}C(o+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),s=!1}return a.apply(this,arguments)},a)}function S(t,e){null!=u.deprecationHandler&&u.deprecationHandler(t,e),Ri[t]||(C(e),Ri[t]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,n;for(n in t)k(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function E(t,e){var n,i=f({},t);for(n in e)d(e,n)&&(s(t[n])&&s(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)d(t,n)&&!d(e,n)&&s(t[n])&&(i[n]=f({},i[n]));return i}function N(t){null!=t&&this.set(t)}function A(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return k(i)?i.call(e,n):i}function D(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function M(){return this._invalidDate}function R(t){return this._ordinal.replace("%d",t)}function P(t,e,n,i){var r=this._relativeTime[n];return k(r)?r(t,e,n,i):r.replace(/%d/i,t)}function O(t,e){var n=this._relativeTime[0<t?"future":"past"];return k(n)?n(e):n.replace(/%s/i,e)}function I(t,e){var n=t.toLowerCase();zi[n]=zi[n+"s"]=zi[e]=t}function L(t){return"string"==typeof t?zi[t]||zi[t.toLowerCase()]:undefined}function B(t){var e,n,i={};for(n in t)d(t,n)&&(e=L(n))&&(i[e]=t[n]);return i}function F(t,e){Hi[t]=e}function z(t){var e=[];for(var n in t)e.push({unit:n,priority:Hi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function j(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Ui[t]=r),e&&(Ui[e[0]]=function(){return H(r.apply(this,arguments),e[1],e[2])}),n&&(Ui[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function W(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(i){var t,r,o=i.match(ji);for(t=0,r=o.length;t<r;t++)Ui[o[t]]?o[t]=Ui[o[t]]:o[t]=W(o[t]);return function(t){var e,n="";for(e=0;e<r;e++)n+=k(o[e])?o[e].call(t,i):o[e];return n}}function U(t,e){return t.isValid()?(e=$(e,t.localeData()),Vi[e]=Vi[e]||V(e),Vi[e](t)):t.localeData().invalidDate()}function $(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Wi.lastIndex=0;0<=i&&Wi.test(t);)t=t.replace(Wi,n),Wi.lastIndex=0,i-=1;return t}function q(t,e,n){lr[t]=k(e)?e:function(t){return t&&n?n:e}}function Y(t,e){return d(lr,t)?lr[t](e._strict,e._locale):new RegExp(G(t))}function G(t){return X(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),c(n)&&(i=function(t,e){e[n]=x(t)}),e=0;e<t.length;e++)ur[t[e]]=i}function Z(t,r){K(t,function(t,e,n,i){n._w=n._w||{},r(t,n._w,n,i)})}function Q(t,e,n){null!=e&&d(ur,t)&&ur[t](e,n._a,n,t)}function J(t){return tt(t)?366:365}function tt(t){return t%4==0&&t%100!=0||t%400==0}function et(){return tt(this.year())}function nt(e,n){return function(t){return null!=t?(rt(this,e,t),u.updateOffset(this,n),this):it(this,e)}}function it(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function rt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),lt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ot(t){return k(this[t=L(t)])?this[t]():this}function at(t,e){if("object"==typeof t)for(var n=z(t=B(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(k(this[t=L(t)]))return this[t](e);return this}function st(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=st(e,12);return t+=(e-n)/12,1===n?tt(t)?29:28:31-n%7%2}function ut(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||wr).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone}function ct(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[wr.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dt(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=br.call(this._shortMonthsParse,a))?r:null:-1!==(r=br.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=br.call(this._shortMonthsParse,a))?r:-1!==(r=br.call(this._longMonthsParse,a))?r:null:-1!==(r=br.call(this._longMonthsParse,a))?r:-1!==(r=br.call(this._shortMonthsParse,a))?r:null}function ft(t,e,n){var i,r,o;if(this._monthsParseExact)return dt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ht(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=x(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function pt(t){return null!=t?(ht(this,t),u.updateOffset(this,!0),this):it(this,"Month")}function mt(){return lt(this.year(),this.month())}function gt(t){return this._monthsParseExact?(d(this,"_monthsRegex")||yt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Sr),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(t){return this._monthsParseExact?(d(this,"_monthsRegex")||yt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=kr),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function yt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=X(i[e]),r[e]=X(r[e]);for(e=0;e<24;e++)o[e]=X(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function bt(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function xt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function wt(t,e,n){var i=7+e-n;return-((7+xt(t,0,i).getUTCDay()-e)%7)+i-1}function Ct(t,e,n,i,r){var o,a,s=1+7*(e-1)+(7+n-i)%7+wt(t,i,r);return s<=0?a=J(o=t-1)+s:s>J(t)?(o=t+1,a=s-J(t)):(o=t,a=s),{year:o,dayOfYear:a}}function _t(t,e,n){var i,r,o=wt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?i=a+St(r=t.year()-1,e,n):a>St(t.year(),e,n)?(i=a-St(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function St(t,e,n){var i=wt(t,e,n),r=wt(t+1,e,n);return(J(t)-i+r)/7}function kt(t){return _t(t,this._week.dow,this._week.doy).week}function Tt(){return this._week.dow}function Et(){return this._week.doy}function Nt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function At(t){var e=_t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Dt(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Mt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Rt(t,e){return t?a(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone}function Pt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ot(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function It(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=br.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=br.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=br.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=br.call(this._weekdaysParse,a))?r:-1!==(r=br.call(this._shortWeekdaysParse,a))?r:-1!==(r=br.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=br.call(this._shortWeekdaysParse,a))?r:-1!==(r=br.call(this._weekdaysParse,a))?r:-1!==(r=br.call(this._minWeekdaysParse,a))?r:null:-1!==(r=br.call(this._minWeekdaysParse,a))?r:-1!==(r=br.call(this._weekdaysParse,a))?r:-1!==(r=br.call(this._shortWeekdaysParse,a))?r:null}function Lt(t,e,n){var i,r,o;if(this._weekdaysParseExact)return It.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Bt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Dt(t,this.localeData()),this.add(t-e,"d")):e}function Ft(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function zt(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e=Mt(t,this.localeData());return this.day(this.day()%7?e:e-7)}function Ht(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Vt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Dr),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function jt(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Vt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wt(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Vt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Rr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Vt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=X(s[e]),l[e]=X(l[e]),u[e]=X(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ut(){return this.hours()%12||12}function $t(){return this.hours()||24}function qt(t,e){j(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Yt(t,e){return e._meridiemParse}function Gt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xt(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Zt(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=Kt(t[o]).split("-")).length,n=(n=Kt(t[o+1]))?n.split("-"):null;0<e;){if(i=Qt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(r,n,!0)>=e-1)break;e--}o++}return null}function Qt(t){var e=null;if(!Br[t]&&void 0!==Ro&&Ro&&Ro.exports)try{e=Pr._abbr,Mo("./locale/"+t),Jt(e)}catch(n){}return Br[t]}function Jt(t,e){var n;return t&&(n=o(e)?ne(t):te(t,e))&&(Pr=n),Pr._abbr}function te(t,e){if(null===e)return delete Br[t],null;var n=Lr;if(e.abbr=t,null!=Br[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Br[t]._config;else if(null!=e.parentLocale){if(null==Br[e.parentLocale])return Fr[e.parentLocale]||(Fr[e.parentLocale]=[]),Fr[e.parentLocale].push({name:t,config:e}),null;n=Br[e.parentLocale]._config}return Br[t]=new N(E(n,e)),Fr[t]&&Fr[t].forEach(function(t){te(t.name,t.config)}),Jt(t),Br[t]}function ee(t,e){if(null!=e){var n,i,r=Lr;null!=(i=Qt(t))&&(r=i._config),(n=new N(e=E(r,e))).parentLocale=Br[t],Br[t]=n,Jt(t)}else null!=Br[t]&&(null!=Br[t].parentLocale?Br[t]=Br[t].parentLocale:null!=Br[t]&&delete Br[t]);return Br[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Pr;if(!a(t)){if(e=Qt(t))return e;t=[t]}return Zt(t)}function ie(){return Ai(Br)}function re(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[dr]<0||11<n[dr]?dr:n[fr]<1||n[fr]>lt(n[cr],n[dr])?fr:n[hr]<0||24<n[hr]||24===n[hr]&&(0!==n[pr]||0!==n[mr]||0!==n[gr])?hr:n[pr]<0||59<n[pr]?pr:n[mr]<0||59<n[mr]?mr:n[gr]<0||999<n[gr]?gr:-1,p(t)._overflowDayOfYear&&(e<cr||fr<e)&&(e=fr),p(t)._overflowWeeks&&-1===e&&(e=vr),p(t)._overflowWeekday&&-1===e&&(e=yr),p(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ae(t){var e=new Date(u.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function se(t){var e,n,i,r,o,a=[];if(!t._d){for(i=ae(t),t._w&&null==t._a[fr]&&null==t._a[dr]&&le(t),null!=t._dayOfYear&&(o=oe(t._a[cr],i[cr]),(t._dayOfYear>J(o)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=xt(o,0,t._dayOfYear),t._a[dr]=n.getUTCMonth(),t._a[fr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=i[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[hr]&&0===t._a[pr]&&0===t._a[mr]&&0===t._a[gr]&&(t._nextDay=!0,t._a[hr]=0),t._d=(t._useUTC?xt:bt).apply(null,a),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[hr]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==r&&(p(t).weekdayMismatch=!0)}}function le(t){var e,n,i,r,o,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=oe(e.GG,t._a[cr],_t(ke(),1,4).year),i=oe(e.W,1),((r=oe(e.E,1))<1||7<r)&&(l=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var u=_t(ke(),o,a);n=oe(e.gg,t._a[cr],u.year),i=oe(e.w,u.week),null!=e.d?((r=e.d)<0||6<r)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||6<e.e)&&(l=!0)):r=o}i<1||i>St(n,o,a)?p(t)._overflowWeeks=!0:null!=l?p(t)._overflowWeekday=!0:(s=Ct(n,i,r,o,a),t._a[cr]=s.year,t._dayOfYear=s.dayOfYear)}function ue(t){var e,n,i,r,o,a,s=t._i,l=zr.exec(s)||Hr.exec(s);if(l){for(p(t).iso=!0,e=0,n=Wr.length;e<n;e++)if(Wr[e][1].exec(l[1])){r=Wr[e][0],i=!1!==Wr[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Vr.length;e<n;e++)if(Vr[e][1].exec(l[3])){o=(l[2]||" ")+Vr[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!jr.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),ve(t)}else t._isValid=!1}function ce(t,e,n,i,r,o){var a=[de(t),_r.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}function de(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function fe(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function he(t,e,n){if(t&&Nr.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return p(n).weekdayMismatch=!0,n._isValid=!1;return!0}function pe(t,e,n){if(t)return qr[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return 60*((i-r)/100)+r}function me(t){var e=$r.exec(fe(t._i));if(e){var n=ce(e[4],e[3],e[2],e[5],e[6],e[7]);if(!he(e[1],n,t))return;t._a=n,t._tzm=pe(e[8],e[9],e[10]),t._d=xt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function ge(t){var e=Ur.exec(t._i);null===e?(ue(t),!1===t._isValid&&(delete t._isValid,me(t),!1===t._isValid&&(delete t._isValid,u.createFromInputFallback(t)))):t._d=new Date(+e[1])}function ve(t){if(t._f!==u.ISO_8601)if(t._f!==u.RFC_2822){t._a=[],p(t).empty=!0;var e,n,i,r,o,a=""+t._i,s=a.length,l=0;for(i=$(t._f,t._locale).match(ji)||[],e=0;e<i.length;e++)r=i[e],(n=(a.match(Y(r,t))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&p(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),Ui[r]?(n?p(t).empty=!1:p(t).unusedTokens.push(r),Q(r,n,t)):t._strict&&!n&&p(t).unusedTokens.push(r);p(t).charsLeftOver=s-l,0<a.length&&p(t).unusedInput.push(a),t._a[hr]<=12&&!0===p(t).bigHour&&0<t._a[hr]&&(p(t).bigHour=undefined),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[hr]=ye(t._locale,t._a[hr],t._meridiem),se(t),re(t)}else me(t);else ue(t)}function ye(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}function be(t){var e,n,i,r,o;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ve(e),m(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==i||o<i)&&(i=o,n=e));f(t,n||e)}function xe(t){if(!t._d){var e=B(t._i);t._a=n([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function we(t){var e=new v(re(Ce(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=undefined),e}function Ce(t){var e=t._i,n=t._f;return t._locale=t._locale||ne(t._l),null===e||n===undefined&&""===e?i({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(re(e)):(r(e)?t._d=e:a(n)?be(t):n?ve(t):_e(t),m(t)||(t._d=null),t))}function _e(t){var e=t._i;o(e)?t._d=new Date(u.now()):r(e)?t._d=new Date(e.valueOf()):"string"==typeof e?ge(t):a(e)?(t._a=n(e.slice(0),function(t){return parseInt(t,10)}),se(t)):s(e)?xe(t):c(e)?t._d=new Date(e):u.createFromInputFallback(t)}function Se(t,e,n,i,r){var o={};return!0!==n&&!1!==n||(i=n,n=undefined),(s(t)&&l(t)||a(t)&&0===t.length)&&(t=undefined),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,we(o)}function ke(t,e,n,i){return Se(t,e,n,i,!1)}function Te(t,e){var n,i;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return ke();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Ee(){return Te("isBefore",[].slice.call(arguments,0))}function Ne(){return Te("isAfter",[].slice.call(arguments,0))}function Ae(t){for(var e in t)if(
-1===br.call(Kr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Kr.length;++i)if(t[Kr[i]]){if(n)return!1;parseFloat(t[Kr[i]])!==x(t[Kr[i]])&&(n=!0)}return!0}function De(){return this._isValid}function Me(){return Ke(NaN)}function Re(t){var e=B(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Ae(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function Pe(t){return t instanceof Re}function Oe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,n){j(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+H(~~(t/60),2)+n+H(~~t%60,2)})}function Le(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Zr)||["-",0,0],r=60*i[1]+x(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Be(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(y(t)||r(t)?t.valueOf():ke(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),u.updateOffset(n,!1),n):ke(t).local()}function Fe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function ze(t,e,n){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?r:Fe(this);if("string"==typeof t){if(null===(t=Le(or,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Fe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?en(this,Ke(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,u.updateOffset(this,!0),this._changeInProgress=null)),this}function He(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function je(t){return this.utcOffset(0,t)}function We(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this}function Ve(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Le(rr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ue(t){return!!this.isValid()&&(t=t?ke(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function $e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qe(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),(t=Ce(t))._a){var e=t._isUTC?h(t._a):ke(t._a);this._isDSTShifted=this.isValid()&&0<w(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}function Ye(){return!!this.isValid()&&!this._isUTC}function Ge(){return!!this.isValid()&&this._isUTC}function Xe(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ke(t,e){var n,i,r,o=t,a=null;return Pe(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Qr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:x(a[fr])*n,h:x(a[hr])*n,m:x(a[pr])*n,s:x(a[mr])*n,ms:x(Oe(1e3*a[gr]))*n}):(a=Jr.exec(t))?(n="-"===a[1]?-1:(a[1],1),o={y:Ze(a[2],n),M:Ze(a[3],n),w:Ze(a[4],n),d:Ze(a[5],n),h:Ze(a[6],n),m:Ze(a[7],n),s:Ze(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Je(ke(o.from),ke(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Re(o),Pe(t)&&d(t,"_locale")&&(i._locale=t._locale),i}function Ze(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Qe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Je(t,e){var n;return t.isValid()&&e.isValid()?(e=Be(e,t),t.isBefore(e)?n=Qe(t,e):((n=Qe(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(i,r){return function(t,e){var n;return null===e||isNaN(+e)||(S(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),en(this,Ke(t="string"==typeof t?+t:t,e),i),this}}function en(t,e,n,i){var r=e._milliseconds,o=Oe(e._days),a=Oe(e._months);t.isValid()&&(i=null==i||i,a&&ht(t,it(t,"Month")+a*n),o&&rt(t,"Date",it(t,"Date")+o*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&u.updateOffset(t,o||a))}function nn(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(t,e){var n=t||ke(),i=Be(n,this).startOf("day"),r=u.calendarFormat(this,i)||"sameElse",o=e&&(k(e[r])?e[r].call(this,n):e[r]);return this.format(o||this.localeData().calendar(r,this,ke(n)))}function on(){return new v(this)}function an(t,e){var n=y(t)?t:ke(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(o(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function sn(t,e){var n=y(t)?t:ke(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(o(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ln(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function un(t,e){var n,i=y(t)?t:ke(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=L(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function cn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function dn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function fn(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Be(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=L(e)){case"year":o=hn(this,i)/12;break;case"month":o=hn(this,i);break;case"quarter":o=hn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:b(o)}function hn(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?U(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",U(n,"Z")):U(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+i+r+o)}function vn(t){t||(t=this.isUtc()?u.defaultFormatUtc:u.defaultFormat);var e=U(this,t);return this.localeData().postformat(e)}function yn(t,e){return this.isValid()&&(y(t)&&t.isValid()||ke(t).isValid())?Ke({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bn(t){return this.from(ke(),t)}function xn(t,e){return this.isValid()&&(y(t)&&t.isValid()||ke(t).isValid())?Ke({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function wn(t){return this.to(ke(),t)}function Cn(t){var e;return t===undefined?this._locale._abbr:(null!=(e=ne(t))&&(this._locale=e),this)}function _n(){return this._locale}function Sn(t){switch(t=L(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function kn(t){return(t=L(t))===undefined||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Tn(){return this._d.valueOf()-6e4*(this._offset||0)}function En(){return Math.floor(this.valueOf()/1e3)}function Nn(){return new Date(this.valueOf())}function An(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Dn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Mn(){return this.isValid()?this.toISOString():null}function Rn(){return m(this)}function Pn(){return f({},p(this))}function On(){return p(this).overflow}function In(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ln(t,e){j(0,[t,t.length],0,e)}function Bn(t){return jn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fn(t){return jn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function zn(){return St(this.year(),1,4)}function Hn(){var t=this.localeData()._week;return St(this.year(),t.dow,t.doy)}function jn(t,e,n,i,r){var o;return null==t?_t(this,i,r).year:((o=St(t,i,r))<e&&(e=o),Wn.call(this,t,e,n,i,r))}function Wn(t,e,n,i,r){var o=Ct(t,e,n,i,r),a=xt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Vn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Un(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function $n(t,e){e[gr]=x(1e3*("0."+t))}function qn(){return this._isUTC?"UTC":""}function Yn(){return this._isUTC?"Coordinated Universal Time":""}function Gn(t){return ke(1e3*t)}function Xn(){return ke.apply(null,arguments).parseZone()}function Kn(t){return t}function Zn(t,e,n,i){var r=ne(),o=h().set(i,e);return r[n](o,t)}function Qn(t,e,n){if(c(t)&&(e=t,t=undefined),t=t||"",null!=e)return Zn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Zn(t,i,n,"month");return r}function Jn(t,e,n,i){"boolean"==typeof t?c(e)&&(n=e,e=undefined):(e=t,t=!1,c(n=e)&&(n=e,e=undefined)),e=e||"";var r,o=ne(),a=t?o._week.dow:0;if(null!=n)return Zn(e,(n+a)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=Zn(e,(r+a)%7,i,"day");return s}function ti(t,e){return Qn(t,e,"months")}function ei(t,e){return Qn(t,e,"monthsShort")}function ni(t,e,n){return Jn(t,e,n,"weekdays")}function ii(t,e,n){return Jn(t,e,n,"weekdaysShort")}function ri(t,e,n){return Jn(t,e,n,"weekdaysMin")}function oi(){var t=this._data;return this._milliseconds=co(this._milliseconds),this._days=co(this._days),this._months=co(this._months),t.milliseconds=co(t.milliseconds),t.seconds=co(t.seconds),t.minutes=co(t.minutes),t.hours=co(t.hours),t.months=co(t.months),t.years=co(t.years),this}function ai(t,e,n,i){var r=Ke(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function si(t,e){return ai(this,t,e,1)}function li(t,e){return ai(this,t,e,-1)}function ui(t){return t<0?Math.floor(t):Math.ceil(t)}function ci(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*ui(fi(s)+a),s=a=0),l.milliseconds=o%1e3,t=b(o/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,s+=r=b(di(a+=b(n/24))),a-=ui(fi(r)),i=b(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function di(t){return 4800*t/146097}function fi(t){return 146097*t/4800}function hi(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=L(t))||"year"===t)return e=this._days+i/864e5,n=this._months+di(e),"month"===t?n:n/12;switch(e=this._days+Math.round(fi(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function pi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN}function mi(t){return function(){return this.as(t)}}function gi(){return Ke(this)}function vi(t){return t=L(t),this.isValid()?this[t+"s"]():NaN}function yi(t){return function(){return this.isValid()?this._data[t]:NaN}}function bi(){return b(this.days()/7)}function xi(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function wi(t,e,n){var i=Ke(t).abs(),r=Eo(i.as("s")),o=Eo(i.as("m")),a=Eo(i.as("h")),s=Eo(i.as("d")),l=Eo(i.as("M")),u=Eo(i.as("y")),c=r<=No.ss&&["s",r]||r<No.s&&["ss",r]||o<=1&&["m"]||o<No.m&&["mm",o]||a<=1&&["h"]||a<No.h&&["hh",a]||s<=1&&["d"]||s<No.d&&["dd",s]||l<=1&&["M"]||l<No.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=0<+t,c[4]=n,xi.apply(null,c)}function Ci(t){return t===undefined?Eo:"function"==typeof t&&(Eo=t,!0)}function _i(t,e){return No[t]!==undefined&&(e===undefined?No[t]:(No[t]=e,"s"===t&&(No.ss=e-1),!0))}function Si(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=wi(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function ki(t){return(0<t)-(t<0)||+t}function Ti(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Ao(this._milliseconds)/1e3,i=Ao(this._days),r=Ao(this._months);e=b((t=b(n/60))/60),n%=60,t%=60;var o=b(r/12),a=r%=12,s=i,l=e,u=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",h=ki(this._months)!==ki(d)?"-":"",p=ki(this._days)!==ki(d)?"-":"",m=ki(this._milliseconds)!==ki(d)?"-":"";return f+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?p+s+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var Ei,Ni;Ni=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Ai,Di=u.momentProperties=[],Mi=!1,Ri={};u.suppressDeprecationWarnings=!1,u.deprecationHandler=null,Ai=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)d(t,e)&&n.push(e);return n};var Pi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Oi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ii="Invalid date",Li="%d",Bi=/\d{1,2}/,Fi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zi={},Hi={},ji=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Wi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vi={},Ui={},$i=/\d/,qi=/\d\d/,Yi=/\d{3}/,Gi=/\d{4}/,Xi=/[+-]?\d{6}/,Ki=/\d\d?/,Zi=/\d\d\d\d?/,Qi=/\d\d\d\d\d\d?/,Ji=/\d{1,3}/,tr=/\d{1,4}/,er=/[+-]?\d{1,6}/,nr=/\d+/,ir=/[+-]?\d+/,rr=/Z|[+-]\d\d:?\d\d/gi,or=/Z|[+-]\d\d(?::?\d\d)?/gi,ar=/[+-]?\d+(\.\d{1,3})?/,sr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lr={},ur={},cr=0,dr=1,fr=2,hr=3,pr=4,mr=5,gr=6,vr=7,yr=8;j("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),I("year","y"),F("year",1),q("Y",ir),q("YY",Ki,qi),q("YYYY",tr,Gi),q("YYYYY",er,Xi),q("YYYYYY",er,Xi),K(["YYYYY","YYYYYY"],cr),K("YYYY",function(t,e){e[cr]=2===t.length?u.parseTwoDigitYear(t):x(t)}),K("YY",function(t,e){e[cr]=u.parseTwoDigitYear(t)}),K("Y",function(t,e){e[cr]=parseInt(t,10)}),u.parseTwoDigitYear=function(t){return x(t)+(68<x(t)?1900:2e3)};var br,xr=nt("FullYear",!0);br=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),j("MMMM",0,0,function(t){return this.localeData().months(this,t)}),I("month","M"),F("month",8),q("M",Ki),q("MM",Ki,qi),q("MMM",function(t,e){return e.monthsShortRegex(t)}),q("MMMM",function(t,e){return e.monthsRegex(t)}),K(["M","MM"],function(t,e){e[dr]=x(t)-1}),K(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[dr]=r:p(n).invalidMonth=t});var wr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Cr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_r="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Sr=sr,kr=sr;j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),F("week",5),F("isoWeek",5),q("w",Ki),q("ww",Ki,qi),q("W",Ki),q("WW",Ki,qi),Z(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=x(t)});var Tr={dow:0,doy:6};j("d",0,"do","day"),j("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),j("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),j("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),q("d",Ki),q("e",Ki),q("E",Ki),q("dd",function(t,e){return e.weekdaysMinRegex(t)}),q("ddd",function(t,e){return e.weekdaysShortRegex(t)}),q("dddd",function(t,e){return e.weekdaysRegex(t)}),Z(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:p(n).invalidWeekday=t}),Z(["d","e","E"],function(t,e,n,i){e[i]=x(t)});var Er="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Nr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ar="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Dr=sr,Mr=sr,Rr=sr;j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Ut),j("k",["kk",2],0,$t),j("hmm",0,0,function(){return""+Ut.apply(this)+H(this.minutes(),2)}),j("hmmss",0,0,function(){return""+Ut.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),qt("a",!0),qt("A",!1),I("hour","h"),F("hour",13),q("a",Yt),q("A",Yt),q("H",Ki),q("h",Ki),q("k",Ki),q("HH",Ki,qi),q("hh",Ki,qi),q("kk",Ki,qi),q("hmm",Zi),q("hmmss",Qi),q("Hmm",Zi),q("Hmmss",Qi),K(["H","HH"],hr),K(["k","kk"],function(t,e){var n=x(t);e[hr]=24===n?0:n}),K(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),K(["h","hh"],function(t,e,n){e[hr]=x(t),p(n).bigHour=!0}),K("hmm",function(t,e,n){var i=t.length-2;e[hr]=x(t.substr(0,i)),e[pr]=x(t.substr(i)),p(n).bigHour=!0}),K("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[hr]=x(t.substr(0,i)),e[pr]=x(t.substr(i,2)),e[mr]=x(t.substr(r)),p(n).bigHour=!0}),K("Hmm",function(t,e){var n=t.length-2;e[hr]=x(t.substr(0,n)),e[pr]=x(t.substr(n))}),K("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[hr]=x(t.substr(0,n)),e[pr]=x(t.substr(n,2)),e[mr]=x(t.substr(i))});var Pr,Or=/[ap]\.?m?\.?/i,Ir=nt("Hours",!0),Lr={calendar:Pi,longDateFormat:Oi,invalidDate:Ii,ordinal:Li,dayOfMonthOrdinalParse:Bi,relativeTime:Fi,months:Cr,monthsShort:_r,week:Tr,weekdays:Er,weekdaysMin:Ar,weekdaysShort:Nr,meridiemParse:Or},Br={},Fr={},zr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jr=/Z|[+-]\d\d(?::?\d\d)?/,Wr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Vr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ur=/^\/?Date\((\-?\d+)/i,$r=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};u.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),u.ISO_8601=function(){},u.RFC_2822=function(){};var Yr=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:i()}),Gr=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:i()}),Xr=function(){return Date.now?Date.now():+new Date},Kr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ie("Z",":"),Ie("ZZ",""),q("Z",or),q("ZZ",or),K(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Le(or,t)});var Zr=/([\+\-]|\d\d)/gi;u.updateOffset=function(){};var Qr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ke.fn=Re.prototype,Ke.invalid=Me;var to=tn(1,"add"),eo=tn(-1,"subtract");u.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",u.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var no=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===undefined?this.localeData():this.locale(t)});j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ln("gggg","weekYear"),Ln("ggggg","weekYear"),Ln("GGGG","isoWeekYear"),Ln("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),q("G",ir),q("g",ir),q("GG",Ki,qi),q("gg",Ki,qi),q("GGGG",tr,Gi),q("gggg",tr,Gi),q("GGGGG",er,Xi),q("ggggg",er,Xi),Z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=x(t)}),Z(["gg","GG"],function(t,e,n,i){e[i]=u.parseTwoDigitYear(t)}),j("Q",0,"Qo","quarter"),I("quarter","Q"),F("quarter",7),q("Q",$i),K("Q",function(t,e){e[dr]=3*(x(t)-1)}),j("D",["DD",2],"Do","date"),I("date","D"),F("date",9),q("D",Ki),q("DD",Ki,qi),q("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),K(["D","DD"],fr),K("Do",function(t,e){e[fr]=x(t.match(Ki)[0])});var io=nt("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),F("dayOfYear",4),q("DDD",Ji),q("DDDD",Yi),K(["DDD","DDDD"],function(t,e,n){n._dayOfYear=x(t)}),j("m",["mm",2],0,"minute"),I("minute","m"),F("minute",14),q("m",Ki),q("mm",Ki,qi),K(["m","mm"],pr);var ro=nt("Minutes",!1);j("s",["ss",2],0,"second"),I("second","s"),F("second",15),q("s",Ki),q("ss",Ki,qi),K(["s","ss"],mr);var oo,ao=nt("Seconds",!1);for(j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),F("millisecond",16),q("S",Ji,$i),q("SS",Ji,qi),q("SSS",Ji,Yi),oo="SSSS";oo.length<=9;oo+="S")q(oo,nr);for(oo="S";oo.length<=9;oo+="S")K(oo,$n);var so=nt("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var lo=v.prototype;lo.add=to,lo.calendar=rn,lo.clone=on,lo.diff=fn,lo.endOf=kn,lo.format=vn,lo.from=yn,lo.fromNow=bn,lo.to=xn,lo.toNow=wn,lo.get=ot,lo.invalidAt=On,lo.isAfter=an,lo.isBefore=sn,lo.isBetween=ln,lo.isSame=un,lo.isSameOrAfter=cn,lo.isSameOrBefore=dn,lo.isValid=Rn,lo.lang=no,lo.locale=Cn,lo.localeData=_n,lo.max=Gr,lo.min=Yr,lo.parsingFlags=Pn,lo.set=at,lo.startOf=Sn,lo.subtract=eo,lo.toArray=An,lo.toObject=Dn,lo.toDate=Nn,lo.toISOString=mn,lo.inspect=gn,lo.toJSON=Mn,lo.toString=pn,lo.unix=En,lo.valueOf=Tn,lo.creationData=In,lo.year=xr,lo.isLeapYear=et,lo.weekYear=Bn,lo.isoWeekYear=Fn,lo.quarter=lo.quarters=Vn,lo.month=pt,lo.daysInMonth=mt,lo.week=lo.weeks=Nt,lo.isoWeek=lo.isoWeeks=At,lo.weeksInYear=Hn,lo.isoWeeksInYear=zn,lo.date=io,lo.day=lo.days=Bt,lo.weekday=Ft,lo.isoWeekday=zt,lo.dayOfYear=Un,lo.hour=lo.hours=Ir,lo.minute=lo.minutes=ro,lo.second=lo.seconds=ao,lo.millisecond=lo.milliseconds=so,lo.utcOffset=ze,lo.utc=je,lo.local=We,lo.parseZone=Ve,lo.hasAlignedHourOffset=Ue,lo.isDST=$e,lo.isLocal=Ye,lo.isUtcOffset=Ge,lo.isUtc=Xe,lo.isUTC=Xe,lo.zoneAbbr=qn,lo.zoneName=Yn,lo.dates=_("dates accessor is deprecated. Use date instead.",io),lo.months=_("months accessor is deprecated. Use month instead",pt),lo.years=_("years accessor is deprecated. Use year instead",xr),lo.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",He),lo.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",qe);var uo=N.prototype;uo.calendar=A,uo.longDateFormat=D,uo.invalidDate=M,uo.ordinal=R,uo.preparse=Kn,uo.postformat=Kn,uo.relativeTime=P,uo.pastFuture=O,uo.set=T,uo.months=ut,uo.monthsShort=ct,uo.monthsParse=ft,uo.monthsRegex=vt,uo.monthsShortRegex=gt,uo.week=kt,uo.firstDayOfYear=Et,uo.firstDayOfWeek=Tt,uo.weekdays=Rt,uo.weekdaysMin=Ot,uo.weekdaysShort=Pt,uo.weekdaysParse=Lt,uo.weekdaysRegex=Ht,uo.weekdaysShortRegex=jt,uo.weekdaysMinRegex=Wt,uo.isPM=Gt,uo.meridiem=Xt,Jt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===x(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),u.lang=_("moment.lang is deprecated. Use moment.locale instead.",Jt),u.langData=_("moment.langData is deprecated. Use moment.localeData instead.",ne);var co=Math.abs,fo=mi("ms"),ho=mi("s"),po=mi("m"),mo=mi("h"),go=mi("d"),vo=mi("w"),yo=mi("M"),bo=mi("y"),xo=yi("milliseconds"),wo=yi("seconds"),Co=yi("minutes"),_o=yi("hours"),So=yi("days"),ko=yi("months"),To=yi("years"),Eo=Math.round,No={ss:44,s:45,m:45,h:22,d:26,M:11},Ao=Math.abs,Do=Re.prototype;return Do.isValid=De,Do.abs=oi,Do.add=si,Do.subtract=li,Do.as=hi,Do.asMilliseconds=fo,Do.asSeconds=ho,Do.asMinutes=po,Do.asHours=mo,Do.asDays=go,Do.asWeeks=vo,Do.asMonths=yo,Do.asYears=bo,Do.valueOf=pi,Do._bubble=ci,Do.clone=gi,Do.get=vi,Do.milliseconds=xo,Do.seconds=wo,Do.minutes=Co,Do.hours=_o,Do.days=So,Do.weeks=bi,Do.months=ko,Do.years=To,Do.humanize=Si,Do.toISOString=Ti,Do.toString=Ti,Do.toJSON=Ti,Do.locale=Cn,Do.localeData=_n,Do.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ti),Do.lang=no,j("X",0,0,"unix"),j("x",0,0,"valueOf"),q("x",ir),q("X",ar),K("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),K("x",function(t,e,n){n._d=new Date(x(t))}),u.version="2.20.1",t(ke),u.fn=lo,u.min=Ee,u.max=Ne,u.now=Xr,u.utc=h,u.unix=Gn,u.months=ti,u.isDate=r,u.locale=Jt,u.invalid=i,u.duration=Ke,u.isMoment=y,u.weekdays=ni,u.parseZone=Xn,u.localeData=ne,u.isDuration=Pe,u.monthsShort=ei,u.weekdaysMin=ri,u.defineLocale=te,u.updateLocale=ee,u.locales=ie,u.weekdaysShort=ii,u.normalizeUnits=L,u.relativeTimeRounding=Ci,u.relativeTimeThreshold=_i,u.calendarFormat=nn,u.prototype=lo,u.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},u},"object"==typeof t&&void 0!==Ro?Ro.exports=n():"function"==typeof i&&i.amd?i(n):e.moment=n()},{}],7:[function(t,e){var n=t(29)();n.helpers=t(45),t(27)(n),n.defaults=t(25),n.Element=t(26),n.elements=t(40),n.Interaction=t(28),n.layouts=t(30),n.platform=t(48),n.plugins=t(31),n.Ticks=t(34),t(22)(n),t(23)(n),t(24)(n),t(33)(n),t(32)(n),t(35)(n),t(55)(n),t(53)(n),t(54)(n),t(56)(n),t(57)(n),t(58)(n),t(15)(n),t(16)(n),t(17)(n),t(18)(n),t(19)(n),t(20)(n),t(21)(n),t(8)(n),t(9)(n),t(10)(n),t(11)(n),t(12)(n),t(13)(n),t(14)(n);var i=t(49);for(var r in i)i.hasOwnProperty(r)&&n.plugins.register(i[r]);n.platform.initialize(),e.exports=n,"undefined"!=typeof window&&(window.Chart=n),n.Legend=i.legend._element,n.Title=i.title._element,n.pluginService=n.plugins,n.PluginBase=n.Element.extend({}),n.canvasHelpers=n.helpers.canvas,n.layoutService=n.layouts},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,40:40,45:45,48:48,49:49,53:53,54:54,55:55,56:56,57:57,58:58,8:8,9:9}],8:[function(t,e){"use strict";e.exports=function(n){n.Bar=function(t,e){return e.type="bar",new n(t,e)}}},{}],9:[function(t,e){"use strict";e.exports=function(n){n.Bubble=function(t,e){return e.type="bubble",new n(t,e)}}},{}],10:[function(t,e){"use strict";e.exports=function(n){n.Doughnut=function(t,e){return e.type="doughnut",new n(t,e)}}},{}],11:[function(t,e){"use strict";e.exports=function(n){n.Line=function(t,e){return e.type="line",new n(t,e)}}},{}],12:[function(t,e){"use strict";e.exports=function(n){n.PolarArea=function(t,e){return e.type="polarArea",new n(t,e)}}},{}],13:[function(t,e){"use strict";e.exports=function(n){n.Radar=function(t,e){return e.type="radar",new n(t,e)}}},{}],14:[function(t,e){"use strict";e.exports=function(n){n.Scatter=function(t,e){return e.type="scatter",new n(t,e)}}},{}],15:[function(t,e){"use strict";function c(t,e){var n,i,r,o,a=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(r=1,o=e.length;r<o;++r)a=Math.min(a,e[r]-e[r-1]);for(r=0,o=s.length;r<o;++r)i=t.getPixelForTick(r),a=0<r?Math.min(a,i-n):a,n=i;return a}function u(t,e,n){var i,r,o=n.barThickness,a=e.stackCount,s=e.pixels[t];return f.isNullOrUndef(o)?(i=e.min*n.categoryPercentage,r=n.barPercentage):(i=o*a,r=1),{chunk:i/a,ratio:r,start:s-i/2}}function d(t,e,n){var i,r=e.pixels,o=r[t],a=0<t?r[t-1]:null,s=t<r.length-1?r[t+1]:null,l=n.categoryPercentage;return null===a&&(a=o-(null===s?e.end-o:s-o)),null===s&&(s=o+o-a),i=o-(o-a)/2*l,{chunk:(s-a)/2*l/e.stackCount,ratio:n.barPercentage,start:i}}var n=t(25),i=t(40),f=t(45);n._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),n._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return 0<t.length&&(t[0].yLabel?n=t[0].yLabel:0<e.labels.length&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}},mode:"index",axis:"y"}}),e.exports=function(n){n.controllers.bar=n.DatasetController.extend({dataElementType:i.Rectangle,initialize:function(){var t,e=this;n.DatasetController.prototype.initialize.apply(e,arguments),(t=e.getMeta()).stack=e.getDataset().stack,t.bar=!0},update:function(t){var e,n,i=this,r=i.getMeta().data;for(i._ruler=i.getRuler(),e=0,n=r.length;e<n;++e)i.updateElement(r[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.chart,o=i.getMeta(),a=i.getDataset(),s=t.custom||{},l=r.options.elements.rectangle;t._xScale=i.getScaleForId(o.xAxisID),t._yScale=i.getScaleForId(o.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={datasetLabel:a.label,label:r.data.labels[e],borderSkipped:s.borderSkipped?s.borderSkipped:l.borderSkipped,backgroundColor:s.backgroundColor?s.backgroundColor:f.valueAtIndexOrDefault(a.backgroundColor,e,
l.backgroundColor),borderColor:s.borderColor?s.borderColor:f.valueAtIndexOrDefault(a.borderColor,e,l.borderColor),borderWidth:s.borderWidth?s.borderWidth:f.valueAtIndexOrDefault(a.borderWidth,e,l.borderWidth)},i.updateElementGeometry(t,e,n),t.pivot()},updateElementGeometry:function(t,e,n){var i=this,r=t._model,o=i.getValueScale(),a=o.getBasePixel(),s=o.isHorizontal(),l=i._ruler||i.getRuler(),u=i.calculateBarValuePixels(i.index,e),c=i.calculateBarIndexPixels(i.index,e,l);r.horizontal=s,r.base=n?a:u.base,r.x=s?n?a:u.head:c.center,r.y=s?c.center:n?a:u.head,r.height=s?c.size:undefined,r.width=s?undefined:c.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(t){var e,n,i=this,r=i.chart,o=i.getIndexScale().options.stacked,a=t===undefined?r.data.datasets.length:t+1,s=[];for(e=0;e<a;++e)(n=r.getDatasetMeta(e)).bar&&r.isDatasetVisible(e)&&(!1===o||!0===o&&-1===s.indexOf(n.stack)||o===undefined&&(n.stack===undefined||-1===s.indexOf(n.stack)))&&s.push(n.stack);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=e!==undefined?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this,i=n.getIndexScale(),r=n.getStackCount(),o=n.index,a=i.isHorizontal(),s=a?i.left:i.top,l=s+(a?i.width:i.height),u=[];for(t=0,e=n.getMeta().data.length;t<e;++t)u.push(i.getPixelForValue(null,t,o));return{min:f.isNullOrUndef(i.options.barThickness)?c(i,u):-1,pixels:u,start:s,end:l,stackCount:r,scale:i}},calculateBarValuePixels:function(t,e){var n,i,r,o,a,s,l=this,u=l.chart,c=l.getMeta(),d=l.getValueScale(),f=u.data.datasets,h=d.getRightValue(f[t].data[e]),p=d.options.stacked,m=c.stack,g=0;if(p||p===undefined&&m!==undefined)for(n=0;n<t;++n)(i=u.getDatasetMeta(n)).bar&&i.stack===m&&i.controller.getValueScaleId()===d.id&&u.isDatasetVisible(n)&&(r=d.getRightValue(f[n].data[e]),(h<0&&r<0||0<=h&&0<r)&&(g+=r));return o=d.getPixelForValue(g),{size:s=((a=d.getPixelForValue(g+h))-o)/2,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(t,e,n){var i=this,r=n.scale.options,o="flex"===r.barThickness?d(e,n,r):u(e,n,r),a=i.getStackIndex(t,i.getMeta().stack),s=o.start+o.chunk*a+o.chunk/2,l=Math.min(f.valueOrDefault(r.maxBarThickness,Infinity),o.chunk*o.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}},draw:function(){var t=this,e=t.chart,n=t.getValueScale(),i=t.getMeta().data,r=t.getDataset(),o=i.length,a=0;for(f.canvas.clipArea(e.ctx,e.chartArea);a<o;++a)isNaN(n.getRightValue(r.data[a]))||i[a].draw();f.canvas.unclipArea(e.ctx)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model;r.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:f.valueAtIndexOrDefault(e.hoverBackgroundColor,n,f.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor?i.hoverBorderColor:f.valueAtIndexOrDefault(e.hoverBorderColor,n,f.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:f.valueAtIndexOrDefault(e.hoverBorderWidth,n,r.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model,o=this.chart.options.elements.rectangle;r.backgroundColor=i.backgroundColor?i.backgroundColor:f.valueAtIndexOrDefault(e.backgroundColor,n,o.backgroundColor),r.borderColor=i.borderColor?i.borderColor:f.valueAtIndexOrDefault(e.borderColor,n,o.borderColor),r.borderWidth=i.borderWidth?i.borderWidth:f.valueAtIndexOrDefault(e.borderWidth,n,o.borderWidth)}}),n.controllers.horizontalBar=n.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(t,e){"use strict";var n=t(25),i=t(40),m=t(45);n._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}}),e.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:i.Point,update:function(n){var i=this,t=i.getMeta().data;m.each(t,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){var i=this,r=i.getMeta(),o=t.custom||{},a=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveElementOptions(t,e),u=i.getDataset().data[e],c=i.index,d=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof u?u:NaN,e,c),f=n?s.getBasePixel():s.getPixelForValue(u,e,c);t._xScale=a,t._yScale=s,t._options=l,t._datasetIndex=c,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,radius:n?0:l.radius,skip:o.skip||isNaN(d)||isNaN(f),x:d,y:f},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=m.valueOrDefault(n.hoverBackgroundColor,m.getHoverColor(n.backgroundColor)),e.borderColor=m.valueOrDefault(n.hoverBorderColor,m.getHoverColor(n.borderColor)),e.borderWidth=m.valueOrDefault(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},removeHoverStyle:function(t){var e=t._model,n=t._options;e.backgroundColor=n.backgroundColor,e.borderColor=n.borderColor,e.borderWidth=n.borderWidth,e.radius=n.radius},_resolveElementOptions:function(t,e){var n,i,r,o=this,a=o.chart,s=a.data.datasets[o.index],l=t.custom||{},u=a.options.elements.point,c=m.options.resolve,d=s.data[e],f={},h={chart:a,dataIndex:e,dataset:s,datasetIndex:o.index},p=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(n=0,i=p.length;n<i;++n)f[r=p[n]]=c([l[r],s[r],u[r]],h,e);return f.radius=c([l.radius,d?d.r:undefined,s.radius,u.radius],h,e),f}})}},{25:25,40:40,45:45}],17:[function(t,e){"use strict";var n=t(25),i=t(40),k=t(45);n._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(l){var u=l.data;return u.labels.length&&u.datasets.length?u.labels.map(function(t,e){var n=l.getDatasetMeta(0),i=u.datasets[0],r=n.data[e],o=r&&r.custom||{},a=k.valueAtIndexOrDefault,s=l.options.elements.arc;return{text:t,fillStyle:o.backgroundColor?o.backgroundColor:a(i.backgroundColor,e,s.backgroundColor),strokeStyle:o.borderColor?o.borderColor:a(i.borderColor,e,s.borderColor),lineWidth:o.borderWidth?o.borderWidth:a(i.borderWidth,e,s.borderWidth),hidden:isNaN(i.data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return k.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}}),n._set("pie",k.clone(n.doughnut)),n._set("pie",{cutoutPercentage:0}),e.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:i.Arc,linkScales:k.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(n){var i=this,t=i.chart,e=t.chartArea,r=t.options,o=r.elements.arc,a=e.right-e.left-o.borderWidth,s=e.bottom-e.top-o.borderWidth,l=Math.min(a,s),u={x:0,y:0},c=i.getMeta(),d=r.cutoutPercentage,f=r.circumference;if(f<2*Math.PI){var h=r.rotation%(2*Math.PI),p=(h+=2*Math.PI*(h>=Math.PI?-1:h<-Math.PI?1:0))+f,m={x:Math.cos(h),y:Math.sin(h)},g={x:Math.cos(p),y:Math.sin(p)},v=h<=0&&0<=p||h<=2*Math.PI&&2*Math.PI<=p,y=h<=.5*Math.PI&&.5*Math.PI<=p||h<=2.5*Math.PI&&2.5*Math.PI<=p,b=h<=-Math.PI&&-Math.PI<=p||h<=Math.PI&&Math.PI<=p,x=h<=.5*-Math.PI&&.5*-Math.PI<=p||h<=1.5*Math.PI&&1.5*Math.PI<=p,w=d/100,C={x:b?-1:Math.min(m.x*(m.x<0?1:w),g.x*(g.x<0?1:w)),y:x?-1:Math.min(m.y*(m.y<0?1:w),g.y*(g.y<0?1:w))},_={x:v?1:Math.max(m.x*(0<m.x?1:w),g.x*(0<g.x?1:w)),y:y?1:Math.max(m.y*(0<m.y?1:w),g.y*(0<g.y?1:w))},S={width:.5*(_.x-C.x),height:.5*(_.y-C.y)};l=Math.min(a/S.width,s/S.height),u={x:-.5*(_.x+C.x),y:-.5*(_.y+C.y)}}t.borderWidth=i.getMaxBorderWidth(c.data),t.outerRadius=Math.max((l-t.borderWidth)/2,0),t.innerRadius=Math.max(d?t.outerRadius/100*d:0,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),t.offsetX=u.x*t.outerRadius,t.offsetY=u.y*t.outerRadius,c.total=i.calculateTotal(),i.outerRadius=t.outerRadius-t.radiusLength*i.getRingIndex(i.index),i.innerRadius=Math.max(i.outerRadius-t.radiusLength,0),k.each(c.data,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){var i=this,r=i.chart,o=r.chartArea,a=r.options,s=a.animation,l=(o.left+o.right)/2,u=(o.top+o.bottom)/2,c=a.rotation,d=a.rotation,f=i.getDataset(),h=n&&s.animateRotate?0:t.hidden?0:i.calculateCircumference(f.data[e])*(a.circumference/(2*Math.PI)),p=n&&s.animateScale?0:i.innerRadius,m=n&&s.animateScale?0:i.outerRadius,g=k.valueAtIndexOrDefault;k.extend(t,{_datasetIndex:i.index,_index:e,_model:{x:l+r.offsetX,y:u+r.offsetY,startAngle:c,endAngle:d,circumference:h,outerRadius:m,innerRadius:p,label:g(f.label,e,r.data.labels[e])}});var v=t._model;this.removeHoverStyle(t),n&&s.animateRotate||(v.startAngle=0===e?a.rotation:i.getMeta().data[e-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var n,i=this.getDataset(),t=this.getMeta(),r=0;return k.each(t.data,function(t,e){n=i.data[e],isNaN(n)||t.hidden||(r+=Math.abs(n))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return 0<e&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){for(var e,n,i=0,r=this.index,o=t.length,a=0;a<o;a++)i=(i=i<(e=t[a]._model?t[a]._model.borderWidth:0)?e:i)<(n=t[a]._chart?t[a]._chart.config.data.datasets[r].hoverBorderWidth:0)?n:i;return i}})}},{25:25,40:40,45:45}],18:[function(t,e){"use strict";var n=t(25),i=t(40),p=t(45);n._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),e.exports=function(t){function h(t,e){return p.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,update:function(t){var e,n,i,r=this,o=r.getMeta(),a=o.dataset,s=o.data||[],l=r.chart.options,u=l.elements.line,c=r.getScaleForId(o.yAxisID),d=r.getDataset(),f=h(d,l);for(f&&(i=a.custom||{},d.tension!==undefined&&d.lineTension===undefined&&(d.lineTension=d.tension),a._scale=c,a._datasetIndex=r.index,a._children=s,a._model={spanGaps:d.spanGaps?d.spanGaps:l.spanGaps,tension:i.tension?i.tension:p.valueOrDefault(d.lineTension,u.tension),backgroundColor:i.backgroundColor?i.backgroundColor:d.backgroundColor||u.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:d.borderWidth||u.borderWidth,borderColor:i.borderColor?i.borderColor:d.borderColor||u.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:d.borderCapStyle||u.borderCapStyle,borderDash:i.borderDash?i.borderDash:d.borderDash||u.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:d.borderDashOffset||u.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:d.borderJoinStyle||u.borderJoinStyle,fill:i.fill?i.fill:d.fill!==undefined?d.fill:u.fill,steppedLine:i.steppedLine?i.steppedLine:p.valueOrDefault(d.steppedLine,u.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:p.valueOrDefault(d.cubicInterpolationMode,u.cubicInterpolationMode)},a.pivot()),e=0,n=s.length;e<n;++e)r.updateElement(s[e],e,t);for(f&&0!==a._model.tension&&r.updateBezierControlPoints(),e=0,n=s.length;e<n;++e)s[e].pivot()},getPointBackgroundColor:function(t,e){var n=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),r=t.custom||{};return r.backgroundColor?n=r.backgroundColor:i.pointBackgroundColor?n=p.valueAtIndexOrDefault(i.pointBackgroundColor,e,n):i.backgroundColor&&(n=i.backgroundColor),n},getPointBorderColor:function(t,e){var n=this.chart.options.elements.point.borderColor,i=this.getDataset(),r=t.custom||{};return r.borderColor?n=r.borderColor:i.pointBorderColor?n=p.valueAtIndexOrDefault(i.pointBorderColor,e,n):i.borderColor&&(n=i.borderColor),n},getPointBorderWidth:function(t,e){var n=this.chart.options.elements.point.borderWidth,i=this.getDataset(),r=t.custom||{};return isNaN(r.borderWidth)?!isNaN(i.pointBorderWidth)||p.isArray(i.pointBorderWidth)?n=p.valueAtIndexOrDefault(i.pointBorderWidth,e,n):isNaN(i.borderWidth)||(n=i.borderWidth):n=r.borderWidth,n},updateElement:function(t,e,n){var i,r,o=this,a=o.getMeta(),s=t.custom||{},l=o.getDataset(),u=o.index,c=l.data[e],d=o.getScaleForId(a.yAxisID),f=o.getScaleForId(a.xAxisID),h=o.chart.options.elements.point;l.radius!==undefined&&l.pointRadius===undefined&&(l.pointRadius=l.radius),l.hitRadius!==undefined&&l.pointHitRadius===undefined&&(l.pointHitRadius=l.hitRadius),i=f.getPixelForValue("object"==typeof c?c:NaN,e,u),r=n?d.getBasePixel():o.calculatePointY(c,e,u),t._xScale=f,t._yScale=d,t._datasetIndex=u,t._index=e,t._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:s.radius||p.valueAtIndexOrDefault(l.pointRadius,e,h.radius),pointStyle:s.pointStyle||p.valueAtIndexOrDefault(l.pointStyle,e,h.pointStyle),backgroundColor:o.getPointBackgroundColor(t,e),borderColor:o.getPointBorderColor(t,e),borderWidth:o.getPointBorderWidth(t,e),tension:a.dataset._model?a.dataset._model.tension:0,steppedLine:!!a.dataset._model&&a.dataset._model.steppedLine,hitRadius:s.hitRadius||p.valueAtIndexOrDefault(l.pointHitRadius,e,h.hitRadius)}},calculatePointY:function(t,e,n){var i,r,o,a=this,s=a.chart,l=a.getMeta(),u=a.getScaleForId(l.yAxisID),c=0,d=0;if(u.options.stacked){for(i=0;i<n;i++)if(r=s.data.datasets[i],"line"===(o=s.getDatasetMeta(i)).type&&o.yAxisID===u.id&&s.isDatasetVisible(i)){var f=Number(u.getRightValue(r.data[e]));f<0?d+=f||0:c+=f||0}var h=Number(u.getRightValue(t));return h<0?u.getPixelForValue(d+h):u.getPixelForValue(c+h)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,i,r,o=this,a=o.getMeta(),s=o.chart.chartArea,l=a.data||[];if(a.dataset._model.spanGaps&&(l=l.filter(function(t){return!t._model.skip})),"monotone"===a.dataset._model.cubicInterpolationMode)p.splineCurveMonotone(l);else for(e=0,n=l.length;e<n;++e)i=l[e]._model,r=p.splineCurve(p.previousItem(l,e)._model,i,p.nextItem(l,e)._model,a.dataset._model.tension),i.controlPointPreviousX=r.previous.x,i.controlPointPreviousY=r.previous.y,i.controlPointNextX=r.next.x,i.controlPointNextY=r.next.y;if(o.chart.options.elements.line.capBezierPoints)for(e=0,n=l.length;e<n;++e)(i=l[e]._model).controlPointPreviousX=t(i.controlPointPreviousX,s.left,s.right),i.controlPointPreviousY=t(i.controlPointPreviousY,s.top,s.bottom),i.controlPointNextX=t(i.controlPointNextX,s.left,s.right),i.controlPointNextY=t(i.controlPointNextY,s.top,s.bottom)},draw:function(){var t=this,e=t.chart,n=t.getMeta(),i=n.data||[],r=e.chartArea,o=i.length,a=0;for(p.canvas.clipArea(e.ctx,r),h(t.getDataset(),e.options)&&n.dataset.draw(),p.canvas.unclipArea(e.ctx);a<o;++a)i[a].draw(r)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model;r.radius=i.hoverRadius||p.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),r.backgroundColor=i.hoverBackgroundColor||p.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,p.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor||p.valueAtIndexOrDefault(e.pointHoverBorderColor,n,p.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth||p.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,r.borderWidth)},removeHoverStyle:function(t){var e=this,n=e.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=t._model;n.radius!==undefined&&n.pointRadius===undefined&&(n.pointRadius=n.radius),o.radius=r.radius||p.valueAtIndexOrDefault(n.pointRadius,i,e.chart.options.elements.point.radius),o.backgroundColor=e.getPointBackgroundColor(t,i),o.borderColor=e.getPointBorderColor(t,i),o.borderWidth=e.getPointBorderWidth(t,i)}})}},{25:25,40:40,45:45}],19:[function(t,e){"use strict";var n=t(25),i=t(40),w=t(45);n._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(s){var l=s.data;return l.labels.length&&l.datasets.length?l.labels.map(function(t,e){var n=s.getDatasetMeta(0),i=l.datasets[0],r=n.data[e].custom||{},o=w.valueAtIndexOrDefault,a=s.options.elements.arc;return{text:t,fillStyle:r.backgroundColor?r.backgroundColor:o(i.backgroundColor,e,a.backgroundColor),strokeStyle:r.borderColor?r.borderColor:o(i.borderColor,e,a.borderColor),lineWidth:r.borderWidth?r.borderWidth:o(i.borderWidth,e,a.borderWidth),hidden:isNaN(i.data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}}),e.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:i.Arc,linkScales:w.noop,update:function(n){var i=this,t=i.chart,e=t.chartArea,r=i.getMeta(),o=t.options,a=o.elements.arc,s=Math.min(e.right-e.left,e.bottom-e.top);t.outerRadius=Math.max((s-a.borderWidth/2)/2,0),t.innerRadius=Math.max(o.cutoutPercentage?t.outerRadius/100*o.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),i.outerRadius=t.outerRadius-t.radiusLength*i.index,i.innerRadius=i.outerRadius-t.radiusLength,r.count=i.countVisibleElements(),w.each(r.data,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){for(var i=this,r=i.chart,o=i.getDataset(),a=r.options,s=a.animation,l=r.scale,u=r.data.labels,c=i.calculateCircumference(o.data[e]),d=l.xCenter,f=l.yCenter,h=0,p=i.getMeta(),m=0;m<e;++m)isNaN(o.data[m])||p.data[m].hidden||++h;var g=a.startAngle,v=t.hidden?0:l.getDistanceFromCenterForValue(o.data[e]),y=g+c*h,b=y+(t.hidden?0:c),x=s.animateScale?0:l.getDistanceFromCenterForValue(o.data[e]);w.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{x:d,y:f,innerRadius:0,outerRadius:n?x:v,startAngle:n&&s.animateRotate?g:y,endAngle:n&&s.animateRotate?g:b,label:w.valueAtIndexOrDefault(u,e,u[e])}}),i.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var n=this.getDataset(),t=this.getMeta(),i=0;return w.each(t.data,function(t,e){isNaN(n.data[e])||t.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return 0<e&&!isNaN(t)?2*Math.PI/e:0}})}},{25:25,40:40,45:45}],20:[function(t,e){"use strict";var n=t(25),i=t(40),u=t(45);n._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),e.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:i.Line,dataElementType:i.Point,linkScales:u.noop,update:function(n){var i=this,t=i.getMeta(),e=t.dataset,r=t.data,o=e.custom||{},a=i.getDataset(),s=i.chart.options.elements.line,l=i.chart.scale;a.tension!==undefined&&a.lineTension===undefined&&(a.lineTension=a.tension),u.extend(t.dataset,{_datasetIndex:i.index,_scale:l,_children:r,_loop:!0,_model:{tension:o.tension?o.tension:u.valueOrDefault(a.lineTension,s.tension),backgroundColor:o.backgroundColor?o.backgroundColor:a.backgroundColor||s.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:a.borderWidth||s.borderWidth,borderColor:o.borderColor?o.borderColor:a.borderColor||s.borderColor,fill:o.fill?o.fill:a.fill!==undefined?a.fill:s.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:a.borderCapStyle||s.borderCapStyle,borderDash:o.borderDash?o.borderDash:a.borderDash||s.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:a.borderDashOffset||s.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:a.borderJoinStyle||s.borderJoinStyle}}),t.dataset.pivot(),u.each(r,function(t,e){i.updateElement(t,e,n)},i),i.updateBezierControlPoints()},updateElement:function(t,e,n){var i=this,r=t.custom||{},o=i.getDataset(),a=i.chart.scale,s=i.chart.options.elements.point,l=a.getPointPositionForValue(e,o.data[e]);o.radius!==undefined&&o.pointRadius===undefined&&(o.pointRadius=o.radius),o.hitRadius!==undefined&&o.pointHitRadius===undefined&&(o.pointHitRadius=o.hitRadius),u.extend(t,{_datasetIndex:i.index,_index:e,_scale:a,_model:{x:n?a.xCenter:l.x,y:n?a.yCenter:l.y,tension:r.tension?r.tension:u.valueOrDefault(o.lineTension,i.chart.options.elements.line.tension),radius:r.radius?r.radius:u.valueAtIndexOrDefault(o.pointRadius,e,s.radius),backgroundColor:r.backgroundColor?r.backgroundColor:u.valueAtIndexOrDefault(o.pointBackgroundColor,e,s.backgroundColor),borderColor:r.borderColor?r.borderColor:u.valueAtIndexOrDefault(o.pointBorderColor,e,s.borderColor),borderWidth:r.borderWidth?r.borderWidth:u.valueAtIndexOrDefault(o.pointBorderWidth,e,s.borderWidth),pointStyle:r.pointStyle?r.pointStyle:u.valueAtIndexOrDefault(o.pointStyle,e,s.pointStyle),hitRadius:r.hitRadius?r.hitRadius:u.valueAtIndexOrDefault(o.pointHitRadius,e,s.hitRadius)}}),t._model.skip=r.skip?r.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var r=this.chart.chartArea,o=this.getMeta();u.each(o.data,function(t,e){var n=t._model,i=u.splineCurve(u.previousItem(o.data,e,!0)._model,n,u.nextItem(o.data,e,!0)._model,n.tension);n.controlPointPreviousX=Math.max(Math.min(i.previous.x,r.right),r.left),n.controlPointPreviousY=Math.max(Math.min(i.previous.y,r.bottom),r.top),n.controlPointNextX=Math.max(Math.min(i.next.x,r.right),r.left),n.controlPointNextY=Math.max(Math.min(i.next.y,r.bottom),r.top),t.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,r=t._model;r.radius=n.hoverRadius?n.hoverRadius:u.valueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),r.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:u.valueAtIndexOrDefault(e.pointHoverBackgroundColor,i,u.getHoverColor(r.backgroundColor)),r.borderColor=n.hoverBorderColor?n.hoverBorderColor:u.valueAtIndexOrDefault(e.pointHoverBorderColor,i,u.getHoverColor(r.borderColor)),r.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:u.valueAtIndexOrDefault(e.pointHoverBorderWidth,i,r.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,r=t._model,o=this.chart.options.elements.point;r.radius=n.radius?n.radius:u.valueAtIndexOrDefault(e.pointRadius,i,o.radius),r.backgroundColor=n.backgroundColor?n.backgroundColor:u.valueAtIndexOrDefault(e.pointBackgroundColor,i,o.backgroundColor),r.borderColor=n.borderColor?n.borderColor:u.valueAtIndexOrDefault(e.pointBorderColor,i,o.borderColor),r.borderWidth=n.borderWidth?n.borderWidth:u.valueAtIndexOrDefault(e.pointBorderWidth,i,o.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(t,e){"use strict";t(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),e.exports=function(t){t.controllers.scatter=t.controllers.line}},{25:25}],22:[function(t,e){"use strict";var n=t(25),i=t(26),o=t(45);n._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:o.noop,onComplete:o.noop}}),e.exports=function(t){t.Animation=i.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){var r,o,a=this.animations;for(e.chart=t,i||(t.animating=!0),r=0,o=a.length;r<o;++r)if(a[r].chart===t)return void(a[r]=e);a.push(e),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=o.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=o.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;1<t.dropFrames&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+n);var i=Date.now();t.dropFrames+=(i-e)/t.frameDuration,0<t.animations.length&&t.requestAnimationFrame()},advance:function(t){for(var e,n,i=this.animations,r=0;r<i.length;)n=(e=i[r]).chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),o.callback(e.render,[n,e],n),o.callback(e.onAnimationProgress,[e],n),e.currentStep>=e.numSteps?(o.callback(e.onAnimationComplete,[e],n),n.animating=!1,i.splice(r,1)):++r}},Object.defineProperty(t.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})}},{25:25,26:26,45:45}],23:[function(t,e){"use strict";var n=t(25),d=t(45),o=t(28),i=t(30),l=t(48),f=t(31);e.exports=function(u){function s(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=d.configMerge(n.global,n[t.type],t.options||{}),t}function r(e){var t=e.options;d.each(e.scales,function(t){i.removeBox(e,t)}),t=d.configMerge(u.defaults.global,u.defaults[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function c(t){return"top"===t||"bottom"===t}u.types={},u.instances={},u.controllers={},d.extend(u.prototype,{construct:function(t,e){var n=this;e=s(e);var i=l.acquireContext(t,e),r=i&&i.canvas,o=r&&r.height,a=r&&r.width;n.id=d.uid(),n.ctx=i,n.canvas=r,n.config=e,n.width=a,n.height=o,n.aspectRatio=o?a/o:null,n.options=e.options,n._bufferedRender=!1,(n.chart=n).controller=n,u.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(t){n.config.data=t}}),i&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return f.notify(t,"beforeInit"),d.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),f.notify(t,"afterInit"),t},clear:function(){return d.canvas.clear(this),this},stop:function(){return u.animationService.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,r=n.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(d.getMaximumWidth(i))),a=Math.max(0,Math.floor(r?o/r:d.getMaximumHeight(i)));if((e.width!==o||e.height!==a)&&(i.width=e.width=o,i.height=e.height=a,i.style.width=o+"px",i.style.height=a+"px",d.retinaScale(e,n.devicePixelRatio),!t)){var s={width:o,height:a};f.notify(e,"resize",[s]),e.options.onResize&&e.options.onResize(e,s),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;d.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),d.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var a=this,t=a.options,s=a.scales||{},e=[],l=Object.keys(s).reduce(function(t,e){return t[e]=!1,t},{});t.scales&&(e=e.concat((t.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),t.scale&&e.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),d.each(e,function(t){var e=t.options,n=e.id,i=d.valueOrDefault(e.type,t.dtype);c(e.position)!==c(t.dposition)&&(e.position=t.dposition),l[n]=!0;var r=null;if(n in s&&s[n].type===i)(r=s[n]).options=e,r.ctx=a.ctx,r.chart=a;else{var o=u.scaleService.getScaleConstructor(i);if(!o)return;r=new o({id:n,type:i,options:e,ctx:a.ctx,chart:a}),s[r.id]=r}r.mergeTicksOptions(),t.isDefault&&(a.scale=r)}),d.each(l,function(t,e){t||delete s[e]}),a.scales=s,u.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var o=this,a=[],s=[];return d.each(o.data.datasets,function(t,e){var n=o.getDatasetMeta(e),i=t.type||o.config.type;if(n.type&&n.type!==i&&(o.destroyDatasetMeta(e),n=o.getDatasetMeta(e)),n.type=i,a.push(n.type),n.controller)n.controller.updateIndex(e),n.controller.linkScales();else{var r=u.controllers[n.type];if(r===undefined)throw new Error('"'+n.type+'" is not a chart type.');n.controller=new r(o,e),s.push(n.controller)}},o),s},resetElements:function(){var n=this;d.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.reset()},n)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t,e){var n=this;if(t&&"object"==typeof t||(t={duration:t,lazy:e}),r(n),f._invalidate(n),!1!==f.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var i=n.buildOrUpdateControllers();d.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.buildOrUpdateElements()},n),n.updateLayout(),n.options.animation&&n.options.animation.duration&&d.each(i,function(t){t.reset()}),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],f.notify(n,"afterUpdate"),n._bufferedRender?n._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:n.render(t)}},updateLayout:function(){var t=this;!1!==f.notify(t,"beforeLayout")&&(i.update(this,this.width,this.height),f.notify(t,"afterScaleUpdate"),f.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==f.notify(t,"beforeDatasetsUpdate")){for(var e=0,n=t.data.datasets.length;e<n;++e)t.updateDataset(e);f.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,n=e.getDatasetMeta(t),i={meta:n,index:t};!1!==f.notify(e,"beforeDatasetUpdate",[i])&&(n.controller.update(),f.notify(e,"afterDatasetUpdate",[i]))},render:function(t,e){var n=this;t&&"object"==typeof t||(t={duration:t,lazy:e});var i=t.duration,r=t.lazy;if(!1!==f.notify(n,"beforeRender")){var o=n.options.animation,a=function(t){f.notify(n,"afterRender"),d.callback(o&&o.onComplete,[t],n)};if(o&&(void 0!==i&&0!==i||void 0===i&&0!==o.duration)){var s=new u.Animation({numSteps:(i||o.duration)/16.66,easing:t.easing||o.easing,render:function(t,e){var n=d.easing.effects[e.easing],i=e.currentStep,r=i/e.numSteps;t.draw(n(r),r,i)},onAnimationProgress:o.onProgress,onAnimationComplete:a});u.animationService.addAnimation(n,s,i,r)}else n.draw(),a(new u.Animation({numSteps:0,chart:n}));return n}},draw:function(t){var e=this;e.clear(),d.isNullOrUndef(t)&&(t=1),e.transition(t),!1!==f.notify(e,"beforeDraw",[t])&&(d.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),f.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=this,n=0,i=(e.data.datasets||[]).length;n<i;++n)e.isDatasetVisible(n)&&e.getDatasetMeta(n).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==f.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;0<=n;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);f.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this,i=n.getDatasetMeta(t),r={meta:i,index:t,
easingValue:e};!1!==f.notify(n,"beforeDatasetDraw",[r])&&(i.controller.draw(e),f.notify(n,"afterDatasetDraw",[r]))},_drawTooltip:function(t){var e=this,n=e.tooltip,i={tooltip:n,easingValue:t};!1!==f.notify(e,"beforeTooltipDraw",[i])&&(n.draw(),f.notify(e,"afterTooltipDraw",[i]))},getElementAtEvent:function(t){return o.modes.single(this,t)},getElementsAtEvent:function(t){return o.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return o.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=o.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return o.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var i=n._meta[e.id];return i||(i=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),d.canvas.clear(n),l.releaseContext(n.ctx),n.canvas=null,n.ctx=null),f.notify(n,"destroy"),delete u.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new u.Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this,n=e._listeners={},i=function(){e.eventHandler.apply(e,arguments)};d.each(e.options.events,function(t){l.addEventListener(e,t,i),n[t]=i}),e.options.responsive&&(i=function(){e.resize()},l.addEventListener(e,"resize",i),n.resize=i)},unbindEvents:function(){var n=this,t=n._listeners;t&&(delete n._listeners,d.each(t,function(t,e){l.removeEventListener(n,e,t)}))},updateHoverStyle:function(t,e,n){var i,r,o,a=n?"setHoverStyle":"removeHoverStyle";for(r=0,o=t.length;r<o;++r)(i=t[r])&&this.getDatasetMeta(i._datasetIndex).controller[a](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==f.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),f.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):i&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,n=e.options||{},i=n.hover,r=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,i.mode,i),d.callback(n.onHover||n.hover.onHover,[t["native"],e.active],e),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(e,t["native"],e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,i.mode,!1),e.active.length&&i.mode&&e.updateHoverStyle(e.active,i.mode,!0),r=!d.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,r}}),u.Controller=u}},{25:25,28:28,30:30,31:31,45:45,48:48}],24:[function(t,e){"use strict";var s=t(45);e.exports=function(t){function i(r,t){r._chartjs?r._chartjs.listeners.push(t):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),o.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),t=i.apply(this,e);return s.each(r._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),t}})}))}function r(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),0<i.length||(o.forEach(function(t){delete e[t]}),delete e._chartjs)}}var o=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},s.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&r(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,i=n.getMeta(),r=n.getDataset().data||[],o=i.data;for(t=0,e=r.length;t<e;++t)o[t]=o[t]||n.createMetaData(t);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,e=t.getDataset(),n=e.data||(e.data=[]);t._data!==n&&(t._data&&r(t._data,t),i(n,t),t._data=n),t.resyncElements()},update:s.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,r=0;r<i;++r)n[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},removeHoverStyle:function(t,e){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=s.valueAtIndexOrDefault,a=t._model;a.backgroundColor=r.backgroundColor?r.backgroundColor:o(n.backgroundColor,i,e.backgroundColor),a.borderColor=r.borderColor?r.borderColor:o(n.borderColor,i,e.borderColor),a.borderWidth=r.borderWidth?r.borderWidth:o(n.borderWidth,i,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=s.valueAtIndexOrDefault,o=s.getHoverColor,a=t._model;a.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:r(e.hoverBackgroundColor,n,o(a.backgroundColor)),a.borderColor=i.hoverBorderColor?i.hoverBorderColor:r(e.hoverBorderColor,n,o(a.borderColor)),a.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:r(e.hoverBorderWidth,n,a.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),n=t.getDataset().data,i=e.data.length,r=n.length;r<i?e.data.splice(r,i-r):i<r&&t.insertElements(i,r-i)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=s.inherits}},{45:45}],25:[function(t,e){"use strict";var n=t(45);e.exports={_set:function(t,e){return n.merge(this[t]||(this[t]={}),e)}}},{45:45}],26:[function(t,e){"use strict";function o(t,e,n,i){var r,o,a,s,l,u,c,d,f,h=Object.keys(n);for(r=0,o=h.length;r<o;++r)if(u=n[a=h[r]],e.hasOwnProperty(a)||(e[a]=u),(s=e[a])!==u&&"_"!==a[0]){if(t.hasOwnProperty(a)||(t[a]=s),(c=typeof u)===typeof(l=t[a]))if("string"===c){if((d=p(l)).valid&&(f=p(u)).valid){e[a]=f.mix(d,i).rgbString();continue}}else if("number"===c&&isFinite(l)&&isFinite(u)){e[a]=l+(u-l)*i;continue}e[a]=u}}var p=t(2),n=t(45),i=function(t){n.extend(this,t),this.initialize.apply(this,arguments)};n.extend(i.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=n.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,r=e._view;return n&&1!==t?(r||(r=e._view={}),i||(i=e._start={}),o(i,r,n,t)):(e._view=n,e._start=null),e},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return n.isNumber(this._model.x)&&n.isNumber(this._model.y)}}),i.extend=n.inherits,e.exports=i},{2:2,45:45}],27:[function(t,e){"use strict";var n=t(2),i=t(25),p=t(45);e.exports=function(l){function c(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function d(t){return t!==undefined&&null!==t&&"none"!==t}function e(t,e,n){var i=document.defaultView,r=t.parentNode,o=i.getComputedStyle(t)[e],a=i.getComputedStyle(r)[e],s=d(o),l=d(a),u=Number.POSITIVE_INFINITY;return s||l?Math.min(s?c(o,t,n):u,l?c(a,r,n):u):"none"}p.configMerge=function(t){return p.merge(p.clone(t),[].slice.call(arguments,1),{merger:function(t,e,n,i){var r=e[t]||{},o=n[t];"scales"===t?e[t]=p.scaleMerge(r,o):"scale"===t?e[t]=p.merge(r,[l.scaleService.getScaleDefaults(o.type),o]):p._merger(t,e,n,i)}})},p.scaleMerge=function(t){return p.merge(p.clone(t),[].slice.call(arguments,1),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var r,o,a,s=n[t].length;for(e[t]||(e[t]=[]),r=0;r<s;++r)a=n[t][r],o=p.valueOrDefault(a.type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),!e[t][r].type||a.type&&a.type!==e[t][r].type?p.merge(e[t][r],[l.scaleService.getScaleDefaults(o),a]):p.merge(e[t][r],a)}else p._merger(t,e,n,i)}})},p.where=function(t,e){if(p.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return p.each(t,function(t){e(t)&&n.push(t)}),n},p.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=n===undefined?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},p.findNextWhere=function(t,e,n){p.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},p.findPreviousWhere=function(t,e,n){p.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;0<=i;i--){var r=t[i];if(e(r))return r}},p.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},p.almostEquals=function(t,e,n){return Math.abs(t-e)<n},p.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&t<n+e},p.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},p.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},p.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:0<t?1:-1},p.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e},p.toRadians=function(t){return t*(Math.PI/180)},p.toDegrees=function(t){return t*(180/Math.PI)},p.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},p.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},p.aliasPixel=function(t){return t%2==0?0:.5},p.splineCurve=function(t,e,n,i){var r=t.skip?e:t,o=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=i*(u=isNaN(u)?0:u),f=i*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+f*(a.x-r.x),y:o.y+f*(a.y-r.y)}}},p.EPSILON=Number.EPSILON||1e-14,p.splineCurveMonotone=function(t){var e,n,i,r,o,a,s,l,u,c=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),d=c.length;for(e=0;e<d;++e)if(!(i=c[e]).model.skip){if(n=0<e?c[e-1]:null,(r=e<d-1?c[e+1]:null)&&!r.model.skip){var f=r.model.x-i.model.x;i.deltaK=0!==f?(r.model.y-i.model.y)/f:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(e=0;e<d-1;++e)i=c[e],r=c[e+1],i.model.skip||r.model.skip||(p.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(o=i.mK/i.deltaK,a=r.mK/i.deltaK,(l=Math.pow(o,2)+Math.pow(a,2))<=9||(s=3/Math.sqrt(l),i.mK=o*s*i.deltaK,r.mK=a*s*i.deltaK)));for(e=0;e<d;++e)(i=c[e]).model.skip||(n=0<e?c[e-1]:null,r=e<d-1?c[e+1]:null,n&&!n.model.skip&&(u=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-u,i.model.controlPointPreviousY=i.model.y-u*i.mK),r&&!r.model.skip&&(u=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+u,i.model.controlPointNextY=i.model.y+u*i.mK))},p.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},p.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},p.niceNum=function(t,e){var n=Math.floor(p.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},p.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},p.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,o=t.currentTarget||t.srcElement,a=o.getBoundingClientRect(),s=r.touches;s&&0<s.length?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(p.getStyle(o,"padding-left")),u=parseFloat(p.getStyle(o,"padding-top")),c=parseFloat(p.getStyle(o,"padding-right")),d=parseFloat(p.getStyle(o,"padding-bottom")),f=a.right-a.left-l-c,h=a.bottom-a.top-u-d;return{x:n=Math.round((n-a.left-l)/f*o.width/e.currentDevicePixelRatio),y:i=Math.round((i-a.top-u)/h*o.height/e.currentDevicePixelRatio)}},p.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")},p.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")},p.getMaximumWidth=function(t){var e=t.parentNode;if(!e)return t.clientWidth;var n=parseInt(p.getStyle(e,"padding-left"),10),i=parseInt(p.getStyle(e,"padding-right"),10),r=e.clientWidth-n-i,o=p.getConstraintWidth(t);return isNaN(o)?r:Math.min(r,o)},p.getMaximumHeight=function(t){var e=t.parentNode;if(!e)return t.clientHeight;var n=parseInt(p.getStyle(e,"padding-top"),10),i=parseInt(p.getStyle(e,"padding-bottom"),10),r=e.clientHeight-n-i,o=p.getConstraintHeight(t);return isNaN(o)?r:Math.min(r,o)},p.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},p.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||window.devicePixelRatio||1;if(1!==n){var i=t.canvas,r=t.height,o=t.width;i.height=r*n,i.width=o*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=o+"px")}},p.fontString=function(t,e,n){return e+" "+t+"px "+n},p.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.font=t;var a=0;p.each(n,function(t){t!==undefined&&null!==t&&!0!==p.isArray(t)?a=p.measureText(e,r,o,a,t):p.isArray(t)&&p.each(t,function(t){t===undefined||null===t||p.isArray(t)||(a=p.measureText(e,r,o,a,t))})});var s=o.length/2;if(s>n.length){for(var l=0;l<s;l++)delete r[o[l]];o.splice(0,s)}return a},p.measureText=function(t,e,n,i,r){var o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),i<o&&(i=o),i},p.numberOfLabelLines=function(t){var e=1;return p.each(t,function(t){p.isArray(t)&&t.length>e&&(e=t.length)}),e},p.color=n?function(t){return t instanceof CanvasGradient&&(t=i.global.defaultColor),n(t)}:function(t){return console.error("Color.js not found!"),t},p.getHoverColor=function(t){return t instanceof CanvasPattern?t:p.color(t).saturate(.5).darken(.1).rgbString()}}},{2:2,25:25,45:45}],28:[function(t,e){"use strict";function s(t,e){return t["native"]?{x:t.x,y:t.y}:i.getRelativePosition(t,e)}function l(t,e){var n,i,r,o,a;for(i=0,o=t.data.datasets.length;i<o;++i)if(t.isDatasetVisible(i))for(r=0,a=(n=t.getDatasetMeta(i)).data.length;r<a;++r){var s=n.data[r];s._view.skip||e(s)}}function u(t,e){var n=[];return l(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function c(t,i,r,o){var a=Number.POSITIVE_INFINITY,s=[];return l(t,function(t){if(!r||t.inRange(i.x,i.y)){var e=t.getCenterPoint(),n=o(i,e);n<a?(s=[t],a=n):n===a&&s.push(t)}}),s}function d(t){var r=-1!==t.indexOf("x"),o=-1!==t.indexOf("y");return function(t,e){var n=r?Math.abs(t.x-e.x):0,i=o?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}}function n(i,t,e){var n=s(t,i);e.axis=e.axis||"x";var r=d(e.axis),o=e.intersect?u(i,n):c(i,n,!1,r),a=[];return o.length?(i.data.datasets.forEach(function(t,e){if(i.isDatasetVisible(e)){var n=i.getDatasetMeta(e).data[o[0]._index];n&&!n._view.skip&&a.push(n)}}),a):[]}var i=t(45);e.exports={modes:{single:function(t,e){var n=s(e,t),i=[];return l(t,function(t){if(t.inRange(n.x,n.y))return i.push(t),i}),i.slice(0,1)},label:n,index:n,dataset:function(t,e,n){var i=s(e,t);n.axis=n.axis||"xy";var r=d(n.axis),o=n.intersect?u(t,i):c(t,i,!1,r);return 0<o.length&&(o=t.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(t,e){return n(t,e,{intersect:!1})},point:function(t,e){return u(t,s(e,t))},nearest:function(t,e,n){var i=s(e,t);n.axis=n.axis||"xy";var r=d(n.axis),o=c(t,i,n.intersect,r);return 1<o.length&&o.sort(function(t,e){var n=t.getArea()-e.getArea();return 0===n&&(n=t._datasetIndex-e._datasetIndex),n}),o.slice(0,1)},x:function(t,e,n){var i=s(e,t),r=[],o=!1;return l(t,function(t){t.inXRange(i.x)&&r.push(t),t.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r},y:function(t,e,n){var i=s(e,t),r=[],o=!1;return l(t,function(t){t.inYRange(i.y)&&r.push(t),t.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r}}}},{45:45}],29:[function(t,e){"use strict";t(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t}},{25:25}],30:[function(t,e){"use strict";function H(t,e){return W.where(t,function(t){return t.position===e})}function j(t,r){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,e){var n=r?e:t,i=r?t:e;return n.weight===i.weight?n._tmpIndex_-i._tmpIndex_:n.weight-i.weight}),t.forEach(function(t){delete t._tmpIndex_})}var W=t(45);e.exports={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,r=["fullWidth","position","weight"],o=r.length,a=0;a<o;++a)i=r[a],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(e,n,t){function i(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?y:_,C),S-=e.height):(e=t.update(w,S),_-=e.width),k.push({horizontal:n,minSize:e,box:t})}function r(e){var t=W.findNextWhere(k,function(t){return t.box===e});if(t)if(e.isHorizontal()){var n={left:Math.max(D,T),right:Math.max(M,E),top:0,bottom:0};e.update(e.fullWidth?y:_,b/2,n)}else e.update(t.minSize.width,S)}function o(e){var t=W.findNextWhere(k,function(t){return t.box===e}),n={left:0,right:0,top:R,bottom:P};t&&e.update(t.minSize.width,S,n)}function a(t){t.isHorizontal()?(t.left=t.fullWidth?u:D,t.right=t.fullWidth?n-c:D+_,t.top=z,t.bottom=z+t.height,z=t.bottom):(t.left=F,t.right=F+t.width,t.top=R,t.bottom=R+S,F=t.right)}if(e){var s=e.options.layout||{},l=W.options.toPadding(s.padding),u=l.left,c=l.right,d=l.top,f=l.bottom,h=H(e.boxes,"left"),p=H(e.boxes,"right"),m=H(e.boxes,"top"),g=H(e.boxes,"bottom"),v=H(e.boxes,"chartArea");j(h,!0),j(p,!1),j(m,!0),j(g,!1);var y=n-u-c,b=t-d-f,x=b/2,w=(n-y/2)/(h.length+p.length),C=(t-x)/(m.length+g.length),_=y,S=b,k=[];W.each(h.concat(p,m,g),i);var T=0,E=0,N=0,A=0;W.each(m.concat(g),function(t){if(t.getPadding){var e=t.getPadding();T=Math.max(T,e.left),E=Math.max(E,e.right)}}),W.each(h.concat(p),function(t){if(t.getPadding){var e=t.getPadding();N=Math.max(N,e.top),A=Math.max(A,e.bottom)}});var D=u,M=c,R=d,P=f;W.each(h.concat(p),r),W.each(h,function(t){D+=t.width}),W.each(p,function(t){M+=t.width}),W.each(m.concat(g),r),W.each(m,function(t){R+=t.height}),W.each(g,function(t){P+=t.height}),W.each(h.concat(p),o),D=u,M=c,R=d,P=f,W.each(h,function(t){D+=t.width}),W.each(p,function(t){M+=t.width}),W.each(m,function(t){R+=t.height}),W.each(g,function(t){P+=t.height});var O=Math.max(T-D,0);D+=O,M+=Math.max(E-M,0);var I=Math.max(N-R,0);R+=I,P+=Math.max(A-P,0);var L=t-R-P,B=n-D-M;B===_&&L===S||(W.each(h,function(t){t.height=L}),W.each(p,function(t){t.height=L}),W.each(m,function(t){t.fullWidth||(t.width=B)}),W.each(g,function(t){t.fullWidth||(t.width=B)}),S=L,_=B);var F=u+O,z=d+I;W.each(h.concat(m),a),F+=_,z+=S,W.each(p,a),W.each(g,a),e.chartArea={left:D,top:R,right:D+_,bottom:R+S},W.each(v,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(_,S)})}}}},{45:45}],31:[function(t,e){"use strict";var a=t(25),s=t(45);a._set("global",{plugins:{}}),e.exports={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var n=this._plugins;[].concat(t).forEach(function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,r,o,a,s,l=this.descriptors(t),u=l.length;for(i=0;i<u;++i)if("function"==typeof(s=(o=(r=l[i]).plugin)[e])&&((a=[t].concat(n||[])).push(r.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],r=[],n=t&&t.config||{},o=n.options&&n.options.plugins||{};return this._plugins.concat(n.plugins||[]).forEach(function(t){if(-1===i.indexOf(t)){var e=t.id,n=o[e];!1!==n&&(!0===n&&(n=s.clone(a.global.plugins[e])),i.push(t),r.push({plugin:t,options:n||{}}))}}),e.descriptors=r,e.id=this._cacheId,r},_invalidate:function(t){delete t.$plugins}}},{25:25,45:45}],32:[function(t,e){"use strict";function S(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(t[e].label);return i}function W(t,e,n){var i=t.getPixelForTick(e);return n&&(i-=0===e?(t.getPixelForTick(1)-i)/2:(i-t.getPixelForTick(e-1))/2),i}var x=t(25),n=t(26),V=t(45),i=t(34);x._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:i.formatters.values,minor:{},major:{}}}),e.exports=function(t){function w(t,e,n){return V.isArray(e)?V.longestText(t,n,e):t.measureText(e).width}function C(t){var e=V.valueOrDefault,n=x.global,i=e(t.fontSize,n.defaultFontSize),r=e(t.fontStyle,n.defaultFontStyle),o=e(t.fontFamily,n.defaultFontFamily);return{size:i,style:r,family:o,font:V.fontString(i,r,o)}}function _(t){return V.options.toLineHeight(V.valueOrDefault(t.lineHeight,1.2),V.valueOrDefault(t.fontSize,x.global.defaultFontSize))}t.Scale=n.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&("undefined"==typeof t.minor[e]&&(t.minor[e]=t[e]),"undefined"==typeof t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){V.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,r,o,a,s,l,u=this;for(u.beforeUpdate(),u.maxWidth=t,u.maxHeight=e,u.margins=V.extend({left:0,right:0,top:0,bottom:0},n),u.longestTextCache=u.longestTextCache||{},u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),s=u.buildTicks()||[],u.afterBuildTicks(),u.beforeTickToLabelConversion(),o=u.convertTicksToLabels(s)||u.ticks,u.afterTickToLabelConversion(),i=0,r=(u.ticks=o).length;i<r;++i)a=o[i],(l=s[i])?l.label=a:s.push(l={label:a,major:!1});return u._ticks=s,u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u.afterUpdate(),u.minSize},afterUpdate:function(){V.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){V.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){V.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){V.callback(this.options.beforeDataLimits,[this])},determineDataLimits:V.noop,afterDataLimits:function(){V.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){V.callback(this.options.beforeBuildTicks,[this])},buildTicks:V.noop,afterBuildTicks:function(){V.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){V.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){V.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){V.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,n=t.options.ticks,i=S(t._ticks),r=C(n);e.font=r.font;var o=n.minRotation||0;if(i.length&&t.options.display&&t.isHorizontal())for(var a,s=V.longestText(e,r.font,i,t.longestTextCache),l=s,u=t.getPixelForTick(1)-t.getPixelForTick(0)-6;u<l&&o<n.maxRotation;){var c=V.toRadians(o);if(a=Math.cos(c),Math.sin(c)*s>t.maxHeight){o--;break}o++,l=a*s}t.labelRotation=o},afterCalculateTickRotation:function(){V.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){V.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=S(t._ticks),i=t.options,r=i.ticks,o=i.scaleLabel,a=i.gridLines,s=i.display,l=t.isHorizontal(),u=C(r),c=i.gridLines.tickMarkLength;if(e.width=l?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:s&&a.drawTicks?c:0,e.height=l?s&&a.drawTicks?c:0:t.maxHeight,o.display&&s){var d=_(o)+V.options.toPadding(o.padding).height;l?e.height+=d:e.width+=d}if(r.display&&s){var f=V.longestText(t.ctx,u.font,n,t.longestTextCache),h=V.numberOfLabelLines(n),p=.5*u.size,m=t.options.ticks.padding;if(l){t.longestLabelWidth=f;var g=V.toRadians(t.labelRotation),v=Math.cos(g),y=Math.sin(g)*f+u.size*h+p*(h-1)+p;e.height=Math.min(t.maxHeight,e.height+y+m),t.ctx.font=u.font;var b=w(t.ctx,n[0],u.font),x=w(t.ctx,n[n.length-1],u.font);0!==t.labelRotation?(t.paddingLeft="bottom"===i.position?v*b+3:v*p+3,t.paddingRight="bottom"===i.position?v*p+3:v*x+3):(t.paddingLeft=b/2+3,t.paddingRight=x/2+3)}else r.mirror?f=0:f+=m+p,e.width=Math.min(t.maxWidth,e.width+f),t.paddingTop=u.size/2,t.paddingBottom=u.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){V.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(V.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(t.x!==undefined)return this.getRightValue(t.x)}else if(t.y!==undefined)return this.getRightValue(t.y);return t},getLabelForIndex:V.noop,getPixelForValue:V.noop,getValueForPixel:V.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(n?0:1),1),r=i*t+e.paddingLeft;n&&(r+=i/2);var o=e.left+Math.round(r);return o+=e.isFullWidth()?e.margins.left:0}var a=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(a/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft,i=e.left+Math.round(n);return i+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,n=t.max;return t.beginAtZero?0:e<0&&n<0?n:0<e&&0<n?e:0},_autoSkip:function(t){var e,n,i,r,o=this,a=o.isHorizontal(),s=o.options.ticks.minor,l=t.length,u=V.toRadians(o.labelRotation),c=Math.cos(u),d=o.longestLabelWidth*c,f=[];for(s.maxTicksLimit&&(r=s.maxTicksLimit),a&&(e=!1,(d+s.autoSkipPadding)*l>o.width-(o.paddingLeft+o.paddingRight)&&(e=1+Math.floor((d+s.autoSkipPadding)*l/(o.width-(o.paddingLeft+o.paddingRight)))),r&&r<l&&(e=Math.max(e,Math.floor(l/r)))),n=0;n<l;n++)i=t[n],(1<e&&0<n%e||n%e==0&&l<=n+e)&&n!==l-1&&delete i.label,f.push(i);return f},draw:function(k){var T=this,E=T.options;if(E.display){var a=T.ctx,N=x.global,A=E.ticks.minor,t=E.ticks.major||A,D=E.gridLines,e=E.scaleLabel,M=0!==T.labelRotation,R=T.isHorizontal(),P=A.autoSkip?T._autoSkip(T.getTicks()):T.getTicks(),s=V.valueOrDefault(A.fontColor,N.defaultFontColor),l=C(A),u=V.valueOrDefault(t.fontColor,N.defaultFontColor),c=C(t),O=D.drawTicks?D.tickMarkLength:0,n=V.valueOrDefault(e.fontColor,N.defaultFontColor),i=C(e),r=V.options.toPadding(e.padding),I=V.toRadians(T.labelRotation),L=[],B=T.options.gridLines.lineWidth,F="right"===E.position?T.right:T.right-B-O,z="right"===E.position?T.right+O:T.right,H="bottom"===E.position?T.top+B:T.bottom-O-B,j="bottom"===E.position?T.top+B+O:T.bottom+B;if(V.each(P,function(t,e){if(!V.isNullOrUndef(t.label)){var n,i,r,o,a,s,l,u,c,d,f,h,p,m,g=t.label;e===T.zeroLineIndex&&E.offset===D.offsetGridLines?(n=D.zeroLineWidth,i=D.zeroLineColor,r=D.zeroLineBorderDash,o=D.zeroLineBorderDashOffset):(n=V.valueAtIndexOrDefault(D.lineWidth,e),i=V.valueAtIndexOrDefault(D.color,e),r=V.valueOrDefault(D.borderDash,N.borderDash),o=V.valueOrDefault(D.borderDashOffset,N.borderDashOffset));var v="middle",y="middle",b=A.padding;if(R){var x=O+b;"bottom"===E.position?(y=M?"middle":"top",v=M?"right":"center",m=T.top+x):(y=M?"middle":"bottom",v=M?"left":"center",m=T.bottom-x);var w=W(T,e,D.offsetGridLines&&1<P.length);w<T.left&&(i="rgba(0,0,0,0)"),w+=V.aliasPixel(n),p=T.getPixelForTick(e)+A.labelOffset,a=l=c=f=w,s=H,u=j,d=k.top,h=k.bottom+B}else{var C,_="left"===E.position;A.mirror?(v=_?"left":"right",C=b):(v=_?"right":"left",C=O+b),p=_?T.right-C:T.left+C;var S=W(T,e,D.offsetGridLines&&1<P.length);S<T.top&&(i="rgba(0,0,0,0)"),S+=V.aliasPixel(n),m=T.getPixelForTick(e)+A.labelOffset,a=F,l=z,c=k.left,f=k.right+B,s=u=d=h=S}L.push({tx1:a,ty1:s,tx2:l,ty2:u,x1:c,y1:d,x2:f,y2:h,labelX:p,labelY:m,glWidth:n,glColor:i,glBorderDash:r,glBorderDashOffset:o,rotation:-1*I,label:g,major:t.major,textBaseline:y,textAlign:v})}}),V.each(L,function(t){if(D.display&&(a.save(),a.lineWidth=t.glWidth,a.strokeStyle=t.glColor,a.setLineDash&&(a.setLineDash(t.glBorderDash),a.lineDashOffset=t.glBorderDashOffset),a.beginPath(),D.drawTicks&&(a.moveTo(t.tx1,t.ty1),a.lineTo(t.tx2,t.ty2)),D.drawOnChartArea&&(a.moveTo(t.x1,t.y1),a.lineTo(t.x2,t.y2)),a.stroke(),a.restore()),A.display){a.save(),a.translate(t.labelX,t.labelY),a.rotate(t.rotation),a.font=t.major?c.font:l.font,a.fillStyle=t.major?u:s,a.textBaseline=t.textBaseline,a.textAlign=t.textAlign;var e=t.label;if(
V.isArray(e))for(var n=e.length,i=1.5*l.size,r=T.isHorizontal()?0:-i*(n-1)/2,o=0;o<n;++o)a.fillText(""+e[o],0,r),r+=i;else a.fillText(e,0,0);a.restore()}}),e.display){var o,d,f=0,h=_(e)/2;if(R)o=T.left+(T.right-T.left)/2,d="bottom"===E.position?T.bottom-h-r.bottom:T.top+h+r.top;else{var p="left"===E.position;o=p?T.left+h+r.top:T.right-h-r.top,d=T.top+(T.bottom-T.top)/2,f=p?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(o,d),a.rotate(f),a.textAlign="center",a.textBaseline="middle",a.fillStyle=n,a.font=i.font,a.fillText(e.labelString,0,0),a.restore()}if(D.drawBorder){a.lineWidth=V.valueAtIndexOrDefault(D.lineWidth,0),a.strokeStyle=V.valueAtIndexOrDefault(D.color,0);var m=T.left,g=T.right+B,v=T.top,y=T.bottom+B,b=V.aliasPixel(a.lineWidth);R?(v=y="top"===E.position?T.bottom:T.top,v+=b,y+=b):(m=g="left"===E.position?T.right:T.left,m+=b,g+=b),a.beginPath(),a.moveTo(m,v),a.lineTo(g,y),a.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(t,e){"use strict";var n=t(25),i=t(45),r=t(30);e.exports=function(t){t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=i.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:undefined},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?i.merge({},[n.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var n=this;n.defaults.hasOwnProperty(t)&&(n.defaults[t]=i.extend(n.defaults[t],e))},addScalesToLayout:function(e){i.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,r.addBox(e,t)})}}}},{25:25,30:30,45:45}],34:[function(t,e){"use strict";var s=t(45);e.exports={formatters:{values:function(t){return s.isArray(t)?t:""+t},linear:function(t,e,n){var i=3<n.length?n[2]-n[1]:n[1]-n[0];1<Math.abs(i)&&t!==Math.floor(t)&&(i=t-Math.floor(t));var r=s.log10(Math.abs(i)),o="";if(0!==t){var a=-1*Math.floor(r);a=Math.max(Math.min(a,20),0),o=t.toFixed(a)}else o="0";return o},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(s.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}}},{45:45}],35:[function(t,e){"use strict";var i=t(25),n=t(26),C=t(45);i._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:C.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(0<t.length){var o=t[0];o.xLabel?n=o.xLabel:0<r&&o.index<r&&(n=i[o.index])}return n},afterTitle:C.noop,beforeBody:C.noop,beforeLabel:C.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+=t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:C.noop,afterBody:C.noop,beforeFooter:C.noop,footer:C.noop,afterFooter:C.noop}}}),e.exports=function(g){function f(t,e){var n=C.color(t);return n.alpha(e*n.alpha()).rgbaString()}function a(t,e){return e&&(C.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function v(t){var e=t._xScale,n=t._yScale||t._scale,i=t._index,r=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,r):"",yLabel:n?n.getLabelForIndex(i,r):"",index:i,datasetIndex:r,x:t._model.x,y:t._model.y}}function y(t){var e=i.global,n=C.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,e.defaultFontStyle),titleFontSize:n(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,e.defaultFontStyle),footerFontSize:n(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function b(t,e){var n=t._chart.ctx,i=2*e.yPadding,r=0,o=e.body,a=o.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);a+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,u=e.titleFontSize,c=e.bodyFontSize,d=e.footerFontSize;i+=s*u,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=a*c,i+=a?(a-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*d,i+=l?(l-1)*e.footerSpacing:0;var f=0,h=function(t){r=Math.max(r,n.measureText(t).width+f)};return n.font=C.fontString(u,e._titleFontStyle,e._titleFontFamily),C.each(e.title,h),n.font=C.fontString(c,e._bodyFontStyle,e._bodyFontFamily),C.each(e.beforeBody.concat(e.afterBody),h),f=e.displayColors?c+2:0,C.each(o,function(t){C.each(t.before,h),C.each(t.lines,h),C.each(t.after,h)}),f=0,n.font=C.fontString(d,e._footerFontStyle,e._footerFontFamily),C.each(e.footer,h),{width:r+=2*e.xPadding,height:i}}function x(t,e){var n,i,r,o,a,s=t._model,l=t._chart,u=t._chart.chartArea,c="center",d="center";s.y<e.height?d="top":s.y>l.height-e.height&&(d="bottom");var f=(u.left+u.right)/2,h=(u.top+u.bottom)/2;"center"===d?(n=function(t){return t<=f},i=function(t){return f<t}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},o=function(t){return t-e.width-s.caretSize-s.caretPadding<0},a=function(t){return t<=h?"top":"bottom"},n(s.x)?(c="left",r(s.x)&&(c="center",d=a(s.y))):i(s.x)&&(c="right",o(s.x)&&(c="center",d=a(s.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:c,yAlign:p.yAlign?p.yAlign:d}}function w(t,e,n,i){var r=t.x,o=t.y,a=t.caretSize,s=t.caretPadding,l=t.cornerRadius,u=n.xAlign,c=n.yAlign,d=a+s,f=l+s;return"right"===u?r-=e.width:"center"===u&&((r-=e.width/2)+e.width>i.width&&(r=i.width-e.width),r<0&&(r=0)),"top"===c?o+=d:o-="bottom"===c?e.height+d:e.height/2,"center"===c?"left"===u?r+=d:"right"===u&&(r-=d):"left"===u?r-=f:"right"===u&&(r+=f),{x:r,y:o}}g.Tooltip=n.extend({initialize:function(){this._model=y(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options.callbacks,n=e.beforeTitle.apply(t,arguments),i=e.title.apply(t,arguments),r=e.afterTitle.apply(t,arguments),o=[];return o=a(o=a(o=a(o,n),i),r)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return C.isArray(t)?t:t!==undefined?[t]:[]},getBody:function(t,n){var i=this,r=i._options.callbacks,o=[];return C.each(t,function(t){var e={before:[],lines:[],after:[]};a(e.before,r.beforeLabel.call(i,t,n)),a(e.lines,r.label.call(i,t,n)),a(e.after,r.afterLabel.call(i,t,n)),o.push(e)}),o},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return C.isArray(t)?t:t!==undefined?[t]:[]},getFooter:function(){var t=this,e=t._options.callbacks,n=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),r=e.afterFooter.apply(t,arguments),o=[];return o=a(o=a(o=a(o,n),i),r)},update:function(t){var e,n,i=this,r=i._options,o=i._model,a=i._model=y(r),s=i._active,l=i._data,u={xAlign:o.xAlign,yAlign:o.yAlign},c={x:o.x,y:o.y},d={width:o.width,height:o.height},f={x:o.caretX,y:o.caretY};if(s.length){a.opacity=1;var h=[],p=[];f=g.Tooltip.positioners[r.position].call(i,s,i._eventPosition);var m=[];for(e=0,n=s.length;e<n;++e)m.push(v(s[e]));r.filter&&(m=m.filter(function(t){return r.filter(t,l)})),r.itemSort&&(m=m.sort(function(t,e){return r.itemSort(t,e,l)})),C.each(m,function(t){h.push(r.callbacks.labelColor.call(i,t,i._chart)),p.push(r.callbacks.labelTextColor.call(i,t,i._chart))}),a.title=i.getTitle(m,l),a.beforeBody=i.getBeforeBody(m,l),a.body=i.getBody(m,l),a.afterBody=i.getAfterBody(m,l),a.footer=i.getFooter(m,l),a.x=Math.round(f.x),a.y=Math.round(f.y),a.caretPadding=r.caretPadding,a.labelColors=h,a.labelTextColors=p,a.dataPoints=m,c=w(a,d=b(this,a),u=x(this,d),i._chart)}else a.opacity=0;return a.xAlign=u.xAlign,a.yAlign=u.yAlign,a.x=c.x,a.y=c.y,a.width=d.width,a.height=d.height,a.caretX=f.x,a.caretY=f.y,i._model=a,t&&r.custom&&r.custom.call(i,a),i},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(t,e,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,n){var i,r,o,a,s,l,u=n.caretSize,c=n.cornerRadius,d=n.xAlign,f=n.yAlign,h=t.x,p=t.y,m=e.width,g=e.height;if("center"===f)s=p+g/2,"left"===d?(r=(i=h)-u,o=i,a=s+u,l=s-u):(r=(i=h+m)+u,o=i,a=s-u,l=s+u);else if(i="left"===d?(r=h+c+u)-u:"right"===d?(r=h+m-c-u)-u:(r=n.caretX)-u,o=r+u,"top"===f)s=(a=p)-u,l=a;else{s=(a=p+g)+u,l=a;var v=o;o=i,i=v}return{x1:i,x2:r,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(t,e,n,i){var r=e.title;if(r.length){n.textAlign=e._titleAlign,n.textBaseline="top";var o,a,s=e.titleFontSize,l=e.titleSpacing;for(n.fillStyle=f(e.titleFontColor,i),n.font=C.fontString(s,e._titleFontStyle,e._titleFontFamily),o=0,a=r.length;o<a;++o)n.fillText(r[o],t.x,t.y),t.y+=s+l,o+1===r.length&&(t.y+=e.titleMarginBottom-l)}},drawBody:function(i,r,o,a){var s=r.bodyFontSize,e=r.bodySpacing,t=r.body;o.textAlign=r._bodyAlign,o.textBaseline="top",o.font=C.fontString(s,r._bodyFontStyle,r._bodyFontFamily);var n=0,l=function(t){o.fillText(t,i.x+n,i.y),i.y+=s+e};o.fillStyle=f(r.bodyFontColor,a),C.each(r.beforeBody,l);var u=r.displayColors;n=u?s+2:0,C.each(t,function(t,e){var n=f(r.labelTextColors[e],a);o.fillStyle=n,C.each(t.before,l),C.each(t.lines,function(t){u&&(o.fillStyle=f(r.legendColorBackground,a),o.fillRect(i.x,i.y,s,s),o.lineWidth=1,o.strokeStyle=f(r.labelColors[e].borderColor,a),o.strokeRect(i.x,i.y,s,s),o.fillStyle=f(r.labelColors[e].backgroundColor,a),o.fillRect(i.x+1,i.y+1,s-2,s-2),o.fillStyle=n),l(t)}),C.each(t.after,l)}),n=0,C.each(r.afterBody,l),i.y-=e},drawFooter:function(e,n,i,t){var r=n.footer;r.length&&(e.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=f(n.footerFontColor,t),i.font=C.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),C.each(r,function(t){i.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,e,n,i,r){n.fillStyle=f(e.backgroundColor,r),n.strokeStyle=f(e.borderColor,r),n.lineWidth=e.borderWidth;var o=e.xAlign,a=e.yAlign,s=t.x,l=t.y,u=i.width,c=i.height,d=e.cornerRadius;n.beginPath(),n.moveTo(s+d,l),"top"===a&&this.drawCaret(t,i),n.lineTo(s+u-d,l),n.quadraticCurveTo(s+u,l,s+u,l+d),"center"===a&&"right"===o&&this.drawCaret(t,i),n.lineTo(s+u,l+c-d),n.quadraticCurveTo(s+u,l+c,s+u-d,l+c),"bottom"===a&&this.drawCaret(t,i),n.lineTo(s+d,l+c),n.quadraticCurveTo(s,l+c,s,l+c-d),"center"===a&&"left"===o&&this.drawCaret(t,i),n.lineTo(s,l+d),n.quadraticCurveTo(s,l,s+d,l),n.closePath(),n.fill(),0<e.borderWidth&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity,o=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&o&&(this.drawBackground(i,e,t,n,r),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,r),this.drawBody(i,e,t,r),this.drawFooter(i,e,t,r))}},handleEvent:function(t){var e=this,n=e._options,i=!1;return e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,n.mode,n),(i=!C.arrayEquals(e._active,e._lastActive))&&(e._lastActive=e._active,(n.enabled||n.custom)&&(e._eventPosition={x:t.x,y:t.y},e.update(!0),e.pivot())),i}}),g.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,n,i=0,r=0,o=0;for(e=0,n=t.length;e<n;++e){var a=t[e];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,r+=s.y,++o}}return{x:Math.round(i/o),y:Math.round(r/o)}},nearest:function(t,e){var n,i,r,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var l=t[n];if(l&&l.hasValue()){var u=l.getCenterPoint(),c=C.distanceBetweenPoints(e,u);c<s&&(s=c,r=l)}}if(r){var d=r.tooltipPosition();o=d.x,a=d.y}return{x:o,y:a}}}}},{25:25,26:26,45:45}],36:[function(t,e){"use strict";var n=t(25),i=t(26),c=t(45);n._set("global",{elements:{arc:{backgroundColor:n.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),e.exports=i.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=c.getAngleFromPoint(n,{x:t,y:e}),r=i.angle,o=i.distance,a=n.startAngle,s=n.endAngle;s<a;)s+=2*Math.PI;for(;s<r;)r-=2*Math.PI;for(;r<a;)r+=2*Math.PI;var l=a<=r&&r<=s,u=o>=n.innerRadius&&o<=n.outerRadius;return l&&u}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,i),t.arc(e.x,e.y,e.innerRadius,i,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})},{25:25,26:26,45:45}],37:[function(t,e){"use strict";var n=t(25),i=t(26),d=t(45),f=n.global;n._set("global",{elements:{line:{tension:.4,backgroundColor:f.defaultColor,borderWidth:3,borderColor:f.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),e.exports=i.extend({draw:function(){var t,e,n,i,r=this,o=r._view,a=r._chart.ctx,s=o.spanGaps,l=r._children.slice(),u=f.elements.line,c=-1;for(r._loop&&l.length&&l.push(l[0]),a.save(),a.lineCap=o.borderCapStyle||u.borderCapStyle,a.setLineDash&&a.setLineDash(o.borderDash||u.borderDash),a.lineDashOffset=o.borderDashOffset||u.borderDashOffset,a.lineJoin=o.borderJoinStyle||u.borderJoinStyle,a.lineWidth=o.borderWidth||u.borderWidth,a.strokeStyle=o.borderColor||f.defaultColor,a.beginPath(),c=-1,t=0;t<l.length;++t)e=l[t],n=d.previousItem(l,t),i=e._view,0===t?i.skip||(a.moveTo(i.x,i.y),c=t):(n=-1===c?n:l[c],i.skip||(c!==t-1&&!s||-1===c?a.moveTo(i.x,i.y):d.canvas.lineTo(a,n._view,e._view),c=t));a.stroke(),a.restore()}})},{25:25,26:26,45:45}],38:[function(t,e){"use strict";function n(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}function i(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius}var d=t(25),r=t(26),f=t(45),h=d.global.defaultColor;d._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:h,borderColor:h,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=r.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:n,inXRange:n,inYRange:i,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._model,i=this._chart.ctx,r=e.pointStyle,o=e.radius,a=e.x,s=e.y,l=f.color,u=1.01,c=0;e.skip||(i.strokeStyle=e.borderColor||h,i.lineWidth=f.valueOrDefault(e.borderWidth,d.global.elements.point.borderWidth),i.fillStyle=e.backgroundColor||h,t!==undefined&&(n.x<t.left||t.right*u<n.x||n.y<t.top||t.bottom*u<n.y)&&(n.x<t.left?c=(a-n.x)/(t.left-n.x):t.right*u<n.x?c=(n.x-a)/(n.x-t.right):n.y<t.top?c=(s-n.y)/(t.top-n.y):t.bottom*u<n.y&&(c=(n.y-s)/(n.y-t.bottom)),c=Math.round(100*c)/100,i.strokeStyle=l(i.strokeStyle).alpha(c).rgbString(),i.fillStyle=l(i.fillStyle).alpha(c).rgbString()),f.canvas.drawPoint(i,r,o,a,s))}})},{25:25,26:26,45:45}],39:[function(t,e){"use strict";function l(t){return t._view.width!==undefined}function r(t){var e,n,i,r,o=t._view;if(l(t)){var a=o.width/2;e=o.x-a,n=o.x+a,i=Math.min(o.y,o.base),r=Math.max(o.y,o.base)}else{var s=o.height/2;e=Math.min(o.x,o.base),n=Math.max(o.x,o.base),i=o.y-s,r=o.y+s}return{left:e,top:i,right:n,bottom:r}}var n=t(25),i=t(26);n._set("global",{elements:{rectangle:{backgroundColor:n.global.defaultColor,borderColor:n.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),e.exports=i.extend({draw:function(){function t(t){return v[(y+t)%4]}var e,n,i,r,o,a,s,l=this._chart.ctx,u=this._view,c=u.borderWidth;if(u.horizontal?(e=u.base,n=u.x,i=u.y-u.height/2,r=u.y+u.height/2,o=e<n?1:-1,a=1,s=u.borderSkipped||"left"):(e=u.x-u.width/2,n=u.x+u.width/2,o=1,a=(i=u.y)<(r=u.base)?1:-1,s=u.borderSkipped||"bottom"),c){var d=Math.min(Math.abs(e-n),Math.abs(i-r)),f=(c=d<c?d:c)/2,h=e+("left"!==s?f*o:0),p=n+("right"!==s?-f*o:0),m=i+("top"!==s?f*a:0),g=r+("bottom"!==s?-f*a:0);h!==p&&(i=m,r=g),m!==g&&(e=h,n=p)}l.beginPath(),l.fillStyle=u.backgroundColor,l.strokeStyle=u.borderColor,l.lineWidth=c;var v=[[e,r],[e,i],[n,i],[n,r]],y=["bottom","left","top","right"].indexOf(s,0);-1===y&&(y=0);var b=t(0);l.moveTo(b[0],b[1]);for(var x=1;x<4;x++)b=t(x),l.lineTo(b[0],b[1]);l.fill(),c&&l.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=!1;if(this._view){var i=r(this);n=t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom}return n},inLabelRange:function(t,e){var n=this;if(!n._view)return!1;var i=r(n);return l(n)?t>=i.left&&t<=i.right:e>=i.top&&e<=i.bottom},inXRange:function(t){var e=r(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=r(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return l(this)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},{25:25,26:26}],40:[function(t,e){"use strict";e.exports={},e.exports.Arc=t(36),e.exports.Line=t(37),e.exports.Point=t(38),e.exports.Rectangle=t(39)},{36:36,37:37,38:38,39:39}],41:[function(t,e,n){"use strict";var i=t(42);n=e.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,r,o){if(o){var a=Math.min(o,i/2),s=Math.min(o,r/2);t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.quadraticCurveTo(e+i,n,e+i,n+s),t.lineTo(e+i,n+r-s),t.quadraticCurveTo(e+i,n+r,e+i-a,n+r),t.lineTo(e+a,n+r),t.quadraticCurveTo(e,n+r,e,n+r-s),t.lineTo(e,n+s),t.quadraticCurveTo(e,n,e+a,n)}else t.rect(e,n,i,r)},drawPoint:function(t,e,n,i,r){var o,a,s,l,u,c;if(!e||"object"!=typeof e||"[object HTMLImageElement]"!==(o=e.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(n)||n<=0)){switch(e){default:t.beginPath(),t.arc(i,r,n,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),u=(a=3*n/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(i-a/2,r+u/3),t.lineTo(i+a/2,r+u/3),t.lineTo(i,r-2*u/3),t.closePath(),t.fill();break;case"rect":c=1/Math.SQRT2*n,t.beginPath(),t.fillRect(i-c,r-c,2*c,2*c),t.strokeRect(i-c,r-c,2*c,2*c);break;case"rectRounded":var d=n/Math.SQRT2,f=i-d,h=r-d,p=Math.SQRT2*n;t.beginPath(),this.roundedRect(t,f,h,p,p,n/2),t.closePath(),t.fill();break;case"rectRot":c=1/Math.SQRT2*n,t.beginPath(),t.moveTo(i-c,r),t.lineTo(i,r+c),t.lineTo(i+c,r),t.lineTo(i,r-c),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(i,r+n),t.lineTo(i,r-n),t.moveTo(i-n,r),t.lineTo(i+n,r),t.closePath();break;case"crossRot":t.beginPath(),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i-s,r+l),t.lineTo(i+s,r-l),t.closePath();break;case"star":t.beginPath(),t.moveTo(i,r+n),t.lineTo(i,r-n),t.moveTo(i-n,r),t.lineTo(i+n,r),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i-s,r+l),t.lineTo(i+s,r-l),t.closePath();break;case"line":t.beginPath(),t.moveTo(i-n,r),t.lineTo(i+n,r),t.closePath();break;case"dash":t.beginPath(),t.moveTo(i,r),t.lineTo(i+n,r),t.closePath()}t.stroke()}}else t.drawImage(e,i-e.width/2,r-e.height/2,e.width,e.height)},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){if(n.steppedLine)return"after"===n.steppedLine&&!i||"after"!==n.steppedLine&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y),void t.lineTo(n.x,n.y);n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}};i.clear=n.clear,i.drawRoundedRectangle=function(t){t.beginPath(),n.roundedRect.apply(n,arguments),t.closePath()}},{42:42}],42:[function(t,e){"use strict";var n,c={noop:function(){},uid:(n=0,function(){return n++}),isNullOrUndef:function(t){return null==t},isArray:Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return c.valueOrDefault(c.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var r,o,a;if(c.isArray(t))if(o=t.length,i)for(r=o-1;0<=r;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(c.isObject(t))for(o=(a=Object.keys(t)).length,r=0;r<o;r++)e.call(n,t[a[r]],a[r])},arrayEquals:function(t,e){var n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r instanceof Array&&o instanceof Array){if(!c.arrayEquals(r,o))return!1}else if(r!==o)return!1;return!0},clone:function(t){if(c.isArray(t))return t.map(c.clone);if(c.isObject(t)){for(var e={},n=Object.keys(t),i=n.length,r=0;r<i;++r)e[n[r]]=c.clone(t[n[r]]);return e}return t},_merger:function(t,e,n,i){var r=e[t],o=n[t];c.isObject(r)&&c.isObject(o)?c.merge(r,o,i):e[t]=c.clone(o)},_mergerIf:function(t,e,n){var i=e[t],r=n[t];c.isObject(i)&&c.isObject(r)?c.mergeIf(i,r):e.hasOwnProperty(t)||(e[t]=c.clone(r))},merge:function(t,e,n){var i,r,o,a,s,l=c.isArray(e)?e:[e],u=l.length;if(!c.isObject(t))return t;for(i=(n=n||{}).merger||c._merger,r=0;r<u;++r)if(e=l[r],c.isObject(e))for(s=0,a=(o=Object.keys(e)).length;s<a;++s)i(o[s],t,e,n);return t},mergeIf:function(t,e){return c.merge(t,e,{merger:c._mergerIf})},extend:function(n){for(var t=function(t,e){n[e]=t},e=1,i=arguments.length;e<i;++e)c.each(arguments[e],t);return n},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=c.inherits,t&&c.extend(n.prototype,t),n.__super__=e.prototype,n}};(e.exports=c).callCallback=c.callback,c.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},c.getValueOrDefault=c.valueOrDefault,c.getValueAtIndexOrDefault=c.valueAtIndexOrDefault},{}],43:[function(t,e){"use strict";var n=t(42),i={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return 1<=t?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-i.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*i.easeInBounce(2*t):.5*i.easeOutBounce(2*t-1)+.5}};e.exports={effects:i},n.easingEffects=i},{42:42}],44:[function(t,e){"use strict";var a=t(42);e.exports={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,r;return a.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,r=+t.left||0):e=n=i=r=+t||0,{top:e,right:n,bottom:i,left:r,height:e+i,width:r+n}},resolve:function(t,e,n){var i,r,o;for(i=0,r=t.length;i<r;++i)if((o=t[i])!==undefined&&(e!==undefined&&"function"==typeof o&&(o=o(e)),n!==undefined&&a.isArray(o)&&(o=o[n]),o!==undefined))return o}}},{42:42}],45:[function(t,e){"use strict";e.exports=t(42),e.exports.easing=t(43),e.exports.canvas=t(41),e.exports.options=t(44)},{41:41,42:42,43:43,44:44}],46:[function(t,e){e.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}}},{}],47:[function(t,e){"use strict";function s(t,e){var n=m.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):undefined}function i(t,e){var n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[g]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var o=s(t,"width");o!==undefined&&(t.width=o)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var a=s(t,"height");o!==undefined&&(t.height=a)}return t}function l(t,e,n){t.addEventListener(e,n,C)}function o(t,e,n){t.removeEventListener(e,n,C)}function a(t,e,n,i,r){return{type:t,chart:e,"native":r||null,x:n!==undefined?n:null,y:i!==undefined?i:null}}function u(t,e){var n=w[t.type]||t.type,i=m.getRelativePosition(t,e);return a(n,e,i.x,i.y,t)}function c(t,e){var n=!1,i=[];return function(){i=Array.prototype.slice.call(arguments),e=e||this,n||(n=!0,m.requestAnimFrame.call(window,function(){n=!1,t.apply(e,i)}))}}function d(t){var e=document.createElement("div"),n=v+"size-monitor",i=1e6,r="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";e.style.cssText=r,e.className=n,e.innerHTML='<div class="'+n+'-expand" style="'+r+'"><div style="position:absolute;width:'+i+"px;height:"+i+'px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+r+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var o=e.childNodes[0],a=e.childNodes[1];e._reset=function(){o.scrollLeft=i,o.scrollTop=i,a.scrollLeft=i,a.scrollTop=i};var s=function(){e._reset(),t()};return l(o,"scroll",s.bind(o,"expand")),l(a,"scroll",s.bind(a,"shrink")),e}function f(e,n){var t=e[g]||(e[g]={}),i=t.renderProxy=function(t){t.animationName===b&&n()};m.each(x,function(t){l(e,t,i)}),t.reflow=!!e.offsetParent,e.classList.add(y)}function r(e){var t=e[g]||{},n=t.renderProxy;n&&(m.each(x,function(t){o(e,t,n)}),delete t.renderProxy),e.classList.remove(y)}function h(e,t,n){var i=e[g]||(e[g]={}),r=i.resizer=d(c(function(){if(i.resizer)return t(a("resize",n))}));f(e,function(){if(i.resizer){var t=e.parentNode;t&&t!==r.parentNode&&t.insertBefore(r,t.firstChild),r._reset()}})}function p(t){var e=t[g]||{},n=e.resizer;delete e.resizer,r(t),n&&n.parentNode&&n.parentNode.removeChild(n)}function n(t,e){var n=t._style||document.createElement("style");t._style||(e="/* Chart.js */\n"+e,(t._style=n).setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(e))}var m=t(45),g="$chartjs",v="chartjs-",y=v+"render-monitor",b=v+"render-animation",x=["animationstart","webkitAnimationStart"],w={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},C=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(n){}return t}()&&{passive:!0};e.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var t="from{opacity:0.99}to{opacity:1}";n(this,"@-webkit-keyframes "+b+"{"+t+"}@keyframes "+b+"{"+t+"}."+y+"{-webkit-animation:"+b+" 0.001s;animation:"+b+" 0.001s;}")},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(i(t,e),n):null},releaseContext:function(t){var n=t.canvas;if(n[g]){var i=n[g].initial;["height","width"].forEach(function(t){var e=i[t];m.isNullOrUndef(e)?n.removeAttribute(t):n.setAttribute(t,e)}),m.each(i.style||{},function(t,e){n.style[e]=t}),n.width=n.width,delete n[g]}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=n[g]||(n[g]={});l(i,t,(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(u(t,e))})}else h(i,n,e)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=((n[g]||{}).proxies||{})[t.id+"_"+e];r&&o(i,e,r)}else p(i,n)}},m.addEvent=l,m.removeEvent=o},{45:45}],48:[function(t,e){"use strict";var n=t(45),i=t(46),r=t(47),o=r._enabled?r:i;e.exports=n.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},o)},{45:45,46:46,47:47}],49:[function(t,e){"use strict";e.exports={},e.exports.filler=t(50),e.exports.legend=t(51),e.exports.title=t(52)},{50:50,51:51,52:52}],50:[function(t,e){"use strict";function u(t,e,n){var i,r=t._model||{},o=r.fill;if(o===undefined&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return"-"!==o[0]&&"+"!==o[0]||(i=e+i),!(i===e||i<0||n<=i)&&i;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function c(t){var e,n=t.el._model||{},i=t.el._scale||{},r=t.fill,o=null;if(isFinite(r))return null;if("start"===r?o=n.scaleBottom===undefined?i.bottom:n.scaleBottom:"end"===r?o=n.scaleTop===undefined?i.top:n.scaleTop:n.scaleZero!==undefined?o=n.scaleZero:i.getBasePosition?o=i.getBasePosition():i.getBasePixel&&(o=i.getBasePixel()),
o!==undefined&&null!==o){if(o.x!==undefined&&o.y!==undefined)return o;if("number"==typeof o&&isFinite(o))return{x:(e=i.isHorizontal())?o:null,y:e?null:o}}return null}function d(t,e,n){var i,r=t[e].fill,o=[e];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(i=t[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function f(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),i[n](t))}function b(t){return t&&!t.skip}function x(t,e,n,i,r){var o;if(i&&r){for(t.moveTo(e[0].x,e[0].y),o=1;o<i;++o)g.canvas.lineTo(t,e[o-1],e[o]);for(t.lineTo(n[r-1].x,n[r-1].y),o=r-1;0<o;--o)g.canvas.lineTo(t,n[o],n[o-1],!0)}}function h(t,e,n,i,r,o){var a,s,l,u,c,d,f,h=e.length,p=i.spanGaps,m=[],g=[],v=0,y=0;for(t.beginPath(),a=0,s=h+!!o;a<s;++a)c=n(u=e[l=a%h]._view,l,i),d=b(u),f=b(c),d&&f?(v=m.push(u),y=g.push(c)):v&&y&&(p?(d&&m.push(u),f&&g.push(c)):(x(t,m,g,v,y),v=y=0,m=[],g=[]));x(t,m,g,v,y),t.closePath(),t.fillStyle=r,t.fill()}var p=t(25),m=t(40),g=t(45);p._set("global",{plugins:{filler:{propagate:!0}}});var i={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),r=i&&n.isDatasetVisible(e)&&i.dataset._children||[],o=r.length||0;return o?function(t,e){return e<o&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};e.exports={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,r,o,a=(t.data.datasets||[]).length,s=e.propagate,l=[];for(i=0;i<a;++i)o=null,(r=(n=t.getDatasetMeta(i)).dataset)&&r._model&&r instanceof m.Line&&(o={visible:t.isDatasetVisible(i),fill:u(r,i,a),chart:t,el:r}),n.$filler=o,l.push(o);for(i=0;i<a;++i)(o=l[i])&&(o.fill=d(l,i,s),o.boundary=c(o),o.mapper=f(o))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var i=t.ctx,r=n.el,o=r._view,a=r._children||[],s=n.mapper,l=o.backgroundColor||p.global.defaultColor;s&&l&&a.length&&(g.canvas.clipArea(i,t.chartArea),h(i,a,s,o,l,r._loop),g.canvas.unclipArea(i))}}}},{25:25,40:40,45:45}],51:[function(t,e){"use strict";function _(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function i(t,e){var n=new a({ctx:t.ctx,options:e,chart:t});r.configure(t,n,e),r.addBox(t,n),t.legend=n}var S=t(25),n=t(26),k=t(45),r=t(30),o=k.noop;S._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var t=n.data;return k.isArray(t.datasets)?t.datasets.map(function(t,e){return{text:t.label,fillStyle:k.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!n.isDatasetVisible(e),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:e}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var a=n.extend({initialize:function(t){k.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:o,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:function(){var e=this,n=e.options.labels||{},t=k.callback(n.generateLabels,[e.chart],e)||[];n.filter&&(t=t.filter(function(t){return n.filter(t,e.chart.data)})),e.options.reverse&&t.reverse(),e.legendItems=t},afterBuildLabels:o,beforeFit:o,fit:function(){var i=this,t=i.options,r=t.labels,e=t.display,o=i.ctx,n=S.global,a=k.valueOrDefault,s=a(r.fontSize,n.defaultFontSize),l=a(r.fontStyle,n.defaultFontStyle),u=a(r.fontFamily,n.defaultFontFamily),c=k.fontString(s,l,u),d=i.legendHitBoxes=[],f=i.minSize,h=i.isHorizontal();if(h?(f.width=i.maxWidth,f.height=e?10:0):(f.width=e?10:0,f.height=i.maxHeight),e)if(o.font=c,h){var p=i.lineWidths=[0],m=i.legendItems.length?s+r.padding:0;o.textAlign="left",o.textBaseline="top",k.each(i.legendItems,function(t,e){var n=_(r,s)+s/2+o.measureText(t.text).width;p[p.length-1]+n+r.padding>=i.width&&(m+=s+r.padding,p[p.length]=i.left),d[e]={left:0,top:0,width:n,height:s},p[p.length-1]+=n+r.padding}),f.height+=m}else{var g=r.padding,v=i.columnWidths=[],y=r.padding,b=0,x=0,w=s+g;k.each(i.legendItems,function(t,e){var n=_(r,s)+s/2+o.measureText(t.text).width;x+w>f.height&&(y+=b+r.padding,v.push(b),x=b=0),b=Math.max(b,n),x+=w,d[e]={left:0,top:0,width:n,height:s}}),y+=b,v.push(b),f.width+=y}i.width=f.width,i.height=f.height},afterFit:o,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,l=a.options,s=l.labels,u=S.global,c=u.elements.line,d=a.width,f=a.lineWidths;if(l.display){var h,p=a.ctx,m=k.valueOrDefault,t=m(s.fontColor,u.defaultFontColor),g=m(s.fontSize,u.defaultFontSize),e=m(s.fontStyle,u.defaultFontStyle),n=m(s.fontFamily,u.defaultFontFamily),i=k.fontString(g,e,n);p.textAlign="left",p.textBaseline="middle",p.lineWidth=.5,p.strokeStyle=t,p.fillStyle=t,p.font=i;var v=_(s,g),y=a.legendHitBoxes,b=function(t,e,n){if(!(isNaN(v)||v<=0)){p.save(),p.fillStyle=m(n.fillStyle,u.defaultColor),p.lineCap=m(n.lineCap,c.borderCapStyle),p.lineDashOffset=m(n.lineDashOffset,c.borderDashOffset),p.lineJoin=m(n.lineJoin,c.borderJoinStyle),p.lineWidth=m(n.lineWidth,c.borderWidth),p.strokeStyle=m(n.strokeStyle,u.defaultColor);var i=0===m(n.lineWidth,c.borderWidth);if(p.setLineDash&&p.setLineDash(m(n.lineDash,c.borderDash)),l.labels&&l.labels.usePointStyle){var r=g*Math.SQRT2/2,o=r/Math.SQRT2,a=t+o,s=e+o;k.canvas.drawPoint(p,n.pointStyle,r,a,s)}else i||p.strokeRect(t,e,v,g),p.fillRect(t,e,v,g);p.restore()}},x=function(t,e,n,i){var r=g/2,o=v+r+t,a=e+r;p.fillText(n.text,o,a),n.hidden&&(p.beginPath(),p.lineWidth=2,p.moveTo(o,a),p.lineTo(o+i,a),p.stroke())},w=a.isHorizontal();h=w?{x:a.left+(d-f[0])/2,y:a.top+s.padding,line:0}:{x:a.left+s.padding,y:a.top+s.padding,line:0};var C=g+s.padding;k.each(a.legendItems,function(t,e){var n=p.measureText(t.text).width,i=v+g/2+n,r=h.x,o=h.y;w?d<=r+i&&(o=h.y+=C,h.line++,r=h.x=a.left+(d-f[h.line])/2):o+C>a.bottom&&(r=h.x=r+a.columnWidths[h.line]+s.padding,o=h.y=a.top+s.padding,h.line++),b(r,o,t),y[e].left=r,y[e].top=o,x(r,o,t,n),w?h.x+=i+s.padding:h.y+=C})}},handleEvent:function(t){var e=this,n=e.options,i="mouseup"===t.type?"click":t.type,r=!1;if("mousemove"===i){if(!n.onHover)return}else{if("click"!==i)return;if(!n.onClick)return}var o=t.x,a=t.y;if(o>=e.left&&o<=e.right&&a>=e.top&&a<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(o>=u.left&&o<=u.left+u.width&&a>=u.top&&a<=u.top+u.height){if("click"===i){n.onClick.call(e,t["native"],e.legendItems[l]),r=!0;break}if("mousemove"===i){n.onHover.call(e,t["native"],e.legendItems[l]),r=!0;break}}}return r}});e.exports={id:"legend",_element:a,beforeInit:function(t){var e=t.options.legend;e&&i(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(k.mergeIf(e,S.global.legend),n?(r.configure(t,n,e),n.options=e):i(t,e)):n&&(r.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}}},{25:25,26:26,30:30,45:45}],52:[function(t,e){"use strict";function i(t,e){var n=new a({ctx:t.ctx,options:e,chart:t});r.configure(t,n,e),r.addBox(t,n),t.titleBlock=n}var C=t(25),n=t(26),_=t(45),r=t(30),o=_.noop;C._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var a=n.extend({initialize:function(t){var e=this;_.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:o,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:o,afterBuildLabels:o,beforeFit:o,fit:function(){var t=this,e=_.valueOrDefault,n=t.options,i=n.display,r=e(n.fontSize,C.global.defaultFontSize),o=t.minSize,a=_.isArray(n.text)?n.text.length:1,s=_.options.toLineHeight(n.lineHeight,r),l=i?a*s+2*n.padding:0;t.isHorizontal()?(o.width=t.maxWidth,o.height=l):(o.width=l,o.height=t.maxHeight),t.width=o.width,t.height=o.height},afterFit:o,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=_.valueOrDefault,i=t.options,r=C.global;if(i.display){var o,a,s,l=n(i.fontSize,r.defaultFontSize),u=n(i.fontStyle,r.defaultFontStyle),c=n(i.fontFamily,r.defaultFontFamily),d=_.fontString(l,u,c),f=_.options.toLineHeight(i.lineHeight,l),h=f/2+i.padding,p=0,m=t.top,g=t.left,v=t.bottom,y=t.right;e.fillStyle=n(i.fontColor,r.defaultFontColor),e.font=d,t.isHorizontal()?(a=g+(y-g)/2,s=m+h,o=y-g):(a="left"===i.position?g+h:y-h,s=m+(v-m)/2,o=v-m,p=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(a,s),e.rotate(p),e.textAlign="center",e.textBaseline="middle";var b=i.text;if(_.isArray(b))for(var x=0,w=0;w<b.length;++w)e.fillText(b[w],0,x,o),x+=f;else e.fillText(b,0,0,o);e.restore()}}});e.exports={id:"title",_element:a,beforeInit:function(t){var e=t.options.title;e&&i(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(_.mergeIf(e,C.global.title),n?(r.configure(t,n,e),n.options=e):i(t,e)):n&&(r.removeBox(t,n),delete t.titleBlock)}}},{25:25,26:26,30:30,45:45}],53:[function(t,e){"use strict";e.exports=function(t){var e={position:"bottom"},n=t.Scale.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1,e.options.ticks.min!==undefined&&(t=n.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),e.options.ticks.max!==undefined&&(t=n.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,r=n.isHorizontal();return i.yLabels&&!r?n.getRightValue(i.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,i=this,r=i.options.offset,o=Math.max(i.maxIndex+1-i.minIndex-(r?0:1),1);if(t!==undefined&&null!==t&&(n=i.isHorizontal()?t.x:t.y),n!==undefined||t!==undefined&&isNaN(e)){t=n||t;var a=i.getLabels().indexOf(t);e=-1!==a?a:e}if(i.isHorizontal()){var s=i.width/o,l=s*(e-i.minIndex);return r&&(l+=s/2),i.left+Math.round(l)}var u=i.height/o,c=u*(e-i.minIndex);return r&&(c+=u/2),i.top+Math.round(c)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,i=Math.max(e._ticks.length-(n?0:1),1),r=e.isHorizontal(),o=(r?e.width:e.height)/i;return t-=r?e.left:e.top,n&&(t-=o/2),(t<=0?0:Math.round(t/o))+e.minIndex},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",n,e)}},{}],54:[function(t,e){"use strict";var r=t(25),d=t(45),i=t(34);e.exports=function(t){var e={position:"left",ticks:{callback:i.formatters.linear}},n=t.LinearScaleBase.extend({determineDataLimits:function(){function a(t){return e?t.xAxisID===s.id:t.yAxisID===s.id}var s=this,l=s.options,u=s.chart,t=u.data.datasets,e=s.isHorizontal(),n=0,i=1;s.min=null,s.max=null;var r=l.stacked;if(r===undefined&&d.each(t,function(t,e){if(!r){var n=u.getDatasetMeta(e);u.isDatasetVisible(e)&&a(n)&&n.stack!==undefined&&(r=!0)}}),l.stacked||r){var c={};d.each(t,function(t,e){var i=u.getDatasetMeta(e),n=[i.type,l.stacked===undefined&&i.stack===undefined?e:"",i.stack].join(".");c[n]===undefined&&(c[n]={positiveValues:[],negativeValues:[]});var r=c[n].positiveValues,o=c[n].negativeValues;u.isDatasetVisible(e)&&a(i)&&d.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||(r[e]=r[e]||0,o[e]=o[e]||0,l.relativePoints?r[e]=100:n<0?o[e]+=n:r[e]+=n)})}),d.each(c,function(t){var e=t.positiveValues.concat(t.negativeValues),n=d.min(e),i=d.max(e);s.min=null===s.min?n:Math.min(s.min,n),s.max=null===s.max?i:Math.max(s.max,i)})}else d.each(t,function(t,e){var i=u.getDatasetMeta(e);u.isDatasetVisible(e)&&a(i)&&d.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n))})});s.min=isFinite(s.min)&&!isNaN(s.min)?s.min:n,s.max=isFinite(s.max)&&!isNaN(s.max)?s.max:i,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this,n=e.options.ticks;if(e.isHorizontal())t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.width/50));else{var i=d.valueOrDefault(n.fontSize,r.global.defaultFontSize);t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.height/(2*i)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this,n=e.start,i=+e.getRightValue(t),r=e.end-n;return e.isHorizontal()?e.left+e.width/r*(i-n):e.bottom-e.height/r*(i-n)},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,r=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",n,e)}},{25:25,34:34,45:45}],55:[function(t,e){"use strict";function o(t,e){var n,i=[];if(t.stepSize&&0<t.stepSize)n=t.stepSize;else{var r=c.niceNum(e.max-e.min,!1);n=c.niceNum(r/(t.maxTicks-1),!0)}var o=Math.floor(e.min/n)*n,a=Math.ceil(e.max/n)*n;t.min&&t.max&&t.stepSize&&c.almostWhole((t.max-t.min)/t.stepSize,n/1e3)&&(o=t.min,a=t.max);var s=(a-o)/n;s=c.almostEquals(s,Math.round(s),n/1e3)?Math.round(s):Math.ceil(s);var l=1;n<1&&(l=Math.pow(10,n.toString().length-2),o=Math.round(o*l)/l,a=Math.round(a*l)/l),i.push(t.min!==undefined?t.min:o);for(var u=1;u<s;++u)i.push(Math.round((o+u*n)*l)/l);return i.push(t.max!==undefined?t.max:a),i}var c=t(45);e.exports=function(e){var t=c.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(t){return"string"==typeof t?+t:e.Scale.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=c.sign(t.min),i=c.sign(t.max);n<0&&i<0?t.max=0:0<n&&0<i&&(t.min=0)}var r=e.min!==undefined||e.suggestedMin!==undefined,o=e.max!==undefined||e.suggestedMax!==undefined;e.min!==undefined?t.min=e.min:e.suggestedMin!==undefined&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),e.max!==undefined?t.max=e.max:e.suggestedMax!==undefined&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),r!==o&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,stepSize:c.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=o(i,t);t.handleDirectionalChanges(),t.max=c.max(r),t.min=c.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{45:45}],56:[function(t,e){"use strict";function o(t,e){var n,i,r=[],o=f.valueOrDefault,a=o(t.min,Math.pow(10,Math.floor(f.log10(e.min)))),s=Math.floor(f.log10(e.max)),l=Math.ceil(e.max/Math.pow(10,s));0===a?(n=Math.floor(f.log10(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(a),a=i*Math.pow(10,n)):(n=Math.floor(f.log10(a)),i=Math.floor(a/Math.pow(10,n)));for(var u=n<0?Math.pow(10,Math.abs(n)):1;r.push(a),10===++i&&(i=1,u=0<=++n?1:u),a=Math.round(i*Math.pow(10,n)*u)/u,n<s||n===s&&i<l;);var c=o(t.max,a);return r.push(c),r}var f=t(45),n=t(34);e.exports=function(d){var t={position:"left",ticks:{callback:n.formatters.logarithmic}},e=d.Scale.extend({determineDataLimits:function(){function a(t){return e?t.xAxisID===s.id:t.yAxisID===s.id}var s=this,n=s.options,l=s.chart,t=l.data.datasets,e=s.isHorizontal();s.min=null,s.max=null,s.minNotZero=null;var i=n.stacked;if(i===undefined&&f.each(t,function(t,e){if(!i){var n=l.getDatasetMeta(e);l.isDatasetVisible(e)&&a(n)&&n.stack!==undefined&&(i=!0)}}),n.stacked||i){var u={};f.each(t,function(t,e){var r=l.getDatasetMeta(e),o=[r.type,n.stacked===undefined&&r.stack===undefined?e:"",r.stack].join(".");l.isDatasetVisible(e)&&a(r)&&(u[o]===undefined&&(u[o]=[]),f.each(t.data,function(t,e){var n=u[o],i=+s.getRightValue(t);isNaN(i)||r.data[e].hidden||i<0||(n[e]=n[e]||0,n[e]+=i)}))}),f.each(u,function(t){if(0<t.length){var e=f.min(t),n=f.max(t);s.min=null===s.min?e:Math.min(s.min,e),s.max=null===s.max?n:Math.max(s.max,n)}})}else f.each(t,function(t,e){var i=l.getDatasetMeta(e);l.isDatasetVisible(e)&&a(i)&&f.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||n<0||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n),0!==n&&(null===s.minNotZero||n<s.minNotZero)&&(s.minNotZero=n))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks,n=f.valueOrDefault,i=1,r=10;t.min=n(e.min,t.min),t.max=n(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(f.log10(t.min))-1),t.max=Math.pow(10,Math.floor(f.log10(t.max))+1)):(t.min=i,t.max=r)),null===t.min&&(t.min=Math.pow(10,Math.floor(f.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(f.log10(t.min))+1):r),null===t.minNotZero&&(0<t.min?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(f.log10(t.max))):t.minNotZero=i)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:e.min,max:e.max},r=t.ticks=o(i,t);t.max=f.max(r),t.min=f.min(r),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),d.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(f.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(t){var e,n,i,r,o,a=this,s=a.options.ticks.reverse,l=f.log10,u=a._getFirstTickValue(a.minNotZero),c=0;return t=+a.getRightValue(t),s?(i=a.end,r=a.start,o=-1):(i=a.start,r=a.end,o=1),a.isHorizontal()?(e=a.width,n=s?a.right:a.left):(e=a.height,o*=-1,n=s?a.top:a.bottom),t!==i&&(0===i&&(e-=c=f.getValueOrDefault(a.options.ticks.fontSize,d.defaults.global.defaultFontSize),i=u),0!==t&&(c+=e/(l(r)-l(i))*(l(t)-l(i))),n+=o*c),n},getValueForPixel:function(t){var e,n,i,r,o=this,a=o.options.ticks.reverse,s=f.log10,l=o._getFirstTickValue(o.minNotZero);if(a?(n=o.end,i=o.start):(n=o.start,i=o.end),o.isHorizontal()?(e=o.width,r=a?o.right-t:t-o.left):(e=o.height,r=a?t-o.top:o.bottom-t),r!==n){if(0===n){var u=f.getValueOrDefault(o.options.ticks.fontSize,d.defaults.global.defaultFontSize);r-=u,e-=u,n=l}r*=s(i)-s(n),r/=e,r=Math.pow(10,s(n)+r)}return r}});d.scaleService.registerScaleType("logarithmic",e,t)}},{34:34,45:45}],57:[function(t,e){"use strict";var a=t(25),C=t(45),s=t(34);e.exports=function(e){function h(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function p(t){var e=t.options.pointLabels,n=C.valueOrDefault(e.fontSize,w.defaultFontSize),i=C.valueOrDefault(e.fontStyle,w.defaultFontStyle),r=C.valueOrDefault(e.fontFamily,w.defaultFontFamily);return{size:n,style:i,family:r,font:C.fontString(n,i,r)}}function m(t,e,n){return C.isArray(n)?{w:C.longestText(t,t.font,n),h:n.length*e+1.5*(n.length-1)*e}:{w:t.measureText(n).width,h:e}}function g(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||r<t?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function t(t){var e,n,i,r=p(t),o=Math.min(t.height/2,t.width/2),a={r:t.width,l:0,t:t.height,b:0},s={};t.ctx.font=r.font,t._pointLabelSizes=[];var l=h(t);for(e=0;e<l;e++){i=t.getPointPosition(e,o),n=m(t.ctx,r.size,t.pointLabels[e]||""),t._pointLabelSizes[e]=n;var u=t.getIndexAngle(e),c=C.toDegrees(u)%360,d=g(c,i.x,n.w,0,180),f=g(c,i.y,n.h,90,270);d.start<a.l&&(a.l=d.start,s.l=u),d.end>a.r&&(a.r=d.end,s.r=u),f.start<a.t&&(a.t=f.start,s.t=u),f.end>a.b&&(a.b=f.end,s.b=u)}t.setReductions(o,a,s)}function n(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function v(t){return 0===t||180===t?"center":t<180?"left":"right"}function y(t,e,n,i){if(C.isArray(e))for(var r=n.y,o=1.5*i,a=0;a<e.length;++a)t.fillText(e[a],n.x,r),r+=o;else t.fillText(e,n.x,n.y)}function b(t,e,n){90===t||270===t?n.y-=e.h/2:(270<t||t<90)&&(n.y-=e.h)}function i(t){var e=t.ctx,n=t.options,i=n.angleLines,r=n.pointLabels;e.lineWidth=i.lineWidth,e.strokeStyle=i.color;var o=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),a=p(t);e.textBaseline="top";for(var s=h(t)-1;0<=s;s--){if(i.display){var l=t.getPointPosition(s,o);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(l.x,l.y),e.stroke(),e.closePath()}if(r.display){var u=t.getPointPosition(s,o+5),c=C.valueAtIndexOrDefault(r.fontColor,s,w.defaultFontColor);e.font=a.font,e.fillStyle=c;var d=t.getIndexAngle(s),f=C.toDegrees(d);e.textAlign=v(f),b(f,t._pointLabelSizes[s],u),y(e,t.pointLabels[s]||"",u,a.size)}}}function x(t,e,n,i){var r=t.ctx;if(r.strokeStyle=C.valueAtIndexOrDefault(e.color,i-1),r.lineWidth=C.valueAtIndexOrDefault(e.lineWidth,i-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,n,0,2*Math.PI),r.closePath(),r.stroke();else{var o=h(t);if(0===o)return;r.beginPath();var a=t.getPointPosition(0,n);r.moveTo(a.x,a.y);for(var s=1;s<o;s++)a=t.getPointPosition(s,n),r.lineTo(a.x,a.y);r.closePath(),r.stroke()}}function l(t){return C.isNumber(t)?t:0}var w=a.global,r={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:s.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},o=e.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,n=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var i=C.min([t.height,t.width]),r=C.valueOrDefault(n.fontSize,w.defaultFontSize);t.drawingArea=e.display?i/2-(r/2+n.backdropPaddingY):i/2},determineDataLimits:function(){var r=this,n=r.chart,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;C.each(n.data.datasets,function(t,e){if(n.isDatasetVisible(e)){var i=n.getDatasetMeta(e);C.each(t.data,function(t,e){var n=+r.getRightValue(t);isNaN(n)||i.data[e].hidden||(o=Math.min(n,o),a=Math.max(n,a))})}}),r.min=o===Number.POSITIVE_INFINITY?0:o,r.max=a===Number.NEGATIVE_INFINITY?0:a,r.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=C.valueOrDefault(t.fontSize,w.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.pointLabels.display?t(this):n(this)},setReductions:function(t,e,n){var i=this,r=e.l/Math.sin(n.l),o=Math.max(e.r-i.width,0)/Math.sin(n.r),a=-e.t/Math.cos(n.t),s=-Math.max(e.b-i.height,0)/Math.cos(n.b);r=l(r),o=l(o),a=l(a),s=l(s),i.drawingArea=Math.min(Math.round(t-(r+o)/2),Math.round(t-(a+s)/2)),i.setCenterPoint(r,o,a,s)},setCenterPoint:function(t,e,n,i){var r=this,o=r.width-e-r.drawingArea,a=t+r.drawingArea,s=n+r.drawingArea,l=r.height-i-r.drawingArea;r.xCenter=Math.round((a+o)/2+r.left),r.yCenter=Math.round((s+l)/2+r.top)},getIndexAngle:function(t){return t*(2*Math.PI/h(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,i=n.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(i)*e)+n.xCenter,y:Math.round(Math.sin(i)*e)+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:0<e&&0<n?e:0)},draw:function(){var o=this,t=o.options,a=t.gridLines,s=t.ticks,l=C.valueOrDefault;if(t.display){var u=o.ctx,c=this.getIndexAngle(0),d=l(s.fontSize,w.defaultFontSize),e=l(s.fontStyle,w.defaultFontStyle),n=l(s.fontFamily,w.defaultFontFamily),f=C.fontString(d,e,n);C.each(o.ticks,function(t,e){if(0<e||s.reverse){var n=o.getDistanceFromCenterForValue(o.ticksAsNumbers[e]);if(a.display&&0!==e&&x(o,a,n,e),s.display){var i=l(s.fontColor,w.defaultFontColor);if(u.font=f,u.save(),u.translate(o.xCenter,o.yCenter),u.rotate(c),s.showLabelBackdrop){var r=u.measureText(t).width;u.fillStyle=s.backdropColor,u.fillRect(-r/2-s.backdropPaddingX,-n-d/2-s.backdropPaddingY,r+2*s.backdropPaddingX,d+2*s.backdropPaddingY)}u.textAlign="center",u.textBaseline="middle",u.fillStyle=i,u.fillText(t,0,-n),u.restore()}}}),(t.angleLines.display||t.pointLabels.display)&&i(o)}}});e.scaleService.registerScaleType("radialLinear",o,r)}},{25:25,34:34,45:45}],58:[function(t,e){"use strict";function m(t,e){return t-e}function g(t){var e,n,i,r={},o=[];for(e=0,n=t.length;e<n;++e)r[i=t[e]]||(r[i]=!0,o.push(i));return o}function c(t,e,n,i){if("linear"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var r,o,a,s,l,u=[],c=[e];for(r=0,o=t.length;r<o;++r)e<(s=t[r])&&s<n&&c.push(s);for(c.push(n),r=0,o=c.length;r<o;++r)l=c[r+1],a=c[r-1],s=c[r],a!==undefined&&l!==undefined&&Math.round((l+a)/2)===s||u.push({time:s,pos:r/(o-1)});return u}function d(t,e,n){for(var i,r,o,a=0,s=t.length-1;0<=a&&a<=s;){if(r=t[(i=a+s>>1)-1]||null,o=t[i],!r)return{lo:null,hi:o};if(o[e]<n)a=i+1;else{if(!(r[e]>n))return{lo:r,hi:o};s=i-1}}return{lo:o,hi:null}}function u(t,e,n,i){var r=d(t,e,n),o=r.lo?r.hi?r.lo:t[t.length-2]:t[0],a=r.lo?r.hi?r.hi:t[t.length-1]:t[1],s=a[e]-o[e],l=s?(n-o[e])/s:0,u=(a[i]-o[i])*l;return o[i]+u}function s(t,e){var n=e.parser,i=e.parser||e.format;return"function"==typeof n?n(t):"string"==typeof t&&"string"==typeof i?_(t,i):(t instanceof _||(t=_(t)),t.isValid()?t:"function"==typeof i?i(t):t)}function v(t,e){if(S.isNullOrUndef(t))return null;var n=e.options.time,i=s(e.getRightValue(t),n);return i.isValid()?(n.round&&i.startOf(n.round),i.valueOf()):null}function y(t,e,n,i){var r,o,a,s=e-t,l=E[n],u=l.size,c=l.steps;if(!c)return Math.ceil(s/(i*u));for(r=0,o=c.length;r<o&&(a=c[r],!(Math.ceil(s/(u*a))<=i));++r);return a}function b(t,e,n,i){var r,o,a,s=N.length;for(r=N.indexOf(t);r<s-1;++r)if(a=(o=E[N[r]]).steps?o.steps[o.steps.length-1]:T,o.common&&Math.ceil((n-e)/(a*o.size))<=i)return N[r];return N[s-1]}function f(t,e,n,i){var r,o,a=_.duration(_(i).diff(_(n)));for(r=N.length-1;r>=N.indexOf(e);r--)if(o=N[r],E[o].common&&a.as(o)>=t.length)return o;return N[e?N.indexOf(e):0]}function x(t){for(var e=N.indexOf(t)+1,n=N.length;e<n;++e)if(E[N[e]].common)return N[e]}function h(t,e,n,i){var r,o=i.time,a=o.unit||b(o.minUnit,t,e,n),s=x(a),l=S.valueOrDefault(o.stepSize,o.unitStepSize),u="week"===a&&o.isoWeekday,c=i.ticks.major.enabled,d=E[a],f=_(t),h=_(e),p=[];for(l||(l=y(t,e,a,n)),u&&(f=f.isoWeekday(u),h=h.isoWeekday(u)),f=f.startOf(u?"day":a),(h=h.startOf(u?"day":a))<e&&h.add(1,a),r=_(f),c&&s&&!u&&!o.round&&(r.startOf(s),r.add(~~((f-r)/(d.size*l))*l,a));r<h;r.add(l,a))p.push(+r);return p.push(+r),p}function p(t,e,n,i,r){var o,a,s=0,l=0;return r.offset&&e.length&&(r.time.min||(o=1<e.length?e[1]:i,a=e[0],s=(u(t,"time",o,"pos")-u(t,"time",a,"pos"))/2),r.time.max||(o=e[e.length-1],a=1<e.length?e[e.length-2]:n,l=(u(t,"time",o,"pos")-u(t,"time",a,"pos"))/2)),{left:s,right:l}}function w(t,e){var n,i,r,o,a=[];for(n=0,i=t.length;n<i;++n)r=t[n],o=!!e&&r===+_(r).startOf(e),a.push({value:r,major:o});return a}function C(t,e){var n,i,r,o=t.length;for(n=0;n<o;n++){if(0!==(i=s(t[n],e)).millisecond())return"MMM D, YYYY h:mm:ss.SSS a";0===i.second()&&0===i.minute()&&0===i.hour()||(r=!0)}return r?"MMM D, YYYY h:mm:ss a":"MMM D, YYYY"}var _=t(6);_="function"==typeof _?_:window.moment;var l=t(25),S=t(45),k=Number.MIN_SAFE_INTEGER||-9007199254740991,T=Number.MAX_SAFE_INTEGER||9007199254740991,E={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},N=Object.keys(E);e.exports=function(n){var t={position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},e=n.Scale.extend({initialize:function(){if(!_)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),n.Scale.prototype.initialize.call(this)},update:function(){var t=this,e=t.options;return e.time&&e.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),n.Scale.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&t.t!==undefined&&(t=t.t),n.Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,r,o,a=this,s=a.chart,l=a.options.time,u=l.unit||"day",c=T,d=k,f=[],h=[],p=[];for(t=0,n=s.data.labels.length;t<n;++t)p.push(v(s.data.labels[t],a));for(t=0,n=(s.data.datasets||[]).length;t<n;++t)if(s.isDatasetVisible(t))if(r=s.data.datasets[t].data,S.isObject(r[0]))for(h[t]=[],e=0,i=r.length;e<i;++e)o=v(r[e],a),f.push(o),h[t][e]=o;else f.push.apply(f,p),h[t]=p.slice(0);else h[t]=[];p.length&&(p=g(p).sort(m),c=Math.min(c,p[0]),d=Math.max(d,p[p.length-1])),f.length&&(f=g(f).sort(m),c=Math.min(c,f[0]),d=Math.max(d,f[f.length-1])),c=v(l.min,a)||c,d=v(l.max,a)||d,c=c===T?+_().startOf(u):c,d=d===k?+_().endOf(u)+1:d,a.min=Math.min(c,d),a.max=Math.max(c+1,d),a._horizontal=a.isHorizontal(),a._table=[],a._timestamps={data:f,datasets:h,labels:p}},buildTicks:function(){var t,e,n,i=this,r=i.min,o=i.max,a=i.options,s=a.time,l=[],u=[];switch(a.ticks.source){case"data":l=i._timestamps.data;break;case"labels":l=i._timestamps.labels;break;case"auto":default:l=h(r,o,i.getLabelCapacity(r),a)}for("ticks"===a.bounds&&l.length&&(r=l[0],o=l[l.length-1]),r=v(s.min,i)||r,o=v(s.max,i)||o,t=0,e=l.length;t<e;++t)r<=(n=l[t])&&n<=o&&u.push(n);return i.min=r,i.max=o,i._unit=s.unit||f(u,s.minUnit,i.min,i.max),i._majorUnit=x(i._unit),i._table=c(i._timestamps.data,r,o,a.distribution),i._offsets=p(i._table,u,r,o,a),i._labelFormat=C(i._timestamps.data,s),w(u,i._majorUnit)},
getLabelForIndex:function(t,e){var n=this,i=n.chart.data,r=n.options.time,o=i.labels&&t<i.labels.length?i.labels[t]:"",a=i.datasets[e].data[t];return S.isObject(a)&&(o=n.getRightValue(a)),r.tooltipFormat?s(o,r).format(r.tooltipFormat):"string"==typeof o?o:s(o,r).format(n._labelFormat)},tickFormatFunction:function(t,e,n,i){var r=this,o=r.options,a=t.valueOf(),s=o.time.displayFormats,l=s[r._unit],u=r._majorUnit,c=s[u],d=t.clone().startOf(u).valueOf(),f=o.ticks.major,h=f.enabled&&u&&c&&a===d,p=t.format(i||(h?c:l)),m=h?f:o.ticks.minor,g=S.valueOrDefault(m.callback,m.userCallback);return g?g(p,e,n):p},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(_(t[e].value),e,t));return i},getPixelForOffset:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,r=u(e._table,"time",t,"pos");return i+n*(e._offsets.left+r)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,n){var i=this,r=null;if(e!==undefined&&n!==undefined&&(r=i._timestamps.datasets[n][e]),null===r&&(r=v(t,i)),null!==r)return i.getPixelForOffset(r)},getPixelForTick:function(t){var e=this.getTicks();return 0<=t&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,r=(n?(t-i)/n:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,o=u(e._table,"pos",r,"time");return _(o)},getLabelWidth:function(t){var e=this,n=e.options.ticks,i=e.ctx.measureText(t).width,r=S.toRadians(n.maxRotation),o=Math.cos(r),a=Math.sin(r);return i*o+S.valueOrDefault(n.fontSize,l.global.defaultFontSize)*a},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,i=e.tickFormatFunction(_(t),0,[],n),r=e.getLabelWidth(i),o=e.isHorizontal()?e.width:e.height,a=Math.floor(o/r);return 0<a?a:1}});n.scaleService.registerScaleType("time",e,t)}},{25:25,45:45,6:6}]},{},[7])(7)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Chartkick=e()}(this,function(){"use strict";function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Function}function i(t){return!s(t)&&t instanceof Object}function r(t,e){var n;for(n in e)i(e[n])||a(e[n])?(i(e[n])&&!i(t[n])&&(t[n]={}),a(e[n])&&!a(t[n])&&(t[n]=[]),r(t[n],e[n])):e[n]!==undefined&&(t[n]=e[n])}function W(t,e){var n={};return r(n,t),r(n,e),n}function o(t){var e,n,i,r,o,a,s,l,u,c,d;return"[object Date]"===(c=Object.prototype.toString.call(t))?t:"[object String]"===c&&(i=t.match(j))?(d=parseInt(i[1],10),a=parseInt(i[3],10)-1,e=parseInt(i[5],10),n=parseInt(i[7],10),o=i[9]?parseInt(i[9],10):0,u=i[11]?parseInt(i[11],10):0,r=i[12]?1e3*parseFloat(Z+i[12].slice(1)):0,l=Date.UTC(d,a,e,n,o,u,r),i[13]&&i[14]&&(s=60*i[15],i[17]&&(s+=parseInt(i[17],10)),l-=60*(s*="-"===i[14]?-1:1)*1e3),new Date(l)):void 0}function h(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(i[n][1]<0)return!0;return!1}function p(t){return""+t}function V(t){return parseFloat(t)}function l(t){var e,n,i,r;if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{if(e=(t=p(t)).match(H))return n=parseInt(e[1],10),i=parseInt(e[3],10)-1,r=parseInt(e[5],10),new Date(n,i,r);t=o(t.replace(/ /,"T").replace(" ","").replace("UTC","Z"))||new Date(t)}return t}function u(t){if(!a(t)){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push([e,t[e]]);t=n}return t}function c(o,a,s,l,u,c,d,f){return function(t,e,n){var i=t.data,r=W({},o);return r=W(r,n||{}),(t.hideLegend||"legend"in e)&&a(r,e.legend,t.hideLegend),e.title&&s(r,e.title),"min"in e?l(r,e.min):h(i)||l(r,0),e.max&&u(r,e.max),"stacked"in e&&c(r,e.stacked),e.colors&&(r.colors=e.colors),e.xtitle&&d(r,e.xtitle),e.ytitle&&f(r,e.ytitle),r=W(r,e.library||{})}}function m(t,e){return t[0].getTime()-e[0].getTime()}function g(t,e){return t[0]-e[0]}function U(t,e){return t-e}function $(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}function q(t){return $(t)&&0===t.getMinutes()}function Y(t){return q(t)&&0===t.getHours()}function G(t,e){return Y(t)&&t.getDay()===e}function X(t){return Y(t)&&1===t.getDate()}function K(t){return X(t)&&0===t.getMonth()}function n(t){return!isNaN(l(t))&&6<=p(t).length}function d(t){return"number"==typeof t}function f(t,e,n){if(t=t||"",n.prefix&&(e<0&&(e*=-1,t+="-"),t+=n.prefix),n.thousands||n.decimal){var i=(e=p(e)).split(".");e=i[0],n.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,n.thousands)),1<i.length&&(e+=(n.decimal||".")+i[1])}return t+e+(n.suffix||"")}function v(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(0!=i[n][1])return!1;return!0}function y(t,e,n){It.push([t,e,n]),b()}function b(){if(Lt<Bt){var t=It.shift();t&&(Lt++,e(t[0],t[1],t[2]),b())}}function x(){Lt--,b()}function e(t,e,r){w(t,e,function(t,e,n){var i="string"==typeof n?n:n.message;r(i)})}function w(t,e,n){var i=window.jQuery||window.Zepto||window.$;if(i)i.ajax({dataType:"json",url:t,success:e,error:n,complete:x});else{var r=new XMLHttpRequest;r.open("GET",t,!0),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){x(),200===r.status?e(JSON.parse(r.responseText),r.statusText,r):n(r,"error",r.statusText)},r.send()}}function C(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function _(t,e){C(t,"Error Loading Chart: "+e),t.style.color="#ff0000"}function S(t){try{t.__render()}catch(e){throw _(t.element,e.message),e}}function k(e,t){"string"==typeof t?y(t,function(t){e.rawData=t,S(e)},function(t){_(e.element,t)}):(e.rawData=t,S(e))}function T(n){var i=n.element,r=document.createElement("a");r.download=!0===n.options.download?"chart.png":n.options.download,r.style.position="absolute",r.style.top="20px",r.style.right="20px",r.style.zIndex=1e3,r.style.lineHeight="20px",r.target="_blank";var t=document.createElement("img");t.alt="Download",t.style.border="none",t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",r.appendChild(t),i.style.position="relative",n.__downloadAttached=!0,n.__enterEvent=E(i,"mouseover",function(t){var e=t.relatedTarget;e&&(e===this||N(this,e))||!n.options.download||(r.href=n.toImage(),i.appendChild(r))}),n.__leaveEvent=E(i,"mouseout",function(t){var e=t.relatedTarget;e&&(e===this||N(this,e))||r.parentNode&&r.parentNode.removeChild(r)})}function E(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1),n;var i=function(){return n.call(t,window.event)};return t.attachEvent("on"+e,i),i}function t(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function N(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function A(t){if(t){if("Highcharts"===t.product)return wt;if(t.charts)return Ot;if(s(t))return mt}throw new Error("Unknown adapter")}function D(t){var e=new(A(t))(t);-1===zt.indexOf(e)&&zt.push(e)}function M(){"Chart"in window&&D(window.Chart),"Highcharts"in window&&D(window.Highcharts),window.google&&window.google.charts&&D(window.google)}function R(t,e){if("PieChart"===e||"GeoChart"===e||"Timeline"===e)return 0===t.length;for(var n=0;n<t.length;n++)if(0<t[n].data.length)return!1;return!0}function P(t,e){e.options.messages&&e.options.messages.empty&&R(e.data,t)?C(e.element,e.options.messages.empty):(O(t,e),e.options.download&&!e.__downloadAttached&&"chartjs"===e.adapter&&T(e))}function O(t,e){var n,i,r,o;for(r="render"+t,o=e.options.adapter,M(),n=0;n<zt.length;n++)if(i=zt[n],(!o||o===i.name)&&s(i[r]))return e.adapter=i.name,(e.__adapterObject=i)[r](e);throw 0<zt.length?new Error("No charting library found for "+t):new Error("No charting libraries found - be sure to include one before your charts")}function I(t,e){return L(t,d)?"number":!e&&L(t,n)?"datetime":"string"}function L(t,e){var n,i,r;for(n=0;n<t.length;n++)for(r=u(t[n].data),i=0;i<r.length;i++)if(!e(r[i][0]))return!1;return!0}function B(t){var e,n,i=[];for(e=0;e<t.length;e++){var r={};for(n in t[e])t[e].hasOwnProperty(n)&&(r[n]=t[e][n]);i.push(r)}return i}function F(t,e,n){var i,r=t.options,o=t.rawData;for(!a(o)||"object"!=typeof o[0]||a(o[0])?(o=[{name:r.label,data:o}],t.hideLegend=!0):t.hideLegend=!1,t.xtype=e||(r.discrete?"string":I(o,n)),o=B(o),i=0;i<o.length;i++)o[i].data=jt(u(o[i].data),t.xtype);return o}function z(t){var e,n=u(t.rawData);for(e=0;e<n.length;e++)n[e]=[p(n[e][0]),V(n[e][1])];return n}var H=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i,j=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([.,]\d+)?($|Z|([+-])(\d\d)(:)?(\d\d)?)/i,Z=String(1.5).charAt(1),Q={maintainAspectRatio:!1,animation:!1,tooltips:{displayColors:!1,callbacks:{}},legend:{},title:{fontSize:20,fontColor:"#333"}},J={scales:{yAxes:[{ticks:{maxTicksLimit:4},scaleLabel:{fontSize:16,fontColor:"#333"}}],xAxes:[{gridLines:{drawOnChartArea:!1},scaleLabel:{fontSize:16,fontColor:"#333"},time:{},ticks:{}}]}},tt=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],et=function(t,e,n){e!==undefined?(t.legend.display=!!e,e&&!0!==e&&(t.legend.position=e)):n&&(t.legend.display=!1)},nt=function(t,e){t.title.display=!0,t.title.text=e},it=function(t,e){null!==e&&(t.scales.yAxes[0].ticks.min=V(e))},rt=function(t,e){t.scales.yAxes[0].ticks.max=V(e)},ot=function(t,e){null!==e&&(t.scales.xAxes[0].ticks.min=V(e))},at=function(t,e){t.scales.xAxes[0].ticks.max=V(e)},st=function(t,e){t.scales.xAxes[0].stacked=!!e,t.scales.yAxes[0].stacked=!!e},lt=function(t,e){t.scales.xAxes[0].scaleLabel.display=!0,t.scales.xAxes[0].scaleLabel.labelString=e},ut=function(t,e){t.scales.yAxes[0].scaleLabel.display=!0,t.scales.yAxes[0].scaleLabel.labelString=e},ct=function(t,e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?"rgba("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+", "+e+")":t},dt=function(t,e,n){var i=Math.ceil(t.element.offsetWidth/4/e.labels.length);25<i?i=25:i<10&&(i=10),n.scales.xAxes[0].ticks.callback||(n.scales.xAxes[0].ticks.callback=function(t){return(t=p(t)).length>i?t.substring(0,i-2)+"...":t})},ft=function(t,e,n){var r={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal};if("pie"!==n){var i=e.scales.yAxes;"bar"===n&&(i=e.scales.xAxes),i[0].ticks.callback||(i[0].ticks.callback=function(t){return f("",t,r)})}if(!e.tooltips.callbacks.label)if("scatter"===n)e.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+"("+t.xLabel+", "+t.yLabel+")"};else if("bubble"===n)e.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";n&&(n+=": ");var i=e.datasets[t.datasetIndex].data[t.index];return n+"("+t.xLabel+", "+t.yLabel+", "+i.v+")"};else if("pie"===n)e.tooltips.callbacks.label=function(t,e){var n=e.labels[t.index],i=": ";return a(n)?(n=n.slice())[0]+=i:n+=i,f(n,e.datasets[t.datasetIndex].data[t.index],r)};else{var o="bar"===n?"xLabel":"yLabel";e.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),f(n,t[o],r)}}},ht=c(W(Q,J),et,nt,it,rt,st,lt,ut),pt=function(t,e,n){var i,r=[],o=[],a=t.options.colors||tt,s=!0,l=!0,u=!0,c=!0,d=!0,f=!0,h=t.data,p=0;if("bubble"===n)for(var m=0;m<h.length;m++)for(var g=h[m],v=0;v<g.data.length;v++)g.data[v][2]>p&&(p=g.data[v][2]);var y,b,x,w,C,_=[],S=[];if("bar"===n||"column"===n||"number"!==t.xtype&&"bubble"!==t.xtype){var k,T,E=[];for(y=0;y<h.length;y++)for(x=h[y],b=0;b<x.data.length;b++)w=x.data[b],_[C="datetime"==t.xtype?w[0].getTime():w[0]]||(_[C]=new Array(h.length)),_[C][y]=V(w[1]),-1===E.indexOf(C)&&E.push(C);for("datetime"!==t.xtype&&"number"!==t.xtype||E.sort(U),b=0;b<h.length;b++)S.push([]);for(T=0;T<E.length;T++)for(y=E[T],"datetime"===t.xtype?(k=new Date(V(y)),s=s&&Y(k),i||(i=k.getDay()),l=l&&G(k,i),u=u&&X(k),c=c&&K(k),d=d&&q(k),f=f&&$(k)):k=y,o.push(k),b=0;b<h.length;b++)S[b].push(_[y][b]===undefined?null:_[y][b])}else for(var N=0;N<h.length;N++){for(var A=h[N],D=[],M=0;M<A.data.length;M++){var R={x:V(A.data[M][0]),y:V(A.data[M][1])};"bubble"===n&&(R.r=20*V(A.data[M][2])/p,R.v=A.data[M][2]),D.push(R)}S.push(D)}for(y=0;y<h.length;y++){var P=(x=h[y]).color||a[y],O="line"!==n?ct(P,.5):P,I={label:x.name||"",data:S[y],fill:"area"===n,borderColor:P,backgroundColor:O,pointBackgroundColor:P,borderWidth:2,pointHoverBackgroundColor:P};x.stack&&(I.stack=x.stack),!1===t.options.curve&&(I.lineTension=0),!1===t.options.points&&(I.pointRadius=0,I.pointHitRadius=5),I=W(I=W(I=W(I,t.options.dataset||{}),x.library||{}),x.dataset||{}),r.push(I)}if("datetime"===t.xtype&&0<o.length){var L=o[0].getTime(),B=o[0].getTime();for(y=1;y<o.length;y++){var F=o[y].getTime();F<L&&(L=F),B<F&&(B=F)}var z,H=(B-L)/864e5;if(!e.scales.xAxes[0].time.unit)if(c||3650<H?(e.scales.xAxes[0].time.unit="year",z=365):u||300<H?(e.scales.xAxes[0].time.unit="month",z=30):s||10<H?(e.scales.xAxes[0].time.unit="day",z=1):d||.5<H?(e.scales.xAxes[0].time.displayFormats={hour:"MMM D, h a"},e.scales.xAxes[0].time.unit="hour",z=1/24):f&&(e.scales.xAxes[0].time.displayFormats={minute:"h:mm a"},e.scales.xAxes[0].time.unit="minute",z=1/24/60),z&&0<H){var j=Math.ceil(H/z/(t.element.offsetWidth/100));l&&1===z&&(j=7*Math.ceil(j/7)),e.scales.xAxes[0].time.unitStepSize=j}e.scales.xAxes[0].time.tooltipFormat||(s?e.scales.xAxes[0].time.tooltipFormat="ll":d?e.scales.xAxes[0].time.tooltipFormat="MMM D, h a":f&&(e.scales.xAxes[0].time.tooltipFormat="h:mm a"))}return{labels:o,datasets:r}},mt=function mt(t){this.name="chartjs",this.library=t};mt.prototype.renderLineChart=function Ut(t,e){var n={};!t.options.max&&v(t.data)&&(n.max=1);var i=ht(t,W(n,t.options));ft(t,i,e);var r=pt(t,i,e||"line");"number"===t.xtype?(i.scales.xAxes[0].type="linear",i.scales.xAxes[0].position="bottom"):i.scales.xAxes[0].type="string"===t.xtype?"category":"time",this.drawChart(t,"line",r,i)},mt.prototype.renderPieChart=function $t(t){var e=W({},Q);t.options.donut&&(e.cutoutPercentage=50),"legend"in t.options&&et(e,t.options.legend),t.options.title&&nt(e,t.options.title),e=W(e,t.options.library||{}),ft(t,e,"pie");for(var n=[],i=[],r=0;r<t.data.length;r++){var o=t.data[r];n.push(o[0]),i.push(o[1])}var a={data:i,backgroundColor:t.options.colors||tt},s={labels:n,datasets:[a=W(a,t.options.dataset||{})]};this.drawChart(t,"pie",s,e)},mt.prototype.renderColumnChart=function qt(t,e){var n;n="bar"===e?c(W(Q,J),et,nt,ot,at,st,lt,ut)(t,t.options):ht(t,t.options),ft(t,n,e);var i=pt(t,n,"column");"bar"!==e&&dt(t,i,n),this.drawChart(t,"bar"===e?"horizontalBar":"bar",i,n)},mt.prototype.renderAreaChart=function Yt(t){this.renderLineChart(t,"area")},mt.prototype.renderBarChart=function Gt(t){this.renderColumnChart(t,"bar")},mt.prototype.renderScatterChart=function Xt(t,e){e=e||"scatter";var n=ht(t,t.options);ft(t,n,e),"showLines"in n||(n.showLines=!1);var i=pt(t,n,e);n.scales.xAxes[0].type="linear",n.scales.xAxes[0].position="bottom",this.drawChart(t,e,i,n)},mt.prototype.renderBubbleChart=function Kt(t){this.renderScatterChart(t,"bubble")},mt.prototype.destroy=function Zt(t){t.chart&&t.chart.destroy()};var gt={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!(mt.prototype.drawChart=function Qt(t,e,n,i){this.destroy(t);var r={type:e,data:n,options:i};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(r)+");"),t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(o,r)})},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},series:{marker:{}}}},vt=function(t,e,n){e!==undefined?(t.legend.enabled=!!e,e&&!0!==e&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):n&&(t.legend.enabled=!1)},yt=function(t,e){t.title.text=e},bt=c(gt,vt,yt,function(t,e){t.yAxis.min=e},function(t,e){t.yAxis.max=e},function(t,e){t.plotOptions.series.stacking=e?!0===e?"normal":e:null},function(t,e){t.xAxis.title.text=e},function(t,e){t.yAxis.title.text=e}),xt=function(t,e,n){var i={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal};"pie"===n||e.yAxis.labels.formatter||(e.yAxis.labels.formatter=function(){return f("",this.value,i)}),e.tooltip.pointFormatter||(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+">\u25cf</span> "+f(this.series.name+": <b>",this.y,i)+"</b><br/>"})},wt=function mt(t){this.name="highcharts",this.library=t};wt.prototype.renderLineChart=function Ut(t,e){var n={};"areaspline"===(e=e||"spline")&&(n={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===t.options.curve&&("areaspline"===e?e="area":"spline"===e&&(e="line"));var i,r,o,a=bt(t,t.options,n);a.xAxis.type="string"===t.xtype?"category":"number"===t.xtype?"linear":"datetime",a.chart.type||(a.chart.type=e),xt(t,a,e);var s=t.data;for(r=0;r<s.length;r++){if(s[r].name=s[r].name||"Value",i=s[r].data,"datetime"===t.xtype)for(o=0;o<i.length;o++)i[o][0]=i[o][0].getTime();!(s[r].marker={symbol:"circle"})===t.options.points&&(s[r].marker.enabled=!1)}this.drawChart(t,s,a)},wt.prototype.renderScatterChart=function Xt(t){var e=bt(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)},wt.prototype.renderPieChart=function $t(t){var e=W(gt,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&vt(e,t.options.legend),t.options.title&&yt(e,t.options.title);var n=W(e,t.options.library||{});xt(t,n,"pie");var i=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,i,n)},wt.prototype.renderColumnChart=function qt(t,e){e=e||"column";var n,i,r,o,a=t.data,s=bt(t,t.options),l=[],u=[];for(s.chart.type=e,xt(t,s,e),n=0;n<a.length;n++)for(r=a[n],i=0;i<r.data.length;i++)l[(o=r.data[i])[0]]||(l[o[0]]=new Array(a.length),u.push(o[0])),l[o[0]][n]=o[1];"number"===t.xtype&&u.sort(U),s.xAxis.categories=u;var c,d=[];for(n=0;n<a.length;n++){for(o=[],i=0;i<u.length;i++)o.push(l[u[i]][n]||0);c={name:a[n].name||"Value",data:o},a[n].stack&&(c.stack=a[n].stack),d.push(c)}this.drawChart(t,d,s)},wt.prototype.renderBarChart=function Gt(t){this.renderColumnChart(t,"bar")},wt.prototype.renderAreaChart=function Yt(t){this.renderLineChart(t,"areaspline")},wt.prototype.destroy=function Zt(t){t.chart&&t.chart.destroy()},wt.prototype.drawChart=function Qt(t,e,n){this.destroy(t),n.chart.renderTo=t.element.id,n.series=e,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(n)+");"),t.chart=new this.library.Chart(n)};var Ct={},_t=[],St={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},kt=function(t,e,n){var i;e!==undefined?(i=e?!0===e?"right":e:"none",t.legend.position=i):n&&(t.legend.position="none")},Tt=function(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}},Et=function(t,e){t.hAxis.viewWindow.min=e},Nt=function(t,e){t.hAxis.viewWindow.max=e},At=function(t,e){t.isStacked=e||!1},Dt=function(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1},Mt=function(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1},Rt=c(St,kt,Tt,function(t,e){t.vAxis.viewWindow.min=e},function(t,e){t.vAxis.viewWindow.max=e},At,Dt,Mt),Pt=function(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0),t()},Ot=function mt(t){this.name="google",this.library=t};Ot.prototype.renderLineChart=function Ut(i){var r=this;this.waitForLoaded(i,function(){var t={};!1===i.options.curve&&(t.curveType="none"),!1===i.options.points&&(t.pointSize=0);var e=Rt(i,i.options,t),n=r.createDataTable(i.data,i.xtype);r.drawChart(i,"LineChart",n,e)})},Ot.prototype.renderPieChart=function $t(i){var r=this;this.waitForLoaded(i,function(){var t={chartArea:{top:"10%",height:"80%"},legend:{}};i.options.colors&&(t.colors=i.options.colors),i.options.donut&&(t.pieHole=.5),"legend"in i.options&&kt(t,i.options.legend),i.options.title&&Tt(t,i.options.title);var e=W(W(St,t),i.options.library||{}),n=new r.library.visualization.DataTable;n.addColumn("string",""),n.addColumn("number","Value"),n.addRows(i.data),r.drawChart(i,"PieChart",n,e)})},Ot.prototype.renderColumnChart=function qt(n){var i=this;this.waitForLoaded(n,function(){var t=Rt(n,n.options),e=i.createDataTable(n.data,n.xtype);i.drawChart(n,"ColumnChart",e,t)})},Ot.prototype.renderBarChart=function Gt(i){var r=this;this.waitForLoaded(i,function(){var t={hAxis:{gridlines:{color:"#ccc"}}},e=c(St,kt,Tt,Et,Nt,At,Dt,Mt)(i,i.options,t),n=r.createDataTable(i.data,i.xtype);r.drawChart(i,"BarChart",n,e)})},Ot.prototype.renderAreaChart=function Yt(i){var r=this;this.waitForLoaded(i,function(){var t={isStacked:!0,pointSize:0,areaOpacity:.5},e=Rt(i,i.options,t),n=r.createDataTable(i.data,i.xtype);r.drawChart(i,"AreaChart",n,e)})},Ot.prototype.renderGeoChart=function Jt(i){var r=this;this.waitForLoaded(i,function(){var t={legend:"none",colorAxis:{colors:i.options.colors||["#f6c7b6","#ce502d"]}},e=W(W(St,t),i.options.library||{}),n=new r.library.visualization.DataTable;n.addColumn("string",""),n.addColumn("number",i.options.label||"Value"),n.addRows(i.data),r.drawChart(i,"GeoChart",n,e)})},Ot.prototype.renderScatterChart=function Xt(u){var c=this;this.waitForLoaded(u,function(){var t,e,n,i,r={},o=Rt(u,u.options,r),a=u.data,s=[];for(t=0;t<a.length;t++)for(a[t].name=a[t].name||"Value",i=a[t].data,e=0;e<i.length;e++){var l=new Array(a.length+1);l[0]=i[e][0],l[t+1]=i[e][1],s.push(l)}for((n=new c.library.visualization.DataTable).addColumn("number",""),t=0;t<a.length;t++)n.addColumn("number",a[t].name);n.addRows(s),c.drawChart(u,"ScatterChart",n,o)})},Ot.prototype.renderTimeline=function te(i){var r=this;this.waitForLoaded(i,"timeline",function(){var t={legend:"none"};i.options.colors&&(t.colors=i.options.colors);var e=W(W(St,t),i.options.library||{}),n=new r.library.visualization.DataTable;n.addColumn({type:"string",id:"Name"}),n.addColumn({type:"date",id:"Start"}),n.addColumn({type:"date",id:"End"}),n.addRows(i.data),i.element.style.lineHeight="normal",r.drawChart(i,"Timeline",n,e)})},Ot.prototype.destroy=function Zt(t){t.chart&&t.chart.clearChart()},Ot.prototype.drawChart=function Qt(t,e,n,i){this.destroy(t),t.options.code&&window.console.log("var data = new google.visualization.DataTable("+n.toJSON()+");\nvar chart = new google.visualization."+e+"(element);\nchart.draw(data, "+JSON.stringify(i)+");"),t.chart=new this.library.visualization[e](t.element),Pt(function(){t.chart.draw(n,i)})},Ot.prototype.waitForLoaded=function ee(t,e,n){var i=this;if(n||(n=e,e="corechart"),_t.push({pack:e,callback:n}),Ct[e])this.runCallbacks();else{Ct[e]=!0;var r={packages:[e],callback:function(){i.runCallbacks()}},o=t.__config();o.language&&(r.language=o.language),"corechart"===e&&o.mapsApiKey&&(r.mapsApiKey=o.mapsApiKey),this.library.charts.load("current",r)}},Ot.prototype.runCallbacks=function ne(){for(var t,e=this,n=0;n<_t.length;n++)t=_t[n],e.library.visualization&&("corechart"===t.pack&&e.library.visualization.LineChart||"timeline"===t.pack&&e.library.visualization.Timeline)&&(t.callback(),_t.splice(n,1),n--)},Ot.prototype.createDataTable=function pt(t,e){var n,i,r,o,a,s=[],l=[];for(n=0;n<t.length;n++)for(r=t[n],t[n].name=t[n].name||"Value",i=0;i<r.data.length;i++)o=r.data[i],s[a="datetime"===e?o[0].getTime():o[0]]||(s[a]=new Array(t.length),l.push(a)),s[a][n]=V(o[1]);var u,c=[],d=!0;for(i=0;i<l.length;i++)n=l[i],"datetime"===e?(u=new Date(V(n)),d=d&&Y(u)):u="number"===e?V(n):n,c.push([u].concat(s[n]));if("datetime"===e)c.sort(m);else if("number"===e){for(c.sort(g),n=0;n<c.length;n++)c[n][0]=p(c[n][0]);e="string"}var f=new this.library.visualization.DataTable;for(e="datetime"===e&&d?"date":e,f.addColumn(e,""),n=0;n<t.length;n++)f.addColumn("number",t[n].name);return f.addRows(c),f};var It=[],Lt=0,Bt=4,Ft={},zt=[],Ht=function(t,e){return t="number"===e?V(t):"datetime"===e?l(t):p(t)},jt=function(t,e){var n,i,r=[];for(i=0;i<t.length;i++)"bubble"===e?r.push([V(t[i][0]),V(t[i][1]),V(t[i][2])]):(n=Ht(t[i][0],e),r.push([n,V(t[i][1])]));return"datetime"===e?r.sort(m):"number"===e&&r.sort(g),r},Wt=function Wt(t,e,n){var i;if("string"==typeof t&&(i=t,!(t=document.getElementById(t))))throw new Error("No element with id "+i);this.element=t,this.options=W(Vt.options,n||{}),this.dataSource=e,k(Vt.charts[t.id]=this,e),this.options.refresh&&this.startRefresh()};Wt.prototype.getElement=function ie(){return this.element},Wt.prototype.getDataSource=function re(){return this.dataSource},Wt.prototype.getData=function oe(){return this.data},Wt.prototype.getOptions=function ae(){return this.options},Wt.prototype.getChartObject=function se(){return this.chart},Wt.prototype.getAdapter=function le(){return this.adapter},Wt.prototype.updateData=function ue(t,e){this.dataSource=t,e&&this.__updateOptions(e),k(this,t)},Wt.prototype.setOptions=function ce(t){this.__updateOptions(t),this.redraw()},Wt.prototype.redraw=function de(){k(this,this.rawData)},Wt.prototype.refreshData=function fe(){if("string"==typeof this.dataSource){var t=-1===this.dataSource.indexOf("?")?"?":"&";k(this,this.dataSource+t+"_="+(new Date).getTime())}},Wt.prototype.startRefresh=function he(){var t=this,e=this.options.refresh;if(!this.intervalId){if(!e)throw new Error("No refresh interval");this.intervalId=setInterval(function(){t.refreshData()},1e3*e)}},Wt.prototype.stopRefresh=function pe(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},Wt.prototype.toImage=function me(){return"chartjs"===this.adapter?this.chart.toBase64Image():null},Wt.prototype.destroy=function Zt(){this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&t(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&t(this.element,"mouseout",this.__leaveEvent)},Wt.prototype.__updateOptions=function ge(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=W(Vt.options,t),e&&(this.stopRefresh(),this.startRefresh())},Wt.prototype.__render=function ve(){this.data=this.__processData(),P(this.__chartName(),this)},Wt.prototype.__config=function ye(){return Ft};var Vt={LineChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return F(this)},e.prototype.__chartName=function i(){return"LineChart"},e}(Wt),PieChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return z(this)},e.prototype.__chartName=function i(){return"PieChart"},e}(Wt),ColumnChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return F(this,null,!0)},e.prototype.__chartName=function i(){return"ColumnChart"},e}(Wt),BarChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return F(this,null,!0)},e.prototype.__chartName=function i(){return"BarChart"},e}(Wt),AreaChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return F(this)},e.prototype.__chartName=function i(){return"AreaChart"},e}(Wt),GeoChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return z(this)},e.prototype.__chartName=function i(){return"GeoChart"},e}(Wt),ScatterChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return F(this,"number")},e.prototype.__chartName=function i(){return"ScatterChart"},e}(Wt),BubbleChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){return F(this,"bubble")},e.prototype.__chartName=function i(){return"BubbleChart"},e}(Wt),Timeline:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),(e.prototype.constructor=e).prototype.__processData=function n(){var t,e=this.rawData;for(t=0;t<e.length;t++)e[t][1]=l(e[t][1]),e[t][2]=l(e[t][2]);return e},e.prototype.__chartName=function i(){return"Timeline"},e}(Wt),charts:{},configure:function(t){for(var e in t)t.hasOwnProperty(e)&&(Ft[e]=t[e])},eachChart:function(t){for(var e in Vt.charts)Vt.charts.hasOwnProperty(e)&&t(Vt.charts[e])},config:Ft,options:{},adapters:zt,addAdapter:D};return Vt}),ClusterIcon.prototype.onAdd=function(){var r,o,a=this,t=google.maps.version.split(".");t=parseInt(100*t[0],10)+parseInt(t[1],10),this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){o=r}),google.maps.event.addDomListener(this.div_,"mousedown",function(){o=!(r=!0)}),332<=t&&google.maps.event.addDomListener(this.div_,"touchstart",function(t){t.stopPropagation()}),google.maps.event.addDomListener(this.div_,"click",function(t){if(r=!1,!o){var e,n,i=a.cluster_.getMarkerClusterer();google.maps.event.trigger(i,"click",a.cluster_),google.maps.event.trigger(i,"clusterclick",a.cluster_),i.getZoomOnClick()&&(n=i.getMaxZoom(),e=a.cluster_.getBounds(),i.getMap().fitBounds(e),setTimeout(function(){i.getMap().fitBounds(e),null!==n&&i.getMap().getZoom()>n&&i.getMap().setZoom(n+1)},100)),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var t=a.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseover",a.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var t=a.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseout",a.cluster_)})},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px",this.div_.style.zIndex=google.maps.Marker.MAX_ZINDEX+1}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),n=parseInt(e[0].replace(/^\s+|\s+$/g,""),10),i=parseInt(e[1].replace(/^\s+|\s+$/g,""),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),t="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",this.cluster_.getMarkerClusterer(
).enableRetinaIcons_?t+="width: "+this.width_+"px; height: "+this.height_+"px;":t+="clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);",t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>","undefined"==typeof this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.useStyle=function(t){this.sums_=t;var e=Math.max(0,t.index-1);e=Math.min(this.styles_.length-1,e);var n=this.styles_[e];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},ClusterIcon.prototype.setCenter=function(t){this.center_=t},ClusterIcon.prototype.createCss=function(t){var e=[];return e.push("cursor: pointer;"),e.push("position: absolute; top: "+t.y+"px; left: "+t.x+"px;"),e.push("width: "+this.width_+"px; height: "+this.height_+"px;"),e.push("-webkit-user-select: none;"),e.push("-khtml-user-select: none;"),e.push("-moz-user-select: none;"),e.push("-o-user-select: none;"),e.push("user-select: none;"),e.join("")},ClusterIcon.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x-=this.anchorIcon_[1],e.y-=this.anchorIcon_[0],e.x=parseInt(e.x,10),e.y=parseInt(e.y,10),e},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){var t,e=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(t=0;t<n.length;t++)e.extend(n[t].getPosition());return e},Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},Cluster.prototype.addMarker=function(t){var e,n,i;if(this.isMarkerAlreadyAdded_(t))return!1;if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+t.getPosition().lat())/r,a=(this.center_.lng()*(r-1)+t.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();if(t.isAdded=!0,this.markers_.push(t),n=this.markers_.length,null!==(i=this.markerClusterer_.getMaxZoom())&&this.map_.getZoom()>i)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n<this.minClusterSize_)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n===this.minClusterSize_)for(e=0;e<n;e++)this.markers_[e].setMap(null);else t.setMap(null);return this.updateIcon_(),!0},Cluster.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},Cluster.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},Cluster.prototype.updateIcon_=function(){var t=this.markers_.length,e=this.markerClusterer_.getMaxZoom();if(null!==e&&this.map_.getZoom()>e)this.clusterIcon_.hide();else if(t<this.minClusterSize_)this.clusterIcon_.hide();else{var n=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()}},Cluster.prototype.isMarkerAlreadyAdded_=function(t){var e;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(t);for(e=0;e<this.markers_.length;e++)if(t===this.markers_[e])return!0;return!1},MarkerClusterer.prototype.onAdd=function(){var t=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.prevZoom_=this.getMap().getZoom(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){var t=this.getMap().getZoom(),e=this.getMap().minZoom||0,n=Math.min(this.getMap().maxZoom||100,this.getMap().mapTypes[this.getMap().getMapTypeId()].maxZoom);t=Math.min(Math.max(t,e),n),this.prevZoom_!=t&&(this.prevZoom_=t,this.resetViewport_(!1))}.bind(this)),google.maps.event.addListener(this.getMap(),"idle",function(){t.redraw_()})]},MarkerClusterer.prototype.onRemove=function(){var t;for(t=0;t<this.markers_.length;t++)this.markers_[t].getMap()!==this.activeMap_&&this.markers_[t].setMap(this.activeMap_);for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){var t,e,n=["/assets/markerclusterer/m1-5118720be739d6eaaa6c5e9dfce3c6ba3f15838ba5aa5dfec6687bc24bc4413e.png","/assets/markerclusterer/m2-1ce96fbdfb658c7f14701d93e70b8c7f46cdf10ea8e797b016234fffccbc0171.png","/assets/markerclusterer/m3-c96a9b48cf0552997f5441b091c62a4389169af4d73f986b3d59c3d938e7a787.png","/assets/markerclusterer/m4-5c01ee5f7e1f833c80f2404f95b90840a702f12db8ae7fa8e8dbb0dec7e73a42.png","/assets/markerclusterer/m5-67835702e2a302a178bb6de042ae860e30df5bb41d6f6853902d879ad8bd4ac6.png"];if(!(0<this.styles_.length))for(t=0;t<this.imageSizes_.length;t++)e=this.imageSizes_[t],this.styles_.push({url:MarkerClusterer.IMAGE_HOST+"assets"+n[t].split("assets").slice(-1)[0],height:e,width:e})},MarkerClusterer.prototype.fitMapToMarkers=function(){var t,e=this.getMarkers(),n=new google.maps.LatLngBounds;for(t=0;t<e.length;t++)!e[t].getVisible()&&this.getIgnoreHidden()||n.extend(e[t].getPosition());this.getMap().fitBounds(n)},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(t){this.gridSize_=t},MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinimumClusterSize=function(t){this.minClusterSize_=t},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.setMaxZoom=function(t){this.maxZoom_=t},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.setStyles=function(t){this.styles_=t},MarkerClusterer.prototype.getTitle=function(){return this.title_},MarkerClusterer.prototype.setTitle=function(t){this.title_=t},MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.setZoomOnClick=function(t){this.zoomOnClick_=t},MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.setAverageCenter=function(t){this.averageCenter_=t},MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},MarkerClusterer.prototype.setIgnoreHidden=function(t){this.ignoreHidden_=t},MarkerClusterer.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},MarkerClusterer.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons_=t},MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_},MarkerClusterer.prototype.setImageExtension=function(t){this.imageExtension_=t},MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_},MarkerClusterer.prototype.setImagePath=function(t){this.imagePath_=t},MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_},MarkerClusterer.prototype.setImageSizes=function(t){this.imageSizes_=t},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.setCalculator=function(t){this.calculator_=t},MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},MarkerClusterer.prototype.setBatchSizeIE=function(t){this.batchSizeIE_=t},MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_},MarkerClusterer.prototype.setClusterClass=function(t){this.clusterClass_=t},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.getClusters=function(){return this.clusters_},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw_()},MarkerClusterer.prototype.addMarkers=function(t,e){var n;for(n in t)t.hasOwnProperty(n)&&this.pushMarkerTo_(t[n]);e||this.redraw_()},MarkerClusterer.prototype.pushMarkerTo_=function(t){if(t.getDraggable()){var e=this;google.maps.event.addListener(t,"dragend",function(){e.ready_&&(this.isAdded=!1,e.repaint())})}t.isAdded=!1,this.markers_.push(t)},MarkerClusterer.prototype.removeMarker=function(t,e){var n=this.removeMarker_(t);return!e&&n&&this.repaint(),n},MarkerClusterer.prototype.removeMarkers=function(t,e){var n,i,r=!1;for(n=0;n<t.length;n++)i=this.removeMarker_(t[n]),r=r||i;return!e&&r&&this.repaint(),r},MarkerClusterer.prototype.removeMarker_=function(t){var e,n=-1;if(this.markers_.indexOf)n=this.markers_.indexOf(t);else for(e=0;e<this.markers_.length;e++)if(t===this.markers_[e]){n=e;break}return-1!==n&&(t.setMap(null),this.markers_.splice(n,1),!0)},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},MarkerClusterer.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},MarkerClusterer.prototype.getExtendedBounds=function(t){var e=this.getProjection(),n=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),i=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),r=e.fromLatLngToDivPixel(n);r.x+=this.gridSize_,r.y-=this.gridSize_;var o=e.fromLatLngToDivPixel(i);o.x-=this.gridSize_,o.y+=this.gridSize_;var a=e.fromDivPixelToLatLng(r),s=e.fromDivPixelToLatLng(o);return t.extend(a),t.extend(s),t},MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0)},MarkerClusterer.prototype.resetViewport_=function(t){var e,n;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.markers_.length;e++)(n=this.markers_[e]).isAdded=!1,t&&n.setMap(null)},MarkerClusterer.prototype.distanceBetweenPoints_=function(t,e){var n=6371,i=(e.lat()-t.lat())*Math.PI/180,r=(e.lng()-t.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return n*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},MarkerClusterer.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},MarkerClusterer.prototype.addToClosestCluster_=function(t){var e,n,i,r,o=4e4,a=null;for(e=0;e<this.clusters_.length;e++)(r=(i=this.clusters_[e]).getCenter())&&(n=this.distanceBetweenPoints_(r,t.getPosition()))<o&&(o=n,a=i);a&&a.isMarkerInClusterBounds(t)?a.addMarker(t):((i=new Cluster(this)).addMarker(t),this.clusters_.push(i))},MarkerClusterer.prototype.createClusters_=function(t){var e,n,i,r=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=3<this.getMap().getZoom()?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),a=Math.min(t+this.batchSize_,this.markers_.length);for(e=t;e<a;e++)!(n=this.markers_[e]).isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);a<this.markers_.length?this.timerRefStatic=setTimeout(function(){r.createClusters_(a)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},MarkerClusterer.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},MarkerClusterer.CALCULATOR=function(t,e){for(var n=0,i="",r=t.length.toString(),o=r;0!==o;)o=parseInt(o/10,10),n++;return{text:r,index:n=Math.min(n,e),title:i}},MarkerClusterer.BATCH_SIZE=2e3,MarkerClusterer.BATCH_SIZE_IE=500,MarkerClusterer.IMAGE_PATH="http://www.garylittle.ca/artwork/mcp/m",MarkerClusterer.IMAGE_EXTENSION="png",MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90];var scriptList=document.getElementsByTagName("script"),thisScriptSource=scriptList[scriptList.length-1].getAttribute("src");MarkerClusterer.IMAGE_HOST=thisScriptSource.split("assets")[0],function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function g(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function t(p){function m(t,e,n){var i;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(n=g({path:"/"},m.defaults,n)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*n.expires),n.expires=r}n.expires=n.expires?n.expires.toUTCString():"";try{i=JSON.stringify(e),/^[\{\[]/.test(i)&&(e=i)}catch(h){}e=p.write?p.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var o="";for(var a in n)n[a]&&(o+="; "+a,!0!==n[a]&&(o+="="+n[a]));return document.cookie=t+"="+e+o}t||(i={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,u=0;u<s.length;u++){var c=s[u].split("="),d=c.slice(1).join("=");this.json||'"'!==d.charAt(0)||(d=d.slice(1,-1));try{var f=c[0].replace(l,decodeURIComponent);if(d=p.read?p.read(d,f):p(d,f)||d.replace(l,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(h){}if(t===f){i=d;break}t||(i[f]=d)}catch(h){}}return i}}return(m.set=m).get=function(t){return m.call(m,t)},m.getJSON=function(){return m.apply({json:!0},[].slice.call(arguments))},m.defaults={},m.remove=function(t,e){m(t,"",g(e,{expires:-1}))},m.withConverter=t,m}return t(function(){})}),window.TinyMCERails={configuration:{"default":{}},initialize:function(t,e){if("undefined"!=typeof tinyMCE){var n=TinyMCERails.configuration[t||"default"];n=TinyMCERails._merge(n,e),tinyMCE.init(n)}else setTimeout(function(){TinyMCERails.initialize(t,e)},50)},setupTurbolinks:function(){document.addEventListener("turbolinks:before-render",function(){tinymce.remove()})},_merge:function(){for(var t={},e=0;e<arguments.length;++e){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("[object Object]"===Object.prototype.toString.call(n[i])?t[i]=TinyMCERails._merge(t[i],n[i]):t[i]=n[i])}return t}},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&TinyMCERails.setupTurbolinks(),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(){"use strict";function d(i){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r.concat(t);return i.apply(null,n)}}function t(){function n(t,e){return i.push(t+" ")>Xe.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function n(t){return t[hn]=!0,t}function u(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Cn)-(~t.sourceIndex||Cn);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function e(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function i(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function r(a){return n(function(o){return o=+o,n(function(t,e){for(var n,i=a([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function m(t){return t&&typeof t.getElementsByTagName!==wn&&t}function o(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(a,t,e){var s=t.dir,l=e&&"parentNode"===s,u=gn++;return t.first?function(t,e,n){for(;t=t[s];)if(1===t.nodeType||l)return a(t,e,n)}:function(t,e,n){var i,r,o=[mn,u];if(n){for(;t=t[s];)if((1===t.nodeType||l)&&a(t,e,n))return!0}else for(;t=t[s];)if(1===t.nodeType||l){if((i=(r=t[hn]||(t[hn]={}))[s])&&i[0]===mn&&i[1]===u)return o[2]=i[2];if((r[s]=o)[2]=a(t,e,n))return!0}}}function h(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function y(t,e,n){for(var i=0,r=e.length;i<r;i++)Kn(t,e[i],n);return n}function x(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function b(h,p,m,g,v,t){return g&&!g[hn]&&(g=b(g)),v&&!v[hn]&&(v=b(v,t)),n(function(t,e,n,i){var r,o,a,s=[],l=[],u=e.length,c=t||y(p||"*",n.nodeType?[n]:n,[]),d=!h||!t&&p?c:x(c,s,h,n,i),f=m?v||(t?h:u||g)?[]:e:d;if(m&&m(d,f,n,i),g)for(r=x(f,l),g(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[l[o]]=!(d[l[o]]=a));if(t){if(v||h){if(v){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(d[o]=a);v(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=v?An.call(t,a):s[o])&&(t[r]=!(e[r]=a))}}else f=x(f===e?f.splice(u,f.length):f),v?v(null,e,f,i):En.apply(e,f)})}function p(t){for(var i,e,n,r=t.length,o=Xe.relative[t[0].type],a=o||Xe.relative[" "],s=o?1:0,l=f(function(t){return t===i},a,!0),u=f(function(t){return-1<An.call(i,t)},a,!0),c=[function(t,e,n){return!o&&(n||e!==en)||((i=e).nodeType?l(t,e,n):u(t,e,n))}];s<r;s++)if(e=Xe.relative[t[s].type])c=[f(h(c),e)];else{if((e=Xe.filter[t[s].type].apply(null,t[s].matches))[hn]){for(n=++s;n<r&&!Xe.relative[t[n].type];n++);return b(1<s&&h(c),1<s&&g(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(In,"$1"),e,s<n&&p(t.slice(s,n)),n<r&&p(t=t.slice(n)),n<r&&g(t))}c.push(e)}return h(c)}function a(g,v){var y=0<v.length,b=0<g.length,t=function(t,e,n,i,r){var o,a,s,l=0,u="0",c=t&&[],d=[],f=en,h=t||b&&Xe.find.TAG("*",r),p=mn+=null==f?1:Math.random()||.1,m=h.length;for(r&&(en=e!==an&&e);u!==m&&null!=(o=h[u]);u++){if(b&&o){for(a=0;s=g[a++];)if(s(o,e,n)){i.push(o);break}r&&(mn=p)}y&&((o=!s&&o)&&l--,t&&c.push(o))}if(l+=u,y&&u!==l){for(a=0;s=v[a++];)s(c,d,e,n);if(t){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=kn.call(i));d=x(d)}En.apply(i,d),r&&!t&&0<d.length&&1<l+v.length&&Kn.uniqueSort(i)}return r&&(mn=p,en=f),c};return y?n(t):t}function xt(h,p){void 0===p&&(p={});var m,g=0,v={};m=p.maxLoadTime||5e3;var y=function(t){h.getElementsByTagName("head")[0].appendChild(t)},n=function(t,e,n){var r,i,o,a,s=function(){for(var t=a.passed,e=t.length;e--;)t[e]();a.status=2,a.passed=[],a.failed=[]},l=function(){for(var t=a.failed,e=t.length;e--;)t[e]();a.status=3,a.passed=[],a.failed=[]},u=function(){var t=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&parseInt(t[1],10)<536)},c=function(t,e){t()||((new Date).getTime()-o<m?Oe.setTimeout(e):l())},d=function(){c(function(){for(var t,e,n=h.styleSheets,i=n.length;i--;)if((e=(t=n[i]).ownerNode?t.ownerNode:t.owningElement)&&e.id===r.id)return s(),!0},d)},f=function(){c(function(){try{var t=i.sheet.cssRules;return s(),!!t}catch(e){}},f)};if(t=vi._addCacheSuffix(t),v[t]?a=v[t]:(a={passed:[],failed:[]},v[t]=a),e&&a.passed.push(e),n&&a.failed.push(n),1!==a.status)if(2!==a.status)if(3!==a.status){if(a.status=1,(r=h.createElement("link")).rel="stylesheet",r.type="text/css",r.id="u"+g++,r.async=!1,r.defer=!1,o=(new Date).getTime(),p.contentCssCors&&(r.crossOrigin="anonymous"),"onload"in r&&!u())r.onload=d,r.onerror=l;else{if(0<navigator.userAgent.indexOf("Firefox"))return(i=h.createElement("style")).textContent='@import "'+t+'"',f(),void y(i);d()}y(r),r.href=t}else l();else s()},e=function(e){return ra.nu(function(t){n(e,gt(t,vt(ua.value(e))),gt(t,vt(ua.error(e))))})},r=function(t){return t.fold(yt,yt)};return{load:n,loadAll:function(t,n,i){aa(Gt(t,e)).get(function(t){var e=Zt(t,function(t){return t.isValue()});0<e.fail.length?i(e.fail.map(r)):n(e.pass.map(r))})}}}function wt(t,s){var e=t,n=function(t,e,n,i){var r,o;if(t){if(!i&&t[e])return t[e];if(t!==s){if(r=t[n])return r;for(o=t.parentNode;o&&o!==s;o=o.parentNode)if(r=o[n])return r}}},i=function(t,e,n,i){var r,o,a;if(t){if(r=t[n],s&&r===s)return;if(r){if(!i)for(a=r[e];a;a=a[e])if(!a[e])return a;return r}if((o=t.parentNode)&&o!==s)return o}};this.current=function(){return e},this.next=function(t){return e=n(e,"firstChild","nextSibling",t)},this.prev=function(t){return e=n(e,"lastChild","previousSibling",t)},this.prev2=function(t){return e=i(e,"lastChild","previousSibling",t)}}function Ct(o){var t,e,n,i,r,a,s,l,u,c,d,f,h,_={},p={},S=[],m={},g={},v=function(t,e,n){var i=o[t];return i?i=ps(i,/[, ]/,ps(i.toUpperCase(),/[, ]/)):(i=fs[t])||(i=ps(e," ",ps(e.toUpperCase()," ")),i=gs(i,n),fs[t]=i),i};n=xs((o=o||{}).schema),!1===o.verify_html&&(o.valid_elements="*[*]"),t=ws(o.valid_styles),e=ws(o.invalid_styles,"map"),l=ws(o.valid_classes,"map"),i=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),r=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=v("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=v("non_empty_elements","td th iframe video audio object script pre code",a),d=v("move_caret_before_on_enter_elements","table",c),f=v("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),u=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",f),h=v("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),ms((o.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(t){g[t]=new RegExp("</"+t+"[^>]*>","gi")});var k=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},y=function(t){var e,n,i,r,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,w=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,C=/[*?+]/;if(t)for(t=bs(t,","),_["@"]&&(g=_["@"].attributes,v=_["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(o=x.exec(t[e])){if(p=o[1],u=o[2],m=o[3],l=o[5],a={attributes:f={},attributesOrder:h=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),g){for(y in g)f[y]=g[y];h.push.apply(h,v)}if(l)for(i=0,r=(l=bs(l,"|")).length;i<r;i++)if(o=w.exec(l[i])){if(s={},d=o[1],c=o[2].replace(/[\\:]:/g,":"),p=o[3],b=o[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(c),s.required=!0),"-"===d){delete f[c],h.splice(ys(h,c),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:c,value:b}),s.defaultValue=b),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:c,value:b}),s.forcedValue=b),"<"===p&&(s.validValues=ps(b,"?"))),C.test(c)?(a.attributePatterns=a.attributePatterns||[],s.pattern=k(c),a.attributePatterns.push(s)):(f[c]||h.push(c),f[c]=s)}g||"@"!==u||(g=f,v=h),m&&(a.outputName=u,_[m]=a),C.test(u)?(a.pattern=k(u),S.push(a)):_[u]=a}},b=function(t){_={},S=[],y(t),ms(n,function(t,e){p[e]=t.children})},x=function(t){var a=/^(~)?(.+)$/;t&&(fs.text_block_elements=fs.block_elements=null,ms(bs(t,","),function(t){var e=a.exec(t),n="~"===e[1],i=n?"span":"div",r=e[2];if(p[r]=p[i],m[r]=i,n||(u[r.toUpperCase()]={},u[r]={}),!_[r]){var o=_[i];delete(o=gs({},o)).removeEmptyAttrs,delete o.removeEmpty,_[r]=o}ms(p,function(t,e){t[i]&&(p[e]=t=gs({},p[e]),t[r]=t[i])})}))},w=function(t){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;fs[o.schema]=null,t&&ms(bs(t,","),function(t){var e,n,i=r.exec(t);i&&(n=i[1],e=n?p[i[2]]:p[i[2]]={"#comment":{}},e=p[i[2]],ms(bs(i[3],"|"),function(t){"-"===n?delete e[t]:e[t]={}}))})},C=function(t){var e,n=_[t];if(n)return n;for(e=S.length;e--;)if((n=S[e]).pattern.test(t))return n};o.valid_elements?b(o.valid_elements):(ms(n,function(t,e){_[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},p[e]=t.children}),"html5"!==o.schema&&ms(bs("strong/b em/i"),function(t){t=bs(t,"/"),_[t[1]].outputName=t[0]}),ms(bs("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){_[t]&&(_[t].removeEmpty=!0)}),ms(bs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(t){_[t].paddEmpty=!0}),ms(bs("span"),function(t){_[t].removeEmptyAttrs=!0})),x(o.custom_elements),w(o.valid_children),y(o.extended_valid_elements),w("+ol[ul|ol],+ul[ul|ol]"),ms({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,e){_[e]&&(_[e].parentsRequired=bs(t))}),o.invalid_elements&&ms(vs(o.invalid_elements),function(t){_[t]&&delete _[t]}),C("span")||y("span[!data-mce-type|*]");var T=function(t,e){var n,i,r=C(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1};return{children:p,elements:_,getValidStyles:function(){return t},getValidClasses:function(){return l},getBlockElements:function(){return u},getInvalidStyles:function(){return e},getShortEndedElements:function(){return a},getTextBlockElements:function(){return f},getTextInlineElements:function(){return h},getBoolAttrs:function(){return s},getElementRule:C,getSelfClosingElements:function(){return r},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return i},getSpecialElements:function(){return g},isValidChild:function(t,e){var n=p[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:T,getCustomElements:function(){return m},addValidElements:y,setValidElements:b,addCustomElements:x,addValidChildren:w}}function _t(g,t){var v,e,s,l,y=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,b=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,x=/\s*([^:]+):\s*([^;]+);?/g,w=/\s+$/,C={},_="\ufeff";for(g=g||{},t&&(s=t.getValidStyles(),l=t.getInvalidStyles()),e=("\\\" \\' \\; \\: ; : "+_).split(" "),v=0;v<e.length;v++)C[e[v]]=_+v,C[_+v]=e[v];return{toHex:function(t){return t.replace(y,Cs)},parse:function(t){var e,n,i,r,l={},s=g.url_converter,u=g.url_converter_scope||this,o=function(t,e,n){var i,r,o,a;if((i=l[t+"-top"+e])&&(r=l[t+"-right"+e])&&(o=l[t+"-bottom"+e])&&(a=l[t+"-left"+e])){var s=[i,r,o,a];for(v=s.length-1;v--&&s[v]===s[v+1];);-1<v&&n||(l[t+e]=-1===v?s[0]:s.join(" "),delete l[t+"-top"+e],delete l[t+"-right"+e],delete l[t+"-bottom"+e],delete l[t+"-left"+e])}},a=function(t){var e,n=l[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return l[t]=n[0],!0}},c=function(t,e,n,i){a(e)&&a(n)&&a(i)&&(l[t]=l[e]+" "+l[n]+" "+l[i],delete l[e],delete l[n],delete l[i])},d=function(t){return r=!0,C[t]},f=function(t,e){return r&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return C[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},h=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},p=function(t){return t.replace(/\\[0-9a-f]+/gi,h)},m=function(t,e,n,i,r,o){if(r=r||o)return"'"+(r=f(r)).replace(/\'/g,"\\'")+"'";if(e=f(e||n||i),!g.allow_script_urls){var a=e.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!g.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return s&&(e=s.call(u,e,"style")),"url('"+e.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,d).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,d)});e=x.exec(t);)if(x.lastIndex=e.index+e[0].length,n=e[1].replace(w,"").toLowerCase(),i=e[2].replace(w,""),n&&i){if(n=p(n),i=p(i),-1!==n.indexOf(_)||-1!==n.indexOf('"'))continue;if(!g.allow_script_urls&&("behavior"===n||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===n&&"700"===i?i="bold":"color"!==n&&"background-color"!==n||(i=i.toLowerCase()),i=(i=i.replace(y,Cs)).replace(b,m),l[n]=r?f(i,!0):i}o("border","",!0),o("border","-width"),o("border","-color"),o("border","-style"),o("padding",""),o("margin",""),c("border","border-width","border-style","border-color"),"medium none"===l.border&&delete l.border,"none"===l["border-image"]&&delete l["border-image"]}return l},serialize:function(o,t){var e,n,a="",i=function(t){var e,n,i,r;if(e=s[t])for(n=0,i=e.length;n<i;n++)t=e[n],(r=o[t])&&(a+=(0<a.length?" ":"")+t+": "+r+";")},r=function(t,e){var n;return!((n=l["*"])&&n[t]||(n=l[e])&&n[t])};if(t&&s)i("*"),i(t);else for(e in o)!(n=o[e])||l&&!r(e,t)||(a+=(0<a.length?" ":"")+e+": "+n+";");return a}}}function St(a,s){var l,u=this;void 0===s&&(s={});var i={},o=window,r={},e=0,t=!0,c=!0,n=xt(a,{contentCssCors:s.contentCssCors}),d=[],f=s.schema?s.schema:Ct({}),h=_t({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope},s.schema),p=s.ownEvents?new qe(s.proxy):qe.Event,m=f.getBlockElements(),g=Bi.overrideDefaults(function(){return{context:a,element:bt.getRoot()}}),v=function(t){if("string"==typeof t)return!!m[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!m[t.nodeName])}return!1},y=function(t){if(t&&a&&"string"==typeof t){var e=a.getElementById(t);return e&&e.id!==t?a.getElementsByName(t)[1]:e}return t},b=function(t){return"string"==typeof t&&(t=y(t)),g(t)},x=function(t,e,n){var i,r,o=b(t);return o.length&&(r=(i=l[e])&&i.get?i.get(o,e):o.attr(e)),void 0===r&&(r=n||""),r},w=function(t){var e=y(t);return e?e.attributes:[]},C=function(t,e,n){var i,r;""===n&&(n=null);var o=b(t);i=o.attr(e),o.length&&((r=l[e])&&r.set?r.set(o,n,e):o.attr(e,n),i!==n&&s.onSetAttrib&&s.onSetAttrib({attrElm:o,attrName:e,attrValue:n}))},_=function(e,t){if(!ks||1!==e.nodeType||t)return e.cloneNode(t);if(t)return null;var n=a.createElement(e.nodeName);return _s(w(e),function(t){C(n,t.nodeName,x(e,t.nodeName))}),n},S=function(){return s.root_element||a.body},k=function(t){var e=t||o,n=e.document,i=c?n.documentElement:n.body;return{x:e.pageXOffset||i.scrollLeft,y:e.pageYOffset||i.scrollTop,w:e.innerWidth||i.clientWidth,h:e.innerHeight||i.clientHeight}},T=function(t,e){return Zo.getPos(a.body,y(t),e)},E=function(t,e,n){var i=b(t).css(e,n);s.update_styles&&As(h,i)},N=function(t,e){var n=b(t).css(e);s.update_styles&&As(h,n)},A=function(t,e,n){var i=b(t);return n?i.css(e):("float"===(e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}))&&(e=Ee.ie&&Ee.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[e]:undefined)},D=function(t){var e,n;return t=y(t),e=A(t,"width"),n=A(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},M=function(t){var e,n;return t=y(t),e=T(t),n=D(t),{x:e.x,y:e.y,w:n.w,h:n.h}},R=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(Ts.test(e)){var i=e.toLowerCase().split(/,/),r=t.nodeName.toLowerCase();for(n=i.length-1;0<=n;n--)if(i[n]===r)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var o=Array.isArray(t)?t:[t];return 0<Kn(e,o[0].ownerDocument||o[0],null,o).length},P=function(t,e,n,i){var r,o=[],a=y(t);for(i=i===undefined,n=n||("BODY"!==S().nodeName?S().parentNode:null),vi.is(e,"string")&&(e="*"===(r=e)?function(t){return 1===t.nodeType}:function(t){return R(t,r)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!e||"function"==typeof e&&e(a)){if(!i)return[a];o.push(a)}a=a.parentNode}return i?o:null},O=function(t,e,n){var i=P(t,e,n,!1);return i&&0<i.length?i[0]:null},I=function(t,e,n){var i=e;if(t)for("string"==typeof e&&(i=function(t){return R(t,e)}),t=t[n];t;t=t[n])if("function"==typeof i&&i(t))return t
;return null},L=function(t,e){return I(t,e,"nextSibling")},B=function(t,e){return I(t,e,"previousSibling")},F=function(t,e){return Kn(t,y(e)||s.root_element||a,[])},z=function(t,n,i){var r,e="string"==typeof t?y(t):t;if(!e)return!1;if(vi.isArray(e)&&(e.length||0===e.length))return r=[],_s(e,function(t,e){t&&("string"==typeof t&&(t=y(t)),r.push(n.call(i,t,e)))}),r;var o=i||u;return n.call(o,e)},H=function(t,e){b(t).each(function(t,n){_s(e,function(t,e){C(n,e,t)})})},j=function(t,i){var e=b(t);ks?e.each(function(t,e){if(!1!==e.canHaveHTML){for(;e.firstChild;)e.removeChild(e.firstChild);try{e.innerHTML="<br>"+i,e.removeChild(e.firstChild)}catch(n){Bi("<div></div>").html("<br>"+i).contents().slice(1).appendTo(e)}return i}}):e.html(i)},W=function(t,n,i,r,o){return z(t,function(t){var e="string"==typeof n?a.createElement(n):n;return H(e,i),r&&("string"!=typeof r&&r.nodeType?e.appendChild(r):"string"==typeof r&&j(e,r)),o?e:t.appendChild(e)})},V=function(t,e,n){return W(a.createElement(t),t,e,n,!0)},U=ds.decode,$=ds.encodeAllRaw,q=function(t){var e,n=a.createElement("div"),i=a.createDocumentFragment();for(t&&(n.innerHTML=t);e=n.firstChild;)i.appendChild(e);return i},Y=function(t,e){var n=b(t);return e?n.each(function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]},G=function(t){return h.parse(t)},X=function(t,e){return h.serialize(t,e)},K=function(t){var e,n;if(bt!==St.DOM&&a===document){if(i[t])return;i[t]=!0}(n=a.getElementById("mceDefaultStyles"))||((n=a.createElement("style")).id="mceDefaultStyles",n.type="text/css",(e=a.getElementsByTagName("head")[0]).firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(a.createTextNode(t))},Z=function(t){var n;bt===St.DOM||a!==document?(t||(t=""),n=a.getElementsByTagName("head")[0],_s(t.split(","),function(t){var e;t=vi._addCacheSuffix(t),r[t]||(r[t]=!0,e=V("link",{rel:"stylesheet",href:t}),n.appendChild(e))})):St.DOM.loadCSS(t)},Q=function(t,e,n){b(t).toggleClass(e,n).each(function(){""===this.className&&Bi(this).attr("class",null)})},J=function(t,e){b(t).addClass(e)},tt=function(t,e){return b(t).hasClass(e)},et=function(t){b(t).show()},nt=function(t){b(t).hide()},it=function(t){return"none"===b(t).css("display")},rt=function(t){var e="string"==typeof t?y(t):t;return Ya.isElement(e)?e.outerHTML:Bi("<div></div>").append(Bi(e).clone()).html()},ot=function(t,e){b(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}Y(Bi(this).html(e),!0)})},at=function(t,e){var i=y(e);return z(t,function(t){var e,n;return e=i.parentNode,(n=i.nextSibling)?e.insertBefore(t,n):e.appendChild(t),t})},st=function(e,t,n){return z(t,function(t){return vi.is(t,"array")&&(e=e.cloneNode(!0)),n&&_s(Ss(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},lt=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=V(t),_s(w(e),function(t){C(n,t.nodeName,x(e,t.nodeName))}),st(n,e,!0)),n||e},ut=function(t){return h.toHex(vi.trim(t))},ct=function(t,e){var n,i,r,o,a,s,l=0;if(t=t.firstChild){a=new wt(t,t.parentNode),e=e||(f?f.getNonEmptyElements():null),o=f?f.getWhiteSpaceElements():{};do{if(r=t.nodeType,Ya.isElement(t)){var u=t.getAttribute("data-mce-bogus");if(u){t=a.next("all"===u);continue}if(s=t.nodeName.toLowerCase(),e&&e[s]){if("br"!==s)return!1;l++,t=a.next();continue}for(n=(i=w(t)).length;n--;)if("name"===(s=i[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8===r)return!1;if(3===r&&!Es.test(t.nodeValue))return!1;if(3===r&&t.parentNode&&o[t.parentNode.nodeName]&&Es.test(t.nodeValue))return!1;t=a.next()}while(t)}return l<=1},dt=function(){return a.createRange()},ft=function(t,e,n){var i,r,o,a=dt();if(t&&e)return a.setStart(t.parentNode,Ds(t)),a.setEnd(e.parentNode,Ds(e)),i=a.extractContents(),(a=dt()).setStart(e.parentNode,Ds(e)+1),a.setEnd(t.parentNode,Ds(t)+1),r=a.extractContents(),(o=t.parentNode).insertBefore(Za.trimNode(bt,i),t),n?o.insertBefore(n,t):o.insertBefore(e,t),o.insertBefore(Za.trimNode(bt,r),t),Y(t),n||e},ht=function(t,e,n,i){if(vi.isArray(t)){for(var r=t.length;r--;)t[r]=ht(t[r],e,n,i);return t}return!s.collect||t!==a&&t!==o||d.push([t,e,n,i]),p.bind(t,e,n,i||bt)},pt=function(t,e,n){var i;if(vi.isArray(t)){for(i=t.length;i--;)t[i]=pt(t[i],e,n);return t}if(d&&(t===a||t===o))for(i=d.length;i--;){var r=d[i];t!==r[0]||e&&e!==r[1]||n&&n!==r[2]||p.unbind(r[0],r[1],r[2])}return p.unbind(t,e,n)},mt=function(t,e,n){return p.fire(t,e,n)},gt=function(t){if(t&&Ya.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},vt=function(t){for(var e=S(),n=null;t&&t!==e&&null===(n=gt(t));t=t.parentNode);return n},yt=function(){if(d)for(var t=d.length;t--;){var e=d[t];p.unbind(e[0],e[1],e[2])}Kn.setDocument&&Kn.setDocument()},bt={doc:a,settings:s,win:o,files:r,stdMode:t,boxModel:c,styleSheetLoader:n,boundEvents:d,styles:h,schema:f,events:p,isBlock:v,$:g,$$:b,root:null,clone:_,getRoot:S,getViewPort:k,getRect:M,getSize:D,getParent:O,getParents:P,get:y,getNext:L,getPrev:B,select:F,is:R,add:W,create:V,createHTML:function(t,e,n){var i,r="";for(i in r+="<"+t,e)e.hasOwnProperty(i)&&null!==e[i]&&"undefined"!=typeof e[i]&&(r+=" "+i+'="'+$(e[i])+'"');return void 0!==n?r+">"+n+"</"+t+">":r+" />"},createFragment:q,remove:Y,setStyle:E,getStyle:A,setStyles:N,removeAllAttribs:function(t){return z(t,function(t){var e,n=t.attributes;for(e=n.length-1;0<=e;e--)t.removeAttributeNode(n.item(e))})},setAttrib:C,setAttribs:H,getAttrib:x,getPos:T,parseStyle:G,serializeStyle:X,addStyle:K,loadCSS:Z,addClass:J,removeClass:function(t,e){Q(t,e,!1)},hasClass:tt,toggleClass:Q,show:et,hide:nt,isHidden:it,uniqueId:function(t){return(t||"mce_")+e++},setHTML:j,getOuterHTML:rt,setOuterHTML:ot,decode:U,encode:$,insertAfter:at,replace:st,rename:lt,findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:ut,run:z,getAttribs:w,isEmpty:ct,createRng:dt,nodeIndex:Ds,split:ft,bind:ht,unbind:pt,fire:mt,getContentEditable:gt,getContentEditableParent:vt,destroy:yt,isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return l=Ns(h,s,function(){return bt}),bt}function v(){var i=this,r=[],a={},s={},o=[],l=function(t){var e;return s[t]&&(e=s[t].dependencies),e||[]},t=function(e,t,n){r.push(t),s[e]={instance:t,dependencies:n};var i=Zt(o,function(t){return t.name===e});return o=i.fail,Fs(i.pass,function(t){t.callback()}),t},e=function(t){delete a[t],delete s[t]},u=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},c=function(t,n,e,i){var r=l(t);Fs(r,function(t){var e=u(n,t);d(e.resource,e,undefined,undefined)}),e&&(i?e.call(i):e.call(Ls))},d=function(t,e,n,i,r){if(!a[t]){var o="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==o.indexOf("/")&&-1===o.indexOf("://")&&(o=v.baseURL+"/"+o),a[t]=o.substring(0,o.lastIndexOf("/")),s[t]?c(t,e,n,i):Ls.ScriptLoader.add(o,function(){return c(t,e,n,i)},i,r)}},n=function(t,e){s.hasOwnProperty(t)?e():o.push({name:t,callback:e})};return{items:r,urls:a,lookup:s,_listeners:o,get:function(t){return s[t]?s[t].instance:undefined},dependencies:l,requireLangPack:function(t,e){var n=v.language;if(n&&!1!==v.languageLoad){if(e)if(-1!==(e=","+e+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1===e.indexOf(","+n+","))return;Ls.ScriptLoader.add(a[t]+"/langs/"+n+".js")}},add:t,remove:e,createUrl:u,addComponents:function(t,e){var n=i.urls[t];Fs(e,function(t){Ls.ScriptLoader.add(n+"/"+t)})},load:d,waitFor:n}}function s(t,e,n,i,r){return t(n,i)?Ot.some(n):Wt(r)&&r(n)?Ot.none():e(n,i,r)}function w(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n}function C(e,n,t){var i=function(){return Bu(e),0===n},r=function(){return Bu(e)?n>=e.data.length:n>=e.childNodes.length},o=function(){var t;return(t=ju(e.ownerDocument)).setStart(e,n),t.setEnd(e,n),t},a=function(){return t||(t=Ku(C(e,n))),t},s=function(){return 0<a().length},l=function(t){return t&&e===t.container()&&n===t.offset()},u=function(t){return Hu(e,t?n-1:n)};return{container:vt(e),offset:vt(n),toRange:o,getClientRects:a,isVisible:s,isAtStart:i,isAtEnd:r,isEqual:l,getNode:u}}function l(n,i){var t=function(t){if(!n(t))throw new Error("Can only get "+i+" value of a "+i+" node");return a(t).getOr("")},e=function(t){try{return r(t)}catch(e){return Ot.none()}},r=function(t){return n(t)?Ot.from(t.dom().nodeValue):Ot.none()},o=Fr.detect().browser,a=o.isIE()&&10===o.version.major?e:r;return{get:t,getOption:a,set:function(t,e){if(!n(t))throw new Error("Can only set raw "+i+" value of a "+i+" node");t.dom().nodeValue=e}}}function c(i){var r=Sl();_l(i,r);var n=Cl(i,r);return{register:function(t,e){r.register(t,e)},annotate:function(e,n){r.lookup(e).each(function(t){lh(i,e,t,n)})},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(t){yl(i,Ot.some(t)).each(function(t){var e=t.elements;Xt(e,Gs)})},getAll:function(t){var e=wl(i,t);return eo(e,function(t){return Gt(t,function(t){return t.dom()})})}}}function _(t){var s,l,u,c,d,f=[];return s=(t=t||{}).indent,l=Ph(t.indent_before||""),u=Ph(t.indent_after||""),c=ds.getEncodeFunc(t.entity_encoding||"raw",t.entities),d="html"===t.element_format,{start:function(t,e,n){var i,r,o,a;if(s&&l[t]&&0<f.length&&0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n"),f.push("<",t),e)for(i=0,r=e.length;i<r;i++)o=e[i],f.push(" ",o.name,'="',c(o.value,!0),'"');f[f.length]=!n||d?">":" />",n&&s&&u[t]&&0<f.length&&0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n")},end:function(t){var e;f.push("</",t,">"),s&&u[t]&&0<f.length&&0<(e=f[f.length-1]).length&&"\n"!==e&&f.push("\n")},text:function(t,e){0<t.length&&(f[f.length]=e?t:c(t))},cdata:function(t){f.push("<![CDATA[",t,"]]>")},comment:function(t){f.push("<!--",t,"-->")},pi:function(t,e){e?f.push("<?",t," ",c(e),"?>"):f.push("<?",t,"?>"),s&&f.push("\n")},doctype:function(t){f.push("<!DOCTYPE",t,">",s?"\n":"")},reset:function(){f.length=0},getContent:function(){return f.join("").replace(/\n$/,"")}}}function S(e,p){void 0===p&&(p=Ct());var m=_(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(t){var d,f;f=e.validate,d={3:function(t){m.text(t.value,t.raw)},8:function(t){m.comment(t.value)},7:function(t){m.pi(t.name,t.value)},10:function(t){m.doctype(t.value)},4:function(t){m.cdata(t.value)},11:function(t){if(t=t.firstChild)for(;h(t),t=t.next;);}},m.reset();var h=function(t){var e,n,i,r,o,a,s,l,u,c=d[t.type];if(c)c(t);else{if(e=t.name,n=t.shortEnded,i=t.attributes,f&&i&&1<i.length&&((a=[]).map={},u=p.getElementRule(t.name))){for(s=0,l=u.attributesOrder.length;s<l;s++)(r=u.attributesOrder[s])in i.map&&(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));for(s=0,l=i.length;s<l;s++)(r=i[s].name)in a.map||(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));i=a}if(m.start(t.name,i,n),!n){if(t=t.firstChild)for(;h(t),t=t.next;);m.end(e)}}};return 1!==t.type||e.inner?d[11](t):h(t),m.getContent()}}}function k(l){var r,o,a,e,u={state:{},exec:{},value:{}},n=l.settings;l.on("PreInit",function(){r=l.dom,o=l.selection,n=l.settings,a=l.formatter});var i=function(t){var e;if(!l.quirks.isHidden()&&!l.removed){if(t=t.toLowerCase(),e=u.state[t])return e(t);try{return l.getDoc().queryCommandState(t)}catch(n){}return!1}},t=function(t,n){n=n||"exec",yb(t,function(e,t){yb(t.toLowerCase().split(","),function(t){u[n][t]=e})})},s=function(t,e,n){t=t.toLowerCase(),u.value[t]=function(){return e.call(n||l)}};bb(this,{execCommand:function(e,n,i,t){var r,o,a=!1;if(!l.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||t&&t.skip_focus?fb.restore(l):l.focus(),(t=l.fire("BeforeExecCommand",{command:e,ui:n,value:i})).isDefaultPrevented())return!1;if(o=e.toLowerCase(),r=u.exec[o])return r(o,n,i),l.fire("ExecCommand",{command:e,ui:n,value:i}),!0;if(yb(l.plugins,function(t){if(t.execCommand&&t.execCommand(e,n,i))return l.fire("ExecCommand",{command:e,ui:n,value:i}),!(a=!0)}),a)return a;if(l.theme&&l.theme.execCommand&&l.theme.execCommand(e,n,i))return l.fire("ExecCommand",{command:e,ui:n,value:i}),!0;try{a=l.getDoc().execCommand(e,n,i)}catch(s){}return!!a&&(l.fire("ExecCommand",{command:e,ui:n,value:i}),!0)}},queryCommandState:i,queryCommandValue:function(t){var e;if(!l.quirks.isHidden()&&!l.removed){if(t=t.toLowerCase(),e=u.value[t])return e(t);try{return l.getDoc().queryCommandValue(t)}catch(n){}}},queryCommandSupported:function(t){if(t=t.toLowerCase(),u.exec[t])return!0;try{return l.getDoc().queryCommandSupported(t)}catch(e){}return!1},addCommands:t,addCommand:function(t,r,o){t=t.toLowerCase(),u.exec[t]=function(t,e,n,i){return r.call(o||l,e,n,i)}},addQueryStateHandler:function(t,e,n){t=t.toLowerCase(),u.state[t]=function(){return e.call(n||l)}},addQueryValueHandler:s,hasCustomCommand:function(t){return t=t.toLowerCase(),!!u.exec[t]}});var c=function(t,e,n){return e===undefined&&(e=!1),n===undefined&&(n=null),l.getDoc().execCommand(t,e,n)},d=function(t){return a.match(t)},f=function(t,e){a.toggle(t,e?{value:e}:undefined),l.nodeChanged()},h=function(t){e=o.getBookmark(t)},p=function(){o.moveToBookmark(e)};t({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){l.undoManager.add()},"Cut,Copy,Paste":function(t){var e,n=l.getDoc();try{c(t)}catch(r){e=!0}if("paste"!==t||n.queryCommandEnabled(t)||(e=!0),e||!n.queryCommandSupported(t)){var i=l.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Ee.mac&&(i=i.replace(/Ctrl\+/g,"\u2318+")),l.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(o.isCollapsed()){var t=l.dom.getParent(l.selection.getStart(),"a");t&&l.dom.remove(t,!0)}else a.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"===e&&(e="justify"),yb("left,center,right,justify".split(","),function(t){e!==t&&a.remove("align"+t)}),"none"!==e&&f("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var e,n;c(t),(e=r.getParent(o.getNode(),"ol,ul"))&&(n=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(h(),r.split(n,e),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){f(t)},"ForeColor,HiliteColor":function(t,e,n){f(t,n)},FontName:function(t,e,n){_y(l,n)},FontSize:function(t,e,n){ky(l,n)},RemoveFormat:function(t){a.remove(t)},mceBlockQuote:function(){f("blockquote")},FormatBlock:function(t,e,n){return f(n||"p")},mceCleanup:function(){var t=o.getBookmark();l.setContent(l.getContent()),o.moveToBookmark(t)},mceRemoveNode:function(t,e,n){var i=n||o.getNode();i!==l.getBody()&&(h(),l.dom.remove(i,!0),p())},mceSelectNodeDepth:function(t,e,n){var i=0;r.getParent(o.getNode(),function(t){if(1===t.nodeType&&i++===n)return o.select(t),!1},l.getBody())},mceSelectNode:function(t,e,n){o.select(n)},mceInsertContent:function(t,e,n){Qh.insertAtCaret(l,n)},mceInsertRawHTML:function(t,e,n){o.setContent("tiny_mce_marker");var i=l.getContent();l.setContent(i.replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(t,e,n){f(n)},mceSetContent:function(t,e,n){l.setContent(n)},"Indent,Outdent":function(t){vb(l,t)},mceRepaint:function(){},InsertHorizontalRule:function(){l.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){l.hasVisual=!l.hasVisual,l.addVisual()},mceReplaceContent:function(t,e,n){l.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,o.getContent({format:"text"})))},mceInsertLink:function(t,e,n){var i;"string"==typeof n&&(n={href:n}),i=r.getParent(o.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||a.remove("link"),n.href&&a.apply("link",n,i)},selectAll:function(){var t=r.getParent(o.getStart(),Ya.isContentEditableTrue);if(t){var e=r.createRng();e.selectNodeContents(t),o.setRng(e)}},"delete":function(){uy.deleteCommand(l)},forwardDelete:function(){uy.forwardDeleteCommand(l)},mceNewDocument:function(){l.setContent("")},InsertLineBreak:function(t,e,n){return Qy.insert(l,n),!0}});var m=function(n){return function(){var t=o.isCollapsed()?[r.getParent(o.getNode(),r.isBlock)]:o.getSelectedBlocks(),e=xb(t,function(t){return!!a.matchNode(t,n)});return-1!==wb(e,!0)}};t({JustifyLeft:m("alignleft"),JustifyCenter:m("aligncenter"),JustifyRight:m("alignright"),JustifyFull:m("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return d(t)},mceBlockQuote:function(){return d("blockquote")},Outdent:function(){var t;if(n.inline_styles){if((t=r.getParent(o.getStart(),r.isBlock))&&0<parseInt(t.style.paddingLeft,10))return!0;if((t=r.getParent(o.getEnd(),r.isBlock))&&0<parseInt(t.style.paddingLeft,10))return!0}return i("InsertUnorderedList")||i("InsertOrderedList")||!n.inline_styles&&!!r.getParent(o.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var e=r.getParent(o.getNode(),"ul,ol");return e&&("insertunorderedlist"===t&&"UL"===e.tagName||"insertorderedlist"===t&&"OL"===e.tagName)}},"state"),t({Undo:function(){l.undoManager.undo()},Redo:function(){l.undoManager.redo()}}),s("FontName",function(){return Sy(l)},this),s("FontSize",function(){return Ty(l)},this)}function T(o){var t=this,a={},n=[],s=function(t){var e,n,i={};for(n in Vb(Ub(t,"+"),function(t){t in qb?i[t]=!0:/^[0-9]{2,}$/.test(t)?i.keyCode=parseInt(t,10):(i.charCode=t.charCodeAt(0),i.keyCode=$b[t]||t.toUpperCase().charCodeAt(0))}),e=[i.keyCode],qb)i[n]?e.push(n):i[n]=!1;return i.id=e.join(","),i.access&&(i.alt=!0,Ee.mac?i.ctrl=!0:i.shift=!0),i.meta&&(Ee.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},l=function(t,e,n,i){var r;return(r=vi.map(Ub(t,">"),s))[r.length-1]=vi.extend(r[r.length-1],{func:n,scope:i||o}),vi.extend(r[0],{desc:o.translate(e),subpatterns:r.slice(1)})},i=function(t){return t.altKey||t.ctrlKey||t.metaKey},r=function(t){return"keydown"===t.type&&112<=t.keyCode&&t.keyCode<=123},u=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},c=function(t){return t.func?t.func.call(t.scope):null};o.on("keyup keypress keydown",function(e){!i(e)&&!r(e)||e.isDefaultPrevented()||(Vb(a,function(t){if(u(e,t))return n=t.subpatterns.slice(0),"keydown"===e.type&&c(t),!0}),u(e,n[0])&&(1===n.length&&"keydown"===e.type&&c(n[0]),n.shift()))}),t.add=function(t,n,i,r){var e;return"string"==typeof(e=i)?i=function(){o.execCommand(e,!1,null)}:vi.isArray(e)&&(i=function(){o.execCommand(e[0],e[1],e[2])}),Vb(Ub(vi.trim(t.toLowerCase())),function(t){var e=l(t,n,i,r);a[e.id]=e}),!0},t.remove=function(t){var e=l(t);return!!a[e.id]&&(delete a[e.id],!0)}}function E(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}}function N(n){var e,i=[],r=function(){var t=n.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():E()},t=function(){return Ot.from(i[0])},o=function(t,e){return!(t.type!==e.type||t.text!==e.text||t.progressBar||t.timeout||e.progressBar||e.timeout)},a=function(){0<i.length&&r().reposition(i)},s=function(t){i.push(t)},l=function(e){ne(i,function(t){return t===e}).each(function(t){i.splice(t,1)})},u=function(e){if(!n.removed&&yx.isEditorAttachedToDom(n))return ee(i,function(t){return o(r().getArgs(t),e)}).getOrThunk(function(){n.editorManager.setActive(n);var t=r().open(e,function(){l(t),a()});return s(t),a(),t})},c=function(){t().each(function(t){r().close(t),l(t),a()})},d=function(){return i};return(e=n).on("SkinLoaded",function(){var t=e.settings.service_message;t&&u({text:t,type:"warning",timeout:0,icon:""})}),e.on("ResizeEditor ResizeWindow",function(){Oe.requestAnimationFrame(a)}),e.on("remove",function(){Xt(i.slice(),function(t){r().close(t)})}),{open:u,close:c,getNotifications:d}}function A(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}function D(i){var n=[],r=function(){var t=i.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():A()},o=function(t,e){return function(){return e?e.apply(t,arguments):undefined}},e=function(t){i.fire("OpenWindow",{win:t})},a=function(t){i.fire("CloseWindow",{win:t})},s=function(t){n.push(t),e(t)},l=function(e){ne(n,function(t){return t===e}).each(function(t){n.splice(t,1),a(e),0===n.length&&i.focus()})},t=function(){return Ot.from(n[n.length-1])},u=function(t,e){i.editorManager.setActive(i),fb.store(i);var n=r().open(t,e,l);return s(n),n},c=function(t,e,n){var i=r().alert(t,o(n||this,e),l);s(i)},d=function(t,e,n){var i=r().confirm(t,o(n||this,e),l);s(i)},f=function(){t().each(function(t){r().close(t),l(t)})},h=function(){return t().map(r().getParams).getOr(null)},p=function(e){t().each(function(t){r().setParams(t,e)})},m=function(){return n};return i.on("remove",function(){Xt(n.slice(0),function(t){r().close(t)})}),{windows:n,open:u,alert:c,confirm:d,close:f,getParams:h,setParams:p,getWindows:m}}function M(){return new(xe.getOrDie("XMLHttpRequest"))}function R(s,a){var n={},l=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e},e=function(t,e,n,i){var r,o;(r=M()).open("POST",a.url),r.withCredentials=a.credentials,r.upload.onprogress=function(t){i(t.loaded/t.total*100)},r.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+r.status)},r.onload=function(){var t;r.status<200||300<=r.status?n("HTTP Error: "+r.status):(t=JSON.parse(r.responseText))&&"string"==typeof t.location?e(l(a.basePath,t.location)):n("Invalid JSON: "+r.responseText)},(o=new FormData).append("file",t.blob(),t.filename()),r.send(o)},i=function(){return new Ae(function(t){t([])})},u=function(t,e){return{url:e,blobInfo:t,status:!0}},c=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},d=function(t,e){vi.each(n[t],function(t){t(e)}),delete n[t]},r=function(r,o,a){return s.markPending(r.blobUri()),new Ae(function(e){var n;try{var i=function(){n&&n.close()};o(r,function(t){i(),s.markUploaded(r.blobUri(),t),d(r.blobUri(),u(r,t)),e(u(r,t))},function(t){i(),s.removeFailed(r.blobUri()),d(r.blobUri(),c(r,t)),e(c(r,t))},function(t){t<0||100<t||(n||(n=a()),n.progressBar.value(t))})}catch(t){e(c(r,t.message))}})},o=function(t){return t===e},f=function(t){var e=t.blobUri();return new Ae(function(t){n[e]=n[e]||[],n[e].push(t)})},h=function(t,e){return t=vi.grep(t,function(t){return!s.isUploaded(t.blobUri())}),Ae.all(vi.map(t,function(t){return s.isPending(t.blobUri())?f(t):r(t,a.handler,e)}))},t=function(t,e){return!a.url&&o(a.handler)?i():h(t,e)};return!1===Wt(a.handler)&&(a.handler=e),{upload:t}}function P(){return new(xe.getOrDie("FileReader"))}function O(t){return new(xe.getOrDie("Uint8Array"))(t)}function I(r,o){var a={};return{findAll:function(t,n){var e;n||(n=vt(!0)),e=Qt(Ix(t),function(t){var e=t.src;return!!Ee.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!e||e===Ee.transparentSrc)&&(0===e.indexOf("blob:")?!r.isUploaded(e)&&n(t):0===e.indexOf("data:")&&n(t))});var i=Gt(e,function(n){if(a[n.src])return new Ae(function(e){a[n.src].then(function(t){if("string"==typeof t)return t;e({image:n,blobInfo:t.blobInfo})})});var t=new Ae(function(t,e){Ox(o,n,t,e)}).then(function(t){return delete a[t.image.src],t})["catch"](function(t){return delete a[n.src],t});return a[n.src]=t});return Ae.all(i)}}}function L(){var n=[],i=function(t){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.toLowerCase()]||"dat"},t=function(t,e,n,i){if(Bt(t))return r({id:t,name:i,blob:e,base64:n});if(Ft(t))return r(t);throw new Error("Unknown input type")},r=function(t){var e,n;if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return e=t.id||Fx.uuid("blobid"),n=t.name||e,{id:vt(e),name:vt(n),filename:vt(n+"."+i(t.blob.type)),blob:vt(t.blob),base64:vt(t.base64),blobUri:vt(t.blobUri||Ce.createObjectURL(t.blob)),uri:vt(t.uri)}},e=function(t){o(t.id())||n.push(t)},o=function(e){return a(function(t){return t.id()===e})},a=function(t){return Qt(n,t)[0]};return{create:t,add:e,get:o,getByUri:function(e){return a(function(t){return t.blobUri()===e})},findFirst:a,removeByUri:function(e){n=Qt(n,function(t){return t.blobUri()!==e||(Ce.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){Xt(n,function(t){Ce.revokeObjectURL(t.blobUri())}),n=[]}}}function B(){var e=1,n=2,i={},r=function(t,e){return{status:t,resultUri:e}},o=function(t){return t in i},t=function(t){return!!o(t)&&i[t].status===e},a=function(t){return!!o(t)&&i[t].status===n};return{hasBlobUri:o,getResultUri:function(t){var e=i[t];return e?e.resultUri:null},isPending:t,isUploaded:a,markPending:function(t){i[t]=r(e,null)},markUploaded:function(t,e){i[t]=r(n,e)},removeFailed:function(t){delete i[t]},destroy:function(){i={}}}}function F(r){var e,t,o=L(),a=B(),n=[],s=function(e){return function(t){return r.selection?e(t):[]}},i=function(){return"?"+(new Date).getTime()},l=function(t,e,n){for(var i=0;-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1),-1!==i;);return t},u=function(t,e,n){return t=l(t,'src="'+e+'"','src="'+n+'"'),t=l(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},c=function(e,n){Xt(r.undoManager.data,function(t){"fragmented"===t.type?t.fragments=Gt(t.fragments,function(t){return u(t,e,n)}):t.content=u(t.content,e,n)})},d=function(){return r.notificationManager.open({text:r.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},f=function(t,e){o.removeByUri(t.src),c(t.src,e),r.$(t).attr({src:dy.shouldReuseFileName(r)?e+i():e,"data-mce-src":r.convertURL(e,"src")})},h=function(n){return e||(e=R(a,{url:dy.getImageUploadUrl(r),basePath:dy.getImageUploadBasePath(r),credentials:dy.getImagesUploadCredentials(r),handler:dy.getImagesUploadHandler(r)})),v().then(s(function(i){var t;return t=Gt(i,function(t){return t.blobInfo}),e.upload(t,d).then(s(function(t){var e=Gt(t,function(t,e){var n=i[e].image;return t.status&&dy.shouldReplaceBlobUris(r)?f(n,t.url):t.error&&Sx.uploadError(r,t.error),{element:n,status:t.status}});return n&&n(e),e}))}))},p=function(t){if(dy.isAutomaticUploadsEnabled(r))return h(t)},m=function(e){return!1!==se(n,function(t){return t(e)})&&(0!==e.getAttribute("src").indexOf("data:")||dy.getImagesDataImgFilter(r)(e))},g=function(t){n.push(t)},v=function(){return t||(t=I(a,o)),t.findAll(r.getBody(),m).then(s(function(t){return t=Qt(t,function(t){return"string"!=typeof t||(Sx.displayError(r,t),!1)}),Xt(t,function(t){c(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),t}))},y=function(){o.destroy(),a.destroy(),t=e=null},b=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var e=a.getResultUri(n);if(e)return'src="'+e+'"';var i=o.getByUri(n);return i||(i=te(r.editorManager.get(),function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':t})};return r.on("setContent",function(){dy.isAutomaticUploadsEnabled(r)?p():v()}),r.on("RawSaveContent",function(t){t.content=b(t.content)}),r.on("getContent",function(t){t.source_view||"raw"===t.format||(t.content=b(t.content))}),r.on("PostRender",function(){r.parser.addNodeFilter("img",function(t){Xt(t,function(t){var e=t.attr("src");if(!o.getByUri(e)){var n=a.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:o,addFilter:g,uploadImages:h,uploadImagesAuto:p,scanForImages:v,destroy:y}}function z(o){var i,r=[],e=function(t){var e,n;if((n=o.$(t).parentsUntil(o.getBody()).add(t)).length===r.length){for(e=n.length;0<=e&&n[e]===r[e];e--);if(-1===e)return r=n,!0}return r=n,!1};"onselectionchange"in o.getDoc()||o.on("NodeChange Click MouseUp KeyUp Focus",function(t){var e,n;n={startContainer:(e=o.selection.getRng()).startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset},"nodechange"!==t.type&&Ey.isEq(n,i)||o.fire("SelectionChange"),i=n}),o.on("contextmenu",function(){o.fire("SelectionChange")}),o.on("SelectionChange",function(){var t=o.selection.getStart(!0);!t||!Ee.range&&o.selection.isCollapsed()||Zx(o)&&!e(t)&&o.dom.isChildOf(t,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("MouseUp",function(t){!t.isDefaultPrevented()&&Zx(o)&&("IMG"===o.selection.getNode().nodeName?Oe.setEditorTimeout(o,function(){o.nodeChanged()}):o.nodeChanged())}),this.nodeChanged=function(t){var e,n,i,r=o.selection;o.initialized&&r&&!o.settings.disable_nodechange&&!o.readonly&&(i=o.getBody(),(e=r.getStart(!0)||i).ownerDocument===o.getDoc()&&o.dom.isChildOf(e,i)||(e=i),n=[],o.dom.getParent(e,function(t){if(t===i)return!0;n.push(t)}),(t=t||{}).element=e,t.parents=n,o.fire("NodeChange",t))}}function H(F,z){void 0===z&&(z=Ct());var t=function(){};!1!==(F=F||{}).fix_self_closing&&(F.fix_self_closing=!0);var H=F.comment?F.comment:t,j=F.cdata?F.cdata:t,W=F.text?F.text:t,V=F.start?F.start:t,U=F.end?F.end:t,$=F.pi?F.pi:t,q=F.doctype?F.doctype:t;return{parse:function(t){var e,n,i,c,r,o,a,d,s,l,f,u,h,p,m,g,v,y,b,x,w,C,_,S,k,T,E,N,A,D=0,M=[],R=0,P=ds.decode,O=vi.makeMap("src,href,data,background,formaction,poster,xlink:href"),I=/((java|vb)script|mhtml):/i,L=function(t){var e,n;for(e=M.length;e--&&M[e].name!==t;);if(0<=e){for(n=M.length-1;e<=n;n--)(t=M[n]).valid&&U(t.name);M.length=e}},B=function(t,e,n,i,r){var o,a,s=/[\s\u0000-\u001F]+/g;if(n=(e=e.toLowerCase())in f?e:P(n||i||r||""),h&&!d&&!1===cC(e)){if(!(o=y[e])&&b){for(a=b.length;a--&&!(o=b[a]).pattern.test(e););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if(O[e]&&!F.allow_script_urls){var l=n.replace(s,"");try{l=decodeURIComponent(l)}catch(u){l=unescape(l)}if(I.test(l))return;if(fC(F,l))return}d&&(e in O||0===e.indexOf("on"))||(c.map[e]=n,c.push({name:e,value:n}))};for(k=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),T=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,l=z.getShortEndedElements(),S=F.self_closing_elements||z.getSelfClosingElements(),f=z.getBoolAttrs(),h=F.validate,s=F.remove_internals,A=F.fix_self_closing,E=z.getSpecialElements(),_=t+">";e=k.exec(_);){if(D<e.index&&W(P(t.substr(D,e.index-D))),n=e[6])":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),L(n);else if(n=e[7]){if(e.index+e[0].length>t.length){W(P(t.substr(e.index))),D=e.index+e[0].length;continue}if(":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),u=n in l,A&&S[n]&&0<M.length&&M[M.length-1].name===n&&L(n),!h||(p=z.getElementRule(n))){if(m=!0,h&&(y=p.attributes,b=p.attributePatterns),(v=e[8])?((d=-1!==v.indexOf("data-mce-type"))&&s&&(m=!1),(c=[]).map={},v.replace(T,B)):(c=[]).map={},h&&!d){if(x=p.attributesRequired,w=p.attributesDefault,C=p.attributesForced,p.removeEmptyAttrs&&!c.length&&(m=!1),C)for(r=C.length;r--;)a=(g=C[r]).name,"{$uid}"===(N=g.value)&&(N="mce_"+R++),c.map[a]=N,c.push({name:a,value:N});if(w)for(r=w.length;r--;)(a=(g=w[r]).name)in c.map||("{$uid}"===(N=g.value)&&(N="mce_"+R++),c.map[a]=N,c.push({name:a,value:N}));if(x){for(r=x.length;r--&&!(x[r]in c.map););-1===r&&(m=!1)}if(g=c.map["data-mce-bogus"]){if("all"===g){D=hC(z,t,k.lastIndex),k.lastIndex=D;continue}m=!1}}m&&V(n,c,u)}else m=!1;if(i=E[n]){i.lastIndex=D=e.index+e[0].length,(e=i.exec(t))?(m&&(o=t.substr(D,e.index-D)),D=e.index+e[0].length):(o=t.substr(D),D=t.length),m&&(0<o.length&&W(o,!0),U(n)),k.lastIndex=D;continue}u||(v&&v.indexOf("/")===v.length-1?m&&U(n):M.push({name:n,valid:m}))}else(n=e[1])?(">"===n.charAt(0)&&(n=" "+n),F.allow_conditional_comments||"[if"!==n.substr(0,3).toLowerCase()||(n=" "+n),H(n)):(n=e[2])?j(dC(n)):(n=e[3])?q(n):(n=e[4])&&$(n,e[5]);D=e.index+e[0].length}for(D<t.length&&W(P(t.substr(D))),r=M.length-1;0<=r;r--)(n=M[r]).valid&&U(n.name)}}}function j(s){var l,i,r=this,u=0,c=[],e=0,d=function(){
return 0===e},o=function(t){d()&&(r.typing=t)},f=function(t){s.setDirty(t)},a=function(t){o(!1),r.add({},t)},n=function(){r.typing&&(o(!1),r.add())};s.on("init",function(){r.add()}),s.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(n(),r.beforeChange())}),s.on("ExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&a(t)}),s.on("ObjectResizeStart Cut",function(){r.beforeChange()}),s.on("SaveContent ObjectResized blur",a),s.on("DragEnd",a),s.on("KeyUp",function(t){var e=t.keyCode;t.isDefaultPrevented()||((33<=e&&e<=36||37<=e&&e<=40||45===e||t.ctrlKey)&&(a(),s.nodeChanged()),46!==e&&8!==e||s.nodeChanged(),i&&r.typing&&!1===HC.isEq(HC.createFromEditor(s),c[0])&&(!1===s.isDirty()&&(f(!0),s.fire("change",{level:c[0],lastLevel:null})),s.fire("TypingUndo"),i=!1,s.nodeChanged()))}),s.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented())if(33<=e&&e<=36||37<=e&&e<=40||45===e)r.typing&&a(t);else{var n=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||20<e)||224===e||91===e||r.typing||n||(r.beforeChange(),o(!0),r.add({},t),i=!0)}}),s.on("MouseDown",function(t){r.typing&&a(t)});var h=function(t){return"insertReplacementText"===t.inputType},p=function(t){return"insertText"===t.inputType&&null===t.data};return s.on("input",function(t){t.inputType&&(h(t)||p(t))&&a(t)}),s.addShortcut("meta+z","","Undo"),s.addShortcut("meta+y,meta+shift+z","","Redo"),s.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||s.nodeChanged()}),r={data:c,typing:!1,beforeChange:function(){d()&&(l=Dc.getUndoBookmark(s.selection))},add:function(t,e){var n,i,r,o=s.settings;if(r=HC.createFromEditor(s),t=t||{},t=vi.extend(t,r),!1===d()||s.removed)return null;if(i=c[u],s.fire("BeforeAddUndo",{level:t,lastLevel:i,originalEvent:e}).isDefaultPrevented())return null;if(i&&HC.isEq(i,t))return null;if(c[u]&&(c[u].beforeBookmark=l),o.custom_undo_redo_levels&&c.length>o.custom_undo_redo_levels){for(n=0;n<c.length-1;n++)c[n]=c[n+1];c.length--,u=c.length}t.bookmark=Dc.getUndoBookmark(s.selection),u<c.length-1&&(c.length=u+1),c.push(t),u=c.length-1;var a={level:t,lastLevel:i,originalEvent:e};return s.fire("AddUndo",a),0<u&&(f(!0),s.fire("change",a)),t},undo:function(){var t;return r.typing&&(r.add(),r.typing=!1,o(!1)),0<u&&(t=c[--u],HC.applyToEditor(s,t,!0),f(!0),s.fire("undo",{level:t})),t},redo:function(){var t;return u<c.length-1&&(t=c[++u],HC.applyToEditor(s,t,!1),f(!0),s.fire("redo",{level:t})),t},clear:function(){c=[],u=0,r.typing=!1,r.data=c,s.fire("ClearUndos")},hasUndo:function(){return 0<u||r.typing&&c[0]&&!HC.isEq(HC.createFromEditor(s),c[0])},hasRedo:function(){return u<c.length-1&&!r.typing},transact:function(t){return n(),r.beforeChange(),r.ignore(t),r.add()},ignore:function(t){try{e++,t()}finally{e--}},extra:function(t,e){var n,i;r.transact(t)&&(i=c[u].bookmark,n=c[u-1],HC.applyToEditor(s,n,!0),r.transact(e)&&(c[u-1].beforeBookmark=i))}}}function W(t){var n={},e=function(t){return t?n[t]:n},i=function(t,e){t&&("string"!=typeof t?vi.each(t,function(t,e){i(e,t)}):(e=e.length?e:[e],vi.each(e,function(t){"undefined"==typeof t.deep&&(t.deep=!t.selector),"undefined"==typeof t.split&&(t.split=!t.selector||t.inline),"undefined"==typeof t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),n[t]=e))},r=function(t){return t&&n[t]&&delete n[t],n};return i(rS.get(t.dom)),i(t.settings.formats),{get:e,register:i,unregister:r}}function V(t){var e=W(t),n=Zs(null);return hS.setup(t),h_(t),{get:e.get,register:e.register,unregister:e.unregister,apply:d(J_.applyFormat,t),remove:d(F_.remove,t),toggle:d(fS.toggle,t,e),match:d(GC.match,t),matchAll:d(GC.matchAll,t),matchNode:d(GC.matchNode,t),canApply:d(GC.canApply,t),formatChanged:d(iS.formatChanged,t,n),getCssText:d(dS.getCssText,t)}}function U(N,A){void 0===A&&(A=Ct());var D={},M=[],R={},P={};(N=N||{}).validate=!("validate"in N)||N.validate,N.root_name=N.root_name||"body";var O=function(t){var e,n,i,r,o,a,s,l,u,c,d,f,h,p,m,g;for(f=LS("tr,td,th,tbody,thead,tfoot,table"),c=A.getNonEmptyElements(),d=A.getWhiteSpaceElements(),h=A.getTextBlockElements(),p=A.getSpecialElements(),e=0;e<t.length;e++)if((n=t[e]).parent&&!n.fixed)if(h[n.name]&&"li"===n.parent.name){for(m=n.next;m&&h[m.name];)m.name="li",m.fixed=!0,n.parent.insert(m,n.parent),m=m.next;n.unwrap(n)}else{for(r=[n],i=n.parent;i&&!A.isValidChild(i.name,n.name)&&!f[i.name];i=i.parent)r.push(i);if(i&&1<r.length){for(r.reverse(),o=a=v(r[0].clone()),u=0;u<r.length-1;u++){for(A.isValidChild(a.name,r[u].name)?(s=v(r[u].clone()),a.append(s)):s=a,l=r[u].firstChild;l&&l!==r[u+1];)g=l.next,s.append(l),l=g;a=s}PS(A,c,d,o)?i.insert(n,r[0],!0):(i.insert(o,r[0],!0),i.insert(n,o)),i=r[0],(PS(A,c,d,i)||MS(i,"br"))&&i.empty().remove()}else if(n.parent){if("li"===n.name){if((m=n.prev)&&("ul"===m.name||"ul"===m.name)){m.append(n);continue}if((m=n.next)&&("ul"===m.name||"ul"===m.name)){m.insert(n,m.firstChild,!0);continue}n.wrap(v(new NS("ul",1)));continue}A.isValidChild(n.parent.name,"div")&&A.isValidChild("div",n.name)?n.wrap(v(new NS("div",1))):p[n.name]?n.empty().remove():n.unwrap()}}},v=function(t){var e,n,i;n in D&&((i=R[n])?i.push(t):R[n]=[t]),e=M.length;for(;e--;)(n=M[e].name)in t.attributes.map&&((i=P[n])?i.push(t):P[n]=[t]);return t},t=function(t,a){var e,n,i,r,o,s,l,u,c,d,f,h=[];a=a||{},R={},P={},c=zS(LS("script,style,head,html,body,title,meta,param"),A.getBlockElements());var p=A.getNonEmptyElements(),m=A.children,g=N.validate,v="forced_root_block"in a?a.forced_root_block:N.forced_root_block,y=A.getWhiteSpaceElements(),b=/^[ \t\r\n]+/,x=/[ \t\r\n]+$/,w=/[ \t\r\n]+/g,C=/^[ \t\r\n]+$/;d=y.hasOwnProperty(a.context)||y.hasOwnProperty(N.root_name);var _=function(){var t,e,n=E.firstChild,i=function(t){t&&((n=t.firstChild)&&3===n.type&&(n.value=n.value.replace(b,"")),(n=t.lastChild)&&3===n.type&&(n.value=n.value.replace(x,"")))};if(A.isValidChild(E.name,v.toLowerCase())){for(;n;)t=n.next,3===n.type||1===n.type&&"p"!==n.name&&!c[n.name]&&!n.attr("data-mce-type")?(e||((e=S(v,1)).attr(N.forced_root_block_attrs),E.insert(e,n)),e.append(n)):(i(e),e=null),n=t;i(e)}},S=function(t,e){var n,i=new NS(t,e);return t in D&&((n=R[t])?n.push(i):R[t]=[i]),i},k=function(t){var e,n,i,r,o=A.getBlockElements();for(e=t.prev;e&&3===e.type;){if(0<(i=e.value.replace(x,"")).length)return void(e.value=i);if(n=e.next){if(3===n.type&&n.value.length){e=e.prev;continue}if(!o[n.name]&&"script"!==n.name&&"style"!==n.name){e=e.prev;continue}}r=e.prev,e.remove(),e=r}},T=function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n};e=gC({validate:g,allow_script_urls:N.allow_script_urls,allow_conditional_comments:N.allow_conditional_comments,self_closing_elements:T(A.getSelfClosingElements()),cdata:function(t){f.append(S("#cdata",4)).value=t},text:function(t,e){var n;d||(t=t.replace(w," "),OS(f.lastChild,c)&&(t=t.replace(b,""))),0!==t.length&&((n=S("#text",3)).raw=!!e,f.append(n).value=t)},comment:function(t){f.append(S("#comment",8)).value=t},pi:function(t,e){f.append(S(t,7)).value=e,k(f)},doctype:function(t){f.append(S("#doctype",10)).value=t,k(f)},start:function(t,e,n){var i,r,o,a,s;if(o=g?A.getElementRule(t):{}){for((i=S(o.outputName||t,1)).attributes=e,i.shortEnded=n,f.append(i),(s=m[f.name])&&m[i.name]&&!s[i.name]&&h.push(i),r=M.length;r--;)(a=M[r].name)in e.map&&((l=P[a])?l.push(i):P[a]=[i]);c[t]&&k(i),n||(f=i),!d&&y[t]&&(d=!0)}},end:function(t){var e,n,i,r,o;if(n=g?A.getElementRule(t):{}){if(c[t]&&!d){if((e=f.firstChild)&&3===e.type)if(0<(i=e.value.replace(b,"")).length)e.value=i,e=e.next;else for(r=e.next,e.remove(),e=r;e&&3===e.type;)i=e.value,r=e.next,(0===i.length||C.test(i))&&(e.remove(),e=r),e=r;if((e=f.lastChild)&&3===e.type)if(0<(i=e.value.replace(x,"")).length)e.value=i,e=e.prev;else for(r=e.prev,e.remove(),e=r;e&&3===e.type;)i=e.value,r=e.prev,(0===i.length||C.test(i))&&(e.remove(),e=r),e=r}if(d&&y[t]&&(d=!1),n.removeEmpty&&PS(A,p,y,f)&&!f.attributes.map.name&&!f.attr("id"))return o=f.parent,c[f.name]?f.empty().remove():f.unwrap(),void(f=o);n.paddEmpty&&(DS(f)||PS(A,p,y,f))&&AS(N,a,c,f),f=f.parent}}},A);var E=f=new NS(a.context||N.root_name,11);if(e.parse(t),g&&h.length&&(a.context?a.invalid=!0:O(h)),v&&("body"===E.name||a.isRootContent)&&_(),!a.invalid){for(u in R){for(l=D[u],o=(n=R[u]).length;o--;)n[o].parent||n.splice(o,1);for(i=0,r=l.length;i<r;i++)l[i](n,u,a)}for(i=0,r=M.length;i<r;i++)if((l=M[i]).name in P){for(o=(n=P[l.name]).length;o--;)n[o].parent||n.splice(o,1);for(o=0,s=l.callbacks.length;o<s;o++)l.callbacks[o](n,l.name,a)}}return E},e={schema:A,addAttributeFilter:function(t,n){BS(FS(t),function(t){var e;for(e=0;e<M.length;e++)if(M[e].name===t)return void M[e].callbacks.push(n);M.push({name:t,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(M)},addNodeFilter:function(t,n){BS(FS(t),function(t){var e=D[t];e||(D[t]=e=[]),e.push(n)})},getNodeFilters:function(){var t=[];for(var e in D)D.hasOwnProperty(e)&&t.push({name:e,callbacks:D[e]});return t},filterNode:v,parse:t};return IS(e,N),SS.register(e,N),e}function $(a,s){var l,u,c,t=["data-mce-selected"];l=s&&s.dom?s.dom:Ms.DOM,u=s&&s.schema?s.schema:Ct(a),a.entity_encoding=a.entity_encoding||"named",a.remove_trailing_brs=!("remove_trailing_brs"in a)||a.remove_trailing_brs,c=U(a,u),gS.register(c,a,l);var e=function(t,e){var n=mS({format:"html"},e||{}),i=bS.process(s,t,n),r=WS(l,i,n),o=VS(c,r,n);return"tree"===n.format?o:$S(s,a,u,o,n)};return{schema:u,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:e,addRules:function(t){u.addValidElements(t)},setRules:function(t){u.setValidElements(t)},addTempAttr:d(HS,c,t),getTempAttrs:function(){return t}}}function q(t,e){var n=$(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function Y(t){return{getBookmark:d(Nf.getBookmark,t),moveToBookmark:d(Nf.moveToBookmark,t)}}function G(a){var r=vi.each,o=iC.BACKSPACE,s=iC.DELETE,l=a.dom,u=a.selection,e=a.settings,t=a.parser,n=Ee.gecko,i=Ee.ie,c=Ee.webkit,d="data:text/mce-internal,",f=i?"Text":"URL",h=function(t,e){try{a.getDoc().execCommand(t,!1,e)}catch(n){}},p=function(t){return t.isDefaultPrevented()},m=function(t){var e,n;t.dataTransfer&&(a.selection.isCollapsed()&&"IMG"===t.target.tagName&&u.select(t.target),0<(e=a.selection.getContent()).length&&(n=d+escape(a.id)+","+escape(e),t.dataTransfer.setData(f,n)))},g=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(f))&&0<=e.indexOf(d)?(e=e.substr(d.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},v=function(t,e){a.queryCommandSupported("mceInsertClipboardContent")?a.execCommand("mceInsertClipboardContent",!1,{content:t,internal:e}):a.execCommand("mceInsertContent",!1,t)},y=function(){var i=function(t){var e=l.create("body"),n=t.cloneContents();return e.appendChild(n),u.serializer.serialize(e,{format:"html"})},r=function(t){var e=i(t),n=l.createRng();return n.selectNode(a.getBody()),e===i(n)};a.on("keydown",function(t){var e,n,i=t.keyCode;if(!p(t)&&(i===s||i===o)){if(e=a.selection.isCollapsed(),n=a.getBody(),e&&!l.isEmpty(n))return;if(!e&&!r(a.selection.getRng()))return;t.preventDefault(),a.setContent(""),n.firstChild&&l.isBlock(n.firstChild)?a.selection.setCursorLocation(n.firstChild,0):a.selection.setCursorLocation(n,0),a.nodeChanged()}})},b=function(){a.shortcuts.add("meta+a",null,"SelectAll")},x=function(){a.settings.content_editable||l.bind(a.getDoc(),"mousedown mouseup",function(t){var e;if(t.target===a.getDoc().documentElement)if(e=u.getRng(),a.getBody().focus(),"mousedown"===t.type){if(Hl(e.startContainer))return;u.placeCaretAt(t.clientX,t.clientY)}else u.setRng(e)})},w=function(){a.on("keydown",function(t){if(!p(t)&&t.keyCode===o){if(!a.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&0===u.getRng().startOffset){var e=u.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return l.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(l.remove(n),t.preventDefault())}}})},C=function(){Range.prototype.getClientRects||a.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var e=a.getBody();e.blur(),Oe.setEditorTimeout(a,function(){e.focus()})}})},_=function(){a.on("click",function(t){var e=t.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==l.getContentEditableParent(e)&&(t.preventDefault(),a.selection.select(e),a.nodeChanged()),"A"===e.nodeName&&l.hasClass(e,"mce-item-anchor")&&(t.preventDefault(),u.select(e))})},S=function(){var n=function(){var t=l.getAttribs(u.getStart().cloneNode(!1));return function(){var e=u.getStart();e!==a.getBody()&&(l.setAttrib(e,"style",null),r(t,function(t){e.setAttributeNode(t.cloneNode(!0))}))}},i=function(){return!u.isCollapsed()&&l.getParent(u.getStart(),l.isBlock)!==l.getParent(u.getEnd(),l.isBlock)};a.on("keypress",function(t){var e;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&i())return e=n(),a.getDoc().execCommand("delete",!1,null),e(),t.preventDefault(),!1}),l.bind(a.getDoc(),"cut",function(t){var e;!p(t)&&i()&&(e=n(),Oe.setEditorTimeout(a,function(){e()}))})},k=function(){a.on("keydown",function(t){if(!p(t)&&t.keyCode===o&&u.isCollapsed()&&0===u.getRng().startOffset){var e=u.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})},T=function(){var t=function(){h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),e.object_resizing||h("enableObjectResizing",!1)};e.readonly||a.on("BeforeExecCommand MouseDown",t)},E=function(){var e=function(){r(l.select("a"),function(t){var e=t.parentNode,n=l.getRoot();if(e.lastChild===t){for(;e&&!l.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}l.add(e,"br",{"data-mce-bogus":1})}})};a.on("SetContent ExecCommand",function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||e()})},N=function(){e.forced_root_block&&a.on("init",function(){h("DefaultParagraphSeparator",e.forced_root_block)})},A=function(){a.on("keyup focusin mouseup",function(t){iC.modifierPressed(t)||u.normalize()},!0)},D=function(){a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},M=function(){a.inline||a.on("keydown",function(){document.activeElement===document.body&&a.getWin().focus()})},R=function(){a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",function(t){var e;if("HTML"===t.target.nodeName){if(11<Ee.ie)return void a.getBody().focus();e=a.selection.getRng(),a.getBody().focus(),a.selection.setRng(e),a.selection.normalize(),a.nodeChanged()}}))},P=function(){Ee.mac&&a.on("keydown",function(t){!iC.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),a.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},O=function(){h("AutoUrlDetect",!1)},I=function(){a.on("click",function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)}),a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},L=function(){a.on("init",function(){a.dom.bind(a.getBody(),"submit",function(t){t.preventDefault()})})},B=function(){t.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})},F=function(){a.on("dragstart",function(t){m(t)}),a.on("drop",function(t){if(!p(t)){var e=g(t);if(e&&e.id!==a.id){t.preventDefault();var n=lk.fromPoint(t.x,t.y,a.getDoc());u.setRng(n),v(e.html,!0)}}})},z=function(){},H=function(){var t;return!n||a.removed?0:!(t=a.selection.getSel())||!t.rangeCount||0===t.rangeCount};return a.on("keydown",function(t){var e,n,i,r,o;if(!p(t)&&t.keyCode===iC.BACKSPACE&&(n=(e=u.getRng()).startContainer,i=e.startOffset,r=l.getRoot(),o=n,e.collapsed&&0===i)){for(;o&&o.parentNode&&o.parentNode.firstChild===o&&o.parentNode!==r;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(a.formatter.toggle("blockquote",null,o),(e=l.createRng()).setStart(n,0),e.setEnd(n,0),u.setRng(e))}}),y(),Ee.windowsPhone||A(),c&&(x(),_(),N(),L(),k(),B(),Ee.iOS?(M(),R(),I()):b()),11<=Ee.ie&&(R(),k()),Ee.ie&&(b(),O(),F()),n&&(w(),C(),S(),T(),E(),D(),P(),k()),{refreshContentEditable:z,isHidden:H}}function X(n){return{walk:function(t,e){return Qf.walk(n,t,e)},split:KC.split,normalize:function(e){return zy.normalize(n,e).fold(vt(!1),function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0})}}}var K,Z,Q,J,tt,et,nt,it,rt,ot,at,st,lt,ut,ct,dt,ft,ht,pt,mt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},gt=function(n,i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n(i.apply(null,t))}},vt=function(t){return function(){return t}},yt=function(t){return t},bt=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!n.apply(null,t)}},kt=function(t){return function(){throw new Error(t)}},Tt=vt(!1),Et=vt(!0),Nt=Tt,At=Et,Dt=function(){return Mt},Mt=(J={fold:function(t){return t()},is:Nt,isSome:Nt,isNone:At,getOr:Q=function(t){return t},getOrThunk:Z=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){return undefined},or:Q,orThunk:Z,map:Dt,ap:Dt,each:function(){},bind:Dt,flatten:Dt,exists:Nt,forall:At,filter:Dt,equals:K=function(t){return t.isNone()},equals_:K,toArray:function(){return[]},toString:vt("none()")},Object.freeze&&Object.freeze(J),J),Rt=function(n){var t=function(){return n},e=function(){return r},i=function(t){return t(n)},r={fold:function(t,e){return e(n)},is:function(t){return n===t},isSome:At,isNone:Nt,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return Rt(t(n))},ap:function(t){return t.fold(Dt,function(t){return Rt(t(n))})},each:function(t){t(n)},bind:i,flatten:t,exists:i,forall:i,filter:function(t){return t(n)?r:Mt},equals:function(t){return t.is(n)},equals_:function(t,e){return t.fold(Nt,function(t){return e(n,t)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return r},Pt=function(t){return null===t||t===undefined?Mt:Rt(t)},Ot={some:Rt,none:Dt,from:Pt},It=function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.prototype.isPrototypeOf(t)?"array":"object"===e&&String.prototype.isPrototypeOf(t)?"string":e},Lt=function(e){return function(t){return It(t)===e}},Bt=Lt("string"),Ft=Lt("object"),zt=Lt("array"),Ht=Lt("null"),jt=Lt("boolean"),Wt=Lt("function"),Vt=Lt("number"),Ut=(tt=Array.prototype.indexOf,et=function(t,e){return tt.call(t,e)},tt===undefined?function(t,e){return ie(t,e)}:et),$t=function(t,e){var n=Ut(t,e);return-1===n?Ot.none():Ot.some(n)},qt=function(t,e){return-1<Ut(t,e)},Yt=function(t,e){return ne(t,e).isSome()},Gt=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;r++){var o=t[r];i[r]=e(o,r,t)}return i},Xt=function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n,t)},Kt=function(t,e){for(var n=t.length-1;0<=n;n--)e(t[n],n,t)},Zt=function(t,e){for(var n=[],i=[],r=0,o=t.length;r<o;r++){var a=t[r];(e(a,r,t)?n:i).push(a)}return{pass:n,fail:i}},Qt=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];e(o,i,t)&&n.push(o)}return n},Jt=function(t,e,n){return Kt(t,function(t){n=e(n,t)}),n},te=function(t,e,n){return Xt(t,function(t){n=e(n,t)}),n},ee=function(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(e(r,n,t))return Ot.some(r)}return Ot.none()},ne=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n,t))return Ot.some(n);return Ot.none()},ie=function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},re=Array.prototype.push,oe=function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!Array.prototype.isPrototypeOf(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);re.apply(e,t[n])}return e},ae=function(t,e){var n=Gt(t,e);return oe(n)},se=function(t,e){for(var n=0,i=t.length;n<i;++n)if(!0!==e(t[n],n,t))return!1;return!0},le=Array.prototype.slice,ue=function(t){var e=le.call(t,0);return e.reverse(),e},ce=function(t,e){return Qt(t,function(t){return!qt(e,t)})},de=function(t,e){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];n[String(o)]=e(o,i)}return n},fe=function(t,e){var n=le.call(t,0);return n.sort(e),n},he=function(t){return 0===t.length?Ot.none():Ot.some(t[0])},pe=function(t){return 0===t.length?Ot.none():Ot.some(t[t.length-1])},me=Wt(Array.from)?Array.from:function(t){return le.call(t)},ge="undefined"!=typeof window?window:Function("return this;")(),ve=function(t,e){for(var n=e!==undefined&&null!==e?e:ge,i=0;i<t.length&&n!==undefined&&null!==n;++i)n=n[t[i]];return n},ye=function(t,e){var n=t.split(".");return ve(n,e)},be=function(t,e){return ye(t,e)},xe={getOrDie:function(t,e){var n=be(t,e);if(n===undefined||null===n)throw t+" not available on this browser";return n}},we=function(){return xe.getOrDie("URL")},Ce={createObjectURL:function(t){return we().createObjectURL(t)},revokeObjectURL:function(t){we().revokeObjectURL(t)}},_e=navigator,Se=_e.userAgent,ke=function(t){return"matchMedia"in window&&matchMedia(t).matches};nt=!1,ct=/Android/.test(Se),rt=(rt=!(it=/WebKit/.test(Se))&&!nt&&/MSIE/gi.test(Se)&&/Explorer/gi.test(_e.appName))&&/MSIE (\w+)\./.exec(Se)[1],ot=-1!==Se.indexOf("Trident/")&&(-1!==Se.indexOf("rv:")||-1!==_e.appName.indexOf("Netscape"))&&11,at=-1!==Se.indexOf("Edge/")&&!rt&&!ot&&12,rt=rt||ot||at,st=!it&&!ot&&/Gecko/.test(Se),lt=-1!==Se.indexOf("Mac"),ut=/(iPad|iPhone)/.test(Se),dt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!Ce.createObjectURL,ft=ke("only screen and (max-device-width: 480px)")&&(ct||ut),ht=ke("only screen and (min-width: 800px)")&&(ct||ut),pt=-1!==Se.indexOf("Windows Phone"),at&&(it=!1);var Te,Ee={opera:nt,webkit:it,ie:rt,gecko:st,mac:lt,iOS:ut,android:ct,contentEditable:!ut||dt||534<=parseInt(Se.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==rt,range:window.getSelection&&"Range"in window,documentMode:rt&&!at?document.documentMode||7:10,fileApi:dt,ceFalse:!1===rt||8<rt,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===rt||11<rt,desktop:!ft&&!ht,windowsPhone:pt},Ne=function(){function i(t,e){return function(){t.apply(e,arguments)}}function o(i){var r=this;null!==this._state?t(function(){var t=r._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(r._value)}catch(n){return void i.reject(n)}i.resolve(e)}else(r._state?i.resolve:i.reject)(r._value)}):this._deferreds.push(i)}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void u(i(e,t),i(r,this),i(a,this))}this._state=!0,this._value=t,s.call(this)}catch(n){a.call(this,n)}}function a(t){this._state=!1,this._value=t,s.call(this)}function s(){for(var t=0,e=this._deferreds.length;t<e;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function l(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function u(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,i(r,this),i(a,this))},t=c.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)};return c.prototype["catch"]=function(t){return this.then(null,t)},c.prototype.then=function(n,i){var r=this;return new c(function(t,e){o.call(r,new l(n,i,t,e))})},c.all=function(t){var l=Array.prototype.slice.call(1===arguments.length&&e(t)?arguments[0]:arguments);return new c(function(r,o){function a(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){a(e,t)},o)}l[e]=t,0==--s&&r(l)}catch(i){o(i)}}if(0===l.length)return r([]);for(var s=l.length,t=0;t<l.length;t++)a(t,l[t])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(n){return new c(function(t,e){e(n)})},c.race=function(r){return new c(function(t,e){for(var n=0,i=r.length;n<i;n++)r[n].then(t,e)})},c},Ae=window.Promise?window.Promise:Ne(),De=function(t,e){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"],o=function(t){window.setTimeout(t,0)};for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=o),i(t,e)},Me=function(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)},Re=function(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)},Pe=function(e,n){var i,t;return(t=function(){var t=arguments;clearTimeout(i),i=Me(function(){e.apply(this,t)},n)}).stop=function(){clearTimeout(i)},t},Oe={requestAnimationFrame:function(t,e){Te?Te.then(t):Te=new Ae(function(t){e||(e=document.body),De(t,e)}).then(t)},setTimeout:Me,setInterval:Re,setEditorTimeout:function(t,e,n){return Me(function(){t.removed||e()},n)},setEditorInterval:function(t,e,n){var i;return i=Re(function(){t.removed?clearInterval(i):e()},n)},debounce:Pe,throttle:Pe,clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)}},Ie="mce-data-",Le=/^(?:mouse|contextmenu)|click/,Be={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Fe=function(t){return t.isDefaultPrevented===He||t.isDefaultPrevented===ze},ze=function(){return!1},He=function(){return!0},je=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},We=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Ve=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&0<n.length)return n[0]}return e},Ue=function(t,e){var n,i=e||{};for(n in t)Be[n]||(i[n]=t[n]);if(i.target||(i.target=i.srcElement||document),Ee.experimentalShadowDom&&(i.target=Ve(t,i.target)),t&&Le.test(t.type)&&t.pageX===undefined&&t.clientX!==undefined){var r=i.target.ownerDocument||document,o=r.documentElement,a=r.body;i.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),i.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=He,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=He,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},!(i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=He,i.stopPropagation()})===Fe(i)&&(i.isDefaultPrevented=ze,i.isPropagationStopped=ze,i.isImmediatePropagationStopped=ze),"undefined"==typeof i.metaKey&&(i.metaKey=!1),i},$e=function(t,e,n){var i=t.document,r={type:"ready"};if(n.domLoaded)e(r);else{var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},a=function(){n.domLoaded||(n.domLoaded=!0,e(r))},s=function(){o()&&(We(i,"readystatechange",s),a())},l=function(){try{i.documentElement.doScroll("left")}catch(t){return void Oe.setTimeout(l)}a()};!i.addEventListener||Ee.ie&&Ee.ie<11?(je(i,"readystatechange",s),i.documentElement.doScroll&&t.self===t.top&&l()):o()?a():je(t,"DOMContentLoaded",a),je(t,"load",a)}},qe=function(){var h,p,m,g,v,y=this,b={};p=Ie+(+new Date).toString(32),g="onmouseenter"in document.documentElement,m="onfocusin"in document.documentElement,v={mouseenter:"mouseover",mouseleave:"mouseout"},h=1,y.domLoaded=!1,y.events=b;var x=function(t,e){var n,i,r,o,a=b[e];if(n=a&&a[t.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return};y.bind=function(t,e,n,i){var r,o,a,s,l,u,c,d=window,f=function(t){x(Ue(t||d.event),r)};if(t&&3!==t.nodeType&&8!==t.nodeType){for(t[p]?r=t[p]:(r=h++,t[p]=r,b[r]={}),i=i||t,a=(e=e.split(" ")).length;a--;)u=f,l=c=!1,"DOMContentLoaded"===(s=e[a])&&(s="ready"),y.domLoaded&&"ready"===s&&"complete"===t.readyState?n.call(i,Ue({type:s})):(g||(l=v[s])&&(u=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Ue(t||d.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,x(t,r))}),m||"focusin"!==s&&"focusout"!==s||(c=!0,l="focusin"===s?"focus":"blur",u=function(t){(t=Ue(t||d.event)).type="focus"===t.type?"focusin":"focusout",x(t,r)}),(o=b[r][s])?"ready"===s&&y.domLoaded?n({type:s}):o.push({func:n,scope:i}):(b[r][s]=o=[{func:n,scope:i}],o.fakeName=l,o.capture=c,o.nativeHandler=u,"ready"===s?$e(t,u,y):je(t,l||s,u,c)));return t=o=0,n}},y.unbind=function(t,e,n){var i,r,o,a,s,l;if(!t||3===t.nodeType||8===t.nodeType)return y;if(i=t[p]){if(l=b[i],e){for(o=(e=e.split(" ")).length;o--;)if(r=l[s=e[o]]){if(n)for(a=r.length;a--;)if(r[a].func===n){var u=r.nativeHandler,c=r.fakeName,d=r.capture;(r=r.slice(0,a).concat(r.slice(a+1))).nativeHandler=u,r.fakeName=c,r.capture=d,l[s]=r}n&&0!==r.length||(delete l[s],We(t,r.fakeName||s,r.nativeHandler,r.capture))}}else{for(s in l)r=l[s],We(t,r.fakeName||s,r.nativeHandler,r.capture);l={}}for(s in l)return y;delete b[i];try{delete t[p]}catch(f){t[p]=null}}return y},y.fire=function(t,e,n){var i;if(!t||3===t.nodeType||8===t.nodeType)return y;for((n=Ue(null,n)).type=e,n.target=t;(i=t[p])&&x(n,i),(t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow)&&!n.isPropagationStopped(););return y},y.clean=function(t){var e,n,i=y.unbind;if(!t||3===t.nodeType||8===t.nodeType)return y;if(t[p]&&i(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(i(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[p]&&i(t);return y},y.destroy=function(){b={}},y.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}};qe.Event=new qe,qe.Event.bind(window,"ready",function(){});var Ye,Ge,Xe,Ke,Ze,Qe,Je,tn,en,nn,rn,on,an,sn,ln,un,cn,dn,fn,hn="sizzle"+-new Date,pn=window.document,mn=0,gn=0,vn=t(),yn=t(),bn=t(),xn=function(t,e){return t===e&&(rn=!0),0},wn=typeof undefined,Cn=1<<31,_n={}.hasOwnProperty,Sn=[],kn=Sn.pop,Tn=Sn.push,En=Sn.push,Nn=Sn.slice,An=Sn.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},Dn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mn="[\\x20\\t\\r\\n\\f]",Rn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Pn="\\["+Mn+"*("+Rn+")(?:"+Mn+"*([*^$|!~]?=)"+Mn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Rn+"))|)"+Mn+"*\\]",On=":("+Rn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Pn+")*)|.*)\\)|)",In=new RegExp("^"+Mn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mn+"+$","g"),Ln=new RegExp("^"+Mn+"*,"+Mn+"*"),Bn=new RegExp("^"+Mn+"*([>+~]|"+Mn+")"+Mn+"*"),Fn=new RegExp("="+Mn+"*([^\\]'\"]*?)"+Mn+"*\\]","g"),zn=new RegExp(On),Hn=new RegExp("^"+Rn+"$"),jn={ID:new RegExp("^#("+Rn+")"),CLASS:new RegExp("^\\.("+Rn+")"),TAG:new RegExp("^("+Rn+"|[*])"),ATTR:new RegExp("^"+Pn),PSEUDO:new RegExp("^"+On),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Mn+"*(even|odd|(([+-]|)(\\d*)n|)"+Mn+"*(?:([+-]|)"+Mn+"*(\\d+)|))"+Mn+"*\\)|)","i"),bool:new RegExp("^(?:"+Dn+")$","i"),needsContext:new RegExp("^"+Mn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Mn+"*((?:-\\d)?\\d*)"+Mn+"*\\)|)(?=[^-]|$)","i")},Wn=/^(?:input|select|textarea|button)$/i,Vn=/^h\d$/i,Un=/^[^{]+\{\s*\[native \w/,$n=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qn=/[+~]/,Yn=/'|\\/g,Gn=new RegExp("\\\\([\\da-f]{1,6}"+Mn+"?|("+Mn+")|.)","ig"),Xn=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{En.apply(Sn=Nn.call(pn.childNodes),pn.childNodes),Sn[pn.childNodes.length].nodeType}catch(wM){En={apply:Sn.length?function(t,e){Tn.apply(t,Nn.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}var Kn=function(t,e,n,i){var r,o,a,s,l,u,c,d,f,h;if((e?e.ownerDocument||e:pn)!==an&&on(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=(e=e||an).nodeType)&&9!==s)return[];if(ln&&!i){if(r=$n.exec(t))if(a=r[1]){if(9===s){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&fn(e,o
)&&o.id===a)return n.push(o),n}else{if(r[2])return En.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&Ge.getElementsByClassName)return En.apply(n,e.getElementsByClassName(a)),n}if(Ge.qsa&&(!un||!un.test(t))){if(d=c=hn,f=e,h=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=Qe(t),(c=e.getAttribute("id"))?d=c.replace(Yn,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+g(u[l]);f=qn.test(t)&&m(e.parentNode)||e,h=u.join(",")}if(h)try{return En.apply(n,f.querySelectorAll(h)),n}catch(p){}finally{c||e.removeAttribute("id")}}}return tn(t.replace(In,"$1"),e,n,i)};for(Ye in Ge=Kn.support={},Ze=Kn.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},on=Kn.setDocument=function(t){function e(t){try{return t.top}catch(e){}return null}var n,l=t?t.ownerDocument||t:pn,i=l.defaultView;return l!==an&&9===l.nodeType&&l.documentElement?(sn=(an=l).documentElement,ln=!Ze(l),i&&i!==e(i)&&(i.addEventListener?i.addEventListener("unload",function(){on()},!1):i.attachEvent&&i.attachEvent("onunload",function(){on()})),Ge.attributes=!0,Ge.getElementsByTagName=!0,Ge.getElementsByClassName=Un.test(l.getElementsByClassName),Ge.getById=!0,Xe.find.ID=function(t,e){if(typeof e.getElementById!==wn&&ln){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},Xe.filter.ID=function(t){var e=t.replace(Gn,Xn);return function(t){return t.getAttribute("id")===e}},Xe.find.TAG=Ge.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==wn)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},Xe.find.CLASS=Ge.getElementsByClassName&&function(t,e){if(ln)return e.getElementsByClassName(t)},cn=[],un=[],Ge.disconnectedMatch=!0,un=un.length&&new RegExp(un.join("|")),cn=cn.length&&new RegExp(cn.join("|")),n=Un.test(sn.compareDocumentPosition),fn=n||Un.test(sn.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},xn=n?function(t,e){if(t===e)return rn=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!Ge.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument===pn&&fn(pn,t)?-1:e===l||e.ownerDocument===pn&&fn(pn,e)?1:nn?An.call(nn,t)-An.call(nn,e):0:4&n?-1:1)}:function(t,e){if(t===e)return rn=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===l?-1:e===l?1:r?-1:o?1:nn?An.call(nn,t)-An.call(nn,e):0;if(r===o)return u(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?u(a[i],s[i]):a[i]===pn?-1:s[i]===pn?1:0},l):an},Kn.matches=function(t,e){return Kn(t,null,null,e)},Kn.matchesSelector=function(t,e){if((t.ownerDocument||t)!==an&&on(t),e=e.replace(Fn,"='$1']"),Ge.matchesSelector&&ln&&(!cn||!cn.test(e))&&(!un||!un.test(e)))try{var n=dn.call(t,e);if(n||Ge.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(wM){}return 0<Kn(e,an,null,[t]).length},Kn.contains=function(t,e){return(t.ownerDocument||t)!==an&&on(t),fn(t,e)},Kn.attr=function(t,e){(t.ownerDocument||t)!==an&&on(t);var n=Xe.attrHandle[e.toLowerCase()],i=n&&_n.call(Xe.attrHandle,e.toLowerCase())?n(t,e,!ln):undefined;return i!==undefined?i:Ge.attributes||!ln?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},Kn.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Kn.uniqueSort=function(t){var e,n=[],i=0,r=0;if(rn=!Ge.detectDuplicates,nn=!Ge.sortStable&&t.slice(0),t.sort(xn),rn){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return nn=null,t},Ke=Kn.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Ke(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=Ke(e);return n},(Xe=Kn.selectors={cacheLength:50,createPseudo:n,match:jn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Gn,Xn),t[3]=(t[3]||t[4]||t[5]||"").replace(Gn,Xn),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Kn.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Kn.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return jn.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&zn.test(n)&&(e=Qe(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Gn,Xn).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=vn[t+" "];return e||(e=new RegExp("(^|"+Mn+")"+t+"("+Mn+"|$)"))&&vn(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==wn&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=Kn.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,t,e,p,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),y="of-type"===t;return 1===p&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,a,s,l,u=g!==v?"nextSibling":"previousSibling",c=t.parentNode,d=y&&t.nodeName.toLowerCase(),f=!n&&!y;if(c){if(g){for(;u;){for(o=t;o=o[u];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=u="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&f){for(s=(i=(r=c[hn]||(c[hn]={}))[h]||[])[0]===mn&&i[1],a=i[0]===mn&&i[2],o=s&&c.childNodes[s];o=++s&&o&&o[u]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===t){r[h]=[mn,s,a];break}}else if(f&&(i=(t[hn]||(t[hn]={}))[h])&&i[0]===mn)a=i[1];else for(;(o=++s&&o&&o[u]||(a=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++a||(f&&((o[hn]||(o[hn]={}))[h]=[mn,a]),o!==t)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(t,o){var e,a=Xe.pseudos[t]||Xe.setFilters[t.toLowerCase()]||Kn.error("unsupported pseudo: "+t);return a[hn]?a(o):1<a.length?(e=[t,t,"",o],Xe.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,i=a(t,o),r=i.length;r--;)t[n=An.call(t,i[r])]=!(e[n]=i[r])}):function(t){return a(t,0,e)}):a}},pseudos:{not:n(function(t){var i=[],r=[],s=Je(t.replace(In,"$1"));return s[hn]?n(function(t,e,n,i){for(var r,o=s(t,null,i,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),!r.pop()}}),has:n(function(e){return function(t){return 0<Kn(e,t).length}}),contains:n(function(e){return e=e.replace(Gn,Xn),function(t){return-1<(t.textContent||t.innerText||Ke(t)).indexOf(e)}}),lang:n(function(n){return Hn.test(n||"")||Kn.error("unsupported lang: "+n),n=n.replace(Gn,Xn).toLowerCase(),function(t){var e;do{if(e=ln?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===sn},focus:function(t){return t===an.activeElement&&(!an.hasFocus||an.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!Xe.pseudos.empty(t)},header:function(t){return Vn.test(t.nodeName)},input:function(t){return Wn.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:r(function(){return[0]}),last:r(function(t,e){return[e-1]}),eq:r(function(t,e,n){return[n<0?n+e:n]}),even:r(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:r(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:r(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:r(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=Xe.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Xe.pseudos[Ye]=e(Ye);for(Ye in{submit:!0,reset:!0})Xe.pseudos[Ye]=i(Ye);o.prototype=Xe.filters=Xe.pseudos,Xe.setFilters=new o,Qe=Kn.tokenize=function(t,e){var n,i,r,o,a,s,l,u=yn[t+" "];if(u)return e?0:u.slice(0);for(a=t,s=[],l=Xe.preFilter;a;){for(o in n&&!(i=Ln.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=Bn.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(In," ")}),a=a.slice(n.length)),Xe.filter)!(i=jn[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?Kn.error(t):yn(t,s).slice(0)},Je=Kn.compile=function(t,e){var n,i=[],r=[],o=bn[t+" "];if(!o){for(e||(e=Qe(t)),n=e.length;n--;)(o=p(e[n]))[hn]?i.push(o):r.push(o);(o=bn(t,a(r,i))).selector=t}return o},tn=Kn.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,c=!i&&Qe(t=u.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&Ge.getById&&9===e.nodeType&&ln&&Xe.relative[o[1].type]){if(!(e=(Xe.find.ID(a.matches[0].replace(Gn,Xn),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=jn.needsContext.test(t)?0:o.length;r--&&(a=o[r],!Xe.relative[s=a.type]);)if((l=Xe.find[s])&&(i=l(a.matches[0].replace(Gn,Xn),qn.test(o[0].type)&&m(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&g(o)))return En.apply(n,i),n;break}}return(u||Je(t,c))(i,e,!ln,n,qn.test(t)&&m(e.parentNode)||e),n},Ge.sortStable=hn.split("").sort(xn).join("")===hn,Ge.detectDuplicates=!!rn,on(),Ge.sortDetached=!0;var Zn=Array.isArray,Qn=function(t){var e,n,i=t;if(!Zn(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i},Jn=function(t,e,n){var i,r;if(!t)return 0;if(n=n||t,t.length!==undefined){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return 0}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return 0;return 1},ti=function(n,i){var r=[];return Jn(n,function(t,e){r.push(i(t,e,n))}),r},ei=function(n,i){var r=[];return Jn(n,function(t,e){i&&!i(t,e,n)||r.push(t)}),r},ni=function(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return i;return-1},ii=function(t,e,n){var i=ni(t,e,n);return-1!==i?t[i]:undefined},ri={isArray:Zn,toArray:Qn,each:Jn,map:ti,filter:ei,indexOf:function(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n},findIndex:ni,find:ii,last:function(t){return t[t.length-1]}},oi=/^\s*|\s*$/g,ai=function(t){return null===t||t===undefined?"":(""+t).replace(oi,"")},si=function(t,e){return e?!("array"!==e||!ri.isArray(t))||typeof t===e:t!==undefined},li=function(t,e,n){var i;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},ui=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},ci=function(t,e,n){var i,r,o,a,s,l=this,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],!(r=l.createNS(t[3].replace(/\.\w+$/,""),n))[o]){if("static"===t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},u=1),r[o]=e[o],l.extend(r[o].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=u?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(t,e){r[o].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!==o&&(r[o].prototype[e]=t)})),l.each(e["static"],function(t,e){r[o][e]=t})}},di=function(t,e){for(var n,i,r,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s,l=arguments;for(n=1,i=l.length;n<i;n++)for(r in e=l[n])e.hasOwnProperty(r)&&(s=e[r])!==undefined&&(t[r]=s);return t},fi=function(t,n,i,r){r=r||this,t&&(i&&(t=t[i]),ri.each(t,function(t,e){if(!1===n.call(r,t,e,i))return!1;fi(t,n,i,r)}))},hi=function(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)e[i=t[n]]||(e[i]={}),e=e[i];return e},pi=function(t,e){var n,i;for(e=e||window,n=0,i=(t=t.split(".")).length;n<i&&(e=e[t[n]]);n++);return e},mi=function(t,e){return!t||si(t,"array")?t:ri.map(t.split(e||","),ai)},gi=function(t){var e=Ee.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t},vi={trim:ai,isArray:ri.isArray,is:si,toArray:ri.toArray,makeMap:li,each:ri.each,map:ri.map,grep:ri.filter,inArray:ri.indexOf,hasOwn:ui,extend:di,create:ci,walk:fi,createNS:hi,resolve:pi,explode:mi,_addCacheSuffix:gi},yi=document,bi=Array.prototype.push,xi=Array.prototype.slice,wi=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ci=qe.Event,_i=vi.makeMap("children,contents,next,prev"),Si=function(t){return void 0!==t},ki=function(t){return"string"==typeof t},Ti=function(t){return t&&t===t.window},Ei=function(t,e){var n,i,r;for(r=(e=e||yi).createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n},Ni=function(t,e,n,i){var r;if(ki(e))e=Ei(e,Vi(t[0]));else if(e.length&&!e.nodeType){if(e=Bi.makeArray(e),i)for(r=e.length-1;0<=r;r--)Ni(t,e[r],n,i);else for(r=0;r<e.length;r++)Ni(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t},Ai=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},Di=function(t,e,n){var i,r;return e=Bi(e)[0],t.each(function(){var t=this;n&&i===t.parentNode||(i=t.parentNode,r=e.cloneNode(!1),t.parentNode.insertBefore(r,t)),r.appendChild(t)}),t},Mi=vi.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Ri=vi.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Pi={"for":"htmlFor","class":"className",readonly:"readOnly"},Oi={"float":"cssFloat"},Ii={},Li={},Bi=function(t,e){return new Bi.fn.init(t,e)},Fi=function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},zi=/^\s*|\s*$/g,Hi=function(t){return null===t||t===undefined?"":(""+t).replace(zi,"")},ji=function(t,e){var n,i,r,o;if(t)if((n=t.length)===undefined){for(i in t)if(t.hasOwnProperty(i)&&(o=t[i],!1===e.call(o,i,o)))break}else for(r=0;r<n&&(o=t[r],!1!==e.call(o,r,o));r++);return t},Wi=function(t,n){var i=[];return ji(t,function(t,e){n(e,t)&&i.push(e)}),i},Vi=function(t){return t?9===t.nodeType?t:t.ownerDocument:yi};Bi.fn=Bi.prototype={constructor:Bi,selector:"",context:null,length:0,init:function(t,e){var n,i,r=this;if(!t)return r;if(t.nodeType)return r.context=r[0]=t,r.length=1,r;if(e&&e.nodeType)r.context=e;else{if(e)return Bi(t).attr(e);r.context=e=document}if(ki(t)){if(!(n="<"===(r.selector=t).charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:wi.exec(t)))return Bi(e).find(t);if(n[1])for(i=Ei(t,Vi(e)).firstChild;i;)bi.call(r,i),i=i.nextSibling;else{if(!(i=Vi(e).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(t);r.length=1,r[0]=i}}else this.add(t,!1);return r},toArray:function(){return vi.toArray(this)},add:function(t,e){var n,i,r=this;if(ki(t))return r.add(Bi(t));if(!1!==e)for(n=Bi.unique(r.toArray().concat(Bi.makeArray(t))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else bi.apply(r,Bi.makeArray(t));return r},attr:function(e,n){var t,i=this;if("object"==typeof e)ji(e,function(t,e){i.attr(t,e)});else{if(!Si(n)){if(i[0]&&1===i[0].nodeType){if((t=Ii[e])&&t.get)return t.get(i[0],e);if(Ri[e])return i.prop(e)?e:undefined;null===(n=i[0].getAttribute(e,2))&&(n=undefined)}return n}this.each(function(){var t;if(1===this.nodeType){if((t=Ii[e])&&t.set)return void t.set(this,n);null===n?this.removeAttribute(e,2):this.setAttribute(e,n,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=Pi[t]||t))ji(t,function(t,e){n.prop(t,e)});else{if(!Si(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return n},css:function(n,i){var t,r,o=this,e=function(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})},a=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})};if("object"==typeof n)ji(n,function(t,e){o.css(t,e)});else if(Si(i))n=e(n),"number"!=typeof i||Mi[n]||(i=i.toString()+"px"),o.each(function(){var t=this.style;if((r=Li[n])&&r.set)r.set(this,i);else{try{this.style[Oi[n]||n]=i}catch(e){}null!==i&&""!==i||(t.removeProperty?t.removeProperty(a(n)):t.removeAttribute(n))}});else{if(t=o[0],(r=Li[n])&&r.get)return r.get(t);if(!t.ownerDocument.defaultView)return t.currentStyle?t.currentStyle[e(n)]:"";try{return t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(a(n))}catch(s){return undefined}}return o},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],Ci.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(Si(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){Bi(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(Si(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Ni(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return Ni(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?Ni(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?Ni(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return Bi(t).append(this),this},prependTo:function(t){return Bi(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Di(this,t)},wrapAll:function(t){return Di(this,t,!0)},wrapInner:function(t){return this.each(function(){Bi(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){Bi(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),Bi(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(r,o){var t=this;return"string"!=typeof r||(-1!==r.indexOf(" ")?ji(r.split(" "),function(){t.toggleClass(this,o)}):t.each(function(t,e){var n,i;(i=Ai(e,r))!==o&&(n=e.className,i?e.className=Hi((" "+n+" ").replace(" "+r+" "," ")):e.className+=n?" "+r:r)})),t},hasClass:function(t){return Ai(this[0],t)},each:function(t){return ji(this,t)},on:function(t,e){return this.each(function(){Ci.bind(this,t,e)})},off:function(t,e){return this.each(function(){Ci.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?Ci.fire(this,t.type,t):Ci.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Bi(xi.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)Bi.find(t,this[e],i);return Bi(i)},filter:function(n){return Bi("function"==typeof n?Wi(this.toArray(),function(t,e){return n(e,t)}):Bi.filter(n,this.toArray()))},closest:function(n){var i=[];return n instanceof Bi&&(n=n[0]),this.each(function(t,e){for(;e;){if("string"==typeof n&&Bi(e).is(n)){i.push(e);break}if(e===n){i.push(e);break}e=e.parentNode}}),Bi(i)},offset:function(t){var e,n,i,r,o=0,a=0;return t?this.css(t):((e=this[0])&&(i=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(o=(r=e.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:bi,sort:[].sort,splice:[].splice},vi.extend(Bi,{extend:vi.extend,makeArray:function(t){return Ti(t)||t.nodeType?[t]:vi.toArray(t)},inArray:Fi,isArray:vi.isArray,each:ji,trim:Hi,grep:Wi,find:Kn,expr:Kn.selectors,unique:Kn.uniqueSort,text:Kn.getText,contains:Kn.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!==e[i].nodeType&&e.splice(i,1);return e=1===e.length?Bi.find.matchesSelector(e[0],t)?[e[0]]:[]:Bi.find.matches(t,e)}});var Ui=function(t,e,n){var i=[],r=t[e];for("string"!=typeof n&&n instanceof Bi&&(n=n[0]);r&&9!==r.nodeType;){if(n!==undefined){if(r===n)break;if("string"==typeof n&&Bi(r).is(n))break}1===r.nodeType&&i.push(r),r=r[e]}return i},$i=function(t,e,n,i){var r=[];for(i instanceof Bi&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(i!==undefined){if(t===i)break;if("string"==typeof i&&Bi(t).is(i))break}r.push(t)}return r},qi=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};ji({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Ui(t,"parentNode")},next:function(t){return qi(t,"nextSibling",1)},prev:function(t){return qi(t,"previousSibling",1)},children:function(t){return $i(t.firstChild,"nextSibling",1)},contents:function(t){return vi.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,i){Bi.fn[t]=function(e){var n=[];return this.each(function(){var t=i.call(n,this,e,n);t&&(Bi.isArray(t)?n.push.apply(n,t):n.push(t))}),1<this.length&&(_i[t]||(n=Bi.unique(n)),0===t.indexOf("parents")&&(n=n.reverse())),n=Bi(n),e?n.filter(e):n}}),ji({parentsUntil:function(t,e){return Ui(t,"parentNode",e)},nextUntil:function(t,e){return $i(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return $i(t,"previousSibling",1,e).slice(1)}},function(i,r){Bi.fn[i]=function(e,t){var n=[];return this.each(function(){var t=r.call(n,this,e,n);t&&(Bi.isArray(t)?n.push.apply(n,t):n.push(t))}),1<this.length&&(n=Bi.unique(n),0!==i.indexOf("parents")&&"prevUntil"!==i||(n=n.reverse())),n=Bi(n),t?n.filter(t):n}}),Bi.fn.is=function(t){return!!t&&0<this.filter(t).length},Bi.fn.init.prototype=Bi.fn,Bi.overrideDefaults=function(n){var i,r=function(t,e){return i=i||n(),0===arguments.length&&(t=i.element),e||(e=i.context),new r.fn.init(t,e)};return Bi.extend(r,this),r};var Yi=function(n,i,t){ji(t,function(t,e){n[t]=n[t]||{},n[t][i]=e})};Ee.ie&&Ee.ie<8&&(Yi(Ii,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?undefined:e},size:function(t){var e=t.size;return 20===e?undefined:e},"class":function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?undefined:e}}),Yi(Ii,"set",{"class":function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),Ee.ie&&Ee.ie<9&&(Oi["float"]="styleFloat",Yi(Li,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),Bi.attrHooks=Ii,Bi.cssHooks=Li;var Gi,Xi,Ki,Zi=function(n){var i,r=!1;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r||(r=!0,i=n.apply(null,t)),i}},Qi=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}return undefined},Ji=function(t,e){var n=Qi(t,e);if(!n)return{major:0,minor:0};var i=function(t){return Number(e.replace(n,"$"+t))};return nr(i(1),i(2))},tr=function(t,e){var n=String(e).toLowerCase();return 0===t.length?er():Ji(t,n)},er=function(){return nr(0,0)},nr=function(t,e){return{major:t,minor:e}},ir={nu:nr,detect:tr,unknown:er},rr="Edge",or="Chrome",ar="IE",sr="Opera",lr="Firefox",ur="Safari",cr=function(t,e){return function(){return e===t}},dr=function(){return fr({current:undefined,version:ir.unknown()})},fr=function(t){var e=t.current;return{current:e,version:t.version,isEdge:cr(rr,e),isChrome:cr(or,e),isIE:cr(ar,e),isOpera:cr(sr,e),isFirefox:cr(lr,e),isSafari:cr(ur,e)}},hr={unknown:dr,nu:fr,edge:vt(rr),chrome:vt(or),ie:vt(ar),opera:vt(sr),firefox:vt(lr),safari:vt(ur)},pr="Windows",mr="iOS",gr="Android",vr="Linux",yr="OSX",br="Solaris",xr="FreeBSD",wr=function(t,e){return function(){return e===t}},Cr=function(){return _r({current:undefined,version:ir.unknown()})},_r=function(t){var e=t.current;return{current:e,version:t.version,isWindows:wr(pr,e),isiOS:wr(mr,e),isAndroid:wr(gr,e),isOSX:wr(yr,e),isLinux:wr(vr,e),isSolaris:wr(br,e),isFreeBSD:wr(xr,e)}},Sr={unknown:Cr,nu:_r,windows:vt(pr),ios:vt(mr),android:vt(gr),linux:vt(vr),osx:vt(yr),solaris:vt(br),freebsd:vt(xr)},kr=function(t,e,n){var i=t.isiOS()&&!0===/ipad/i.test(n),r=t.isiOS()&&!i,o=t.isAndroid()&&3===t.version.major,a=t.isAndroid()&&4===t.version.major,s=i||o||a&&!0===/mobile/i.test(n),l=t.isiOS()||t.isAndroid(),u=l&&!s,c=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n);return{isiPad:vt(i),isiPhone:vt(r),isTablet:vt(s),isPhone:vt(u),isTouch:vt(l),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:vt(c)}},Tr=function(t,e){var n=String(e).toLowerCase();return ee(t,function(t){return t.search(n)})},Er={detectBrowser:function(t,n){return Tr(t,n).map(function(t){var e=ir.detect(t.versionRegexes,n);return{current:t.name,version:e}})},detectOs:function(t,n){return Tr(t,n).map(function(t){var e=ir.detect(t.versionRegexes,n);return{current:t.name,version:e}})}},Nr=function(t,e){return-1!==t.indexOf(e)},Ar=function(t){return t.replace(/^\s+|\s+$/g,"")},Dr=function(t){return t.replace(/^\s+/g,"")},Mr=function(t){return t.replace(/\s+$/g,"")},Rr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pr=function(e){return function(t){return Nr(t,e)}},Or=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Nr(t,"edge/")&&Nr(t,"chrome")&&Nr(t,"safari")&&Nr(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rr],search:function(t){return Nr(t,"chrome")&&!Nr(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Nr(t,"msie")||Nr(t,"trident")}},{name:"Opera",versionRegexes:[Rr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pr("firefox")},{name:"Safari",versionRegexes:[Rr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Nr(t,"safari")||Nr(t,"mobile/"))&&Nr(t,"applewebkit")}}],Ir=[{name:"Windows",search:Pr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Nr(t,"iphone")||Nr(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Pr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pr("linux"),versionRegexes:[]},{name:"Solaris",search:Pr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pr("freebsd"),versionRegexes:[]}],Lr={browsers:vt(Or),oses:vt(Ir)},Br={detect:function(t){var e=Lr.browsers(),n=Lr.oses(),i=Er.detectBrowser(e,t).fold(hr.unknown,hr.nu),r=Er.detectOs(n,t).fold(Sr.unknown,Sr.nu);return{browser:i,os:r,deviceType:kr(r,i,t)}}},Fr={detect:Zi(function(){var t=navigator.userAgent;return Br.detect(t)})},zr=function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",t),"HTML must have a single root node";return Wr(n.childNodes[0])},Hr=function(t,e){var n=(e||document).createElement(t);return Wr(n)},jr=function(t,e){var n=(e||document).createTextNode(t);return Wr(n)},Wr=function(t){if(null===t||t===undefined)throw new Error("Node cannot be null or undefined");return{dom:vt(t)}},Vr={fromHtml:zr,fromTag:Hr,fromText:jr,fromDom:Wr,fromPoint:function(t,e,n){var i=t.dom();return Ot.from(i.elementFromPoint(e,n)).map(Wr)}},Ur=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE),$r=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),qr=Node.TEXT_NODE,Yr=(Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,function(t){return t.dom().nodeName.toLowerCase()}),Gr=function(t){return t.dom().nodeType},Xr=function(e){return function(t){return Gr(t)===e}},Kr=Xr($r),Zr=Xr(qr),Qr=Object.keys,Jr=Object.hasOwnProperty,to=function(t,e){for(var n=Qr(t),i=0,r=n.length;i<r;i++){var o=n[i];e(t[o],o,t)}},eo=function(t,i){return no(t,function(t,e,n){return{k:e,v:i(t,e,n)}})},no=function(i,r){var o={};return to(i,function(t,e){var n=r(t,e,i);o[n.k]=n.v}),o},io=function(t,n){var i={},r={};return to(t,function(t,e){(n(t,e)?i:r)[e]=t}),{t:i,f:r}},ro=function(t,e){return Jr.call(t,e)},oo=function(t,e,n){if(!(Bt(n)||jt(n)||Vt(n)))throw console.error("Invalid call to Attr.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},ao=function(t,e,n){oo(t.dom(),e,n)},so=function(t,e){var n=t.dom();to(e,function(t,e){oo(n,e,t)})},lo=function(t,e){var n=t.dom().getAttribute(e);return null===n?undefined:n},uo=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},co=function(t,e){t.dom().removeAttribute(e)},fo=function(t){var e=Zr(t)?t.dom().parentNode:t.dom();return e!==undefined&&null!==e&&e.ownerDocument.body.contains(e)},ho=function(t){return t.style!==undefined},po=function(t,e,n){if(!Bt(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);ho(t)&&t.style.setProperty(e,n)},mo=function(t,e){var n=t.dom();to(e,function(t,e){po(n,e,t)})},go=function(t,e){var n=t.dom(),i=window.getComputedStyle(n).getPropertyValue(e),r=""!==i||fo(t)?i:vo(n,e);return null===r?undefined:r},vo=function(t,e){return ho(t)?t.style.getPropertyValue(e):""},yo=function(t,e){var n=t.dom(),i=vo(n,e);return Ot.from(i).filter(function(t){return 0<t.length})},bo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(e.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+n.length+" arguments");var i={};return Xt(e,function(t,e){i[t]=vt(n[e])}),i}},xo={toArray:function(t,e){for(var n=[],i=function(t){return n.push(t),e(t)},r=e(t);(r=r.bind(i)).isSome(););return n}},wo=function(){return xe.getOrDie("Node")},Co=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},_o={documentPositionPreceding:function(t,e){return Co(t,e,wo().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(t,e){return Co(t,e,wo().DOCUMENT_POSITION_CONTAINED_BY)}},So=$r,ko=Ur,To=function(t,e){var n=t.dom();if(n.nodeType!==So)return!1;if(n.matches!==undefined)return n.matches(e);if(n.msMatchesSelector!==undefined)return n.msMatchesSelector(e);if(n.webkitMatchesSelector!==undefined)return n.webkitMatchesSelector(e);if(n.mozMatchesSelector!==undefined)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Eo=function(t){return t.nodeType!==So&&t.nodeType!==ko||0===t.childElementCount},No=function(t,e){var n=e===undefined?document:e.dom();return Eo(n)?[]:Gt(n.querySelectorAll(t),Vr.fromDom)},Ao=function(t,e){var n=e===undefined?document:e.dom();return Eo(n)?Ot.none():Ot.from(n.querySelector(t)).map(Vr.fromDom)},Do=function(t,e){return t.dom()===e.dom()},Mo=function(t,e){var n=t.dom(),i=e.dom();return n!==i&&n.contains(i)},Ro=function(t,e){return _o.documentPositionContainedBy(t.dom(),e.dom())},Po=Fr.detect().browser.isIE()?Ro:Mo,Oo=function(t){return Vr.fromDom(t.dom().ownerDocument)},Io=function(t){return Vr.fromDom(t.dom().ownerDocument.documentElement)},Lo=function(t){var e=t.dom(
).ownerDocument.defaultView;return Vr.fromDom(e)},Bo=function(t){var e=t.dom();return Ot.from(e.parentNode).map(Vr.fromDom)},Fo=function(t,e){for(var n=Wt(e)?e:vt(!1),i=t.dom(),r=[];null!==i.parentNode&&i.parentNode!==undefined;){var o=i.parentNode,a=Vr.fromDom(o);if(r.push(a),!0===n(a))break;i=o}return r},zo=function(t){var e=t.dom();return Ot.from(e.previousSibling).map(Vr.fromDom)},Ho=function(t){var e=t.dom();return Ot.from(e.nextSibling).map(Vr.fromDom)},jo=function(t){return ue(xo.toArray(t,zo))},Wo=function(t){return xo.toArray(t,Ho)},Vo=function(t){var e=t.dom();return Gt(e.childNodes,Vr.fromDom)},Uo=function(t,e){var n=t.dom().childNodes;return Ot.from(n[e]).map(Vr.fromDom)},$o=function(t){return Uo(t,0)},qo=function(t){return Uo(t,t.dom().childNodes.length-1)},Yo=function(t){return t.dom().childNodes.length},Go=(bo("element","offset"),Fr.detect().browser),Xo=function(t){return ee(t,Kr)},Ko=function(t){return Go.isFirefox()&&"table"===Yr(t)?Xo(Vo(t)).filter(function(t){return"caption"===Yr(t)}).bind(function(r){return Xo(Wo(r)).map(function(t){var e=t.dom().offsetTop,n=r.dom().offsetTop,i=r.dom().offsetHeight;return e<=n?-i:0})}).getOr(0):0},Zo={getPos:function(t,e,n){var i,r,o=0,a=0,s=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===go(Vr.fromDom(t),"position"))return{x:o=(r=e.getBoundingClientRect()).left+(s.documentElement.scrollLeft||t.scrollLeft)-s.documentElement.clientLeft,y:a=r.top+(s.documentElement.scrollTop||t.scrollTop)-s.documentElement.clientTop};for(i=e;i&&i!==n&&i.nodeType;)o+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!==n&&i.nodeType;)o-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode;a+=Ko(Vr.fromDom(e))}return{x:o,y:a}}},Qo=function(t){var n=Ot.none(),e=[],i=function(n){return Qo(function(e){r(function(t){e(n(t))})})},r=function(t){a()?l(t):e.push(t)},o=function(t){n=Ot.some(t),s(e),e=[]},a=function(){return n.isSome()},s=function(t){Xt(t,l)},l=function(e){n.each(function(t){setTimeout(function(){e(t)},0)})};return t(o),{get:r,map:i,isReady:a}},Jo=function(e){return Qo(function(t){t(e)})},ta={nu:Qo,pure:Jo},ea=function(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this;setTimeout(function(){i.apply(n,t)},0)}},na=function(e){var r=function(t){e(ea(t))},n=function(){return ta.nu(r)},t=function(){var e=null;return na(function(t){null===e&&(e=n()),e.get(t)})};return{map:function(i){return na(function(n){r(function(t){var e=i(t);n(e)})})},bind:function(n){return na(function(e){r(function(t){n(t).get(e)})})},anonBind:function(e){return na(function(t){r(function(){e.get(t)})})},toLazy:n,toCached:t,get:r}},ia=function(e){return na(function(t){t(e)})},ra={nu:na,pure:ia},oa=function(a,t){return t(function(n){var i=[],r=0,o=function(e){return function(t){i[e]=t,++r>=a.length&&n(i)}};0===a.length?n([]):Xt(a,function(t,e){t.get(o(e))})})},aa=function(t){return oa(t,ra.nu)},sa=function(n){var t=function(){return sa(n)},e=function(){return sa(n)},i=function(t){return sa(t(n))},r=function(t){t(n)},o=function(t){return t(n)},a=function(t,e){return e(n)},s=function(t){return t(n)},l=function(t){return t(n)},u=function(){return Ot.some(n)};return{is:function(t){return n===t},isValue:Et,isError:Tt,getOr:vt(n),getOrThunk:vt(n),getOrDie:vt(n),or:t,orThunk:e,fold:a,map:i,each:r,bind:o,exists:s,forall:l,toOption:u}},la=function(e){return{is:Tt,isValue:Tt,isError:Et,getOr:yt,getOrThunk:function(t){return t()},getOrDie:function(){return kt(String(e))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(t){return t(e)},map:function(){return la(e)},each:mt,bind:function(){return la(e)},exists:Tt,forall:Et,toOption:Ot.none}},ua={value:sa,error:la},ca=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],da=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],fa=["td","th"],ha=["thead","tbody","tfoot"],pa=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ma=["li","dd","dt"],ga=["ul","ol","dl"],va=["pre","script","textarea","style"],ya=function(e){var n;return function(t){return(n=n||de(e,vt(!0))).hasOwnProperty(Yr(t))}},ba=ya(["h1","h2","h3","h4","h5","h6"]),xa=ya(ca),wa=function(t){return Kr(t)&&!xa(t)},Ca=function(t){return Kr(t)&&"br"===Yr(t)},_a=ya(pa),Sa=ya(ga),ka=ya(ma),Ta=ya(da),Ea=ya(ha),Na=ya(fa),Aa=ya(va),Da=function(e){return function(t){return!!t&&t.nodeType===e}},Ma=Da(1),Ra=function(t){var i=t.toLowerCase().split(" ");return function(t){var e,n;if(t&&t.nodeType)for(n=t.nodeName.toLowerCase(),e=0;e<i.length;e++)if(n===i[e])return!0;return!1}},Pa=function(i,t){var r=t.toLowerCase().split(" ");return function(t){var e;if(Ma(t))for(e=0;e<r.length;e++){var n=t.ownerDocument.defaultView.getComputedStyle(t,null);if((n?n.getPropertyValue(i):null)===r[e])return!0}return!1}},Oa=function(e,n){return function(t){return Ma(t)&&t[e]===n}},Ia=function(e){return function(t){return Ma(t)&&t.hasAttribute(e)}},La=function(e,n){return function(t){return Ma(t)&&t.getAttribute(e)===n}},Ba=function(t){return Ma(t)&&t.hasAttribute("data-mce-bogus")},Fa=function(t){return Ma(t)&&"all"===t.getAttribute("data-mce-bogus")},za=function(t){return Ma(t)&&"TABLE"===t.tagName},Ha=function(e){return function(t){if(Ma(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},ja=Da(3),Wa=Da(8),Va=Da(9),Ua=Ra("br"),$a=Ha("true"),qa=Ha("false"),Ya={isText:ja,isElement:Ma,isComment:Wa,isDocument:Va,isBr:Ua,isContentEditableTrue:$a,isContentEditableFalse:qa,matchNodeNames:Ra,hasPropValue:Oa,hasAttribute:Ia,hasAttributeValue:La,matchStyleValues:Pa,isBogus:Ba,isBogusAll:Fa,isTable:za},Ga=function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n},Xa=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Ka=function(t,e){var n,i=e.childNodes;if(!Ya.isElement(e)||!Xa(e)){for(n=i.length-1;0<=n;n--)Ka(t,i[n]);if(!1===Ya.isDocument(e)){if(Ya.isText(e)&&0<e.nodeValue.length){var r=vi.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||0<r)return;if(0===r&&Ga(e))return}else if(Ya.isElement(e)&&(1===(i=e.childNodes).length&&Xa(i[0])&&e.parentNode.insertBefore(i[0],e),i.length||Ta(Vr.fromDom(e))))return;t.remove(e)}return e}},Za={trimNode:Ka},Qa=vi.makeMap,Ja=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ts=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,es=/[<>&\"\']/g,ns=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,is={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};Xi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ki={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var rs=function(t){var e;return(e=Vr.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t},os=function(t,e){var n,i,r,o={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),Xi[i]||(r="&"+t[n+1]+";",o[i]=r,o[r]=i);return o}};Gi=os("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var as,ss=function(t,e){return t.replace(e?Ja:ts,function(t){return Xi[t]||t})},ls=function(t,e){return t.replace(e?Ja:ts,function(t){return 1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":Xi[t]||"&#"+t.charCodeAt(0)+";"})},us=function(t,e,n){return n=n||Gi,t.replace(e?Ja:ts,function(t){return Xi[t]||n[t]||t})},cs=function(t,e){var n=os(e)||Gi,i=function(t,e){return t.replace(e?Ja:ts,function(t){return Xi[t]!==undefined?Xi[t]:n[t]!==undefined?n[t]:1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"})},r=function(t,e){return us(t,e,n)},o=Qa(t.replace(/\+/g,","));return o.named&&o.numeric?i:o.named?e?r:us:o.numeric?ls:ss},ds={encodeRaw:ss,encodeAllRaw:function(t){return(""+t).replace(es,function(t){return Xi[t]||t})},encodeNumeric:ls,encodeNamed:us,getEncodeFunc:cs,decode:function(t){return t.replace(ns,function(t,e){return e?65535<(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):is[e]||String.fromCharCode(e):Ki[t]||Gi[t]||rs(t)})}},fs={},hs={},ps=vi.makeMap,ms=vi.each,gs=vi.extend,vs=vi.explode,ys=vi.inArray,bs=function(t,e){return(t=vi.trim(t))?t.split(e||" "):[]},xs=function(t){var s,e,n,i,r,o,l={},a=function(t,e,n){var i,r,o,a=function(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e||{};return r};for(e=e||"","string"==typeof(n=n||[])&&(n=bs(n)),i=(t=bs(t)).length;i--;)o={attributes:a(r=bs([s,e].join(" "))),attributesOrder:r,children:a(n,hs)},l[t[i]]=o},u=function(t,e){var n,i,r,o;for(n=(t=bs(t)).length,e=bs(e);n--;)for(i=l[t[n]],r=0,o=e.length;r<o;r++)i.attributes[e[r]]={},i.attributesOrder.push(e[r])};return fs[t]?fs[t]:(s="id accesskey class dir lang style tabindex title role",e="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",e+=" article aside details dialog figure main header footer hgroup section nav",n+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(s+=" xml:lang",n=[n,o="acronym applet basefont big font strike tt"].join(" "),ms(bs(o),function(t){a(t,"",n)}),e=[e,r="center dir isindex noframes"].join(" "),i=[e,n].join(" "),ms(bs(r),function(t){a(t,"",i)})),i=i||[e,n].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),a("address dt dd div caption","",i),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),a("blockquote","cite",i),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",i),a("dl","","dt dd"),a("a","href target rel media hreflang type",n),a("q","cite",n),a("ins del","cite datetime",i),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",i),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),a("param","name value"),a("map","name",[i,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",i),a("th","colspan rowspan headers scope abbr",i),a("form","accept-charset action autocomplete enctype method name novalidate target",i),a("fieldset","disabled form name",[i,"legend"].join(" ")),a("label","form for",n),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?i:n),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[i,"li"].join(" ")),a("noscript","",i),"html4"!==t&&(a("wbr"),a("ruby","",[n,"rt rp"].join(" ")),a("figcaption","",i),a("mark rt rp summary bdi","",n),a("canvas","width height",i),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[n,"option"].join(" ")),a("article section nav aside main header footer","",i),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[i,"figcaption"].join(" ")),a("time","datetime",n),a("dialog","open",i),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",n),a("progress","value max",n),a("meter","value min max low high optimum",n),a("details","open",[i,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select","onchange"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==t&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("iframe","sandbox seamless allowfullscreen")),ms(bs("a form meter progress dfn"),function(t){l[t]&&delete l[t].children[t]}),delete l.caption.children.table,delete l.script,fs[t]=l)},ws=function(t,n){var i;return t&&(i={},"string"==typeof t&&(t={"*":t}),ms(t,function(t,e){i[e]=i[e.toUpperCase()]="map"===n?ps(t,/[, ]/):vs(t,/[, ]/)})),i},Cs=function(t,e,n,i){var r=function(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t};return"#"+r(e)+r(n)+r(i)},_s=vi.each,Ss=vi.grep,ks=Ee.ie,Ts=/^([a-z0-9],?)+$/i,Es=/^[ \t\r\n]*$/,Ns=function(n,i,r){var t={},o=i.keep_values,e={set:function(t,e,n){i.url_converter&&(e=i.url_converter.call(i.url_converter_scope||r(),e,n,t[0])),t.attr("data-mce-"+n,e).attr(n,e)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}};return t={style:{set:function(t,e){null===e||"object"!=typeof e?(o&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(t){var e=t.attr("data-mce-style")||t.attr("style");return e=n.serialize(n.parse(e),t[0].nodeName)}}},o&&(t.href=t.src=e),t},As=function(t,e){var n=e.attr("style"),i=t.serialize(t.parse(n),e[0].nodeName);i||(i=null),e.attr("data-mce-style",i)},Ds=function(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!==i||i!==n&&t.nodeValue.length)&&(r++,n=i);return r};(as=St||(St={})).DOM=as(document),as.nodeIndex=Ds;var Ms=St,Rs=Ms.DOM,Ps=vi.each,Os=vi.grep,Is=function(t){return"function"==typeof t},Ls=function(){var r=0,s=1,l=2,u=3,c={},o=[],d={},f=[],h=0,p=function(t,e,n){var i,r,o=Rs,a=function(){o.remove(r),i&&(i.onreadystatechange=i.onload=i=null),e()},s=function(){Is(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)};r=o.uniqueId(),(i=document.createElement("script")).id=r,i.type="text/javascript",i.src=vi._addCacheSuffix(t),i.onload=a,i.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)};this.isDone=function(t){return c[t]===l},this.markDone=function(t){c[t]=l},this.add=this.load=function(t,e,n,i){c[t]===undefined&&(o.push(t),c[t]=r),e&&(d[t]||(d[t]=[]),d[t].push({success:e,failure:i,scope:n||this}))},this.remove=function(t){delete c[t],delete d[t]},this.loadQueue=function(t,e,n){this.loadScripts(o,t,e,n)},this.loadScripts=function(n,t,e,i){var r,o=[],a=function(e,t){Ps(d[t],function(t){Is(t[e])&&t[e].call(t.scope)}),d[t]=undefined};f.push({success:t,failure:i,scope:e||this}),(r=function(){var t=Os(n);if(n.length=0,Ps(t,function(t){c[t]!==l?c[t]!==u?c[t]!==s&&(c[t]=s,h++,p(t,function(){c[t]=l,h--,a("success",t),r()},function(){c[t]=u,h--,o.push(t),a("failure",t),r()})):a("failure",t):a("success",t)}),!h){var e=f.slice(0);f.length=0,Ps(e,function(t){0===o.length?Is(t.success)&&t.success.call(t.scope):Is(t.failure)&&t.failure.call(t.scope,o)})}})()}};Ls.ScriptLoader=new Ls;var Bs,Fs=vi.each;(Bs=v||(v={})).PluginManager=Bs(),Bs.ThemeManager=Bs();var zs,Hs=function(e,n){Bo(e).each(function(t){t.dom().insertBefore(n.dom(),e.dom())})},js=function(t,e){Ho(t).fold(function(){Bo(t).each(function(t){Ws(t,e)})},function(t){Hs(t,e)})},Ws=function(t,e){t.dom().appendChild(e.dom())},Vs=function(t,e){Hs(t,e),Ws(e,t)},Us=function(e,t){Xt(t,function(t){Hs(e,t)})},$s=function(e,t){Xt(t,function(t){Ws(e,t)})},qs=function(t){t.dom().textContent="",Xt(Vo(t),function(t){Ys(t)})},Ys=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},Gs=function(t){var e=Vo(t);0<e.length&&Us(t,e),Ys(t)},Xs=function(n,i){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null===r&&(r=setTimeout(function(){n.apply(null,t),r=null},i))}}},Ks=function(n,i){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null!==r&&clearTimeout(r),r=setTimeout(function(){n.apply(null,t),r=null},i)}}},Zs=function(t){var e=t,n=function(){return e},i=function(){return Zs(n())};return{get:n,set:function(t){e=t},clone:i}},Qs=function(t,e){var n=lo(t,e);return n===undefined||""===n?[]:n.split(" ")},Js=function(t,e,n){var i=Qs(t,e).concat([n]);return ao(t,e,i.join(" ")),!0},tl=function(t,e,n){var i=Qt(Qs(t,e),function(t){return t!==n});return 0<i.length?ao(t,e,i.join(" ")):co(t,e),!1},el=function(t){return t.dom().classList!==undefined},nl=function(t){return Qs(t,"class")},il=function(t,e){return Js(t,"class",e)},rl=function(t,e){return tl(t,"class",e)},ol=function(t,e){el(t)?t.dom().classList.add(e):il(t,e)},al=function(t){0===(el(t)?t.dom().classList:nl(t)).length&&co(t,"class")},sl=function(t,e){el(t)?t.dom().classList.remove(e):rl(t,e),al(t)},ll=function(t,e){return el(t)&&t.dom().classList.contains(e)},ul=function(t,e){return No(e,t)},cl=function(t,e,n){for(var i=t.dom(),r=Wt(n)?n:vt(!1);i.parentNode;){i=i.parentNode;var o=Vr.fromDom(i);if(e(o))return Ot.some(o);if(r(o))break}return Ot.none()},dl=function(t,e,n){return s(function(t){return e(t)},cl,t,e,n)},fl=function(t,e,n){return cl(t,function(t){return To(t,e)},n)},hl=function(t,e){return Ao(e,t)},pl=function(t,e,n){return s(To,fl,t,e,n)},ml=vt("mce-annotation"),gl=vt("data-mce-annotation"),vl=vt("data-mce-annotation-uid"),yl=function(i,t){var e=i.selection.getRng(),n=Vr.fromDom(e.startContainer),r=Vr.fromDom(i.getBody()),o=t.fold(function(){return"."+ml()},function(t){return"["+gl()+'="'+t+'"]'}),a=Uo(n,e.startOffset).getOr(n),s=pl(a,o,function(t){return Do(t,r)}),l=function(t,e){return uo(t,e)?Ot.some(lo(t,e)):Ot.none()};return s.bind(function(t){return l(t,""+vl()).bind(function(n){return l(t,""+gl()).map(function(t){var e=xl(i,n);return{uid:n,name:t,elements:e}})})})},bl=function(t){return Kr(t)&&ll(t,ml())},xl=function(t,e){var n=Vr.fromDom(t.getBody());return ul(n,"["+vl()+'="'+e+'"]')},wl=function(t,e){var n=Vr.fromDom(t.getBody()),i=ul(n,"["+gl()+'="'+e+'"]'),r={};return Xt(i,function(t){var e=lo(t,vl()),n=r.hasOwnProperty(e)?r[e]:[];r[e]=n.concat([t])}),r},Cl=function(n){var r=Zs({}),o=function(){return{listeners:[],previous:Zs(Ot.none())}},t=function(t,e){i(t,function(t){return e(t),t})},i=function(t,e){var n=r.get(),i=e(n.hasOwnProperty(t)?n[t]:o());n[t]=i,r.set(n)},a=function(e,n,i){t(e,function(t){Xt(t.listeners,function(t){return t(!0,e,{uid:n,nodes:Gt(i,function(t){return t.dom()})})})})},s=function(e){t(e,function(t){Xt(t.listeners,function(t){return t(!1,e)})})},e=Ks(function(){var t=r.get(),e=fe(Qr(t));Xt(e,function(t){i(t,function(r){var o=r.previous.get();return yl(n,Ot.some(t)).fold(function(){o.isSome()&&(s(t),r.previous.set(Ot.none()))},function(t){var e=t.uid,n=t.name,i=t.elements;o.is(e)||(a(n,e,i),r.previous.set(Ot.some(e)))}),{previous:r.previous,listeners:r.listeners}})})},30);return n.on("remove",function(){e.cancel()}),n.on("nodeChange",function(){e.throttle()}),{addListener:function(t,e){i(t,function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}})}}},_l=function(t,e){var n=function(t){return Ot.from(t.attributes.map[gl()]).bind(e.lookup)};t.on("init",function(){t.serializer.addNodeFilter("span",function(t){Xt(t,function(e){n(e).each(function(t){!1===t.persistent&&e.unwrap()})})})})},Sl=function(){var n={};return{register:function(t,e){n[t]={name:t,settings:e}},lookup:function(t){return n.hasOwnProperty(t)?Ot.from(n[t]).map(function(t){return t.settings}):Ot.none()}}},kl=0,Tl=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++kl+String(e)},El=function(e,t){Xt(t,function(t){ol(e,t)})},Nl=function(t,e){return Vr.fromDom(t.dom().cloneNode(e))},Al=function(t){return Nl(t,!1)},Dl=function(t){return Nl(t,!0)},Ml=function(t,e){var n=(e||document).createElement("div");return n.innerHTML=t,Vo(Vr.fromDom(n))},Rl=function(t){return t.dom().innerHTML},Pl=function(t,e){var n=Oo(t).dom(),i=Vr.fromDom(n.createDocumentFragment()),r=Ml(e,n);$s(i,r),qs(t),Ws(t,i)},Ol="\ufeff",Il={isZwsp:function(t){return t===Ol},ZWSP:Ol,trim:function(t){return t.replace(new RegExp(Ol,"g"),"")}},Ll=Ya.isElement,Bl=Ya.isText,Fl=function(t){return Bl(t)&&(t=t.parentNode),Ll(t)&&t.hasAttribute("data-mce-caret")},zl=function(t){return Bl(t)&&Il.isZwsp(t.data)},Hl=function(t){return Fl(t)||zl(t)},jl=function(t){return t.firstChild!==t.lastChild||!Ya.isBr(t.firstChild)},Wl=function(t,e){var n,i,r;if(i=t.ownerDocument.createTextNode(Il.ZWSP),r=t.parentNode,e){if(n=t.previousSibling,Bl(n)){if(Hl(n))return n;if(Gl(n))return n.splitText(n.data.length-1)}r.insertBefore(i,t)}else{if(n=t.nextSibling,Bl(n)){if(Hl(n))return n;if(Yl(n))return n.splitText(1),n}t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i)}return i},Vl=function(t){var e=t.container();return t&&Ya.isText(e)&&e.data.charAt(t.offset())===Il.ZWSP},Ul=function(t){var e=t.container();return t&&Ya.isText(e)&&e.data.charAt(t.offset()-1)===Il.ZWSP},$l=function(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},ql=function(t,e,n){var i,r;return(i=e.ownerDocument.createElement(t)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild($l()),r=e.parentNode,n?r.insertBefore(i,e):e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i),i},Yl=function(t){return Bl(t)&&t.data[0]===Il.ZWSP},Gl=function(t){return Bl(t)&&t.data[t.data.length-1]===Il.ZWSP},Xl=function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];Ya.isBogus(n)&&n.parentNode.removeChild(n)},Kl=function(t){return t&&t.hasAttribute("data-mce-caret")?(Xl(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},Zl=function(t){return Fl(t.startContainer)},Ql=Ya.isContentEditableTrue,Jl=Ya.isContentEditableFalse,tu=Ya.isBr,eu=Ya.isText,nu=Ya.matchNodeNames("script style textarea"),iu=Ya.matchNodeNames("img input textarea hr iframe video audio object"),ru=Ya.matchNodeNames("table"),ou=Hl,au=function(t){return!ou(t)&&(eu(t)?!nu(t.parentNode):iu(t)||tu(t)||ru(t)||lu(t))},su=function(t){return Ya.isElement(t)&&"true"===t.getAttribute("unselectable")},lu=function(t){return!1===su(t)&&Jl(t)},uu=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(lu(t))return!1;if(Ql(t))return!0}return!0},cu=function(t){return!!lu(t)&&!0!==te(me(t.getElementsByTagName("*")),function(t,e){return t||Ql(e)},!1)},du=function(t){return iu(t)||cu(t)},fu=function(t,e){return au(t)&&uu(t,e)},hu=Math.round,pu=function(t){return t?{left:hu(t.left),top:hu(t.top),bottom:hu(t.bottom),right:hu(t.right),width:hu(t.width),height:hu(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},mu=function(t,e){return t=pu(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},gu=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},vu=function(t,e,n){return 0<=t&&t<=Math.min(e.height,n.height)/2},yu=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&vu(e.top-t.bottom,t,e)},bu=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&vu(e.bottom-t.top,t,e)},xu=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},wu=function(t,e){return e.left>t.left&&e.right<t.right?0:e.left<t.left?e.left-t.left:e.right-t.right},Cu=function(t,e){return e.top>t.top&&e.bottom<t.bottom?0:e.top<t.top?e.top-t.top:e.bottom-t.bottom},_u=function(t,e){return{x:wu(t,e),y:Cu(t,e)}},Su=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},ku=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Tu=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Eu=function(t){return"string"==typeof t&&768<=t.charCodeAt(0)&&Tu.test(t)},Nu=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(!r.isSome())return Ot.none();n.push(r.getOrDie())}return Ot.some(e.apply(null,n))},Au=[].slice,Du={and:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Au.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}},or:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Au.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}}},Mu=Ya.isElement,Ru=au,Pu=Ya.matchStyleValues("display","block table"),Ou=Ya.matchStyleValues("float","left right"),Iu=Du.and(Mu,Ru,bt(Ou)),Lu=bt(Ya.matchStyleValues("white-space","pre pre-line pre-wrap")),Bu=Ya.isText,Fu=Ya.isBr,zu=Ms.nodeIndex,Hu=ku,ju=function(t){return"createRange"in t?t.createRange():Ms.DOM.createRng()},Wu=function(t){return t&&/[\r\n\t ]/.test(t)},Vu=function(t){return!!t.setStart&&!!t.setEnd},Uu=function(t){var e,n=t.startContainer,i=t.startOffset;return!!(Wu(t.toString())&&Lu(n.parentNode)&&Ya.isText(n)&&(e=n.data,Wu(e[i-1])||Wu(e[i+1])))},$u=function(t){var e,n=t.ownerDocument,i=ju(n),r=n.createTextNode("\xa0"),o=t.parentNode;return o.insertBefore(r,t),i.setStart(r,0),i.setEnd(r,1),e=pu(i.getBoundingClientRect()),o.removeChild(r),e},qu=function(t){var e=t.startContainer,n=t.endContainer,
i=t.startOffset,r=t.endOffset;if(e===n&&Ya.isText(n)&&0===i&&1===r){var o=t.cloneRange();return o.setEndAfter(n),Gu(o)}return null},Yu=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},Gu=function(t){var e,n;return e=0<(n=t.getClientRects()).length?pu(n[0]):pu(t.getBoundingClientRect()),!Vu(t)&&Fu(t)&&Yu(e)?$u(t):Yu(e)&&Vu(t)?qu(t):e},Xu=function(t,e){var n=mu(t,e);return n.width=1,n.right=n.left+1,n},Ku=function(t){var e,n,i=[],r=function(t){0!==t.height&&(0<i.length&&gu(t,i[i.length-1])||i.push(t))},o=function(t,e){var n=ju(t.ownerDocument);if(e<t.data.length){if(Eu(t.data[e]))return i;if(Eu(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!Uu(n)))return r(Xu(Gu(n),!1)),i}0<e&&(n.setStart(t,e-1),n.setEnd(t,e),Uu(n)||r(Xu(Gu(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),Uu(n)||r(Xu(Gu(n),!0)))};if(Bu(t.container()))return o(t.container(),t.offset()),i;if(Mu(t.container()))if(t.isAtEnd())n=Hu(t.container(),t.offset()),Bu(n)&&o(n,n.data.length),Iu(n)&&!Fu(n)&&r(Xu(Gu(n),!1));else{if(n=Hu(t.container(),t.offset()),Bu(n)&&o(n,0),Iu(n)&&t.isAtEnd())return r(Xu(Gu(n),!1)),i;e=Hu(t.container(),t.offset()-1),Iu(e)&&!Fu(e)&&(Pu(e)||Pu(n)||!Iu(n))&&r(Xu(Gu(e),!1)),Iu(n)&&r(Xu(Gu(n),!0))}return i};(zs=C||(C={})).fromRangeStart=function(t){return zs(t.startContainer,t.startOffset)},zs.fromRangeEnd=function(t){return zs(t.endContainer,t.endOffset)},zs.after=function(t){return zs(t.parentNode,zu(t)+1)},zs.before=function(t){return zs(t.parentNode,zu(t))},zs.isAbove=function(t,e){return Nu([he(e.getClientRects()),pe(t.getClientRects())],yu).getOr(!1)},zs.isBelow=function(t,e){return Nu([pe(e.getClientRects()),he(t.getClientRects())],bu).getOr(!1)},zs.isAtStart=function(t){return!!t&&t.isAtStart()},zs.isAtEnd=function(t){return!!t&&t.isAtEnd()},zs.isTextPosition=function(t){return!!t&&Ya.isText(t.container())},zs.isElementPosition=function(t){return!1===zs.isTextPosition(t)};var Zu,Qu,Ju,tc=C,ec=Ya.isText,nc=Ya.isBogus,ic=Ms.nodeIndex,rc=function(t){var e=t.parentNode;return nc(e)?rc(e):e},oc=function(t){return t?ri.reduce(t.childNodes,function(t,e){return nc(e)&&"BR"!==e.nodeName?t=t.concat(oc(e)):t.push(e),t},[]):[]},ac=function(t,e){for(;(t=t.previousSibling)&&ec(t);)e+=t.data.length;return e},sc=function(e){return function(t){return e===t}},lc=function(t){var i,e,n;return i=oc(rc(t)),e=ri.findIndex(i,sc(t),t),i=i.slice(0,e+1),n=ri.reduce(i,function(t,e,n){return ec(e)&&ec(i[n-1])&&t++,t},0),i=ri.filter(i,Ya.matchNodeNames(t.nodeName)),(e=ri.findIndex(i,sc(t),t))-n},uc=function(t){return(ec(t)?"text()":t.nodeName.toLowerCase())+"["+lc(t)+"]"},cc=function(t,e,n){var i=[];for(e=e.parentNode;!(e===t||n&&n(e));e=e.parentNode)i.push(e);return i},dc=function(t,e){var n,i,r,o,a,s=[];return n=e.container(),i=e.offset(),ec(n)?r=ac(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),s.push(uc(n)),a=cc(t,n),a=ri.filter(a,bt(Ya.isBogus)),(s=s.concat(ri.map(a,function(t){return uc(t)}))).reverse().join("/")+","+r},fc=function(t,e,n){var i=oc(t);return i=ri.filter(i,function(t,e){return!ec(t)||!ec(i[e-1])}),(i=ri.filter(i,Ya.matchNodeNames(e)))[n]},hc=function(t,e){for(var n,i=t,r=0;ec(i);){if(n=i.data.length,r<=e&&e<=r+n){t=i,e-=r;break}if(!ec(i.nextSibling)){t=i,e=n;break}r+=n,i=i.nextSibling}return ec(t)&&e>t.data.length&&(e=t.data.length),tc(t,e)},pc=function(t,e){var n,i,r;return e?(e=(n=e.split(","))[0].split("/"),r=1<n.length?n[1]:"before",(i=ri.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),fc(t,e[1],parseInt(e[2],10))):null},t))?ec(i)?hc(i,parseInt(r,10)):(r="after"===r?ic(i)+1:ic(i),tc(i.parentNode,r)):null):null},mc=Ya.isContentEditableFalse,gc=function(t,e,n){var i,r;for(r=t(e.data.slice(0,n)).length,i=e.previousSibling;i&&Ya.isText(i);i=i.previousSibling)r+=t(i.data).length;return r},vc=function(t,e,n,i,r){var o,a=i[r?"startContainer":"endContainer"],s=i[r?"startOffset":"endOffset"],l=[],u=0,c=t.getRoot();for(Ya.isText(a)?l.push(n?gc(e,a,s):s):(s>=(o=a.childNodes).length&&o.length&&(u=1,s=Math.max(0,o.length-1)),l.push(t.nodeIndex(o[s],n)+u));a&&a!==c;a=a.parentNode)l.push(t.nodeIndex(a,n));return l},yc=function(t,e,n,i){var r=e.dom,o={};return o.start=vc(r,t,n,i,!0),e.isCollapsed()||(o.end=vc(r,t,n,i,!1)),o},bc=function(t){Ya.isText(t)&&0===t.data.length&&t.parentNode.removeChild(t)},xc=function(t,e,n){var i=0;return vi.each(t.select(e),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++}),i},wc=function(t,e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],Ya.isElement(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(e?i:i-1,r.length-1)])&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i))},Cc=function(t){return wc(t,!0),wc(t,!1),t},_c=function(t,e){var n;if(Ya.isElement(t)&&(t=ku(t,e),mc(t)))return t;if(Hl(t)){if(Ya.isText(t)&&Fl(t)&&(t=t.parentNode),n=t.previousSibling,mc(n))return n;if(n=t.nextSibling,mc(n))return n}},Sc=function(t){return _c(t.startContainer,t.startOffset)||_c(t.endContainer,t.endOffset)},kc=function(t,e,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(mc(i)||"IMG"===r)return{name:r,index:xc(n.dom,r,i)};var a=Sc(o);return a?{name:r=a.tagName,index:xc(n.dom,r,a)}:yc(t,n,e,o)},Tc=function(t){var e=t.getRng();return{start:dc(t.dom.getRoot(),tc.fromRangeStart(e)),end:dc(t.dom.getRoot(),tc.fromRangeEnd(e))}},Ec=function(t){return{rng:t.getRng()}},Nc=function(t,e,n){var i={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",i,"&#xFEFF;"):t.create("span",i)},Ac=function(t,e){var n=t.dom,i=t.getRng(),r=n.uniqueId(),o=t.isCollapsed(),a=t.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:xc(n,s,a)};var l=Cc(i.cloneRange());if(!o){l.collapse(!1);var u=Nc(n,r+"_end",e);l.insertNode(u),bc(u.nextSibling)}(i=Cc(i)).collapse(!0);var c=Nc(n,r+"_start",e);return i.insertNode(c),bc(c.previousSibling),bc(c.nextSibling),t.moveToBookmark({id:r,keep:1}),{id:r}},Dc={getBookmark:function(t,e,n){return 2===e?kc(Il.trim,n,t):3===e?Tc(t):e?Ec(t):Ac(t,!1)},getUndoBookmark:d(kc,yt,!0),getPersistentBookmark:Ac},Mc="_mce_caret",Rc=function(t){return Ya.isElement(t)&&t.id===Mc},Pc=function(t,e){for(;e&&e!==t;){if(e.id===Mc)return e;e=e.parentNode}return null},Oc=Ya.isElement,Ic=Ya.isText,Lc=function(t){var e=t.parentNode;e&&e.removeChild(t)},Bc=function(t){try{return t.nodeValue}catch(e){return""}},Fc=function(t,e){0===e.length?Lc(t):t.nodeValue=e},zc=function(t){var e=Il.trim(t);return{count:t.length-e.length,text:e}},Hc=function(t,e){return $c(t),e},jc=function(t,e){var n=zc(t.data.substr(0,e.offset())),i=zc(t.data.substr(e.offset())),r=n.text+i.text;return 0<r.length?(Fc(t,r),tc(t,e.offset()-n.count)):e},Wc=function(t,e){var n=e.container(),i=$t(me(n.childNodes),t).map(function(t){return t<e.offset()?tc(n,e.offset()-1):e}).getOr(e);return $c(t),i},Vc=function(t,e){return Ic(t)&&e.container()===t?jc(t,e):Hc(t,e)},Uc=function(t,e){return e.container()===t.parentNode?Wc(t,e):Hc(t,e)},$c=function(t){if(Oc(t)&&Hl(t)&&(jl(t)?t.removeAttribute("data-mce-caret"):Lc(t)),Ic(t)){var e=Il.trim(Bc(t));Fc(t,e)}},qc={removeAndReposition:function(t,e){return tc.isTextPosition(e)?Vc(t,e):Uc(t,e)},remove:$c},Yc=Fr.detect().browser,Gc=Ya.isContentEditableFalse,Xc=function(t){return Ya.isElement(t)&&/^(TD|TH)$/i.test(t.tagName)},Kc=function(t,e,n){var i,r,o,a,s,l=mu(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,o=t.scrollTop||i.scrollTop):(s=t.getBoundingClientRect(),r=t.scrollLeft-s.left,o=t.scrollTop-s.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,0<(a=e.offsetWidth-e.clientWidth)&&(n&&(a*=-1),l.left+=a,l.right+=a),l},Zc=function(t){var e,n,i,r,o;for(e=Bi("*[contentEditable=false]",t),r=0;r<e.length;r++)i=(n=e[r]).previousSibling,Gl(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(o.length-1,1)),i=n.nextSibling,Yl(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))},Qc=function(o,a,t){var e,s,l=Zs(Ot.none()),n=function(e,t){var n,i;if(u(),Xc(t))return null;if(!a(t))return s=Wl(t,e),i=t.ownerDocument.createRange(),Gc(s.nextSibling)?(i.setStart(s,0),i.setEnd(s,0)):(i.setStart(s,1),i.setEnd(s,1)),i;s=ql("p",t,e),n=Kc(o,t,e),Bi(s).css("top",n.top);var r=Bi('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(o)[0];return l.set(Ot.some({caret:r,element:t,before:e})),l.get().each(function(t){e&&Bi(t.caret).addClass("mce-visual-caret-before")}),c(),(i=t.ownerDocument.createRange()).setStart(s,0),i.setEnd(s,0),i},u=function(){Zc(o),s&&(qc.remove(s),s=null),l.get().each(function(t){Bi(t.caret).remove(),l.set(Ot.none())}),clearInterval(e)},c=function(){e=Oe.setInterval(function(){t()?Bi("div.mce-visual-caret",o).toggleClass("mce-visual-caret-hidden"):Bi("div.mce-visual-caret",o).addClass("mce-visual-caret-hidden")},500)};return{show:n,hide:u,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){l.get().each(function(t){var e=Kc(o,t.element,t.before);Bi(t.caret).css(e)})},destroy:function(){return Oe.clearInterval(e)}}},Jc=function(){return Yc.isIE()||Yc.isEdge()||Yc.isFirefox()},td=function(t){return Gc(t)||Ya.isTable(t)&&Jc()},ed=(Ju="\xa0",function(t){return Ju===t}),nd=function(t){return/^[\r\n\t ]$/.test(t)},id=function(t){return!nd(t)&&!ed(t)},rd=Ya.isContentEditableFalse,od=Ya.matchStyleValues("display","block table table-cell table-caption list-item"),ad=Hl,sd=Fl,ld=Ya.isElement,ud=au,cd=function(t){return 0<t},dd=function(t){return t<0},fd=function(t,e){for(var n;n=t(e);)if(!sd(n))return n;return null},hd=function(t,e,n,i,r){var o=new wt(t,i);if(dd(e)){if((rd(t)||sd(t))&&n(t=fd(o.prev,!0)))return t;for(;t=fd(o.prev,r);)if(n(t))return t}if(cd(e)){if((rd(t)||sd(t))&&n(t=fd(o.next,!0)))return t;for(;t=fd(o.next,r);)if(n(t))return t}return null},pd=function(t,e){for(;t&&t!==e;){if(od(t))return t;t=t.parentNode}return null},md=function(t,e,n){return pd(t.container(),n)===pd(e.container(),n)},gd=function(t,e){var n,i;return e?(n=e.container(),i=e.offset(),ld(n)?n.childNodes[i+t]:null):null},vd=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},yd=function(t,e,n){return pd(e,t)===pd(n,t)},bd=function(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!==e;){if(i=n[r],ad(i)&&(i=i[r]),rd(i)){if(yd(e,i,n))return i;break}if(ud(i))break;n=n.parentNode}return null},xd=d(vd,!0),wd=d(vd,!1),Cd=function(t,e,n){var i,r,o,a,s=d(bd,!0,e),l=d(bd,!1,e);if(r=n.startContainer,o=n.startOffset,Fl(r)){if(ld(r)||(r=r.parentNode),"before"===(a=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,td(i)))return xd(i);if("after"===a&&(i=r.previousSibling,td(i)))return wd(i)}if(!n.collapsed)return n;if(Ya.isText(r)){if(ad(r)){if(1===t){if(i=l(r))return xd(i);if(i=s(r))return wd(i)}if(-1===t){if(i=s(r))return wd(i);if(i=l(r))return xd(i)}return n}if(Gl(r)&&o>=r.data.length-1)return 1===t&&(i=l(r))?xd(i):n;if(Yl(r)&&o<=1)return-1===t&&(i=s(r))?wd(i):n;if(o===r.data.length)return(i=l(r))?xd(i):n;if(0===o)return(i=s(r))?wd(i):n}return n},_d=function(t,e){var n=gd(t,e);return rd(n)&&!Ya.isBogusAll(n)},Sd=function(t,e){return Ya.isTable(gd(t,e))},kd=function(t,e){return Ot.from(gd(t?0:-1,e)).filter(rd)},Td=function(t,e,n){var i=Cd(t,e,n);return-1===t?C.fromRangeStart(i):C.fromRangeEnd(i)},Ed=d(_d,0),Nd=d(_d,-1),Ad=d(Sd,0),Dd=d(Sd,-1),Md=function(n,i,r){return Ot.from(r.container()).filter(Ya.isText).exists(function(t){var e=n?0:-1;return i(t.data.charAt(r.offset()+e))})},Rd=d(Md,!0,nd),Pd=d(Md,!1,nd),Od=function(t){return Ot.from(t.getNode()).map(Vr.fromDom)},Id=function(t){return Ot.from(t.getNode(!0)).map(Vr.fromDom)};(Qu=Zu||(Zu={}))[Qu.Backwards=-1]="Backwards",Qu[Qu.Forwards=1]="Forwards";var Ld=Ya.isContentEditableFalse,Bd=Ya.isText,Fd=Ya.isElement,zd=Ya.isBr,Hd=au,jd=du,Wd=fu,Vd=function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n},Ud=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},$d=function(t,e){if(cd(t)){if(Hd(e.previousSibling)&&!Bd(e.previousSibling))return tc.before(e);if(Bd(e))return tc(e,0)}if(dd(t)){if(Hd(e.nextSibling)&&!Bd(e.nextSibling))return tc.after(e);if(Bd(e))return tc(e,e.data.length)}return dd(t)?zd(e)?tc.before(e):tc.after(e):tc.before(e)},qd=function(t,e){var n;return!(!Ya.isBr(t)||du(t.nextSibling)||!(n=Yd(Zu.Forwards,tc.after(t),e))||md(tc.before(t),tc.before(n),e))},Yd=function(t,e,n){var i,r,o,a,s;if(!Fd(n)||!e)return null;if(e.isEqual(tc.after(n))&&n.lastChild){if(s=tc.after(n.lastChild),dd(t)&&Hd(n.lastChild)&&Fd(n.lastChild))return zd(n.lastChild)?tc.before(n.lastChild):s}else s=e;var l=s.container(),u=s.offset();if(Bd(l)){if(dd(t)&&0<u)return tc(l,--u);if(cd(t)&&u<l.length)return tc(l,++u);i=l}else{if(dd(t)&&0<u&&(r=Ud(l,u-1),Hd(r)))return!jd(r)&&(o=hd(r,t,Wd,r))?Bd(o)?tc(o,o.data.length):tc.after(o):Bd(r)?tc(r,r.data.length):tc.before(r);if(cd(t)&&u<l.childNodes.length&&(r=Ud(l,u),Hd(r)))return zd(r)&&n.lastChild===r?null:qd(r,n)?Yd(t,tc.after(r),n):!jd(r)&&(o=hd(r,t,Wd,r))?Bd(o)?tc(o,0):tc.before(o):Bd(r)?tc(r,0):tc.after(r);i=r||s.getNode()}return(cd(t)&&s.isAtEnd()||dd(t)&&s.isAtStart())&&(i=hd(i,t,vt(!0),n,!0),Wd(i,n))?$d(t,i):(r=hd(i,t,Wd,n),!(a=ri.last(Qt(Vd(l,n),Ld)))||r&&a.contains(r)?r?$d(t,r):null:s=cd(t)?tc.after(a):tc.before(a))},Gd=function(e){return{next:function(t){return Yd(Zu.Forwards,t,e)},prev:function(t){return Yd(Zu.Backwards,t,e)}}},Xd=function(t,e,n){var i=t?tc.before(n):tc.after(n);return nf(t,e,i)},Kd=function(t){return Ya.isBr(t)?tc.before(t):tc.after(t)},Zd=function(t){return tc.isTextPosition(t)?0===t.offset():au(t.getNode())},Qd=function(t){if(tc.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return au(t.getNode(!0))},Jd=function(t,e){return!tc.isTextPosition(t)&&!tc.isTextPosition(e)&&t.getNode()===e.getNode(!0)},tf=function(t){return!tc.isTextPosition(t)&&Ya.isBr(t.getNode())},ef=function(t,e,n){return t?!Jd(e,n)&&!tf(e)&&Qd(e)&&Zd(n):!Jd(n,e)&&Zd(e)&&Qd(n)},nf=function(t,e,n){var i=Gd(e);return Ot.from(t?i.next(n):i.prev(n))},rf=function(e,n,i){return nf(e,n,i).bind(function(t){return md(i,t,n)&&ef(e,i,t)?nf(e,n,t):Ot.some(t)})},of=function(t,e){var n=t?e.firstChild:e.lastChild;return Ya.isText(n)?Ot.some(tc(n,t?0:n.data.length)):n?au(n)?Ot.some(t?tc.before(n):Kd(n)):Xd(t,e,n):Ot.none()},af=d(nf,!0),sf=d(nf,!1),lf={fromPosition:nf,nextPosition:af,prevPosition:sf,navigate:rf,positionIn:of,firstPositionIn:d(of,!0),lastPositionIn:d(of,!1)},uf=function(t){return"string"==typeof t.start},cf=function(t){return t.hasOwnProperty("rng")},df=function(t){return t.hasOwnProperty("id")},ff=function(t){return t.hasOwnProperty("name")},hf=function(t){return vi.isArray(t.start)},pf=function(t,e){return!t.isBlock(e)||e.innerHTML||Ee.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e},mf=function(t,e){var n,i;return n=t.createRng(),i=pc(t.getRoot(),e.start),n.setStart(i.container(),i.offset()),i=pc(t.getRoot(),e.end),n.setEnd(i.container(),i.offset()),n},gf=function(t,e){var n=t.ownerDocument.createTextNode(Il.ZWSP);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)},vf=function(t){return!1===t.hasChildNodes()},yf=function(t,e){return lf.lastPositionIn(t).fold(function(){return!1},function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0})},bf=function(t,e,n){return!(!vf(e)||!Pc(t,e)||(gf(e,n),0))},xf=function(t,e,n,i){var r,o,a,s,l=n[e?"start":"end"],u=t.getRoot();if(l){for(a=l[0],o=u,r=l.length-1;1<=r;r--){if(s=o.childNodes,bf(u,o,i))return!0;if(l[r]>s.length-1)return!!bf(u,o,i)||yf(o,i);o=s[l[r]]}3===o.nodeType&&(a=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(l[0],o.childNodes.length)),e?i.setStart(o,a):i.setEnd(o,a)}return!0},wf=function(t){return Ya.isText(t)&&0<t.data.length},Cf=function(t,e,n){var i,r,o,a,s,l,u=t.get(n.id+"_"+e),c=n.keep;if(u){if(i=u.parentNode,"start"===e?c?u.hasChildNodes()?(i=u.firstChild,r=1):wf(u.nextSibling)?(i=u.nextSibling,r=0):wf(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=t.nodeIndex(u)+1):r=t.nodeIndex(u):c?u.hasChildNodes()?(i=u.firstChild,r=1):wf(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=t.nodeIndex(u)):r=t.nodeIndex(u),s=i,l=r,!c){for(a=u.previousSibling,o=u.nextSibling,vi.each(vi.grep(u.childNodes),function(t){Ya.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});u=t.get(n.id+"_"+e);)t.remove(u,!0);a&&o&&a.nodeType===o.nodeType&&Ya.isText(a)&&!Ee.opera&&(r=a.nodeValue.length,a.appendData(o.nodeValue),t.remove(o),s=a,l=r)}return Ot.some(tc(s,l))}return Ot.none()},_f=function(t,e){return t.isSome()?t:e},Sf=function(t,e){var n=t.createRng();return xf(t,!0,e,n)&&xf(t,!1,e,n)?Ot.some(n):Ot.none()},kf=function(i,t){var e=Cf(i,"start",t),n=Cf(i,"end",t);return Nu([e,_f(n,e)],function(t,e){var n=i.createRng();return n.setStart(pf(i,t.container()),t.offset()),n.setEnd(pf(i,e.container()),e.offset()),n})},Tf=function(n,t){return Ot.from(n.select(t.name)[t.index]).map(function(t){var e=n.createRng();return e.selectNode(t),e})},Ef={resolve:function(t,e){var n=t.dom;if(e){if(hf(e))return Sf(n,e);if(uf(e))return Ot.some(mf(n,e));if(df(e))return kf(n,e);if(ff(e))return Tf(n,e);if(cf(e))return Ot.some(e.rng)}return Ot.none()}},Nf={getBookmark:function(t,e,n){return Dc.getBookmark(t,e,n)},moveToBookmark:function(e,t){Ef.resolve(e,t).each(function(t){e.setRng(t)})},isBookmarkNode:function(t){return Ya.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}},Af=function(t){return t&&/^(IMG)$/.test(t.nodeName)},Df=function(t,e,n){var i,r,o,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!Af(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a<(o=s.childNodes).length?i=new wt(s=o[a],t.getParent(s,t.isBlock)):(i=new wt(s=o[o.length-1],t.getParent(s,t.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!Rf(r))return n.setStart(r,0),void e.setRng(n)},Mf=function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!Rf(t))return t},Rf=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},Pf=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},Of=function(t,e,n){return Pf(t,t.getStyle(e,n),n)},If={isInlineBlock:Af,moveStart:Df,getNonWhiteSpaceSibling:Mf,isTextBlock:function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},isValid:function(t,e,n){return t.schema.isValidChild(e,n)},isWhiteSpaceNode:Rf,replaceVars:function(t,n){return"string"!=typeof t?t=t(n):n&&(t=t.replace(/%(\w+)/g,function(t,e){return n[e]||t})),t},isEq:function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},normalizeStyleValue:Pf,getStyle:Of,getTextDecoration:function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},getParents:function(t,e,n){return t.getParents(e,n,t.getRoot())}},Lf=Nf.isBookmarkNode,Bf=If.getParents,Ff=If.isWhiteSpaceNode,zf=If.isTextBlock,Hf=function(t,e){for(void 0===e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}},jf=function(t,e){var n=Hf(t,e);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Hf(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(t=n.node).splitText(n.offset-1)}return t},Wf=function(t){return"BR"===t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},Vf=function(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},Uf=function(t,e,n,i){var r,o,a=n.nodeValue;return void 0===i&&(i=t?a.length:0),t?(r=a.lastIndexOf(" ",i),-1!==(r=(o=a.lastIndexOf("\xa0",i))<r?r:o)&&!e&&(r<i||!t)&&r<=a.length&&r++):(r=a.indexOf(" ",i),o=a.indexOf("\xa0",i),r=-1!==r&&(-1===o||r<o)?r:o),r},$f=function(t,e,n,i,r,o){var a,s,l,u;if(3===n.nodeType){if(-1!==(l=Uf(r,o,n,i)))return{container:n,offset:l};u=n}for(a=new wt(n,t.getParent(n,t.isBlock)||e);s=a[r?"prev":"next"]();)if(3!==s.nodeType||Lf(s.parentNode)){if(t.isBlock(s)||If.isEq(s,"BR"))break}else if(-1!==(l=Uf(r,o,u=s)))return{container:s,offset:l};if(u)return{container:u,offset:i=r?0:u.length}},qf=function(t,e,n,i,r){var o,a,s,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=Bf(t,i),a=0;a<o.length;a++)for(s=0;s<e.length;s++)if(!("collapsed"in(l=e[s])&&l.collapsed!==n.collapsed)&&t.is(o[a],l.selector))return o[a];return i},Yf=function(e,t,n,i){var r,o=e.dom,a=o.getRoot();if(t[0].wrapper||(r=o.getParent(n,t[0].block,a)),!r){var s=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==a&&zf(e,t)},s)}if(r&&t[0].wrapper&&(r=Bf(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!If.isEq(r,"br")););return r||n},Gf=function(t,e,n,i,r,o,a){var s,l,u,c,d;if(s=l=a?n:r,c=a?"previousSibling":"nextSibling",d=t.getRoot(),3===s.nodeType&&!Ff(s)&&(a?0<i:o<s.nodeValue.length))return s;for(;;){if(!e[0].block_expand&&t.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!Lf(u)&&!Ff(u)&&!Wf(u))return l;if(l===d||l.parentNode===d){s=l;break}l=l.parentNode}return s},Xf={expandRng:function(t,e,n,i){var r,o=e.startContainer,a=e.startOffset,s=e.endContainer,l=e.endOffset,u=t.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=ku(o,a)).nodeType&&(a=0),1===s.nodeType&&s.hasChildNodes()&&3===(s=ku(s,e.collapsed?l:l-1)).nodeType&&(l=s.nodeValue.length),o=Vf(u,o),s=Vf(u,s),(Lf(o.parentNode)||Lf(o))&&(o=Lf(o)?o:o.parentNode,3===(o=e.collapsed?o.previousSibling||o:o.nextSibling||o).nodeType&&(a=e.collapsed?o.length:0)),(Lf(s.parentNode)||Lf(s))&&(s=Lf(s)?s:s.parentNode,3===(s=e.collapsed?s.nextSibling||s:s.previousSibling||s).nodeType&&(l=e.collapsed?0:s.length)),e.collapsed&&((r=$f(u,t.getBody(),o,a,!0,i))&&(o=r.container,a=r.offset),(r=$f(u,t.getBody(),s,l,!1,i))&&(s=r.container,l=r.offset)),n[0].inline&&(s=i?s:jf(s,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==a||(o=Gf(u,n,o,a,s,l,!0)),n[0].inline&&3===s.nodeType&&l!==s.nodeValue.length||(s=Gf(u,n,o,a,s,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=qf(u,n,e,o,"previousSibling"),s=qf(u,n,e,s,"nextSibling")),(n[0].block||n[0].selector)&&(o=Yf(t,n,o,"previousSibling"),s=Yf(t,n,s,"nextSibling"),n[0].block&&(u.isBlock(o)||(o=Gf(u,n,o,a,s,l,!0)),u.isBlock(s)||(s=Gf(u,n,o,a,s,l,!1)))),1===o.nodeType&&(a=u.nodeIndex(o),o=o.parentNode),1===s.nodeType&&(l=u.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:a,endContainer:s,endOffset:l}}},Kf=vi.each,Zf=function(t,e){var n=t.childNodes;return--e>n.length-1?e=n.length-1:e<0&&(e=0),n[e]||t},Qf={walk:function(t,e,r){var n,i,o,a,s,l,u,c=e.startContainer,d=e.startOffset,f=e.endContainer,h=e.endOffset;if(0<(u=t.select("td[data-mce-selected],th[data-mce-selected]")).length)Kf(u,function(t){r([t])});else{var p=function(t){var e;return 3===(e=t[0]).nodeType&&e===c&&d>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===h&&0<t.length&&e===f&&3===e.nodeType&&t.splice(t.length-1,1),t},m=function(t,e,n){for(var i=[];t&&t!==n;t=t[e])i.push(t);return i},g=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},v=function(t,e,n){var i=n?"nextSibling":"previousSibling";for(s=(a=t).parentNode;a&&a!==e;a=s)s=a.parentNode,(l=m(a===t?a:a[i],i)).length&&(n||l.reverse(),r(p(l)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[d]),1===f.nodeType&&f.hasChildNodes()&&(f=Zf(f,h)),c===f)return r(p([c]));for(n=t.findCommonAncestor(c,f),a=c;a;a=a.parentNode){if(a===f)return v(c,n,!0);if(a===n)break}for(a=f;a;a=a.parentNode){if(a===c)return v(f,n);if(a===n)break}i=g(c,n)||c,o=g(f,n)||f,v(c,i,!0),(l=m(i===c?i:i.nextSibling,"nextSibling",o===f?o.nextSibling:o)).length&&r(p(l)),v(f,o)}}},Jf=function(){return"\ufeff"},th=l(Zr,"text"),eh=function(t){return th.get(t)},nh=function(t){return Zr(t)&&eh(t)===Jf()},ih=function(e,n,i,r){return Bo(n).fold(function(){return"skipping"},function(t){return"br"===r||nh(n)?"valid":bl(n)?"existing":Rc(n)?"caret":If.isValid(e,i,r)&&If.isValid(e,Yr(t),i)?"valid":"invalid-child"})},rh=function(t){return 3===t.startContainer.nodeType&&t.startContainer.nodeValue.length>=t.startOffset&&"\xa0"===t.startContainer.nodeValue[t.startOffset]},oh=function(t,e){var n=Xf.expandRng(t,e,[{inline:!0}],rh(e));e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)},ah=function(t,e,n,i){var r=e.uid,o=void 0===r?Tl("mce-annotation"):r,a=w(e,["uid"]),s=Vr.fromTag("span",t);ol(s,ml()),ao(s,""+vl(),o),ao(s,""+gl(),n);var l=i(o,a),u=l.attributes,c=void 0===u?{}:u,d=l.classes,f=void 0===d?[]:d;return so(s,c),El(s,f),s},sh=function(i,t,e,n,r){var o=[],a=ah(i.getDoc(),r,e,n),s=Zs(Ot.none()),l=function(){s.set(Ot.none())},u=function(){return s.get().getOrThunk(function(){var t=Al(a);return o.push(t),s.set(Ot.some(t)),t})},c=function(t){Xt(t,d)},d=function(t){switch(ih(i,t,"span",Yr(t))){case"invalid-child":l();var e=Vo(t);c(e),l();break;case"valid":var n=u();Vs(t,n)}},f=function(t){var e=Gt(t,Vr.fromDom);c(e)};return Qf.walk(i.dom,t,function(t){l(),f(t)}),o},lh=function(r,o,a,s){r.undoManager.transact(function(){var t=r.selection.getRng();if(t.collapsed&&oh(r,t),r.selection.getRng().collapsed){var e=ah(r.getDoc(),s,o,a.decorate);Pl(e,"\xa0"),r.selection.getRng().insertNode(e.dom()),r.selection.select(e.dom())}else{var n=Dc.getPersistentBookmark(r.selection,!1),i=r.selection.getRng();sh(r,i,o,a.decorate,s),r.selection.moveToBookmark(n)}})},uh=function(t){return t.firstChild&&t.firstChild===t.lastChild},ch=function(t){return"br"===t.name||"\xa0"===t.value},dh=function(t,e){return t.getBlockElements()[e.name]&&uh(e)&&ch(e.firstChild)},fh=function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||dh(t,e))},hh=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},ph=function(t,e,n){var i=e.serialize(n),r=t.createFragment(i);return hh(r)},mh=function(t){return vi.grep(t.childNodes,function(t){return"LI"===t.nodeName})},gh=function(t){return"\xa0"===t.data||Ya.isBr(t)},vh=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&gh(t.firstChild)},yh=function(t){return!t.firstChild||vh(t)},bh=function(t){return 0<t.length&&yh(t[t.length-1])?t.slice(0,-1):t},xh=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},wh=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]},Ch=function(t,e){var n=tc.before(t),i=Gd(e).next(n);return i?i.toRange():null},_h=function(t,e){var n=tc.after(t),i=Gd(e).prev(n);return i?i.toRange():null},Sh=function(e,t,n,i){var r=wh(e,i),o=e.parentNode;return o.insertBefore(r[0],e),vi.each(t,function(t){o.insertBefore(t,e)}),o.insertBefore(r[1],e),o.removeChild(e),_h(t[t.length-1],n)},kh=function(e,t,n){var i=e.parentNode;return vi.each(t,function(t){i.insertBefore(t,e)}),Ch(e,n)},Th=function(t,e,n,i){return i.insertAfter(e.reverse(),t),_h(e[0],n)},Eh={isListFragment:function(t,e){var n=e.firstChild,i=e.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),fh(t,i)&&(i=i.prev),!(!n||n!==i||"ul"!==n.name&&"ol"!==n.name)},insertAtCaret:function(t,r,o,e){var n=ph(r,t,e),a=xh(r,o.startContainer),i=bh(mh(n.firstChild)),s=1,l=2,u=r.getRoot(),c=function(t){var e=tc.fromRangeStart(o),n=Gd(r.getRoot()),i=t===s?n.prev(e):n.next(e);return!i||xh(r,i.getNode())!==a};return c(s)?kh(a,i,u):c(l)?Th(a,i,u,r):Sh(a,i,u,o)},isParentBlockLi:function(t,e){return!!xh(t,e)},trimListItems:bh,listItems:mh},Nh=vi.each,Ah=function(r){this.compare=function(t,e){if(t.nodeName!==e.nodeName)return!1;var n=function(n){var i={};return Nh(r.getAttribs(n),function(t){var e=t.nodeName.toLowerCase();0!==e.indexOf("_")&&"style"!==e&&0!==e.indexOf("data-")&&(i[e]=r.getAttrib(n,e))}),i},i=function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!==n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0};return!(!i(n(t),n(e))||!i(r.parseStyle(r.getAttrib(t,"style")),r.parseStyle(r.getAttrib(e,"style")))||Nf.isBookmarkNode(t)||Nf.isBookmarkNode(e))}},Dh=function(t){for(var e=[],n=t.dom();n;)e.push(Vr.fromDom(n)),n=n.lastChild;return e},Mh=function(t){return Zr(t)?"\xa0"===eh(t):Ca(t)},Rh={removeTrailingBr:function(t){var e=ul(t,"br"),n=Qt(Dh(t).slice(-1),Ca);e.length===n.length&&Xt(n,Ys)},fillWithPaddingBr:function(t){qs(t),Ws(t,Vr.fromHtml('<br data-mce-bogus="1">'))},isPaddedElement:function(t){return 1===Qt(Vo(t),Mh).length},trimBlockTrailingBr:function(n){qo(n).each(function(e){zo(e).each(function(t){xa(n)&&Ca(e)&&xa(t)&&Ys(e)})})}},Ph=vi.makeMap,Oh=function(t,e,n,i){var r=document.createRange();return r.setStart(t,e),r.setEnd(n,i),r},Ih=function(e){var n=tc.fromRangeStart(e),i=tc.fromRangeEnd(e),r=e.commonAncestorContainer;return lf.fromPosition(!1,r,i).map(function(t){return!md(n,i,r)&&md(n,t,r)?Oh(n.container(),n.offset(),t.container(),t.offset()):e}).getOr(e)},Lh={normalize:function(t){return t.collapsed?t:Ih(t)}},Bh=function(t,e){return Ya.isText(t)&&"\xa0"===t.nodeValue[e-1]},Fh=function(t,e){var n,i;n=t.startContainer,i=t.startOffset;var r=function(t){return n[t]&&3===n[t].nodeType};return 3===n.nodeType&&(0<i?e=e.replace(/^&nbsp;/," "):r("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e},zh=function(t,e){var n,i;return n=t.startContainer,i=t.startOffset,3===n.nodeType&&t.collapsed&&("\xa0"===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"\xa0"===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))),e},Hh=Ya.matchNodeNames("td th"),jh=function(t,e){var n=t.selection.getRng(),i=n.startContainer,r=n.startOffset;n.collapsed&&Bh(i,r)&&Ya.isText(i)&&(i.insertData(r-1," "),i.deleteData(r,1),n.setStart(i,r),n.setEnd(i,r),t.selection.setRng(n)),t.selection.setContent(e)},Wh=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?t.dom.setHTML(n,e):jh(t,e)}},Vh=function(t,e){Ot.from(t.getParent(e,"td,th")).map(Vr.fromDom).each(Rh.trimBlockTrailingBr)},Uh=function(t,e){var n=t.schema.getTextInlineElements(),i=t.dom;if(e){var r=t.getBody(),o=new Ah(i);vi.each(i.select("*[data-mce-fragment]"),function(t){for(var e=t.parentNode;e&&e!==r;e=e.parentNode)n[t.nodeName.toLowerCase()]&&o.compare(e,t)&&i.remove(t,!0)})}},$h=function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")},qh=function(t){vi.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},Yh=function(t){return!!t.getAttribute("data-mce-fragment")},Gh=function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},Xh=function(n,t){var e,i,r,o,a,s=n.dom,l=n.selection,u=function(t){for(var e=n.getBody();t&&t!==e;t=t.parentNode)if("false"===n.dom.getContentEditable(t))return t;return null};if(t){if(n.selection.scrollIntoView(t),e=u(t))return s.remove(t),void l.select(e);var c=s.createRng();(o=t.previousSibling)&&3===o.nodeType?(c.setStart(o,o.nodeValue.length),Ee.ie||(a=t.nextSibling)&&3===a.nodeType&&(o.appendData(a.data),a.parentNode.removeChild(a))):(c.setStartBefore(t),c.setEndBefore(t));var d=function(t){var e=tc.fromRangeStart(t);if(e=Gd(n.getBody()).next(e))return e.toRange()};i=s.getParent(t,s.isBlock),s.remove(t),i&&s.isEmpty(i)&&(n.$(i).empty(),c.setStart(i,0),c.setEnd(i,0),Hh(i)||Yh(i)||!(r=d(c))?s.add(i,s.create("br",{"data-mce-bogus":"1"})):(c=r,s.remove(i))),l.setRng(c)}},Kh=function(t,e,n){var i,r,o,a,s,l,u,c,d,f,h,p=t.selection,m=t.dom;if(/^ | $/.test(e)&&(e=Fh(p.getRng(),e)),i=t.parser,h=n.merge,r=S({validate:t.settings.validate},t.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:e,format:"html",selection:!0,paste:n.paste},(l=t.fire("BeforeSetContent",l)).isDefaultPrevented())t.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(
e=l.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,f);var g=(c=p.getRng()).startContainer||(c.parentElement?c.parentElement():null),v=t.getBody();g===v&&p.isCollapsed()&&m.isBlock(v.firstChild)&&Gh(t,v.firstChild)&&m.isEmpty(v.firstChild)&&((c=m.createRng()).setStart(v.firstChild,0),c.setEnd(v.firstChild,0),p.setRng(c)),p.isCollapsed()||(t.selection.setRng(Lh.normalize(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),e=zh(t.selection.getRng(),e));var y={context:(o=p.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(s=i.parse(e,y),!0===n.paste&&Eh.isListFragment(t.schema,s)&&Eh.isParentBlockLi(m,o))return c=Eh.insertAtCaret(r,m,t.selection.getRng(),s),t.selection.setRng(c),void t.fire("SetContent",l);if($h(s),"mce_marker"===(d=s.lastChild).attr("id"))for(d=(u=d).prev;d;d=d.walk(!0))if(3===d.type||!m.isBlock(d.name)){t.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(u,d,"br"===d.name);break}if(t._selectionOverrides.showBlockCaretContainer(o),y.invalid){for(jh(t,f),o=p.getNode(),a=t.getBody(),9===o.nodeType?o=d=a:d=o;d!==a;)d=(o=d).parentNode;e=o===a?a.innerHTML:m.getOuterHTML(o),e=r.serialize(i.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(s)}))),o===a?m.setHTML(a,e):m.setOuterHTML(o,e)}else e=r.serialize(s),Wh(t,e,o);Uh(t,h),Xh(t,m.get("mce_marker")),qh(t.getBody()),Vh(t.dom,t.selection.getStart()),t.fire("SetContent",l),t.addVisual()}},Zh=function(t){var e;return"string"!=typeof t?(e=vi.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}},Qh={insertAtCaret:function(t,e){var n=Zh(e);Kh(t,n.content,n.details)}},Jh=bo("sections","settings"),tp=Fr.detect().deviceType.isTouch(),ep=["lists","autolink","autosave"],np={theme:"mobile"},ip=function(t){var e=zt(t)?t.join(" "):t,n=Gt(Bt(e)?e.split(" "):[],Ar);return Qt(n,function(t){return 0<t.length})},rp=function(t){return Qt(t,d(qt,ep))},op=function(n,t){var e=io(t,function(t,e){return qt(n,e)});return Jh(e.t,e.f)},ap=function(t,e,n){var i=t.sections(),r=i.hasOwnProperty(e)?i[e]:{};return vi.extend({},n,r)},sp=function(t,e){return t.sections().hasOwnProperty(e)},lp=function(t,e,n){return{id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},up=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?vi.extend({},t.external_plugins,n):n},cp=function(t,e){return[].concat(ip(t)).concat(ip(e))},dp=function(t,e,n,i){var r=ip(n.forced_plugins),o=ip(i.plugins),a=t&&sp(e,"mobile")?rp(o):o,s=cp(r,a);return vi.extend(i,{plugins:s.join(" ")})},fp=function(t,e){var n=e.settings().inline;return t&&sp(e,"mobile")&&!n},hp=function(t,e,n,i){var r=op(["mobile"],i),o=vi.extend(e,n,r.settings(),fp(t,r)?ap(r,"mobile",np):{},{validate:!0,content_editable:r.settings().inline,external_plugins:up(n,r.settings())});return dp(t,r,n,o)},pp=function(t,e,n,i,r){var o=lp(e,n,t);return hp(tp,o,i,r)},mp=function(t,e,n){return Ot.from(e.settings[n]).filter(t)},gp=d(mp,Bt),vp=function(t){var n={};return"string"==typeof t?Xt(0<t.indexOf("=")?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(t){var e=t.split("=");1<e.length?n[vi.trim(e[0])]=vi.trim(e[1]):n[vi.trim(e[0])]=vi.trim(e)}):n=t,n},yp=function(e){return function(t){return zt(t)&&se(t,e)}},bp=function(t,e,n,i){var r=e in t.settings?t.settings[e]:n;return"hash"===i?vp(r):"string"===i?mp(Bt,t,e).getOr(n):"number"===i?mp(Vt,t,e).getOr(n):"boolean"===i?mp(jt,t,e).getOr(n):"object"===i?mp(Ft,t,e).getOr(n):"array"===i?mp(zt,t,e).getOr(n):"string[]"===i?mp(yp(Bt),t,e).getOr(n):"function"===i?mp(Wt,t,e).getOr(n):r},xp=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,wp=function(t){return xp.test(t)},Cp=function(t,e,n){return Qt(Ms.DOM.getParents(n.container(),"*",e),t)},_p=function(t,e,n){var i=pd(e,t),r=pd(n,t);return i&&i===r},Sp=function(t,e){var n=e.container(),i=e.offset();return t?zl(n)?Ya.isText(n.nextSibling)?tc(n.nextSibling,0):tc.after(n):Vl(e)?tc(n,i+1):e:zl(n)?Ya.isText(n.previousSibling)?tc(n.previousSibling,n.previousSibling.data.length):tc.before(n):Ul(e)?tc(n,i-1):e},kp={isInlineTarget:function(t,e){var n=gp(t,"inline_boundaries_selector").getOr("a[href],code");return To(Vr.fromDom(e),n)},findRootInline:function(t,e,n){var i=Cp(t,e,n);return Ot.from(i[i.length-1])},isRtl:function(t){return"rtl"===Ms.DOM.getStyle(t,"direction",!0)||wp(t.textContent)},isAtZwsp:function(t){return Vl(t)||Ul(t)},normalizePosition:Sp,normalizeForwards:d(Sp,!0),normalizeBackwards:d(Sp,!1),hasSameParentBlock:_p},Tp=function(e){return function(t){return Do(e,Vr.fromDom(t.dom().parentNode))}},Ep=function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)},Np={getParentBlock:function(t,e){return Po(t,e)?dl(e,function(t){return _a(t)||ka(t)},Tp(t)):Ot.none()},paddEmptyBody:function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),Ep(t))},willDeleteLastPositionInElement:function(o,a,s){return Nu([lf.firstPositionIn(s),lf.lastPositionIn(s)],function(t,e){var n=kp.normalizePosition(!0,t),i=kp.normalizePosition(!1,e),r=kp.normalizePosition(!1,a);return o?lf.nextPosition(s,r).map(function(t){return t.isEqual(i)&&a.isEqual(n)}).getOr(!1):lf.prevPosition(s,r).map(function(t){return t.isEqual(n)&&a.isEqual(i)}).getOr(!1)}).getOr(!0)}},Ap=function(t,e,n){return fl(t,e,n).isSome()},Dp=function(t,e){var n=Vr.fromDom(t),i=Vr.fromDom(e);return Ap(i,"pre,code",d(Do,n))},Mp=function(t,e){return Ya.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===Dp(t,e)},Rp=function(t){return Ya.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")},Pp=function(t,e){return au(e)&&!1===Mp(t,e)||Rp(e)||Op(e)},Op=Ya.hasAttribute("data-mce-bookmark"),Ip=Ya.hasAttribute("data-mce-bogus"),Lp=Ya.hasAttributeValue("data-mce-bogus","all"),Bp=function(t){var e,n,i=0;if(Pp(t,t))return!1;if(!(n=t.firstChild))return!0;e=new wt(n,t);do{if(Lp(n))n=e.next(!0);else if(Ip(n))n=e.next();else if(Ya.isBr(n))i++,n=e.next();else{if(Pp(t,n))return!1;n=e.next()}}while(n);return i<=1},Fp={isEmpty:function(t){return Bp(t.dom())}},zp=bo("block","position"),Hp=bo("from","to"),jp=function(t,e){var n=Vr.fromDom(t),i=Vr.fromDom(e.container());return Np.getParentBlock(n,i).map(function(t){return zp(t,e)})},Wp=function(t){return!1===Do(t.from().block(),t.to().block())},Vp=function(t){return Bo(t.from().block()).bind(function(e){return Bo(t.to().block()).filter(function(t){return Do(e,t)})}).isSome()},Up=function(t){return!1===Ya.isContentEditableFalse(t.from().block())&&!1===Ya.isContentEditableFalse(t.to().block())},$p=function(e,n,i){return Ya.isBr(i.position().getNode())&&!1===Fp.isEmpty(i.block())?lf.positionIn(!1,i.block().dom()).bind(function(t){return t.isEqual(i.position())?lf.fromPosition(n,e,t).bind(function(t){return jp(e,t)}):Ot.some(i)}).getOr(i):i},qp=function(e,n,t){var i=jp(e,tc.fromRangeStart(t)),r=i.bind(function(t){return lf.fromPosition(n,e,t.position()).bind(function(t){return jp(e,t).map(function(t){return $p(e,n,t)})})});return Nu([i,r],Hp).filter(function(t){return Wp(t)&&Vp(t)&&Up(t)})},Yp={read:function(t,e,n){return n.collapsed?qp(t,e,n):Ot.none()}},Gp=function(t){return t.slice(0,-1)},Xp=function(t,e,n){return Po(e,t)?Gp(Fo(t,function(t){return n(t)||Do(t,e)})):[]},Kp=function(t,e){return Xp(t,e,vt(!1))},Zp=function(t,e){return[t].concat(Kp(t,e))},Qp={parentsUntil:Xp,parents:Kp,parentsAndSelf:Zp},Jp=function(t){var e=Vo(t);return ne(e,xa).fold(function(){return e},function(t){return e.slice(0,t)})},tm=function(t){var e=Jp(t);return Xt(e,Ys),e},em=function(t,e){var n=Qp.parentsAndSelf(e,t);return ee(n.reverse(),Fp.isEmpty).each(Ys)},nm=function(t){return 0===Qt(jo(t),function(t){return!Fp.isEmpty(t)}).length},im=function(t,e,n,i){if(Fp.isEmpty(n))return Rh.fillWithPaddingBr(n),lf.firstPositionIn(n.dom());nm(i)&&Fp.isEmpty(e)&&Hs(i,Vr.fromTag("br"));var r=lf.prevPosition(n.dom(),tc.before(i.dom()));return Xt(tm(e),function(t){Hs(i,t)}),em(t,e),r},rm=function(t,e,n){if(Fp.isEmpty(n))return Ys(n),Fp.isEmpty(e)&&Rh.fillWithPaddingBr(e),lf.firstPositionIn(e.dom());var i=lf.lastPositionIn(n.dom());return Xt(tm(e),function(t){Ws(n,t)}),em(t,e),i},om=function(t,e){var n=Qp.parentsAndSelf(e,t);return Ot.from(n[n.length-1])},am=function(t,e){return Po(e,t)?om(e,t):Ot.none()},sm=function(t,e){lf.positionIn(t,e.dom()).map(function(t){return t.getNode()}).map(Vr.fromDom).filter(Ca).each(Ys)},lm=function(t,e,n){return sm(!0,e),sm(!1,n),am(e,n).fold(d(rm,t,e,n),d(im,t,e,n))},um={mergeBlocks:function(t,e,n,i){return e?lm(t,i,n):lm(t,n,i)}},cm={backspaceDelete:function(e,n){var t,i=Vr.fromDom(e.getBody());return(t=Yp.read(i.dom(),n,e.selection.getRng()).bind(function(t){return um.mergeBlocks(i,n,t.from().block(),t.to().block())})).each(function(t){e.selection.setRng(t.toRange())}),t.isSome()}},dm=function(n,i){var r=i.getRng();return Nu([Np.getParentBlock(n,Vr.fromDom(r.startContainer)),Np.getParentBlock(n,Vr.fromDom(r.endContainer))],function(t,e){return!1===Do(t,e)&&(r.deleteContents(),um.mergeBlocks(n,!0,t,e).each(function(t){i.setRng(t.toRange())}),!0)}).getOr(!1)},fm=function(t,e){var n=Vr.fromDom(e),i=d(Do,t);return cl(n,Na,i).isSome()},hm=function(t,e){return fm(t,e.startContainer)||fm(t,e.endContainer)},pm=function(t,e){var n=lf.prevPosition(t.dom(),tc.fromRangeStart(e)).isNone(),i=lf.nextPosition(t.dom(),tc.fromRangeEnd(e)).isNone();return!hm(t,e)&&n&&i},mm=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},gm=function(t){var e=Vr.fromDom(t.getBody()),n=t.selection.getRng();return pm(e,n)?mm(t):dm(e,t.selection)},vm={backspaceDelete:function(t){return!t.selection.isCollapsed()&&gm(t)}},ym={generate:function(a){if(!zt(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var s=[],n={};return Xt(a,function(t,i){var e=Qr(t);if(1!==e.length)throw new Error("one and only one name per case");var r=e[0],o=t[r];if(n[r]!==undefined)throw new Error("duplicate key detected:"+r);if("cata"===r)throw new Error("cannot have a case named cata (sorry)");if(!zt(o))throw new Error("case arguments must be an array");s.push(r),n[r]=function(){var t=arguments.length;if(t!==o.length)throw new Error("Wrong number of arguments to case "+r+". Expected "+o.length+" ("+o+"), got "+t);for(var n=new Array(t),e=0;e<n.length;e++)n[e]=arguments[e];return{fold:function(){if(arguments.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[i].apply(null,n)},match:function(t){var e=Qr(t);if(s.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+e.join(","));if(!se(s,function(t){return qt(e,t)}))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+s.join(", "));return t[r].apply(null,n)},log:function(t){console.log(t,{constructors:s,constructor:r,params:n})}}}}),n}},bm=function(t){return Od(t).exists(Ca)},xm=function(t,e,n){var i=Qt(Qp.parentsAndSelf(Vr.fromDom(n.container()),e),xa),r=he(i).getOr(e);return lf.fromPosition(t,r.dom(),n).filter(bm)},wm=function(t,e){return Od(e).exists(Ca)||xm(!0,t,e).isSome()},Cm=function(t,e){return Id(e).exists(Ca)||xm(!1,t,e).isSome()},_m=d(xm,!1),Sm=d(xm,!0),km=function(t){return Na(Vr.fromDom(t))||ka(Vr.fromDom(t))},Tm=ym.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Em=function(t,e){var n=e.getNode(!1===t),i=t?"after":"before";return Ya.isElement(n)&&n.getAttribute("data-mce-caret")===i},Nm=function(e,t,n,i){var r=function(t){return wa(Vr.fromDom(t))&&!md(n,i,e)};return kd(!t,n).fold(function(){return kd(t,i).fold(vt(!1),r)},r)},Am=function(t,e,n,i){var r=i.getNode(!1===e);return Np.getParentBlock(Vr.fromDom(t),Vr.fromDom(n.getNode())).map(function(t){return Fp.isEmpty(t)?Tm.remove(t.dom()):Tm.moveToElement(r)}).orThunk(function(){return Ot.some(Tm.moveToElement(r))})},Dm=function(e,n,i){return lf.fromPosition(n,e,i).bind(function(t){return km(t.getNode())?Ot.none():Nm(e,n,i,t)?Ot.none():n&&Ya.isContentEditableFalse(t.getNode())?Am(e,n,i,t):!1===n&&Ya.isContentEditableFalse(t.getNode(!0))?Am(e,n,i,t):n&&Nd(i)?Ot.some(Tm.moveToPosition(t)):!1===n&&Ed(i)?Ot.some(Tm.moveToPosition(t)):Ot.none()})},Mm=function(t,e){return t&&Ya.isContentEditableFalse(e.nextSibling)?Ot.some(Tm.moveToElement(e.nextSibling)):!1===t&&Ya.isContentEditableFalse(e.previousSibling)?Ot.some(Tm.moveToElement(e.previousSibling)):Ot.none()},Rm=function(e,n,t){return t.fold(function(t){return Ot.some(Tm.remove(t))},function(t){return Ot.some(Tm.moveToElement(t))},function(t){return md(n,t,e)?Ot.none():Ot.some(Tm.moveToPosition(t))})},Pm=function(e,t,n){return Em(t,n)?Mm(t,n.getNode(!1===t)).fold(function(){return Dm(e,t,n)},Ot.some):Dm(e,t,n).bind(function(t){return Rm(e,n,t)})},Om=function(t,e,n){var i=Cd(e?1:-1,t,n),r=tc.fromRangeStart(i),o=Vr.fromDom(t);return!1===e&&Nd(r)?Ot.some(Tm.remove(r.getNode(!0))):e&&Ed(r)?Ot.some(Tm.remove(r.getNode())):!1===e&&Ed(r)&&Cm(o,r)?_m(o,r).map(function(t){return Tm.remove(t.getNode())}):e&&Nd(r)&&wm(o,r)?Sm(o,r).map(function(t){return Tm.remove(t.getNode())}):Pm(t,e,r)},Im=function(t){return-1!==" \f\n\r\t\x0B".indexOf(t)},Lm=function(n,i,r){return te(n.split(""),function(t,e){return Im(e)||"\xa0"===e?t.previousCharIsSpace||""===t.str&&i||t.str.length===n.length-1&&r?{previousCharIsSpace:!1,str:t.str+"\xa0"}:{previousCharIsSpace:!0,str:t.str+" "}:{previousCharIsSpace:!1,str:t.str+e}},{previousCharIsSpace:!1,str:""}).str},Bm=function(t,e,n){if(0!==n){var i=t.data.slice(e,e+n),r=e+n>=t.data.length,o=0===e;t.replaceData(e,n,Lm(i,o,r))}},Fm=function(t,e){var n=t.data.slice(e),i=n.length-Dr(n).length;return Bm(t,e,i)},zm=function(t,e){var n=t.data.slice(0,e),i=n.length-Mr(n).length;return Bm(t,e-i,i)},Hm=function(t,e,n){var i=Mr(t.data).length;return t.appendData(e.data),Ys(Vr.fromDom(e)),n&&Fm(t,i),t},jm=function(t,e){var n=t.container(),i=t.offset();return!1===tc.isTextPosition(t)&&n===e.parentNode&&i>tc.before(e).offset()},Wm=function(t,e){return jm(e,t)?tc(e.container(),e.offset()-1):e},Vm=function(t){return Ya.isText(t)?tc(t,0):tc.before(t)},Um=function(t){return Ya.isText(t)?tc(t,t.data.length):tc.after(t)},$m=function(t){return au(t.previousSibling)?Ot.some(Um(t.previousSibling)):t.previousSibling?lf.lastPositionIn(t.previousSibling):Ot.none()},qm=function(t){return au(t.nextSibling)?Ot.some(Vm(t.nextSibling)):t.nextSibling?lf.firstPositionIn(t.nextSibling):Ot.none()},Ym=function(t,e){var n=tc.before(e.previousSibling?e.previousSibling:e.parentNode);return lf.prevPosition(t,n).fold(function(){return lf.nextPosition(t,tc.after(e))},Ot.some)},Gm=function(t,e){return lf.nextPosition(t,tc.after(e)).fold(function(){return lf.prevPosition(t,tc.before(e))},Ot.some)},Xm=function(t,e){return $m(e).orThunk(function(){return qm(e)}).orThunk(function(){return Ym(t,e)})},Km=function(t,e){return qm(e).orThunk(function(){return $m(e)}).orThunk(function(){return Gm(t,e)})},Zm=function(t,e,n){return t?Km(e,n):Xm(e,n)},Qm=function(t,e,n){return Zm(t,e,n).map(d(Wm,n))},Jm=function(e,n,t){t.fold(function(){e.focus()},function(t){e.selection.setRng(t.toRange(),n)})},tg=function(e){return function(t){return t.dom()===e}},eg=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(Yr(e))},ng=function(t){if(Fp.isEmpty(t)){var e=Vr.fromHtml('<br data-mce-bogus="1">');return qs(t),Ws(t,e),Ot.some(tc.before(e.dom()))}return Ot.none()},ig=function(t,e,a){var n=zo(t).filter(function(t){return Ya.isText(t.dom())}),i=Ho(t).filter(function(t){return Ya.isText(t.dom())});return Ys(t),Nu([n,i,e],function(t,e,n){var i=t.dom(),r=e.dom(),o=i.data.length;return Hm(i,r,a),n.container()===r?tc(i,o):n}).orThunk(function(){return a&&(n.each(function(t){return zm(t.dom(),t.dom().length)}),i.each(function(t){return Fm(t.dom(),0)})),e})},rg=function(t,e){return ro(t.schema.getTextInlineElements(),Yr(e))},og={deleteElement:function(e,n,t,i){void 0===i&&(i=!0);var r=Qm(n,e.getBody(),t.dom()),o=cl(t,d(eg,e),tg(e.getBody())),a=ig(t,r,rg(e,t));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):o.bind(ng).fold(function(){i&&Jm(e,n,a)},function(t){i&&Jm(e,n,Ot.some(t))})}},ag=function(e,n){return function(t){return e._selectionOverrides.hideFakeCaret(),og.deleteElement(e,n,Vr.fromDom(t)),!0}},sg=function(n,i){return function(t){var e=i?tc.before(t):tc.after(t);return n.selection.setRng(e.toRange()),!0}},lg=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},ug=function(e,n){return Om(e.getBody(),n,e.selection.getRng()).map(function(t){return t.fold(ag(e,n),sg(e,n),lg(e))}).getOr(!1)},cg=function(t){Xt(ul(t,".mce-offscreen-selection"),Ys)},dg=function(t,e){var n=t.selection.getNode();return!!Ya.isContentEditableFalse(n)&&(cg(Vr.fromDom(t.getBody())),og.deleteElement(t,e,Vr.fromDom(t.selection.getNode())),Np.paddEmptyBody(t),!0)},fg=function(t,e){for(;e&&e!==t;){if(Ya.isContentEditableTrue(e)||Ya.isContentEditableFalse(e))return e;e=e.parentNode}return null},hg={backspaceDelete:function(t,e){return t.selection.isCollapsed()?ug(t,e):dg(t,e)},paddEmptyElement:function(t){var e,n=fg(t.getBody(),t.selection.getNode());return Ya.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(tc.before(e).toRange())),!0}},pg=Ya.isText,mg=function(t){return pg(t)&&t.data[0]===Il.ZWSP},gg=function(t){return pg(t)&&t.data[t.data.length-1]===Il.ZWSP},vg=function(t){return t.ownerDocument.createTextNode(Il.ZWSP)},yg=function(t){if(pg(t.previousSibling))return gg(t.previousSibling)||t.previousSibling.appendData(Il.ZWSP),t.previousSibling;if(pg(t))return mg(t)||t.insertData(0,Il.ZWSP),t;var e=vg(t);return t.parentNode.insertBefore(e,t),e},bg=function(t){if(pg(t.nextSibling))return mg(t.nextSibling)||t.nextSibling.insertData(0,Il.ZWSP),t.nextSibling;if(pg(t))return gg(t)||t.appendData(Il.ZWSP),t;var e=vg(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},xg=function(t,e){return t?yg(e):bg(e)},wg=d(xg,!0),Cg=d(xg,!1),_g=function(t,e){return Ya.isText(t.container())?xg(e,t.container()):xg(e,t.getNode())},Sg=function(t,e){var n=e.get();return n&&t.container()===n&&zl(n)},kg={renderCaret:function(n,t){return t.fold(function(t){qc.remove(n.get());var e=wg(t);return n.set(e),Ot.some(tc(e,e.length-1))},function(t){return lf.firstPositionIn(t).map(function(t){if(Sg(t,n))return tc(n.get(),1);qc.remove(n.get());var e=_g(t,!0);return n.set(e),tc(e,1)})},function(t){return lf.lastPositionIn(t).map(function(t){if(Sg(t,n))return tc(n.get(),n.get().length-1);qc.remove(n.get());var e=_g(t,!1);return n.set(e),tc(e,e.length-1)})},function(t){qc.remove(n.get());var e=Cg(t);return n.set(e),Ot.some(tc(e,1))})}},Tg={evaluateUntil:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].apply(null,e);if(i.isSome())return i}return Ot.none()}},Eg=ym.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Ng=function(t,e){var n=pd(e,t);return n||t},Ag=function(t,e,n){var i=kp.normalizeForwards(n),r=Ng(e,i.container());return kp.findRootInline(t,r,i).fold(function(){return lf.nextPosition(r,i).bind(d(kp.findRootInline,t,r)).map(function(t){return Eg.before(t)})},Ot.none)},Dg=function(t,e){return null===Pc(t,e)},Mg=function(t,e,n){return kp.findRootInline(t,e,n).filter(d(Dg,e))},Rg=function(t,e,n){var i=kp.normalizeBackwards(n);return Mg(t,e,i).bind(function(t){return lf.prevPosition(t,i).isNone()?Ot.some(Eg.start(t)):Ot.none()})},Pg=function(t,e,n){var i=kp.normalizeForwards(n);return Mg(t,e,i).bind(function(t){return lf.nextPosition(t,i).isNone()?Ot.some(Eg.end(t)):Ot.none()})},Og=function(t,e,n){var i=kp.normalizeBackwards(n),r=Ng(e,i.container());return kp.findRootInline(t,r,i).fold(function(){return lf.prevPosition(r,i).bind(d(kp.findRootInline,t,r)).map(function(t){return Eg.after(t)})},Ot.none)},Ig=function(t){return!1===kp.isRtl(Bg(t))},Lg=function(t,e,n){return Tg.evaluateUntil([Ag,Rg,Pg,Og],[t,e,n]).filter(Ig)},Bg=function(t){return t.fold(yt,yt,yt,yt)},Fg=function(t){return t.fold(vt("before"),vt("start"),vt("end"),vt("after"))},zg=function(t){return t.fold(Eg.before,Eg.before,Eg.after,Eg.after)},Hg=function(t){return t.fold(Eg.start,Eg.start,Eg.end,Eg.end)},jg=function(t,e){return Fg(t)===Fg(e)&&Bg(t)===Bg(e)},Wg=function(n,t,i,e,r,o){return Nu([kp.findRootInline(t,i,e),kp.findRootInline(t,i,r)],function(t,e){return t!==e&&kp.hasSameParentBlock(i,t,e)?Eg.after(n?t:e):o}).getOr(o)},Vg=function(t,e){return t.fold(vt(!0),function(t){return!jg(t,e)})},Ug=function(e,n,i,r,t){var o=kp.normalizePosition(e,t);return lf.fromPosition(e,i,o).map(d(kp.normalizePosition,e)).fold(function(){return r.map(zg)},function(t){return Lg(n,i,t).map(d(Wg,e,n,i,o,t)).filter(d(Vg,r))}).filter(Ig)},$g=function(t,e){return t?e.fold(gt(Ot.some,Eg.start),Ot.none,gt(Ot.some,Eg.after),Ot.none):e.fold(Ot.none,gt(Ot.some,Eg.before),Ot.none,gt(Ot.some,Eg.end))},qg=function(t,e,n,i){var r=kp.normalizePosition(t,i),o=Lg(e,n,r);return Lg(e,n,r).bind(d($g,t)).orThunk(function(){return Ug(t,e,n,o,i)})},Yg={readLocation:Lg,findLocation:qg,prevLocation:d(qg,!1),nextLocation:d(qg,!0),getElement:Bg,outside:zg,inside:Hg},Gg=function(t){return Wt(t.selection.getSel().modify)},Xg=function(t,e,n){var i=t?1:-1;return e.setRng(tc(n.container(),n.offset()+i).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},Kg=function(t,e){var n=e.selection.getRng(),i=t?tc.fromRangeEnd(n):tc.fromRangeStart(n);return!!Gg(e)&&(t&&Vl(i)?Xg(!0,e.selection,i):!(t||!Ul(i))&&Xg(!1,e.selection,i))},Zg={hasSelectionModifyApi:Gg,moveByWord:Kg},Qg=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},Jg=function(t){return!1!==t.settings.inline_boundaries},tv=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},ev=function(e,t,n){return kg.renderCaret(t,n).map(function(t){return Qg(e,t),n})},nv=function(e,n,t){var i=e.getBody(),r=tc.fromRangeStart(e.selection.getRng()),o=d(kp.isInlineTarget,e);return Yg.findLocation(t,o,i,r).bind(function(t){return ev(e,n,t)})},iv=function(t,e,n){var i=Qt(e.select('*[data-mce-selected="inline-boundary"]'),t),r=Qt(n,t);Xt(ce(i,r),d(tv,!1)),Xt(ce(r,i),d(tv,!0))},rv=function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=tc.fromRangeStart(t.selection.getRng());tc.isTextPosition(n)&&!1===kp.isAtZwsp(n)&&(Qg(t,qc.removeAndReposition(e.get(),n)),e.set(null))}},ov=function(e,n,i,t){if(n.selection.isCollapsed()){var r=Qt(t,e);Xt(r,function(){var t=tc.fromRangeStart(n.selection.getRng());Yg.readLocation(e,n.getBody(),t).bind(function(t){return ev(n,i,t)})})}},av=function(t,e){return function(){return!!Jg(e)&&Zg.moveByWord(t,e)}},sv=function(e){var n=Zs(null),i=d(kp.isInlineTarget,e);return e.on("NodeChange",function(t){Jg(e)&&(iv(i,e.dom,t.parents),rv(e,n),ov(i,e,n,t.parents))}),n},lv={move:function(t,e,n){return function(){return!!Jg(t)&&nv(t,e,n).isSome()}},moveNextWord:d(av,!0),movePrevWord:d(av,!1),setupSelectedState:sv,setCaretPosition:Qg},uv=function(t){return!1!==t.settings.inline_boundaries},cv=function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n},dv=function(r){return Nu([lf.firstPositionIn(r),lf.lastPositionIn(r)],function(t,e){var n=kp.normalizePosition(!0,t),i=kp.normalizePosition(!1,e);return lf.nextPosition(r,n).map(function(t){return t.isEqual(i)}).getOr(!0)}).getOr(!0)},fv=function(e,n){return function(t){return kg.renderCaret(n,t).map(function(t){return lv.setCaretPosition(e,t),!0}).getOr(!1)}},hv=function(t,e,n,i){var r=t.getBody(),o=d(kp.isInlineTarget,t);t.undoManager.ignore(function(){t.selection.setRng(cv(n,i)),t.execCommand("Delete"),Yg.readLocation(o,r,tc.fromRangeStart(t.selection.getRng())).map(Yg.inside).map(fv(t,e))}),t.nodeChanged()},pv=function(t,e){var n=pd(e,t);return n||t},mv=function(n,i,r,o){var a=pv(n.getBody(),o.container()),s=d(kp.isInlineTarget,n),l=Yg.readLocation(s,a,o);return l.bind(function(t){return r?t.fold(vt(Ot.some(Yg.inside(t))),Ot.none,vt(Ot.some(Yg.outside(t))),Ot.none):t.fold(Ot.none,vt(Ot.some(Yg.outside(t))),Ot.none,vt(Ot.some(Yg.inside(t))))}).map(fv(n,i)).getOrThunk(function(){var t=lf.navigate(r,a,o),e=t.bind(function(t){return Yg.readLocation(s,a,t)});return l.isSome()&&e.isSome()?kp.findRootInline(s,a,o).map(function(t){return!!dv(t)&&(og.deleteElement(n,r,Vr.fromDom(t)),!0)}).getOr(!1):e.bind(function(){return t.map(function(t){return r?hv(n,i,o,t):hv(n,i,t,o),!0})}).getOr(!1)})},gv={backspaceDelete:function(t,e,n){if(t.selection.isCollapsed()&&uv(t)){var i=tc.fromRangeStart(t.selection.getRng());return mv(t,e,n,i)}return!1}},vv=bo("start","end"),yv=bo("rng","table","cells"),bv=ym.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),xv=function(t){return d(Do,t)},wv=function(t,e){return pl(Vr.fromDom(t),"td,th",e)},Cv=function(t,e){return fl(t,"table",e)},_v=function(t){return!1===Do(t.start(),t.end())},Sv=function(t,n){return Cv(t.start(),n).bind(function(e){return Cv(t.end(),n).bind(function(t){return Do(e,t)?Ot.some(e):Ot.none()})})},kv=function(t){return ul(t,"td,th")},Tv=function(e,t){return Cv(e.start(),t).bind(function(t){return pe(kv(t)).map(function(t){return vv(e.start(),t)})})},Ev=function(n,t){var e=wv(t.startContainer,n),i=wv(t.endContainer,n);return t.collapsed?Ot.none():Nu([e,i],vv).fold(function(){return e.fold(function(){return i.bind(function(e){return Cv(e,n).bind(function(t){return he(kv(t)).map(function(t){return vv(t,e)})})})},function(e){return Cv(e,n).bind(function(t){return pe(kv(t)).map(function(t){return vv(e,t)})})})},function(t){return Nv(n,t)?Ot.none():Tv(t,n)})},Nv=function(t,e){return Sv(e,t).isSome()},Av=function(t,e){var n=wv(t.startContainer,e),i=wv(t.endContainer,e);return Nu([n,i],vv).filter(_v).filter(function(t){return Nv(e,t)}).orThunk(function(){return Ev(e,t)})},Dv=function(e,t){return Sv(e,t).map(function(t){return yv(e,t,kv(t))})},Mv=function(t,e){var n=xv(t);return Av(e,n).bind(function(t){return Dv(t,n)})},Rv=function(t,e){return ne(t,function(t){return Do(t,e)})},Pv=function(n){return Nu([Rv(n.cells(),n.rng().start()),Rv(n.cells(),n.rng().end())],function(t,e){return n.cells().slice(t,e+1)})},Ov=function(n){return Pv(n).map(function(t){var e=n.cells();return t.length===e.length?bv.removeTable(n.table()):bv.emptyCells(t)})},Iv={getActionFromRange:function(t,e){return Mv(t,e).bind(Ov)},getActionFromCells:function(t){return bv.emptyCells(t)}},Lv=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},Bv=function(t){return 1<Lv(t).length},Fv={getRanges:Lv,getSelectedNodes:function(t){return ae(t,function(t){var e=Su(t);return e?[Vr.fromDom(e)]:[]})},hasMultipleRanges:Bv},zv=function(t){return Qt(Fv.getSelectedNodes(t),Na)},Hv=function(t){return ul(t,"td[data-mce-selected],th[data-mce-selected]")},jv=function(t,e){var n=Hv(e),i=zv(t);return 0<n.length?n:i},Wv=function(t){return jv(Fv.getRanges(t.selection.getSel()),Vr.fromDom(t.getBody()))},Vv={getCellsFromRanges:zv,getCellsFromElement:Hv,getCellsFromElementOrRanges:jv,getCellsFromEditor:Wv},Uv=function(t,e){return Xt(e,Rh.fillWithPaddingBr),t.selection.setCursorLocation(e[0].dom(),0),!0},$v=function(t,e){return og.deleteElement(t,!1,e),!0},qv=function(e,t,n){return Iv.getActionFromRange(t,n).map(function(t){return t.fold(d($v,e),d(Uv,e))})},Yv=function(t,e){return Jv(t,e)},Gv=function(e,t,n,i){return Zv(t,i).fold(function(){return qv(e,t,n)},function(t){return Yv(e,t)}).getOr(!1)},Xv=function(t,e){var n=Vr.fromDom(t.getBody()),i=t.selection.getRng(),r=Vv.getCellsFromEditor(t);return 0!==r.length?Uv(t,r):Gv(t,n,i,e)},Kv=function(t,e){return ee(Qp.parentsAndSelf(e,t),Na)},Zv=function(t,e){return ee(Qp.parentsAndSelf(e,t),function(t){return"caption"===Yr(t)})},Qv=function(t,e,n,i,r){return lf.navigate(n,t.getBody(),r).bind(function(t){return Kv(e,Vr.fromDom(t.getNode())).map(function(t){return!1===Do(t,i)})})},Jv=function(t,e){return Rh.fillWithPaddingBr(e),t.selection.setCursorLocation(e.dom(),0),Ot.some(!0)},ty=function(t,n,i,r){return lf.firstPositionIn(t.dom()).bind(function(e){return lf.lastPositionIn(t.dom()).map(function(t){return n?i.isEqual(e)&&r.isEqual(t):i.isEqual(t)&&r.isEqual(e)})}).getOr(!0)},ey=function(t,e){return Jv(t,e)},ny=function(t,e,n){return Zv(t,Vr.fromDom(n.getNode())).map(function(t){return!1===Do(t,e)})},iy=function(e,n,i,r,o){return lf.navigate(i,e.getBody(),o).bind(function(t){return ty(r,i,o,t)?ey(e,r):ny(n,r,t)}).or(Ot.some(!0))},ry=function(e,n,i,t){var r=tc.fromRangeStart(e.selection.getRng());return Kv(i,t).bind(function(t){return Fp.isEmpty(t)?Jv(e,t):Qv(e,i,n,t,r)})},oy=function(t,e,n,i){var r=tc.fromRangeStart(t.selection.getRng());return Fp.isEmpty(i)?Jv(t,i):iy(t,n,e,i,r)},ay=function(e,n,t){var i=Vr.fromDom(e.getBody());return Zv(i,t).fold(function(){return ry(e,n,i,t)},function(t){return oy(e,n,i,t)}).getOr(!1)},sy={backspaceDelete:function(t,e){var n=Vr.fromDom(t.selection.getStart(!0)),i=Vv.getCellsFromEditor(t);return t.selection.isCollapsed()&&0===i.length?ay(t,e,n):Xv(t,n)}},ly=function(t,e){t.getDoc().execCommand(e,!1,null)},uy={deleteCommand:function(t){hg.backspaceDelete(t,!1)||gv.backspaceDelete(t,!1)||cm.backspaceDelete(t,!1)||sy.backspaceDelete(t)||vm.backspaceDelete(t,!1)||(ly(t,"Delete"),Np.paddEmptyBody(t))},forwardDeleteCommand:function(t){hg.backspaceDelete(t,!0)||gv.backspaceDelete(t,!0)||cm.backspaceDelete(t,!0)||sy.backspaceDelete(t)||vm.backspaceDelete(t,!0)||ly(t,"ForwardDelete")}},cy=function(t,e,n){var i=t.getParam(e,n);if(-1===i.indexOf("="))return i;var r=t.getParam(e,"","hash");return r.hasOwnProperty(t.id)?r[t.id]:n},dy={getIframeAttrs:function(t){return t.getParam("iframe_attrs",{})},getDocType:function(t){return t.getParam("doctype","<!DOCTYPE html>")},getDocumentBaseUrl:function(t){return t.getParam("document_base_url","")},getBodyId:function(t){return cy(t,"body_id","tinymce")},getBodyClass:function(t){return cy(t,"body_class","")},getContentSecurityPolicy:function(t){return t.getParam("content_security_policy","")},shouldPutBrInPre:function(t){return t.getParam("br_in_pre",!0)},getForcedRootBlock:function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":e},getForcedRootBlockAttrs:function(t){return t.getParam("forced_root_block_attrs",{})},getBrNewLineSelector:function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},getNoNewLineSelector:function(t){return t.getParam("no_newline_selector","")},shouldKeepStyles:function(t){return t.getParam("keep_styles",!0)},shouldEndContainerOnEmptyBlock:function(t){return t.getParam("end_container_on_empty_block",!1)},getFontStyleValues:function(t){return vi.explode(t.getParam("font_size_style_values",""))},getFontSizeClasses:function(t){return vi.explode(t.getParam("font_size_classes",""))},getImagesDataImgFilter:function(t){return t.getParam("images_dataimg_filter",vt(!0),"function")},isAutomaticUploadsEnabled:function(t){return t.getParam("automatic_uploads",!0,"boolean")},shouldReuseFileName:function(t){return t.getParam("images_reuse_filename",!1,"boolean")},shouldReplaceBlobUris:function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},getImageUploadUrl:function(t){return t.getParam("images_upload_url","","string")},getImageUploadBasePath:function(t){return t.getParam("images_upload_base_path","","string")},getImagesUploadCredentials:function(t){return t.getParam("images_upload_credentials",!1,"boolean")},
getImagesUploadHandler:function(t){return t.getParam("images_upload_handler",null,"function")},shouldUseContentCssCors:function(t){return t.getParam("content_css_cors",!1,"boolean")}},fy=function(e,n,t){var i=function(t){return yo(t,e)},r=function(t){return Do(Vr.fromDom(n),t)};return dl(Vr.fromDom(t),function(t){return i(t).isSome()},r).bind(i)},hy=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},py=function(t,e){return/[0-9.]+px$/.test(t)?hy(72*parseInt(t,10)/96,e||0)+"pt":t},my=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},gy=function(t,e){return Ot.from(Ms.DOM.getStyle(e,t,!0))},vy=function(n){return function(e,t){return Ot.from(t).map(Vr.fromDom).filter(Kr).bind(function(t){return fy(n,e,t.dom()).or(gy(n,t.dom()))}).getOr("")}},yy={getFontSize:vy("font-size"),getFontFamily:gt(my,vy("font-family")),toPt:py},by=function(t){return lf.firstPositionIn(t.getBody()).map(function(t){var e=t.container();return Ya.isText(e)?e.parentNode:e})},xy=function(t,e){return t.startContainer===e&&0===t.startOffset},wy=function(n){return Ot.from(n.selection.getRng()).bind(function(t){var e=n.getBody();return xy(t,e)?Ot.none():Ot.from(n.selection.getStart(!0))})},Cy=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(1<=n&&n<=7){var i=dy.getFontStyleValues(t),r=dy.getFontSizeClasses(t);return r?r[n-1]||e:i[n-1]||e}return e}return e},_y=function(t,e){t.formatter.toggle("fontname",{value:Cy(t,e)}),t.nodeChanged()},Sy=function(e){return wy(e).fold(function(){return by(e).map(function(t){return yy.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return yy.getFontFamily(e.getBody(),t)})},ky=function(t,e){t.formatter.toggle("fontsize",{value:Cy(t,e)}),t.nodeChanged()},Ty=function(e){return wy(e).fold(function(){return by(e).map(function(t){return yy.getFontSize(e.getBody(),t)}).getOr("")},function(t){return yy.getFontSize(e.getBody(),t)})},Ey={isEq:function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}},Ny=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},Ay=function(t,e,n){return null!==Ny(t,e,n)},Dy=function(t,e,n){return Ay(t,e,function(t){return t.nodeName===n})},My=function(t){return t&&"TABLE"===t.nodeName},Ry=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Py=function(t,e){return Hl(t)&&!1===Ay(t,e,Rc)},Oy=function(t,e,n){for(var i=new wt(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=i[n?"prev":"next"]();)if(Ya.isBr(e))return!0},Iy=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},Ly=function(t,e){for(;e&&e!==t;){if(Ya.isContentEditableFalse(e))return!0;e=e.parentNode}return!1},By=function(t,e,n,i,r){var o,a,s,l,u=t.getRoot(),c=t.schema.getNonEmptyElements();if(s=t.getParent(r.parentNode,t.isBlock)||u,i&&Ya.isBr(r)&&e&&t.isEmpty(s))return Ot.some(C(r.parentNode,t.nodeIndex(r)));for(o=new wt(r,s);l=o[i?"prev":"next"]();){if("false"===t.getContentEditableParent(l)||Py(l,u))return Ot.none();if(Ya.isText(l)&&0<l.nodeValue.length)return!1===Dy(l,u,"A")?Ot.some(C(l,i?l.nodeValue.length:0)):Ot.none();if(t.isBlock(l)||c[l.nodeName.toLowerCase()])return Ot.none();a=l}return n&&a?Ot.some(C(a,0)):Ot.none()},Fy=function(t,e,n,i){var r,o,a,s,l,u,c,d=t.getRoot(),f=!1;if(r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"],c=Ya.isElement(r)&&o===r.childNodes.length,l=t.schema.getNonEmptyElements(),u=n,Hl(r))return Ot.none();if(Ya.isElement(r)&&o>r.childNodes.length-1&&(u=!1),Ya.isDocument(r)&&(r=d,o=0),r===d){if(u&&(s=r.childNodes[0<o?o-1:0])){if(Hl(s))return Ot.none();if(l[s.nodeName]||My(s))return Ot.none()}if(r.hasChildNodes()){if(o=Math.min(!u&&0<o?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=Ya.isText(r)&&c?r.data.length:0,!e&&r===d.lastChild&&My(r))return Ot.none();if(Ly(d,r)||Hl(r))return Ot.none();if(r.hasChildNodes()&&!1===My(r)){a=new wt(s=r,d);do{if(Ya.isContentEditableFalse(s)||Hl(s)){f=!1;break}if(Ya.isText(s)&&0<s.nodeValue.length){o=u?0:s.nodeValue.length,r=s,f=!0;break}if(l[s.nodeName.toLowerCase()]&&!Ry(s)){o=t.nodeIndex(s),r=s.parentNode,u||o++,f=!0;break}}while(s=u?a.next():a.prev())}}}return e&&(Ya.isText(r)&&0===o&&By(t,c,e,!0,r).each(function(t){r=t.container(),o=t.offset(),f=!0}),Ya.isElement(r)&&((s=r.childNodes[o])||(s=r.childNodes[o-1]),!s||!Ya.isBr(s)||Iy(s,"A")||Oy(t,s,!1)||Oy(t,s,!0)||By(t,c,e,!0,s).each(function(t){r=t.container(),o=t.offset(),f=!0}))),u&&!e&&Ya.isText(r)&&o===r.nodeValue.length&&By(t,c,e,!1,r).each(function(t){r=t.container(),o=t.offset(),f=!0}),f?Ot.some(C(r,o)):Ot.none()},zy={normalize:function(t,e){var n=e.collapsed,i=e.cloneRange(),r=C.fromRangeStart(e);return Fy(t,n,!0,i).each(function(t){n&&C.isAbove(r,t)||i.setStart(t.container(),t.offset())}),n||Fy(t,n,!1,i).each(function(t){i.setEnd(t.container(),t.offset())}),n&&i.collapse(!0),Ey.isEq(e,i)?Ot.none():Ot.some(i)}},Hy=function(t,e,n){for(var i,r=new wt(e,n),o=t.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||0<i.length)return!0},jy=function(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)},Wy=function(t,e,n,i){var r=t.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.setRng(r)},Vy=function(t,e){var n,i,r=t.selection,o=t.dom,a=r.getRng();zy.normalize(o,a).each(function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)});var s=a.startOffset,l=a.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=u&&3===l.nodeType?l.nodeValue.length:0}var c=o.getParent(l,o.isBlock),d=c?o.getParent(c.parentNode,o.isBlock):null,f=d?d.nodeName.toUpperCase():"",h=e&&e.ctrlKey;"LI"!==f||h||(c=d),l&&3===l.nodeType&&s>=l.nodeValue.length&&(Hy(t.schema,l,c)||(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),i=!0)),n=o.create("br"),a.insertNode(n),jy(o,r,n),Wy(o,r,n,i),t.undoManager.add()},Uy=function(t,e){var n=Vr.fromTag("br");Hs(Vr.fromDom(e),n),t.undoManager.add()},$y=function(t,e){Yy(t.getBody(),e)||js(Vr.fromDom(e),Vr.fromTag("br"));var n=Vr.fromTag("br");js(Vr.fromDom(e),n),jy(t.dom,t.selection,n.dom()),Wy(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},qy=function(t){return Ya.isBr(t.getNode())},Yy=function(t,e){return!!qy(tc.after(e))||lf.nextPosition(t,tc.after(e)).map(function(t){return Ya.isBr(t.getNode())}).getOr(!1)},Gy=function(t){return t&&"A"===t.nodeName&&"href"in t},Xy=function(t){return t.fold(vt(!1),Gy,Gy,vt(!1))},Ky=function(t){var e=d(kp.isInlineTarget,t),n=tc.fromRangeStart(t.selection.getRng());return Yg.readLocation(e,t.getBody(),n).filter(Xy)},Zy=function(t,e){e.fold(mt,d(Uy,t),d($y,t),mt)},Qy={insert:function(t,e){var n=Ky(t);n.isSome()?n.each(d(Zy,t)):Vy(t,e)}},Jy=(ym.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ym.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),bo("start","soffset","finish","foffset")),tb=Fr.detect().browser,eb=function(t,e){var n=Zr(e)?eh(e).length:Vo(e).length+1;return n<t?n:t<0?0:t},nb=function(t){return Jy(t.start(),eb(t.soffset(),t.start()),t.finish(),eb(t.foffset(),t.finish()))},ib=function(t,e){return Po(t,e)||Do(t,e)},rb=function(e){return function(t){return ib(e,t.start())&&ib(e,t.finish())}},ob=function(t){return!0===t.inline||tb.isIE()},ab=function(t){return Jy(Vr.fromDom(t.startContainer),t.startOffset,Vr.fromDom(t.endContainer),t.endOffset)},sb=function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?Ot.from(e.getRangeAt(0)):Ot.none()).map(ab)},lb=function(t){var e=Lo(t);return sb(e.dom()).filter(rb(t))},ub=function(t,e){return Ot.from(e).filter(rb(t)).map(nb)},cb=function(t){var e=document.createRange();try{return e.setStart(t.start().dom(),t.soffset()),e.setEnd(t.finish().dom(),t.foffset()),Ot.some(e)}catch(n){return Ot.none()}},db=function(t){return(t.bookmark?t.bookmark:Ot.none()).bind(d(ub,Vr.fromDom(t.getBody()))).bind(cb)},fb={store:function(t){var e=ob(t)?lb(Vr.fromDom(t.getBody())):Ot.none();t.bookmark=e.isSome()?e:t.bookmark},storeNative:function(t,e){var n=Vr.fromDom(t.getBody()),i=(ob(t)?Ot.from(e):Ot.none()).map(ab).filter(rb(n));t.bookmark=i.isSome()?i:t.bookmark},readRange:sb,restore:function(e){db(e).each(function(t){e.selection.setRng(t)})},getRng:db,getBookmark:lb,validate:ub},hb=function(t,e,n,i,r,o){if("false"!==t.getContentEditable(o)){var a=n?"margin":"padding";if(a="TABLE"===o.nodeName?"margin":a,a+="rtl"===t.getStyle(o,"direction",!0)?"Right":"Left","outdent"===e){var s=Math.max(0,parseInt(o.style[a]||0,10)-i);t.setStyle(o,a,s?s+r:"")}else s=parseInt(o.style[a]||0,10)+i+r,t.setStyle(o,a,s)}},pb=function(t){return Sa(t)||ka(t)},mb=function(t){return Bo(t).map(pb).getOr(!1)},gb=function(t){return Qt(Gt(t.selection.getSelectedBlocks(),Vr.fromDom),function(t){return!pb(t)&&!mb(t)})},vb=function(t,e){var n=t.settings,i=t.dom,r=t.selection,o=t.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],s=parseInt(n.indentation,10),l=t.getParam("indent_use_margin",!1);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||n.forced_root_block||i.getParent(r.getNode(),i.isBlock)||o.apply("div"),Xt(gb(t),function(t){hb(i,e,l,s,a,t.dom())})},yb=vi.each,bb=vi.extend,xb=vi.map,wb=vi.inArray,Cb=vi.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),_b=function(a){var s,l,u=this,c={},d=function(){return!1},f=function(){return!0};s=(a=a||{}).scope||u,l=a.toggleEvent||d;var t=function(t,e){var n,i,r,o;if(t=t.toLowerCase(),(e=e||{}).type=t,e.target||(e.target=s),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=f},e.stopPropagation=function(){e.isPropagationStopped=f},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=f},e.isDefaultPrevented=d,e.isPropagationStopped=d,e.isImmediatePropagationStopped=d),a.beforeFire&&a.beforeFire(e),n=c[t])for(i=0,r=n.length;i<r;i++){if((o=n[i]).once&&h(t,o.func),e.isImmediatePropagationStopped())return e.stopPropagation(),e;if(!1===o.func.call(s,e))return e.preventDefault(),e}return e},i=function(t,e,n,i){var r,o,a;if(!1===e&&(e=d),e)for(e={func:e},i&&vi.extend(e,i),a=(o=t.toLowerCase().split(" ")).length;a--;)t=o[a],(r=c[t])||(r=c[t]=[],l(t,!0)),n?r.unshift(e):r.push(e);return u},h=function(t,e){var n,i,r,o,a;if(t)for(n=(o=t.toLowerCase().split(" ")).length;n--;){if(t=o[n],i=c[t],!t){for(r in c)l(r,!1),delete c[r];return u}if(i){if(e)for(a=i.length;a--;)i[a].func===e&&(i=i.slice(0,a).concat(i.slice(a+1)),c[t]=i);else i.length=0;i.length||(l(t,!1),delete c[t])}}else{for(t in c)l(t,!1);c={}}return u},e=function(t,e,n){return i(t,e,n,{once:!0})},n=function(t){return t=t.toLowerCase(),!(!c[t]||0===c[t].length)};u.fire=t,u.on=i,u.off=h,u.once=e,u.has=n};_b.isNative=function(t){return!!Cb[t.toLowerCase()]};var Sb,kb,Tb,Eb=function(n){return n._eventDispatcher||(n._eventDispatcher=new _b({scope:n,toggleEvent:function(t,e){_b.isNative(t)&&n.toggleNativeEvent&&n.toggleNativeEvent(t,e)}})),n._eventDispatcher},Nb={fire:function(t,e,n){var i=this;if(i.removed&&"remove"!==t)return e;if(e=Eb(i).fire(t,e,n),!1!==n&&i.parent)for(var r=i.parent();r&&!e.isPropagationStopped();)r.fire(t,e,!1),r=r.parent();return e},on:function(t,e,n){return Eb(this).on(t,e,n)},off:function(t,e){return Eb(this).off(t,e)},once:function(t,e){return Eb(this).once(t,e)},hasEventListeners:function(t){return Eb(this).has(t)}},Ab={firePreProcess:function(t,e){return t.fire("PreProcess",e)},firePostProcess:function(t,e){return t.fire("PostProcess",e)},fireRemove:function(t){return t.fire("remove")},fireSwitchMode:function(t,e){return t.fire("SwitchMode",{mode:e})},fireObjectResizeStart:function(t,e,n,i){t.fire("ObjectResizeStart",{target:e,width:n,height:i})},fireObjectResized:function(t,e,n,i){t.fire("ObjectResized",{target:e,width:n,height:i})}},Db=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}},Mb=function(t,e,n){ll(t,e)&&!1===n?sl(t,e):n&&ol(t,e)},Rb=function(t,e){Mb(Vr.fromDom(t.getBody()),"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable="false"):(t.readonly=!1,t.getBody().contentEditable="true",Db(t,"StyleWithCSS",!1),Db(t,"enableInlineTableEditing",!1),Db(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())},Pb=function(t,e){e!==Ob(t)&&(t.initialized?Rb(t,"readonly"===e):t.on("init",function(){Rb(t,"readonly"===e)}),Ab.fireSwitchMode(t,e))},Ob=function(t){return t.readonly?"readonly":"design"},Ib=function(t){return!0===t.readonly},Lb=Ms.DOM,Bb=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=Lb.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},Fb=function(t){return!t.hidden&&!t.readonly},zb=function(t,e,n){Fb(t)?t.fire(e,n):Ib(t)&&n.preventDefault()},Hb=function(o,a){var t,e;if(o.delegates||(o.delegates={}),!o.delegates[a]&&!o.removed)if(t=Bb(o,a),o.settings.event_root){if(Sb||(Sb={},o.editorManager.on("removeEditor",function(){var t;if(!o.editorManager.activeEditor&&Sb){for(t in Sb)o.dom.unbind(Bb(o,t));Sb=null}})),Sb[a])return;e=function(t){for(var e=t.target,n=o.editorManager.get(),i=n.length;i--;){var r=n[i].getBody();(r===e||Lb.isChildOf(e,r))&&zb(n[i],a,t)}},Sb[a]=e,Lb.bind(t,a,e)}else e=function(t){zb(o,a,t)},Lb.bind(t,a,e),o.delegates[a]=e},jb={bindPendingEventDelegates:function(){var e=this;vi.each(e._pendingNativeEvents,function(t){Hb(e,t)})},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?Hb(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(Bb(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this,n=e.getBody(),i=e.dom;if(e.delegates){for(t in e.delegates)e.dom.unbind(Bb(e,t),t,e.delegates[t]);delete e.delegates}!e.inline&&n&&i&&(n.onload=null,i.unbind(e.getWin()),i.unbind(e.getDoc())),i&&(i.unbind(n),i.unbind(e.getContainer()))}},Wb=jb=vi.extend({},Nb,jb),Vb=vi.each,Ub=vi.explode,$b={f9:120,f10:121,f11:122},qb=vi.makeMap("alt,ctrl,shift,meta,access"),Yb=function(t){var e=Oo(t).dom();return t.dom()===e.activeElement},Gb=function(t){var e=t!==undefined?t.dom():document;return Ot.from(e.activeElement).map(Vr.fromDom)},Xb=function(e){return Gb(Oo(e)).filter(function(t){return e.dom().contains(t.dom())})},Kb=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},Zb=function(t){return t.collapsed?Ot.from(ku(t.startContainer,t.startOffset)).map(Vr.fromDom):Ot.none()},Qb=function(e,t){return Zb(t).bind(function(t){return Ea(t)?Ot.some(t):!1===Po(e,t)?Ot.some(e):Ot.none()})},Jb=function(e,t){Qb(Vr.fromDom(e.getBody()),t).bind(function(t){return lf.firstPositionIn(t.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},tx=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},ex=function(t){return Yb(t)||Xb(t).isSome()},nx=function(t){return t.iframeElement&&Yb(Vr.fromDom(t.iframeElement))},ix=function(t){var e=t.getBody();return e&&ex(Vr.fromDom(e))},rx=function(t){return t.inline?ix(t):nx(t)},ox=function(e){var t=e.selection,n=e.settings.content_editable,i=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable();var o=Kb(e,t.getNode());if(e.$.contains(i,o))return tx(o),Jb(e,r),void ax(e);e.bookmark!==undefined&&!1===rx(e)&&fb.getRng(e).each(function(t){e.selection.setRng(t),r=t}),n||(Ee.opera||tx(i),e.getWin().focus()),(Ee.gecko||n)&&(tx(i),Jb(e,r)),ax(e)},ax=function(t){return t.editorManager.setActive(t)},sx={focus:function(t,e){t.removed||(e?ax(t):ox(t))},hasFocus:rx},lx=function(t,e){return e.dom()[t]},ux=function(t,e){return parseInt(go(e,t),10)},cx=d(lx,"clientWidth"),dx=d(lx,"clientHeight"),fx=d(ux,"margin-top"),hx=d(ux,"margin-left"),px=function(t){return t.dom().getBoundingClientRect()},mx=function(t,e,n){var i=cx(t),r=dx(t);return 0<=e&&0<=n&&e<=i&&n<=r},gx=function(t,e,n,i){var r=px(e);return{x:n-(t?r.left+e.dom().clientLeft+hx(e):0),y:i-(t?r.top+e.dom().clientTop+fx(e):0)}},vx=function(t){return Ot.from(t).map(Vr.fromDom)},yx={isXYInContentArea:function(t,e,n){var i=Vr.fromDom(t.getBody()),r=t.inline?i:Io(i),o=gx(t.inline,r,e,n);return mx(r,o.x,o.y)},isEditorAttachedToDom:function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return vx(e).map(function(t){return Po(Oo(t),t)}).getOr(!1)}},bx=v.PluginManager,xx=function(t,e){for(var n in bx.urls)if(bx.urls[n]+"/plugin"+e+".js"===t)return n;return null},wx=function(t,e){var n=xx(e,t.suffix);return n?"Failed to load plugin: "+n+" from url "+e:"Failed to load plugin url: "+e},Cx=function(t,e){t.notificationManager.open({type:"error",text:e})},_x=function(t,e){t._skinLoaded?Cx(t,e):t.on("SkinLoaded",function(){Cx(t,e)})},Sx={pluginLoadError:function(t,e){_x(t,wx(t,e))},uploadError:function(t,e){_x(t,"Failed to upload image: "+e)},displayError:_x,initError:function(){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=window.console;n&&(n.error?n.error.apply(n,arguments):n.log.apply(n,arguments))}},kx=v.PluginManager,Tx=v.ThemeManager,Ex={atob:function(t){return xe.getOrDie("atob")(t)},requestAnimationFrame:function(t){xe.getOrDie("requestAnimationFrame")(t)}},Nx=function(o){return new Ae(function(t,e){var n=function(){e("Cannot convert "+o+" to Blob. Resource might not exist or is inaccessible.")};try{var i=M();i.open("GET",o,!0),i.responseType="blob",i.onload=function(){200===this.status?t(this.response):n()},i.onerror=n,i.send()}catch(r){n()}})},Ax=function(t){var e,n,i=decodeURIComponent(t).split(",");return(n=/data:([^;]+)/.exec(i[0]))&&(e=n[1]),{type:e,data:i[1]}},Dx=function(o){return new Ae(function(t){var e,n,i,r=Ax(o);try{e=Ex.atob(r.data)}catch(wM){return void t(new Blob([]))}for(n=O(e.length),i=0;i<n.length;i++)n[i]=e.charCodeAt(i);t(new Blob([n],{type:r.type}))})},Mx={uriToBlob:function(t){return 0===t.indexOf("blob:")?Nx(t):0===t.indexOf("data:")?Dx(t):null},blobToDataUri:function(n){return new Ae(function(t){var e=P();e.onloadend=function(){t(e.result)},e.readAsDataURL(n)})},parseDataUri:Ax},Rx=0,Px=function(t){return(t||"blobid")+Rx++},Ox=function(n,i,r,e){var o,a;0!==i.src.indexOf("blob:")?(o=Mx.parseDataUri(i.src).data,(a=n.findFirst(function(t){return t.base64()===o}))?r({image:i,blobInfo:a}):Mx.uriToBlob(i.src).then(function(t){a=n.create(Px(),t,o),n.add(a),r({image:i,blobInfo:a})},function(t){e(t)})):(a=n.getByUri(i.src))?r({image:i,blobInfo:a}):Mx.uriToBlob(i.src).then(function(e){Mx.blobToDataUri(e).then(function(t){o=Mx.parseDataUri(t).data,a=n.create(Px(),e,o),n.add(a),r({image:i,blobInfo:a})})},function(t){e(t)})},Ix=function(t){return t?me(t.getElementsByTagName("img")):[]},Lx=0,Bx=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+t()+t()+t()},Fx={uuid:function(t){return t+Lx+++Bx()}},zx=function(t,e){return t.hasOwnProperty(e.nodeName)},Hx=function(t,e){return!!Ya.isText(e)||!!Ya.isElement(e)&&!zx(t,e)&&!Nf.isBookmarkNode(e)},jx=function(e,t,n){return Yt(Qp.parents(Vr.fromDom(n),Vr.fromDom(t)),function(t){return zx(e,t.dom())})},Wx=function(t,e){if(Ya.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||zx(t,e.nextSibling)))return!0}return!1},Vx=function(t){var e,n,i,r,o,a,s,l,u,c,d,f=t.settings,h=t.dom,p=t.selection,m=t.schema,g=m.getBlockElements(),v=p.getStart(),y=t.getBody();if(d=f.forced_root_block,v&&Ya.isElement(v)&&d&&(c=y.nodeName.toLowerCase(),m.isValidChild(c,d.toLowerCase())&&!jx(g,y,v))){for(n=(e=p.getRng()).startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,u=sx.hasFocus(t),v=y.firstChild;v;)if(Hx(g,v)){if(Wx(g,v)){v=(s=v).nextSibling,h.remove(s);continue}a||(a=h.create(d,t.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),l=!0),v=(s=v).nextSibling,a.appendChild(s)}else a=null,v=v.nextSibling;l&&u&&(e.setStart(n,i),e.setEnd(r,o),p.setRng(e),t.nodeChanged())}},Ux={setup:function(t){t.settings.forced_root_block&&t.on("NodeChange",d(Vx,t))}},$x=function(t){var e=t.startContainer,n=t.startOffset;return Ya.isText(e)?0===n?Ot.some(Vr.fromDom(e)):Ot.none():Ot.from(e.childNodes[n]).map(Vr.fromDom)},qx=function(t){var e=t.endContainer,n=t.endOffset;return Ya.isText(e)?n===e.data.length?Ot.some(Vr.fromDom(e)):Ot.none():Ot.from(e.childNodes[n-1]).map(Vr.fromDom)},Yx=function(e){return $o(e).fold(vt([e]),function(t){return[e].concat(Yx(t))})},Gx=function(e){return qo(e).fold(vt([e]),function(t){return"br"===Yr(t)?zo(t).map(function(t){return[e].concat(Gx(t))}).getOr([]):[e].concat(Gx(t))})},Xx=function(r,t){return Nu([$x(t),qx(t)],function(t,e){var n=ee(Yx(r),d(Do,t)),i=ee(Gx(r),d(Do,e));return n.isSome()&&i.isSome()}).getOr(!1)},Kx=function(t,e,n,i){var r=n,o=new wt(n,r),a=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==vi.trim(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(Ee.ie&&Ee.ie<11&&t.isBlock(n)&&t.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},Zx=function(t){var e=t.selection.getSel();return e&&0<e.rangeCount},Qx=function(t){var e,n,i,r;return r=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},Jx=function(t){return t.inline?Qx(t.getBody()):{left:0,top:0}},tw=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},ew=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},r={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:r},nw=function(t,e){if(e.target.ownerDocument===t.getDoc())return{left:e.pageX,top:e.pageY};var n=Qx(t.getContentAreaContainer()),i=ew(t);return{left:e.pageX-n.left+i.left,top:e.pageY-n.top+i.top}},iw=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},rw={calc:function(t,e){return iw(Jx(t),tw(t),nw(t,e))}},ow=Ya.isContentEditableFalse,aw=Ya.isContentEditableTrue,sw=function(t,e){return ow(e)&&e!==t},lw=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!ow(e)},uw=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},cw=function(t,e,n,i){var r=e.cloneNode(!0);t.dom.setStyles(r,{width:n,height:i}),t.dom.setAttrib(r,"data-mce-selected",null);var o=t.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o},dw=function(t,e){t.parentNode!==e&&e.appendChild(t)},fw=function(t,e,n,i,r,o){var a=0,s=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(a=e.pageX+n-r),e.pageY+i>o&&(s=e.pageY+i-o),t.style.width=n-a+"px",t.style.height=i-s+"px"},hw=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},pw=function(t){return 0===t.button},mw=function(t){return t.element},gw=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},vw=function(o,a){return function(t){if(pw(t)){var e=ee(a.dom.getParents(t.target),Du.or(ow,aw)).getOr(null);if(sw(a.getBody(),e)){var n=a.dom.getPos(e),i=a.getBody(),r=a.getDoc().documentElement;o.element=e,o.screenX=t.screenX,o.screenY=t.screenY,o.maxX=(a.inline?i.scrollWidth:r.offsetWidth)-2,o.maxY=(a.inline?i.scrollHeight:r.offsetHeight)-2,o.relX=t.pageX-n.x,o.relY=t.pageY-n.y,o.width=e.offsetWidth,o.height=e.offsetHeight,o.ghost=cw(a,e,o.width,o.height)}}}},yw=function(i,r){var o=Oe.throttle(function(t,e){r._selectionOverrides.hideFakeCaret(),r.selection.placeCaretAt(t,e)},0);return function(t){var e=Math.max(Math.abs(t.screenX-i.screenX),Math.abs(t.screenY-i.screenY));if(mw(i)&&!i.dragging&&10<e){if(r.fire("dragstart",{target:i.element}).isDefaultPrevented())return;i.dragging=!0,r.focus()}if(i.dragging){var n=gw(i,rw.calc(r,t));dw(i.ghost,r.getBody()),fw(i.ghost,n,i.width,i.height,i.maxX,i.maxY),o(t.clientX,t.clientY)}}},bw=function(t){var e=t.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e},xw=function(i,r){return function(t){if(i.dragging&&lw(r,bw(r.selection),i.element)){var e=uw(i.element),n=r.fire("drop",{targetClone:e,clientX:t.clientX,clientY:t.clientY});n.isDefaultPrevented()||(e=n.targetClone,r.undoManager.transact(function(){hw(i.element),r.insertContent(r.dom.getOuterHTML(e)),r._selectionOverrides.hideFakeCaret()}))}Cw(i)}},ww=function(t,e){return function(){t.dragging&&e.fire("dragend"),Cw(t)}},Cw=function(t){t.dragging=!1,t.element=null,hw(t.ghost)},_w=function(t){var e,n,i,r,o,a,s={};e=Ms.DOM,a=document,n=vw(s,t),i=yw(s,t),r=xw(s,t),o=ww(s,t),t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",r),e.bind(a,"mousemove",i),e.bind(a,"mouseup",o),t.on("remove",function(){e.unbind(a,"mousemove",i),e.unbind(a,"mouseup",o)})},Sw=function(n){n.on("drop",function(t){var e="undefined"!=typeof t.clientX?n.getDoc().elementFromPoint(t.clientX,t.clientY):null;(ow(e)||ow(n.dom.getContentEditableParent(e)))&&t.preventDefault()})},kw={init:function(t){_w(t),Sw(t)}},Tw=function(e){var t=function(t){return Gt(t,function(t){return(t=pu(t)).node=e,t})};if(Ya.isElement(e))return t(e.getClientRects());if(Ya.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},Ew=function(t){return te(t,function(t,e){return t.concat(Tw(e))},[])};(Tb=kb||(kb={}))[Tb.Up=-1]="Up",Tb[Tb.Down=1]="Down";var Nw=function(t,e,n,i){for(;i=hd(i,t,fu,e);)if(n(i))return},Aw=function(r,o,a,t,s,e){var n,l,u=0,c=[],i=function(t){var e,n,i;for(i=Ew([t]),-1===r&&(i=i.reverse()),e=0;e<i.length;e++)if(n=i[e],!a(n,l)){if(0<c.length&&o(n,ri.last(c))&&u++,n.line=u,s(n))return!0;c.push(n)}};return(l=ri.last(e.getClientRects()))&&(i(n=e.getNode()),Nw(r,t,i,n)),c},Dw=function(t,e){return e.line>t},Mw=function(t,e){return e.line===t},Rw=d(Aw,kb.Up,yu,bu),Pw=d(Aw,kb.Down,bu,yu),Ow=function(t,e,n,i){var r,o,a,s,l,u,c=Gd(e),d=[],f=0,h=function(t){return ri.last(t.getClientRects())};1===t?(r=c.next,o=bu,a=yu,s=tc.after(i)):(r=c.prev,o=yu,a=bu,s=tc.before(i)),u=h(s);do{if(s.isVisible()&&!a(l=h(s),u)){if(0<d.length&&o(l,ri.last(d))&&f++,(l=pu(l)).position=s,l.line=f,n(l))return d;d.push(l)}}while(s=r(s));return d},Iw=function(e){return function(t){return Dw(e,t)}},Lw=function(e){return function(t){return Mw(e,t)}},Bw=Ya.isContentEditableFalse,Fw=hd,zw=function(t,e){return Math.abs(t.left-e)},Hw=function(t,e){return Math.abs(t.right-e)},jw=function(t,e){return t>=e.left&&t<=e.right},Ww=function(t,r){return ri.reduce(t,function(t,e){var n,i;return n=Math.min(zw(t,r),Hw(t,r)),i=Math.min(zw(e,r),Hw(e,r)),jw(r,e)?e:jw(r,t)?t:i===n&&Bw(e.node)?e:i<n?e:t})},Vw=function(t,e,n,i){for(;i=Fw(i,t,fu,e);)if(n(i))return},Uw=function(t,i){var r=[],e=function(e,t){var n;return n=Qt(Ew([t]),function(t){return!e(t,i)}),r=r.concat(n),0===n.length};return r.push(i),Vw(kb.Up,t,d(e,yu),i.node),Vw(kb.Down,t,d(e,bu),i.node),r},$w=function(t){return Qt(me(t.getElementsByTagName("*")),td)},qw=function(t,e){return{node:t.node,before:zw(t,e)<Hw(t,e)}},Yw=function(t,e,n){var i,r=Ew($w(t)),o=Qt(r,function(t){return n>=t.top&&n<=t.bottom});return(i=Ww(o,e))&&(i=Ww(Uw(t,i),e))&&td(i.node)?qw(i,e):null},Gw={isXYWithinRange:function(n,i,t){return!t.collapsed&&te(t.getClientRects(),function(t,e){return t||xu(e,n,i)},!1)}},Xw=Ya.isContentEditableTrue,Kw=Ya.isContentEditableFalse,Zw=function(t,e,n,i,r){return e._selectionOverrides.showCaret(t,n,i,r)},Qw=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},Jw=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:Qw(e)},tC=function(t,e,n){var i=Cd(1,t.getBody(),e),r=tc.fromRangeStart(i),o=r.getNode();if(Kw(o))return Zw(1,t,o,!r.isAtEnd(),!1);var a=r.getNode(!0);if(Kw(a))return Zw(1,t,a,!1,!1);var s=t.dom.getParent(r.getNode(),function(t){return Kw(t)||Xw(t)});return Kw(s)?Zw(1,t,s,!1,n):null},eC=function(t,e,n){if(!e||!e.collapsed)return e;var i=tC(t,e,n);return i||e},nC={setup:function(e){var t=Xs(function(){if(!e.removed&&e.selection.getRng().collapsed){var t=eC(e,e.selection.getRng(),!1);e.selection.setRng(t)}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})}},iC={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return Ee.mac?t.metaKey:t.ctrlKey&&!t.altKey}},rC=Ya.isContentEditableTrue,oC=Ya.isContentEditableFalse,aC=Nd,sC=Ed,lC=function(t,e){for(var n=t.getBody();e&&e!==n;){if(rC(e)||oC(e))return e;e=e.parentNode}return null},uC=function(p){var m,t=function(t){return p.dom.isBlock(t)},l=p.getBody(),u=Qc(p.getBody(),t,function(){return sx.hasFocus(p)}),g="sel-"+p.dom.uniqueId(),c=function(t){return p.dom.hasClass(t,"mce-offscreen-selection")},d=function(){var t=p.dom.get(g);return t?t.getElementsByTagName("*")[0]:t},f=function(t){t&&p.selection.setRng(t)},h=function(){return p.selection.getRng()},v=function(t,e,n,i){return void 0===i&&(i=!0),p.fire("ShowCaret",{target:e,direction:t,before:n}).isDefaultPrevented()?null:(i&&p.selection.scrollIntoView(e,-1===t),u.show(n,e))},y=function(t,e){return e=Cd(t,l,e),-1===t?tc.fromRangeStart(e):tc.fromRangeEnd(e)},e=function(t){t.hasAttribute("data-mce-caret")&&(Kl(t),f(h()),p.selection.scrollIntoView(t[0]))},n=function(){p.on("mouseup",function(t){var e=h();e.collapsed&&yx.isXYInContentArea(p,t.clientX,t.clientY)&&f(tC(p,e,!1))}),p.on("click",function(t){var e;(e=lC(p,t.target))&&(oC(e)&&(t.preventDefault(),p.focus()),rC(e)&&p.dom.isChildOf(e,p.selection.getNode())&&w())}),p.on("blur NewBlock",function(){w()}),p.on("ResizeWindow FullscreenStateChanged",function(){return u.reposition()});var n,i,r=function(t){var e=Gd(t);if(!t.firstChild)return!1;var n=tc.before(t.firstChild),i=e.next(n);return i&&!sC(i)&&!aC(i)},o=function(t,e){return p.dom.getParent(t,p.dom.isBlock)===p.dom.getParent(e,p.dom.isBlock)},a=function(t,e){var n=p.dom.getParent(t,p.dom.isBlock),i=p.dom.getParent(e,p.dom.isBlock);return!(!n||!p.dom.isChildOf(n,i)||!1!==oC(lC(p,n)))||n&&!o(n,i)&&r(n)};i=!1,(n=p).on("touchstart",function(){i=!1}),n.on("touchmove",function(){i=!0}),n.on("touchend",function(t){var e=lC(n,t.target);oC(e)&&(i||(t.preventDefault(),x(Jw(n,e))))}),p.on("mousedown",function(t){var e,n=t.target;if((n===l||"HTML"===n.nodeName||p.dom.isChildOf(n,l))&&!1!==yx.isXYInContentArea(p,t.clientX,t.clientY))if(e=lC(p,n))oC(e)?(t.preventDefault(),x(Jw(p,e))):(w(),rC(e)&&t.shiftKey||Gw.isXYWithinRange(t.clientX,t.clientY,p.selection.getRng())||(C(),p.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===td(n)){w(),C();var i=Yw(l,t.clientX,t.clientY);if(i&&!a(t.target,i.node)){t.preventDefault();var r=v(1,i.node,i.before,!1);p.getBody().focus(),f(r)}}}),p.on("keypress",function(t){iC.modifierPressed(t)||(t.keyCode,oC(p.selection.getNode())&&t.preventDefault())}),p.on("getSelectionRange",function(t){var e=t.range;if(m){if(!m.parentNode)return void(m=null);(e=e.cloneRange()).selectNode(m),t.range=e}}),p.on("setSelectionRange",function(t){var e;(e=x(t.range,t.forward))&&(t.range=e)});var s=function(t){return"mcepastebin"===t.id};p.on("AfterSetSelectionRange",function(t){var e=t.range;b(e)||s(e.startContainer.parentNode)||C(),c(e.startContainer.parentNode)||w()}),p.on("copy",function(t){var e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!Ee.ie){var n=d();n&&(t.preventDefault(),e.clearData(),e.setData("text/html",n.outerHTML),e.setData("text/plain",n.outerText))}}),kw.init(p),nC.setup(p)},i=function(){var t=p.contentStyles,e=".mce-content-body";t.push(u.getCss()),t.push(e+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+e+" *[contentEditable=false] {cursor: default;}"+e+" *[contentEditable=true] {cursor: text;}")},r=function(t){return Hl(t)||Yl(t)||Gl(t)},b=function(t){return r(t.startContainer)||r(
t.endContainer)},x=function(t,e){var n,i,r,o,a,s,l,u,c,d,f=p.$,h=p.dom;if(!t)return null;if(t.collapsed){if(!b(t))if(!1===e){if(u=y(-1,t),td(u.getNode(!0)))return v(-1,u.getNode(!0),!1,!1);if(td(u.getNode()))return v(-1,u.getNode(),!u.isAtEnd(),!1)}else{if(u=y(1,t),td(u.getNode()))return v(1,u.getNode(),!u.isAtEnd(),!1);if(td(u.getNode(!0)))return v(1,u.getNode(!0),!1,!1)}return null}return o=t.startContainer,a=t.startOffset,s=t.endOffset,3===o.nodeType&&0===a&&oC(o.parentNode)&&(o=o.parentNode,a=h.nodeIndex(o),o=o.parentNode),1!==o.nodeType?null:(s===a+1&&(n=o.childNodes[a]),oC(n)?(c=d=n.cloneNode(!0),(l=p.fire("ObjectSelected",{target:n,targetClone:c})).isDefaultPrevented()?null:(i=hl(Vr.fromDom(p.getBody()),"#"+g).fold(function(){return f([])},function(t){return f([t.dom()])}),c=l.targetClone,0===i.length&&(i=f('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g)).appendTo(p.getBody()),t=p.dom.createRng(),c===d&&Ee.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(c),t.setStartAfter(i[0].firstChild.firstChild),t.setEndAfter(c)):(i.empty().append("\xa0").append(c).append("\xa0"),t.setStart(i[0].firstChild,1),t.setEnd(i[0].lastChild,0)),i.css({top:h.getPos(n,p.getBody()).y}),i[0].focus(),(r=p.selection.getSel()).removeAllRanges(),r.addRange(t),Xt(ul(Vr.fromDom(p.getBody()),"*[data-mce-selected]"),function(t){co(t,"data-mce-selected")}),n.setAttribute("data-mce-selected","1"),m=n,C(),t)):null)},w=function(){m&&(m.removeAttribute("data-mce-selected"),hl(Vr.fromDom(p.getBody()),"#"+g).each(Ys),m=null),hl(Vr.fromDom(p.getBody()),"#"+g).each(Ys),m=null},o=function(){u.destroy(),m=null},C=function(){u.hide()};return Ee.ceFalse&&(n(),i()),{showCaret:v,showBlockCaretContainer:e,hideFakeCaret:C,destroy:o}},cC=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},dC=function(t){return t.replace(/<!--|-->/g,"")},fC=function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))},hC=function(t,e,n){var i,r,o,a,s=1;for(a=t.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i};(H||(H={})).findEndTag=hC;var pC,mC,gC=H,vC=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")},yC=function(t,e){var n,i,r,o,a,s=e,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=t.schema;for(s=vC(t.getTempAttrs(),s),a=u.getShortEndedElements();o=l.exec(s);)i=l.lastIndex,r=o[0].length,n=a[o[1]]?i:gC.findEndTag(u,s,i),s=s.substring(0,i-r)+s.substring(n),l.lastIndex=i-r;return Il.trim(s)},bC={trimExternal:yC,trimInternal:yC},xC=0,wC=1,CC=2,_C={KEEP:xC,DELETE:CC,INSERT:wC,diff:function(p,m){var t=p.length+m.length+2,g=new Array(t),v=new Array(t),o=function(t,e,n){return{start:t,end:e,diag:n}},u=function(t,e,n,i,r){var o=c(t,e,n,i);if(null===o||o.start===e&&o.diag===e-i||o.end===t&&o.diag===t-n)for(var a=t,s=n;a<e||s<i;)a<e&&s<i&&p[a]===m[s]?(r.push([xC,p[a]]),++a,++s):i-n<e-t?(r.push([CC,p[a]]),++a):(r.push([wC,m[s]]),++s);else{u(t,o.start,n,o.start-o.diag,r);for(var l=o.start;l<o.end;++l)r.push([xC,p[l]]);u(o.end,e,o.end-o.diag,i,r)}},y=function(t,e,n,i){for(var r=t;r-e<i&&r<n&&p[r]===m[r-e];)++r;return o(t,r,e)},c=function(t,e,n,i){var r=e-t,o=i-n;if(0===r||0===o)return null;var a,s,l,u,c,d=r-o,f=o+r,h=(f%2==0?f:f+1)/2;for(g[1+h]=t,v[1+h]=e+1,a=0;a<=h;++a){for(s=-a;s<=a;s+=2){for(l=s+h,s===-a||s!==a&&g[l-1]<g[l+1]?g[l]=g[l+1]:g[l]=g[l-1]+1,c=(u=g[l])-t+n-s;u<e&&c<i&&p[u]===m[c];)g[l]=++u,++c;if(d%2!=0&&d-a<=s&&s<=d+a&&v[l-d]<=g[l])return y(v[l-d],s+t-n,e,i)}for(s=d-a;s<=d+a;s+=2){for(l=s+h-d,s===d-a||s!==d+a&&v[l+1]<=v[l-1]?v[l]=v[l+1]-1:v[l]=v[l-1],c=(u=v[l]-1)-t+n-s;t<=u&&n<=c&&p[u]===m[c];)v[l]=u--,c--;if(d%2==0&&-a<=s&&s<=a&&v[l]<=g[l+d])return y(v[l],s+t-n,e,i)}}},e=[];return u(0,p.length,0,m.length,e),e}},SC=function(t){return Ya.isElement(t)?t.outerHTML:Ya.isText(t)?ds.encodeRaw(t.data,!1):Ya.isComment(t)?"<!--"+t.data+"-->":""},kC=function(t){var e,n,i;for(i=document.createElement("div"),e=document.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},TC=function(t,e,n){var i=kC(e);if(t.hasChildNodes()&&n<t.childNodes.length){var r=t.childNodes[n];r.parentNode.insertBefore(i,r)}else t.appendChild(i)},EC=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},NC=function(t,e){var n=0;Xt(t,function(t){t[0]===_C.KEEP?n++:t[0]===_C.INSERT?(TC(e,t[1],n),n++):t[0]===_C.DELETE&&EC(e,n)})},AC={read:function(t){return Qt(Gt(me(t.childNodes),SC),function(t){return 0<t.length})},write:function(t,e){var n=Gt(me(e.childNodes),SC);return NC(_C.diff(n,t),e),e}},DC=Zs(Ot.none()),MC=function(){return DC.get().getOrThunk(function(){var t=document.implementation.createHTMLDocument("undo");return DC.set(Ot.some(t)),t})},RC=function(t){return-1!==t.indexOf("</iframe>")},PC=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},OC=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},IC=function(n){var t,e,i;return t=AC.read(n.getBody()),e=(i=ae(t,function(t){var e=bC.trimInternal(n.serializer,t);return 0<e.length?[e]:[]})).join(""),RC(e)?PC(i):OC(e)},LC=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},BC=function(t){var e=Vr.fromTag("body",MC());return Pl(e,LC(t)),Xt(ul(e,"*[data-mce-bogus]"),Gs),Rl(e)},FC=function(t,e){return LC(t)===LC(e)},zC=function(t,e){return BC(t)===BC(e)},HC={createFragmentedLevel:PC,createCompleteLevel:OC,createFromEditor:IC,applyToEditor:function(t,e,n){"fragmented"===e.type?AC.write(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},isEq:function(t,e){return!(!t||!e)&&(!!FC(t,e)||zC(t,e))}},jC=If.isEq,WC=function(t,e,n){var i=t.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&t.dom.is(e,i[r].selector))return!0;return!1},VC=function(e,t,n,i){var r=e.dom.getRoot();return t!==r&&(t=e.dom.getParent(t,function(t){return!!WC(e,t,n)||t.parentNode===r||!!qC(e,t,n,i,!0)}),qC(e,t,n,i))},UC=function(t,e,n){return!!jC(e,n.inline)||!!jC(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)},$C=function(t,e,n,i,r,o){var a,s,l,u=n[i];if(n.onmatch)return n.onmatch(e,n,i);if(u)if("undefined"==typeof u.length){for(a in u)if(u.hasOwnProperty(a)){if(s="attributes"===i?t.getAttrib(e,a):If.getStyle(t,e,a),r&&!s&&!n.exact)return;if((!r||n.exact)&&!jC(s,If.normalizeStyleValue(t,If.replaceVars(u[a],o),a)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?t.getAttrib(e,u[l]):If.getStyle(t,e,u[l]))return n;return n},qC=function(t,e,n,i,r){var o,a,s,l,u=t.formatter.get(n),c=t.dom;if(u&&e)for(a=0;a<u.length;a++)if(o=u[a],UC(t.dom,e,o)&&$C(c,e,o,"attributes",r,i)&&$C(c,e,o,"styles",r,i)){if(l=o.classes)for(s=0;s<l.length;s++)if(!t.dom.hasClass(e,l[s]))return;return o}},YC=function(i,r,o){var t,a=[],s={};return t=i.selection.getStart(),i.dom.getParent(t,function(t){var e,n;for(e=0;e<r.length;e++)n=r[e],!s[n]&&qC(i,t,n,o)&&(s[n]=!0,a.push(n))},i.dom.getRoot()),a},GC={matchNode:qC,matchName:UC,match:function(t,e,n,i){var r;return i?VC(t,i,e,n):(i=t.selection.getNode(),!!VC(t,i,e,n)||!((r=t.selection.getStart())===i||!VC(t,r,e,n)))},matchAll:YC,canApply:function(t,e){var n,i,r,o,a,s=t.formatter.get(e),l=t.dom;if(s)for(n=t.selection.getStart(),i=If.getParents(l,n),o=s.length-1;0<=o;o--){if(!(a=s[o].selector)||s[o].defaultBlock)return!0;for(r=i.length-1;0<=r;r--)if(l.is(i[r],a))return!0}return!1},matchesUnInheritedFormatSelector:WC},XC=function(t,e){return t.splitText(e)},KC={split:function(t){var e=t.startContainer,n=t.startOffset,i=t.endContainer,r=t.endOffset;return e===i&&Ya.isText(e)?0<n&&n<e.nodeValue.length&&(e=(i=XC(e,n)).previousSibling,n<r?(e=i=XC(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(Ya.isText(e)&&0<n&&n<e.nodeValue.length&&(e=XC(e,n),n=0),Ya.isText(i)&&0<r&&r<i.nodeValue.length&&(r=(i=XC(i,r).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:i,endOffset:r}}},ZC=Il.ZWSP,QC="_mce_caret",JC=function(t,e){return t.importNode(e,!0)},t_=function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==ZC||1<t.childNodes.length)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e},e_=function(t){return 0<t_(t).length},n_=function(t){var e;if(t)for(t=(e=new wt(t,t)).current();t;t=e.next())if(3===t.nodeType)return t;return null},i_=function(t){var e=Vr.fromTag("span");return so(e,{id:QC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Ws(e,Vr.fromText(ZC)),e},r_=function(t){var e=n_(t);return e&&e.nodeValue.charAt(0)===ZC&&e.deleteData(0,1),e},o_=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,r=t.selection;if(e_(e))og.deleteElement(t,!1,Vr.fromDom(e),n);else{var o=r.getRng(),a=i.getParent(e,i.isBlock),s=r_(e);o.startContainer===s&&0<o.startOffset&&o.setStart(s,o.startOffset-1),o.endContainer===s&&0<o.endOffset&&o.setEnd(s,o.endOffset-1),i.remove(e,!0),a&&i.isEmpty(a)&&Rh.fillWithPaddingBr(Vr.fromDom(a)),r.setRng(o)}},a_=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,r=t.selection;if(e)o_(t,e,n);else if(!(e=Pc(t.getBody(),r.getStart())))for(;e=i.get(QC);)o_(t,e,!1)},s_=function(t,e,n){var i=t.dom,r=i.getParent(n,d(If.isTextBlock,t));r&&i.isEmpty(r)?n.parentNode.replaceChild(e,n):(Rh.removeTrailingBr(Vr.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(e,n):i.insertAfter(e,n))},l_=function(t,e){return t.appendChild(e),e},u_=function(t,e){var n=Jt(t,function(t,e){return l_(t,e.cloneNode(!1))},e);return l_(n,n.ownerDocument.createTextNode(ZC))},c_=function(t,e,n){var i,r,o,a,s,l,u=t.selection;a=(i=u.getRng(!0)).startOffset,l=i.startContainer.nodeValue,(r=Pc(t.getBody(),u.getStart()))&&(o=n_(r));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&0<a&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))?(s=u.getBookmark(),i.collapse(!0),i=Xf.expandRng(t,i,t.formatter.get(e)),i=KC.split(i),t.formatter.apply(e,n,i),u.moveToBookmark(s)):(r&&o.nodeValue===ZC||(o=(r=JC(t.getDoc(),i_(!0).dom())).firstChild,i.insertNode(r),a=1),t.formatter.apply(e,n,r),u.setCursorLocation(o,a))},d_=function(t,e,n,i){var r,o,a,s,l,u,c,d=t.dom,f=t.selection,h=[],p=f.getRng();for(r=p.startContainer,o=p.startOffset,3===(l=r).nodeType&&(o!==r.nodeValue.length&&(s=!0),l=l.parentNode);l;){if(GC.matchNode(t,l,e,n,i)){u=l;break}l.nextSibling&&(s=!0),h.push(l),l=l.parentNode}if(u)if(s){a=f.getBookmark(),p.collapse(!0);var m=Xf.expandRng(t,p,t.formatter.get(e),!0);m=KC.split(m),t.formatter.remove(e,n,m),f.moveToBookmark(a)}else{c=Pc(t.getBody(),u);var g=i_(!1).dom(),v=u_(h,g);s_(t,g,c||u),o_(t,c,!1),f.setCursorLocation(v,1),d.isEmpty(u)&&d.remove(u)}},f_=function(t,e){var n=t.selection,i=t.getBody();a_(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==ZC||a_(t,Pc(i,n.getStart())),37!==e&&39!==e||a_(t,Pc(i,n.getStart()))},h_=function(e){e.on("mouseup keydown",function(t){f_(e,t.keyCode)})},p_=function(t,e){var n=i_(!1),i=u_(e,n.dom());return Hs(Vr.fromDom(t),n),Ys(Vr.fromDom(t)),tc(i,0)},m_=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(Yr(e))&&!Rc(e.dom())&&!Ya.isBogus(e.dom())},g_=function(t){return Rc(t.dom())&&e_(t.dom())},v_={},y_=ri.filter,b_=ri.each,x_=function(t,e){b_(v_[t],function(t){t(e)})};mC=function(t){var e,n,i=t.selection.getRng(),r=function(t){return e(t.previousSibling)&&-1!==ri.indexOf(n,t.previousSibling)},o=function(t,e){Bi(e).remove(),Bi(t).append("<br><br>").append(e.childNodes)};e=Ya.matchNodeNames("pre"),i.collapsed||(n=t.selection.getSelectedBlocks(),b_(y_(y_(n,e),r),function(t){o(t.previousSibling,t)}))},v_[pC="pre"]||(v_[pC]=[]),v_[pC].push(mC);var w_,C_={postProcess:x_},__=/^(src|href|style)$/,S_=vi.each,k_=If.isEq,T_=function(t){return/^(TH|TD)$/.test(t.nodeName)},E_=function(t,e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],Ya.isElement(i)&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[o<r?o:r]),Ya.isText(i)&&n&&r>=i.nodeValue.length&&(i=new wt(i,t.getBody()).next()||i),Ya.isText(i)&&!n&&0===r&&(i=new wt(i,t.getBody()).prev()||i),i},N_=function(t,e,n,i){var r=t.create(n,i);return e.parentNode.insertBefore(r,e),r.appendChild(e),r},A_=function(t,e,n,i,r){var o=(i?"next":"previous")+"Sibling",a=t.create(n,r);e.parentNode.insertBefore(a,e);for(var s=[e],l=e;l=l[o];)s.push(l);return s.forEach(function(t){return a.appendChild(t)}),a},D_=function(t,e,n){return!!k_(e,n.inline)||!!k_(e,n.block)||(n.selector?Ya.isElement(e)&&t.is(e,n.selector):void 0)},M_=function(t,e){return e.links&&"A"===t.tagName},R_=function(t,e,n,i){return!(e=If.getNonWhiteSpaceSibling(e,n,i))||"BR"===e.nodeName||t.isBlock(e)},P_=function(e,t,n){var i,r=t.parentNode,o=e.dom,a=e.settings.forced_root_block;n.block&&(a?r===o.getRoot()&&(n.list_block&&k_(t,n.list_block)||S_(vi.grep(t.childNodes),function(t){If.isValid(e,a,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=N_(o,t,a),o.setAttribs(i,e.settings.forced_root_block_attrs)):i=0})):o.isBlock(t)&&!o.isBlock(r)&&(R_(o,t,!1)||R_(o,t.firstChild,!0,1)||t.insertBefore(o.create("br"),t.firstChild),R_(o,t,!0)||R_(o,t.lastChild,!1,1)||t.appendChild(o.create("br")))),n.selector&&n.inline&&!k_(n.inline,t)||o.remove(t,1)},O_=function(t,n,i,r,o){var e,a,s,l=t.dom;if(!D_(l,r,n)&&!M_(r,n))return!1;if("all"!==n.remove)for(S_(n.styles,function(t,e){t=If.normalizeStyleValue(l,If.replaceVars(t,i),e),"number"==typeof e&&(e=t,o=0),(n.remove_similar||!o||k_(If.getStyle(l,o,e),t))&&l.setStyle(r,e,""),s=1}),s&&""===l.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),S_(n.attributes,function(t,e){var n;if(t=If.replaceVars(t,i),"number"==typeof e&&(e=t,o=0),!o||k_(l.getAttrib(o,e),t)){if("class"===e&&(t=l.getAttrib(r,e))&&(n="",S_(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(n+=(n?" ":"")+t)}),n))return void l.setAttrib(r,e,n);"class"===e&&r.removeAttribute("className"),__.test(e)&&r.removeAttribute("data-mce-"+e),r.removeAttribute(e)}}),S_(n.classes,function(t){t=If.replaceVars(t,i),o&&!l.hasClass(o,t)||l.removeClass(r,t)}),a=l.getAttribs(r),e=0;e<a.length;e++){var u=a[e].nodeName;if(0!==u.indexOf("_")&&0!==u.indexOf("data-"))return!1}return"none"!==n.remove?(P_(t,r,n),!0):void 0},I_=function(n,t,i,r,o){var a;return S_(If.getParents(n.dom,t.parentNode).reverse(),function(t){var e;a||"_start"===t.id||"_end"===t.id||(e=GC.matchNode(n,t,i,r,o))&&!1!==e.split&&(a=t)}),a},L_=function(t,e,n,i,r,o,a,s){var l,u,c,d,f,h,p=t.dom;if(n){for(h=n.parentNode,l=i.parentNode;l&&l!==h;l=l.parentNode){for(u=p.clone(l,!1),f=0;f<e.length;f++)if(O_(t,e[f],s,u,u)){u=0;break}u&&(c&&u.appendChild(c),d||(d=u),c=u)}!o||a.mixed&&p.isBlock(n)||(i=p.split(n,i)),c&&(r.parentNode.insertBefore(c,r),d.appendChild(r))}return i},B_=function(a,n,s,t,i){var e,r,l=a.formatter.get(n),u=l[0],c=!0,d=a.dom,o=a.selection,f=function(t){var e=I_(a,t,n,s,i);return L_(a,l,e,t,t,!0,u,s)},h=function(t){return Nf.isBookmarkNode(t)&&Ya.isElement(t)&&("_start"===t.id||"_end"===t.id)},p=function(t){var e,n,i,r,o;if(Ya.isElement(t)&&d.getContentEditable(t)&&(r=c,c="true"===d.getContentEditable(t),o=!0),e=vi.grep(t.childNodes),c&&!o)for(n=0,i=l.length;n<i&&!O_(a,l[n],s,t,t);n++);if(u.deep&&e.length){for(n=0,i=e.length;n<i;n++)p(e[n]);o&&(c=r)}},m=function(t){var e=d.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return h(n)&&(n=n[t?"firstChild":"lastChild"]),Ya.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),d.remove(e,!0),n},g=function(t){var e,n,i=t.commonAncestorContainer;if(t=Xf.expandRng(a,t,l,!0),u.split){if(t=KC.split(t),(e=E_(a,t,!0))!==(n=E_(a,t))){if(/^(TR|TH|TD)$/.test(e.nodeName)&&e.firstChild&&(e="TR"===e.nodeName?e.firstChild.firstChild||e:e.firstChild||e),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&T_(n)&&n.firstChild&&(n=n.firstChild||n),d.isChildOf(e,n)&&e!==n&&!d.isBlock(n)&&!T_(e)&&!T_(n)){var r=A_(d,e,"span",!0,{id:"_start","data-mce-type":"bookmark"});return f(r),void(e=m(!0))}e=N_(d,e,"span",{id:"_start","data-mce-type":"bookmark"}),n=N_(d,n,"span",{id:"_end","data-mce-type":"bookmark"}),f(e),f(n),e=m(!0),n=m()}else e=n=f(e);t.startContainer=e.parentNode?e.parentNode:e,t.startOffset=d.nodeIndex(e),t.endContainer=n.parentNode?n.parentNode:n,t.endOffset=d.nodeIndex(n)+1}Qf.walk(d,t,function(t){S_(t,function(t){p(t),Ya.isElement(t)&&"underline"===a.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===If.getTextDecoration(d,t.parentNode)&&O_(a,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(t)t.nodeType?((r=d.createRng()).setStartBefore(t),r.setEndAfter(t),g(r)):g(t);else if("false"!==d.getContentEditable(o.getNode()))o.isCollapsed()&&u.inline&&!d.select("td[data-mce-selected],th[data-mce-selected]").length?d_(a,n,s,i):(e=Dc.getPersistentBookmark(a.selection,!0),g(o.getRng()),o.moveToBookmark(e),u.inline&&GC.match(a,n,s,o.getStart())&&If.moveStart(d,o,o.getRng()),a.nodeChanged());else{t=o.getNode();for(var v=0,y=l.length;v<y&&(!l[v].ceFalseOverride||!O_(a,l[v],s,t,t));v++);}},F_={removeFormat:O_,remove:B_},z_=vi.each,H_=function(t){return t&&1===t.nodeType&&!Nf.isBookmarkNode(t)&&!Rc(t)&&!Ya.isBogus(t)},j_=function(t,e){var n;for(n=t;n;n=n[e]){if(3===n.nodeType&&0!==n.nodeValue.length)return t;if(1===n.nodeType&&!Nf.isBookmarkNode(n))return n}return t},W_=function(t,e,n){var i,r,o=new Ah(t);if(e&&n&&(e=j_(e,"previousSibling"),n=j_(n,"nextSibling"),o.compare(e,n))){for(i=e.nextSibling;i&&i!==n;)i=(r=i).nextSibling,e.appendChild(r);return t.remove(n),vi.each(vi.grep(n.childNodes),function(t){e.appendChild(t)}),e}return n},V_=function(t,e,n){z_(t.childNodes,function(t){H_(t)&&(e(t)&&n(t),t.hasChildNodes()&&V_(t,e,n))})},U_=function(n,t){return d(function(t,e){return!(!e||!If.getStyle(n,e,t))},t)},$_=function(i,t,e){return d(function(t,e,n){i.setStyle(n,t,e),""===n.getAttribute("style")&&n.removeAttribute("style"),q_(i,n)},t,e)},q_=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},Y_=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=If.getTextDecoration(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},G_=function(i,t,e){if(t.clear_child_styles){var n=t.links?"*:not(a)":"*";z_(i.select(n,e),function(n){H_(n)&&z_(t.styles,function(t,e){i.setStyle(n,e,"")})})}},X_={mergeWithChildren:function(n,t,i,r){z_(t,function(e){z_(n.dom.select(e.inline,r),function(t){H_(t)&&F_.removeFormat(n,e,i,t,e.exact?t:null)}),G_(n.dom,e,r)})},mergeUnderlineAndColor:function(t,e,n,i){(e.styles.color||e.styles.textDecoration)&&(vi.walk(i,d(Y_,t),"childNodes"),Y_(t,i))},mergeBackgroundColorAndFontSize:function(t,e,n,i){e.styles&&e.styles.backgroundColor&&V_(i,U_(t,"fontSize"),$_(t,"backgroundColor",If.replaceVars(e.styles.backgroundColor,n)))},mergeSubSup:function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(V_(i,U_(t,"fontSize"),$_(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},mergeSiblings:function(t,e,n,i){i&&!1!==e.merge_siblings&&(i=W_(t,If.getNonWhiteSpaceSibling(i),i),i=W_(t,i,If.getNonWhiteSpaceSibling(i,!0)))},mergeWithParents:function(e,n,i,r,o){GC.matchNode(e,o.parentNode,i,r)&&F_.removeFormat(e,n,r,o)||n.merge_with_parents&&e.dom.getParent(o.parentNode,function(t){if(GC.matchNode(e,t,i,r))return F_.removeFormat(e,n,r,o),!0})}},K_=vi.each,Z_=function(t){return t&&1===t.nodeType&&!Nf.isBookmarkNode(t)&&!Rc(t)&&!Ya.isBogus(t)},Q_=function(p,m,g,i){var t,e,v=p.formatter.get(m),y=v[0],r=!i&&p.selection.isCollapsed(),o=p.dom,n=p.selection,b=function(n,t){if(t=t||y,n){if(t.onformat&&t.onformat(n,t,g,i),K_(t.styles,function(t,e){o.setStyle(n,e,If.replaceVars(t,g))}),t.styles){var e=o.getAttrib(n,"style");e&&n.setAttribute("data-mce-style",e)}K_(t.attributes,function(t,e){o.setAttrib(n,e,If.replaceVars(t,g))}),K_(t.classes,function(t){t=If.replaceVars(t,g),o.hasClass(n,t)||o.addClass(n,t)})}},x=function(t,e){var n=!1;return!!y.selector&&(K_(t,function(t){if(!("collapsed"in t&&t.collapsed!==r))return o.is(e,t.selector)&&!Rc(e)?(b(e,t),!(n=!0)):void 0}),n)},a=function(l,t,e,u){var c,d,f=[],h=!0;c=y.inline||y.block,d=l.create(c),b(d),Qf.walk(l,t,function(t){var a,s=function(t){var e,n,i,r;if(r=h,e=t.nodeName.toLowerCase(),n=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&l.getContentEditable(t)&&(r=h,h="true"===l.getContentEditable(t),i=!0),If.isEq(e,"br"))return a=0,void(y.block&&l.remove(t));if(y.wrapper&&GC.matchNode(p,t,m,g))a=0;else{if(h&&!i&&y.block&&!y.wrapper&&If.isTextBlock(p,e)&&If.isValid(p,n,c))return t=l.rename(t,c),b(t),f.push(t),void(a=0);if(y.selector){var o=x(v,t);if(!y.inline||o)return void(a=0)}!h||i||!If.isValid(p,c,e)||!If.isValid(p,n,c)||!u&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||Rc(t)||y.inline&&l.isBlock(t)?(a=0,K_(vi.grep(t.childNodes),s),i&&(h=r),a=0):(a||(a=l.clone(d,!1),t.parentNode.insertBefore(a,t),f.push(a)),a.appendChild(t))}};K_(t,s)}),!0===y.links&&K_(f,function(t){var e=function(t){"A"===t.nodeName&&b(t,y),K_(vi.grep(t.childNodes),e)};e(t)}),K_(f,function(t){var e,n,i=function(t){var e=!1;return K_(t.childNodes,function(t){if(Z_(t))return e=t,!1}),e},r=function(t){var e,n;return(e=i(t))&&!Nf.isBookmarkNode(e)&&GC.matchName(l,e,y)&&(n=l.clone(e,!1),b(n),l.replace(n,t,!0),l.remove(e,1)),n||t};n=0,K_(t.childNodes,function(t){If.isWhiteSpaceNode(t)||Nf.isBookmarkNode(t)||n++}),e=n,!(1<f.length)&&l.isBlock(t)||0!==e?(y.inline||y.wrapper)&&(y.exact||1!==e||(t=r(t)),X_.mergeWithChildren(p,v,g,t),X_.mergeWithParents(p,y,m,g,t),X_.mergeBackgroundColorAndFontSize(l,y,g,t),X_.mergeSubSup(l,y,g,t),X_.mergeSiblings(l,y,g,t)):l.remove(t,1)})};if("false"!==o.getContentEditable(n.getNode())){if(y){if(i)i.nodeType?x(v,i)||((e=o.createRng()).setStartBefore(i),e.setEndAfter(i),a(o,Xf.expandRng(p,e,v),null,!0)):a(o,i,null,!0);else if(r&&y.inline&&!o.select("td[data-mce-selected],th[data-mce-selected]").length)c_(p,m,g);else{var s=p.selection.getNode();p.settings.forced_root_block||!v[0].defaultBlock||o.getParent(s,o.isBlock)||Q_(p,v[0].defaultBlock),p.selection.setRng(Lh.normalize(p.selection.getRng())),t=Dc.getPersistentBookmark(p.selection,!0),a(o,Xf.expandRng(p,n.getRng(),v),t),y.styles&&X_.mergeUnderlineAndColor(o,y,g,s),n.moveToBookmark(t),If.moveStart(o,n,n.getRng()),p.nodeChanged()}C_.postProcess(m,p)}}else{i=n.getNode();for(var l=0,u=v.length;l<u;l++)if(v[l].ceFalseOverride&&o.is(i,v[l].selector))return void b(i,v[l])}},J_={applyFormat:Q_},tS=vi.each,eS=function(t,o){var a={};t.set({}),o.on("NodeChange",function(n){var i=If.getParents(o.dom,n.element),r={};i=vi.grep(i,function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}),tS(t.get(),function(t,n){tS(i,function(e){return o.formatter.matchNode(e,n,{},t.similar)?(a[n]||(tS(t,function(t){t(!0,{node:e,format:n,parents:i})}),a[n]=t),r[n]=t,!1):!GC.matchesUnInheritedFormatSelector(o,e,n)&&void 0})}),tS(a,function(t,e){r[e]||(delete a[e],tS(t,function(t){t(!1,{node:n.element,format:e,parents:i})}))})})},nS=function(t,e,n,i){var r=t.get();tS(e.split(","),function(t){r[t]||(r[t]=[],r[t].similar=i),r[t].push(n)}),t.set(r)},iS={formatChanged:function(t,e,n,i,r){null===e.get()&&eS(e,t),nS(e,n,i,r)}},rS={get:function(i){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,t,e){vi.each(e,function(t,e){i.setAttrib(n,e,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return vi.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){e[t]={block:t,remove:"all"}}),e}},oS=vi.each,aS=Ms.DOM,sS=function(t,e){var n,i,r,o=e&&e.schema||Ct({}),a=function(t,e){e.classes.length&&aS.addClass(t,e.classes.join(" ")),aS.setAttribs(t,e.attrs)},l=function(t){var e;return i="string"==typeof t?{name:t,classes:[],attrs:{}}:t,e=aS.create(i.name),a(e,i),e},u=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,i=o.getElementRule(n),r=i&&i.parentsRequired;return!(!r||!r.length)&&(e&&-1!==vi.inArray(r,e)?e:r[0])},c=function(n,t,e){var i,r,o,a=0<t.length&&t[0],s=a&&a.name;if(o=u(n,s))s===o?(r=t[0],t=t.slice(1)):r=o;else if(a)r=t[0],t=t.slice(1);else if(!e)return n;return r&&(i=l(r)).appendChild(n),e&&(i||(i=aS.create("div")).appendChild(n),vi.each(e,function(t){var e=l(t);i.insertBefore(e,n)})),c(i,t,r&&r.siblings)};return t&&t.length?(i=t[0],n=l(i),(r=aS.create("div")).appendChild(c(n,t.slice(1),i.siblings)),r):""},lS=function(t,e){return sS(cS(t),e)},uS=function(t){var e,a={classes:[],attrs:{}};return"*"!==(t=a.selector=vi.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,e,n,i,r){switch(e){case"#":a.attrs.id=n;break;case".":a.classes.push(n);break;case":":-1!==vi.inArray("checked disabled enabled read-only required".split(" "),n)&&(a.attrs[n]=n)}if("["===i){var o=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);o&&(a.attrs[o[1]]=o[2])}return""})),a.name=e||"div",a},cS=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),vi.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var e=vi.map(t.split(/(?:~\+|~|\+)/),uS),n=e.pop();return e.length&&(n.siblings=e),n}).reverse()):[]},dS={getCssText:function(n,t){var e,i,r,o,a,s,l="";if(!1===(s=n.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var u=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=n.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(s=t.preview)?"":(e=t.block||t.inline||"span",(o=cS(t.selector)).length?(o[0].name||(o[0].name=e),e=t.selector,i=sS(o,n)):i=sS([e],n),r=aS.select(e,i)[0]||i.firstChild,oS(t.styles,function(t,e){(t=u(t))&&aS.setStyle(r,e,t)}),oS(t.attributes,function(t,e){(t=u(t))&&aS.setAttrib(r,e,t)}),oS(t.classes,function(t){t=u(t),aS.hasClass(r,t)||aS.addClass(r,t)}),n.fire("PreviewFormats"),aS.setStyles(i,{position:"absolute",left:-65535}),n.getBody().appendChild(i),a=aS.getStyle(n.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,oS(s.split(" "),function(t){var e=aS.getStyle(r,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=aS.getStyle(n.getBody(),t,!0),"#ffffff"===aS.toHex(e).toLowerCase())||"color"===t&&"#000000"===aS.toHex(e).toLowerCase())){if("font-size"===t&&/em|%$/.test(e)){if(0===a)return;e=parseFloat(e)/(/%$/.test(e)?100:1)*a+"px"}"border"===t&&e&&(l+="padding:0 2px;"),l+=t+":"+e+";"}}),n.fire("AfterPreviewFormats"),aS.remove(i),l)},parseSelector:cS,selectorToHtml:lS},fS={toggle:function(t,e,n,i,r){var o=e.get(n);!GC.match(t,n,i,r)||"toggle"in o[0]&&!o[0].toggle?J_.applyFormat(t,n,i,r):F_.remove(t,n,i,r)}},hS={setup:function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}},pS=Object.prototype.hasOwnProperty,mS=(w_=function(t,e){return e},function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},i=0;i<t.length;i++){var r=t[i];for(var o in r)pS.call(r,o)&&(n[o]=w_(n[o],r[o]))}return n}),gS={register:function(e,l,u){e.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)(n=t[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)}),e.addAttributeFilter("src,href,style",function(t,e){for(var n,i,r=t.length,o="data-mce-"+e,a=l.url_converter,s=l.url_converter_scope;r--;)(i=(n=t[r]).attributes.map[o])!==undefined?(n.attr(e,0<i.length?i:null),n.attr(o,null)):(i=n.attributes.map[e],"style"===e?i=u.serializeStyle(u.parseStyle(i),n.name):a&&(i=a.call(s,i,e,n.name)),n.attr(e,0<i.length?i:null))}),e.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",0<n.length?n:null))}),e.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)"bookmark"!==(i=t[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),e.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=ds.decode(e.value))}),e.addNodeFilter("script,style",function(t,e){for(var n,i,r,o=t.length,a=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};o--;)i=(n=t[o]).firstChild?n.firstChild.value:"","script"===e?((r=n.attr("type"))&&n.attr("type","mce-no/type"===r?null:r.replace(/^mce\-/,"")),"xhtml"===l.element_format&&0<i.length&&(n.firstChild.value="// <![CDATA[\n"+a(i)+"\n// ]]>")):"xhtml"===l.element_format&&0<i.length&&(n.firstChild.value="<!--\n"+a(i)+"\n-->")}),e.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)7===(n=t[i]).type?n.remove():1===n.type&&(
"input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){Xt(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})},trimTrailingBr:function(t){var e,n,i=function(t){return t&&"br"===t.name};i(e=t.lastChild)&&i(n=e.prev)&&(e.remove(),n.remove())}},vS=function(t,e,n){var i,r,o,a=t.dom;return e=e.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(r=i.createHTMLDocument(""),vi.each("BODY"===e.nodeName?e.childNodes:[e],function(t){r.body.appendChild(r.importNode(t,!0))}),e="BODY"!==e.nodeName?r.body.firstChild:r.body,o=a.doc,a.doc=r),Ab.firePreProcess(t,mS(n,{node:e})),o&&(a.doc=o),e},yS=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},bS={process:function(t,e,n){return yS(t,n)?vS(t,e,n):e}},xS=function(e,t){Xt(t,function(t){e.attr(t,null)})},wS=function(t,o,a){t.addNodeFilter("font",function(t){Xt(t,function(t){var e=o.parse(t.attr("style")),n=t.attr("color"),i=t.attr("face"),r=t.attr("size");n&&(e.color=n),i&&(e["font-family"]=i),r&&(e["font-size"]=a[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",o.serialize(e)),xS(t,["color","face","size"])})})},CS=function(t,n){t.addNodeFilter("strike",function(t){Xt(t,function(t){var e=n.parse(t.attr("style"));e["text-decoration"]="line-through",t.name="span",t.attr("style",n.serialize(e))})})},_S=function(t,e){var n=_t();e.convert_fonts_to_spans&&wS(t,n,vi.explode(e.font_size_legacy_values)),CS(t,n)},SS={register:function(t,e){e.inline_styles&&_S(t,e)}},kS=/^[ \t\r\n]*$/,TS={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ES=function(t,e,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[a])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[a])return i}},NS=function(){function s(t,e){this.name=t,1===(this.type=e)&&(this.attributes=[],this.attributes.map={})}return s.create=function(t,e){var n,i;if(n=new s(t,TS[t]||1),e)for(i in e)n.attr(i,e[i]);return n},s.prototype.replace=function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},s.prototype.attr=function(t,e){var n,i,r=this;if("string"!=typeof t){for(i in t)r.attr(i,t[i]);return r}if(n=r.attributes){if(e===undefined)return n.map[t];if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),r;return r}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,r}},s.prototype.clone=function(){var t,e,n,i,r,o=this,a=new s(o.name,o.type);if(n=o.attributes){for((r=[]).map={},t=0,e=n.length;t<e;t++)"id"!==(i=n[t]).name&&(r[r.length]={name:i.name,value:i.value},r.map[i.name]=i.value);a.attributes=r}return a.value=o.value,a.shortEnded=o.shortEnded,a},s.prototype.wrap=function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},s.prototype.unwrap=function(){var t,e,n=this;for(t=n.firstChild;t;)e=t.next,n.insert(t,n,!0),t=e;n.remove()},s.prototype.remove=function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n)&&(n.prev=null):i.next=n,e.lastChild===t?(e.lastChild=i)&&(i.next=null):n.prev=i,t.parent=t.next=t.prev=null),t},s.prototype.append=function(t){var e,n=this;return t.parent&&t.remove(),(e=n.lastChild)?((e.next=t).prev=e,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},s.prototype.insert=function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,(t.next=e).prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,(t.prev=e).next=t),t.parent=i,t},s.prototype.getAll=function(t){var e,n=this,i=[];for(e=n.firstChild;e;e=ES(e,n))e.name===t&&i.push(e);return i},s.prototype.empty=function(){var t,e,n,i=this;if(i.firstChild){for(t=[],n=i.firstChild;n;n=ES(n,i))t.push(n);for(e=t.length;e--;)(n=t[e]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return i.firstChild=i.lastChild=null,i},s.prototype.isEmpty=function(t,e,n){var i,r,o=this,a=o.firstChild;if(e=e||{},a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(t[a.name])return!1;for(i=a.attributes.length;i--;)if("name"===(r=a.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!kS.test(a.value))return!1;if(3===a.type&&a.parent&&e[a.parent.name]&&kS.test(a.value))return!1;if(n&&n(a))return!1}while(a=ES(a,o));return!0},s.prototype.walk=function(t){return ES(this,null,t)},s}(),AS=function(t,e,n,i){(t.padd_empty_with_br||e.insert)&&n[i.name]?i.empty().append(new NS("br",1)).shortEnded=!0:i.empty().append(new NS("#text",3)).value="\xa0"},DS=function(t){return MS(t,"#text")&&"\xa0"===t.firstChild.value},MS=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},RS=function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty},PS=function(e,t,n,i){return i.isEmpty(t,n,function(t){return RS(e,t)})},OS=function(t,e){return t&&(e[t.name]||"br"===t.name)},IS=function(t,m){var g=t.schema;m.remove_trailing_brs&&t.addNodeFilter("br",function(t,e,n){var i,r,o,a,s,l,u,c,d=t.length,f=vi.extend({},g.getBlockElements()),h=g.getNonEmptyElements(),p=g.getNonEmptyElements();for(f.body=1,i=0;i<d;i++)if(o=(r=t[i]).parent,f[r.parent.name]&&r===o.lastChild){for(s=r.prev;s;){if("span"!==(l=s.name)||"bookmark"!==s.attr("data-mce-type")){if("br"!==l)break;if("br"===l){r=null;break}}s=s.prev}r&&(r.remove(),PS(g,h,p,o)&&(u=g.getElementRule(o.name))&&(u.removeEmpty?o.remove():u.paddEmpty&&AS(m,n,f,o)))}else{for(a=r;o&&o.firstChild===a&&o.lastChild===a&&!f[(a=o).name];)o=o.parent;a===o&&!0!==m.padd_empty_with_br&&((c=new NS("#text",3)).value="\xa0",r.replace(c))}}),t.addAttributeFilter("href",function(t){var e,n=t.length,i=function(t){return t.split(" ").filter(function(t){return 0<t.length}).concat(["noopener"]).sort().join(" ")},r=function(t){var e=t?vi.trim(t):"";return/\b(noopener)\b/g.test(e)?e:i(e)};if(!m.allow_unsafe_link_target)for(;n--;)"a"===(e=t[n]).name&&"_blank"===e.attr("target")&&e.attr("rel",r(e.attr("rel")))}),m.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if("a"===(r=t[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,e=r.lastChild;n=e.prev,i.insert(e,r),e=n;);}),m.fix_list_elements&&t.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)if("ul"===(n=(e=t[i]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var r=new NS("li",1);r.attr("style","list-style-type: none"),e.wrap(r)}}),m.validate&&g.getValidClasses()&&t.addAttributeFilter("class",function(t){for(var e,n,i,r,o,a,s,l=t.length,u=g.getValidClasses();l--;){for(n=(e=t[l]).attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,(a=u["*"])&&a[r]&&(s=!0),a=u[e.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),e.attr("class",o)}})},LS=vi.makeMap,BS=vi.each,FS=vi.explode,zS=vi.extend,HS=function(t,e,n){-1===vi.inArray(e,n)&&(t.addAttributeFilter(n,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),e.push(n))},jS=function(t,e,n){return e.no_events||!t?n:Ab.firePostProcess(t,mS(e,{content:n})).content},WS=function(t,e,n){var i=Il.trim(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||Aa(Vr.fromDom(e))?i:vi.trim(i)},VS=function(t,e,n){var i=n.selection?mS({forced_root_block:!1},n):n,r=t.parse(e,i);return gS.trimTrailingBr(r),r},US=function(t,e,n){return S(t,e).serialize(n)},$S=function(t,e,n,i,r){var o=US(e,n,i);return jS(t,r,o)};(Y||(Y={})).isBookmarkNode=Nf.isBookmarkNode;var qS,YS,GS=Y,XS=Ya.isContentEditableFalse,KS=Ya.isContentEditableTrue,ZS=function(t,e){for(;e&&e!==t;){if(KS(e)||XS(e))return e;e=e.parentNode}return null},QS=function(i,a){var s,l,u,c,d,f,h,p,m,g,v,y,o,b,x,w,C,_=a.dom,S=vi.each,k=a.getDoc(),T=document,E=Math.abs,N=Math.round,A=a.getBody();c={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var t=".mce-content-body";a.contentStyles.push(t+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+t+" .mce-resizehandle:hover {background: #000}"+t+" img[data-mce-selected],"+t+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+t+" .mce-clonedresizable {position: absolute;"+(Ee.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+t+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var D=function(t){return t&&("IMG"===t.nodeName||a.dom.is(t,"figure.image"))},n=function(t,e){return D(t.target)&&!Gw.isXYWithinRange(t.clientX,t.clientY,e)},r=function(t){var e=t.target;n(t,a.selection.getRng())&&!t.isDefaultPrevented()&&(t.preventDefault(),a.selection.select(e))},M=function(t){return a.dom.is(t,"figure.image")?t.querySelector("img"):t},R=function(t){var e=a.settings.object_resizing;return!1!==e&&!Ee.iOS&&("string"!=typeof e&&(e="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&t!==a.getBody()&&To(Vr.fromDom(t),e))},P=function(t){var e,n,i,r;e=t.screenX-f,n=t.screenY-h,b=e*d[2]+g,x=n*d[3]+v,b=b<5?5:b,x=x<5?5:x,(D(s)&&!1!==a.settings.resize_img_proportional?!iC.modifierPressed(t):iC.modifierPressed(t)||D(s)&&d[2]*d[3]!=0)&&(E(e)>E(n)?(x=N(b*y),b=N(x/y)):(b=N(x/y),x=N(b*y))),_.setStyles(M(l),{width:b,height:x}),i=0<(i=d.startPos.x+e)?i:0,r=0<(r=d.startPos.y+n)?r:0,_.setStyles(u,{left:i,top:r,display:"block"}),u.innerHTML=b+" &times; "+x,d[2]<0&&l.clientWidth<=b&&_.setStyle(l,"left",p+(g-b)),d[3]<0&&l.clientHeight<=x&&_.setStyle(l,"top",m+(v-x)),(e=A.scrollWidth-w)+(n=A.scrollHeight-C)!=0&&_.setStyles(u,{left:i-e,top:r-n}),o||(Ab.fireObjectResizeStart(a,s,g,v),o=!0)},O=function(){o=!1;var t=function(t,e){e&&(s.style[t]||!a.schema.isValid(s.nodeName.toLowerCase(),t)?_.setStyle(M(s),t,e):_.setAttrib(M(s),t,e))};t("width",b),t("height",x),_.unbind(k,"mousemove",P),_.unbind(k,"mouseup",O),T!==k&&(_.unbind(T,"mousemove",P),_.unbind(T,"mouseup",O)),_.remove(l),_.remove(u),I(s),Ab.fireObjectResized(a,s,b,x),_.setAttrib(s,"style",_.getAttrib(s,"style")),a.nodeChanged()},I=function(t){var e,r,o,n,i;L(),z(),e=_.getPos(t,A),p=e.x,m=e.y,i=t.getBoundingClientRect(),r=i.width||i.right-i.left,o=i.height||i.bottom-i.top,s!==t&&(s=t,b=x=0),n=a.fire("ObjectSelected",{target:t}),R(t)&&!n.isDefaultPrevented()?S(c,function(e,t){var n,i=function(t){f=t.screenX,h=t.screenY,g=M(s).clientWidth,v=M(s).clientHeight,y=v/g,(d=e).startPos={x:r*e[0]+p,y:o*e[1]+m},w=A.scrollWidth,C=A.scrollHeight,l=s.cloneNode(!0),_.addClass(l,"mce-clonedresizable"),_.setAttrib(l,"data-mce-bogus","all"),l.contentEditable=!1,l.unSelectabe=!0,_.setStyles(l,{left:p,top:m,margin:0}),l.removeAttribute("data-mce-selected"),A.appendChild(l),_.bind(k,"mousemove",P),_.bind(k,"mouseup",O),T!==k&&(_.bind(T,"mousemove",P),_.bind(T,"mouseup",O)),u=_.add(A,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},g+" &times; "+v)};(n=_.get("mceResizeHandle"+t))&&_.remove(n),n=_.add(A,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===Ee.ie&&(n.contentEditable=!1),_.bind(n,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),i(t)}),e.elm=n,_.setStyles(n,{left:r*e[0]+p-n.offsetWidth/2,top:o*e[1]+m-n.offsetHeight/2})}):L(),s.setAttribute("data-mce-selected","1")},L=function(){var t,e;for(t in z(),s&&s.removeAttribute("data-mce-selected"),c)(e=_.get("mceResizeHandle"+t))&&(_.unbind(e),_.remove(e))},B=function(t){var e,n=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};o||a.removed||(S(_.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),e="mousedown"===t.type?t.target:i.getNode(),n(e=_.$(e).closest("table,img,figure.image,hr")[0],A)&&(H(),n(i.getStart(!0),e)&&n(i.getEnd(!0),e))?I(e):L())},F=function(t){return XS(ZS(a.getBody(),t))},z=function(){for(var t in c){var e=c[t];e.elm&&(_.unbind(e.elm),delete e.elm)}},H=function(){try{a.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};return a.on("init",function(){H(),Ee.ie&&11<=Ee.ie&&(a.on("mousedown click",function(t){var e=t.target,n=e.nodeName;o||!/^(TABLE|IMG|HR)$/.test(n)||F(e)||(2!==t.button&&a.selection.select(e,"TABLE"===n),"mousedown"===t.type&&a.nodeChanged())}),a.dom.bind(A,"mscontrolselect",function(t){var e=function(t){Oe.setEditorTimeout(a,function(){a.selection.select(t)})};if(F(t.target))return t.preventDefault(),void e(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&e(t.target))}));var e=Oe.throttle(function(t){a.composing||B(t)});a.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),a.on("keyup compositionend",function(t){s&&"TABLE"===s.nodeName&&e(t)}),a.on("hide blur",L),a.on("contextmenu",r)}),a.on("remove",z),{isResizable:R,showResizeRect:I,hideResizeRect:L,updateResizeRect:B,destroy:function(){s=l=null}}},JS=function(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}},tk=function(t,e,n){var i={elm:e,alignToTop:n};return t.fire("scrollIntoView",i),i.isDefaultPrevented()},ek=function(t){if(t.inline)return t.getBody().getBoundingClientRect();var e=t.getWin();return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight,width:e.innerWidth,height:e.innerHeight}},nk=function(t,e,n){t.inline?(t.getBody().scrollLeft+=e,t.getBody().scrollTop+=n):t.getWin().scrollBy(e,n)},ik={scrollElementIntoView:function(t,e,n){var i,r,o,a,s=t.dom,l=s.getRoot(),u=0;if(!tk(t,e,n)&&Ya.isElement(e)){if(!1===n&&(u=e.offsetHeight),"BODY"!==l.nodeName){var c=t.selection.getScrollContainer();if(c)return i=JS(e).y-JS(c).y+u,a=c.clientHeight,void((i<(o=c.scrollTop)||o+a<i+25)&&(c.scrollTop=i<o?i:i-a+25))}r=s.getViewPort(t.getWin()),i=s.getPos(e).y+u,o=r.y,a=r.h,(i<r.y||o+a<i+25)&&t.getWin().scrollTo(0,i<o?i:i-a+25)}},scrollRangeIntoView:function(a,t){he(C.fromRangeStart(t).getClientRects()).each(function(t){var e=ek(a),n=_u(e,t),i=4,r=0<n.x?n.x+i:n.x-i,o=0<n.y?n.y+i:n.y-i;nk(a,0!==n.x?r:0,0!==n.y?o:0)})}},rk=function(t){return Ya.isContentEditableTrue(t)||Ya.isContentEditableFalse(t)},ok=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},ak=function(t,n,e){var i,r,o;if(i=e.elementFromPoint(t,n),r=e.body.createTextRange(),i&&"HTML"!==i.tagName||(i=e.body),r.moveToElementText(i),0<(o=(o=vi.toArray(r.getClientRects())).sort(function(t,e){return(t=Math.abs(Math.max(t.top-n,t.bottom-n)))-(e=Math.abs(Math.max(e.top-n,e.bottom-n)))})).length){n=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(t,n),r.collapse(!0),r}catch(a){}}return null},sk=function(t,e){var n=t&&t.parentElement?t.parentElement():null;return Ya.isContentEditableFalse(ok(n,e,rk))?null:t},lk={fromPoint:function(t,e,n){var i,r,o=n;if(o.caretPositionFromPoint)(r=o.caretPositionFromPoint(t,e))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(o.body.createTextRange){i=o.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(a){i=ak(t,e,n)}return sk(i,n.body)}return i}},uk={processRanges:function(n,t){return Gt(t,function(t){var e=n.fire("GetSelectionRange",{range:t});return e.range!==t?e.range:t})}},ck=function(t,e){var n=(e||document).createDocumentFragment();return Xt(t,function(t){n.appendChild(t.dom())}),Vr.fromDom(n)},dk=bo("element","width","rows"),fk=bo("element","cells"),hk=bo("x","y"),pk=function(t,e){var n=parseInt(lo(t,e),10);return isNaN(n)?1:n},mk=function(t,e,n,i,r){for(var o=pk(r,"rowspan"),a=pk(r,"colspan"),s=t.rows(),l=n;l<n+o;l++){s[l]||(s[l]=fk(Dl(i),[]));for(var u=e;u<e+a;u++)s[l].cells()[u]=l===n&&u===e?r:Al(r)}},gk=function(t,e,n){var i=t.rows();return!!(i[n]?i[n].cells():[])[e]},vk=function(t,e,n){for(;gk(t,e,n);)e++;return e},yk=function(t){return te(t,function(t,e){return e.cells().length>t?e.cells().length:t},0)},bk=function(t,e){for(var n=t.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(Do(r[o],e))return Ot.some(hk(o,i));return Ot.none()},xk=function(t,e,n,i,r){for(var o=[],a=t.rows(),s=n;s<=r;s++){var l=a[s].cells(),u=e<i?l.slice(e,i+1):l.slice(i,e+1);o.push(fk(a[s].element(),u))}return o},wk=function(t,e,n){var i=e.x(),r=e.y(),o=n.x(),a=n.y(),s=r<a?xk(t,i,r,o,a):xk(t,i,a,o,r);return dk(t.element(),yk(s),s)},Ck=function(t,e){var n=Al(t.element()),i=Vr.fromTag("tbody");return $s(i,e),Ws(n,i),n},_k=function(t){return Gt(t.rows(),function(t){var e=Gt(t.cells(),function(t){var e=Dl(t);return co(e,"colspan"),co(e,"rowspan"),e}),n=Al(t.element());return $s(n,e),n})},Sk={fromDom:function(t){var r=dk(Al(t),0,[]);return Xt(ul(t,"tr"),function(n,i){Xt(ul(n,"td,th"),function(t,e){mk(r,vk(r,e,i),i,n,t)})}),dk(r.element(),yk(r.rows()),r.rows())},toDom:function(t){return Ck(t,_k(t))},subsection:function(n,t,i){return bk(n,t).bind(function(e){return bk(n,i).map(function(t){return wk(n,e,t)})})}},kk=function(t){return ee(t,function(t){return"ul"===Yr(t)||"ol"===Yr(t)})},Tk=function(t,e){return ee(t,function(t){return"li"===Yr(t)&&Xx(t,e)}).fold(vt([]),function(){return kk(t).map(function(t){return[Vr.fromTag("li"),Vr.fromTag(Yr(t))]}).getOr([])})},Ek=function(t,e){var n=te(e,function(t,e){return Ws(e,t),e},t);return 0<e.length?ck([n]):n},Nk=function(e){return ka(e)?Bo(e).filter(Sa).fold(vt([]),function(t){return[e,t]}):Sa(e)?[e]:[]},Ak=function(t,e){var n=Vr.fromDom(e.commonAncestorContainer),i=Qp.parentsAndSelf(n,t),r=Qt(i,function(t){return wa(t)||ba(t)}),o=Tk(i,e),a=r.concat(o.length?o:Nk(n));return Gt(a,Al)},Dk=function(){return ck([])},Mk=function(t,e){return Ek(Vr.fromDom(e.cloneContents()),Ak(t,e))},Rk=function(t,e){return fl(e,"table",d(Do,t))},Pk=function(t,r){return Rk(t,r[0]).bind(function(t){var e=r[0],n=r[r.length-1],i=Sk.fromDom(t);return Sk.subsection(i,e,n).map(function(t){return ck([Sk.toDom(t)])})}).getOrThunk(Dk)},Ok=function(t,e){return 0<e.length&&e[0].collapsed?Dk():Mk(t,e[0])},Ik={read:function(t,e){var n=Vv.getCellsFromElementOrRanges(e,t);return 0<n.length?Pk(t,n):Ok(t,e)}},Lk={getContent:function(t,e){var n,i=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),a=uk.processRanges(t,Fv.getRanges(o));if((e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return t.selection.isCollapsed()?"":Il.trim(i.text||(o.toString?o.toString():""));i.cloneContents?(n=e.contextual?Ik.read(Vr.fromDom(t.getBody()),a).dom():i.cloneContents())&&r.appendChild(n):i.item!==undefined||i.htmlText!==undefined?(r.innerHTML="<br>"+(i.item?i.item(0).outerHTML:i.htmlText),r.removeChild(r.firstChild)):r.innerHTML=i.toString(),e.getInner=!0;var s=t.selection.serializer.serialize(r,e);return"tree"===e.format?s:(e.content=t.selection.isCollapsed()?"":s,t.fire("GetContent",e),e.content)}},Bk={setContent:function(t,e,n){var i,r,o,a=t.selection.getRng(),s=t.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=e,n.no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){if(e=n.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer===s&&a.endContainer===s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(r=s.createDocumentFragment(),o=s.createElement("div"),r.appendChild(o),o.outerHTML=e,a.insertNode(r))),i=t.dom.get("__caret"),(a=s.createRange()).setStartBefore(i),a.setEndBefore(i),t.selection.setRng(a),t.dom.remove("__caret");try{t.selection.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=t.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),t.dom.remove("__mce_tmp")):a.pasteHTML(e);n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)}},Fk=function(t,e,n,i,r){var o=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;return Ot.from(o).map(Vr.fromDom).map(function(t){return i&&e.collapsed?t:Uo(t,r(t,a)).getOr(t)}).bind(function(t){return Kr(t)?Ot.some(t):Bo(t)}).map(function(t){return t.dom()}).getOr(t)},zk=function(t,e,n){return Fk(t,e,!0,n,function(t,e){return Math.min(Yo(t),e)})},Hk=function(t,e,n){return Fk(t,e,!1,n,function(t,e){return 0<e?e-1:e})},jk=function(t,e){for(var n=t;t&&Ya.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},Wk=function(t,e){var n,i,r,o,a;return e?(i=e.startContainer,r=e.endContainer,o=e.startOffset,a=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(i===r&&a-o<2&&i.hasChildNodes()&&(n=i.childNodes[o]),3===i.nodeType&&3===r.nodeType&&(i=i.length===o?jk(i.nextSibling,!0):i.parentNode,r=0===a?jk(r.previousSibling,!1):r.parentNode,i&&i===r))?i:n&&3===n.nodeType?n.parentNode:n):t},Vk=function(t,e,n,i){var r,o,a=[];if(o=t.getRoot(),n=t.getParent(n||zk(o,e,e.collapsed),t.isBlock),i=t.getParent(i||Hk(o,e,e.collapsed),t.isBlock),n&&n!==o&&a.push(n),n&&i&&n!==i)for(var s=new wt(r=n,o);(r=s.next())&&r!==i;)t.isBlock(r)&&a.push(r);return i&&n!==i&&i!==o&&a.push(i),a},Uk=function(i,t,r){return Ot.from(t).map(function(t){var e=i.nodeIndex(t),n=i.createRng();return n.setStart(t.parentNode,e),n.setEnd(t.parentNode,e+1),r&&(Kx(i,n,t,!0),Kx(i,n,t,!1)),n})},$k=vi.each,qk=function(t){return!!t.select},Yk=function(t){return!(!t||!t.ownerDocument)&&Po(Vr.fromDom(t.ownerDocument),Vr.fromDom(t))},Gk=function(t){return!!t&&(!!qk(t)||Yk(t.startContainer)&&Yk(t.endContainer))},Xk=function(s,l,t,u){var n,e,c,d,a,i=function(t,e){var n=s.createRng();t?(n.setStart(t,e),n.setEnd(t,e),y(n),m(!1)):(Kx(s,n,u.getBody(),!0),y(n))},r=function(t,e){return Bk.setContent(u,t,e)},o=function(t){return zk(u.getBody(),v(),t)},f=function(t){return Hk(u.getBody(),v(),t)},h=function(t,e){return Uk(s,t,e).each(y),t},p=function(){var t=v(),e=g();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},m=function(t){var e=v();e.collapse(!!t),y(e)},g=function(){return l.getSelection?l.getSelection():l.document.selection},v=function(){var t,e,n,i,r=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(i){return-1}};if(!l)return null;if(null==(i=l.document))return null;if(u.bookmark!==undefined&&!1===sx.hasFocus(u)){var o=fb.getRng(u);if(o.isSome())return o.map(function(t){return uk.processRanges(u,[t])[0]}).getOr(i.createRange())}try{(t=g())&&(e=0<t.rangeCount?t.getRangeAt(0):t.createRange?t.createRange():i.createRange())}catch(a){}return(e=uk.processRanges(u,[e])[0])||(e=i.createRange?i.createRange():i.body.createTextRange()),e.setStart&&9===e.startContainer.nodeType&&e.collapsed&&(n=s.getRoot(),e.setStart(n,0),e.setEnd(n,0)),c&&d&&(0===r(e.START_TO_START,e,c)&&0===r(e.END_TO_END,e,c)?e=d:d=c=null),e},y=function(t,e){var n,i;if(Gk(t)){var r=qk(t)?t:null;if(r){d=null;try{r.select()}catch(o){}}else{if(n=g(),t=u.fire("SetSelectionRange",{range:t,forward:e}).range,n){d=t;try{n.removeAllRanges(),n.addRange(t)}catch(o){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),c=0<n.rangeCount?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||Ee.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(i=t.startContainer.childNodes[t.startOffset])&&"IMG"===i.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(i,0,i,1)),u.fire("AfterSetSelectionRange",{range:t,forward:e})}}},b=function(t){return r(s.getOuterHTML(t)),t},x=function(){return Wk(u.getBody(),v())},w=function(t,e){return Vk(s,v(),t,e)},C=function(){var t,e,n=g();return!(n&&n.anchorNode&&n.focusNode)||((t=s.createRng()).setStart(n.anchorNode,n.anchorOffset),t.collapse(!0),(e=s.createRng()).setStart(n.focusNode,n.focusOffset),e.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,e)<=0)},_=function(){var t=v(),e=g();if(Fv.hasMultipleRanges(e)||!Zx(u))return t;var n=zy.normalize(s,t);return n.each(function(t){y(t,C())}),n.getOr(t)},S=function(t,e){var o;return a||(a={},o={},u.on("NodeChange",function(t){var n=t.element,i=s.getParents(n,null,s.getRoot()),r={};$k(a,function(t,n){$k(i,function(e){if(s.is(e,n))return o[n]||($k(t,function(t){t(!0,{node:e,selector:n,parents:i})}),o[n]=t),r[n]=t,!1})}),$k(o,function(t,e){r[e]||(delete o[e],$k(t,function(t){t(!1,{node:n,selector:e,parents:i})}))})})),a[t]||(a[t]=[]),a[t].push(e),A},k=function(){for(var t,e=s.getRoot();e&&"BODY"!==e.nodeName;){if(e.scrollHeight>e.clientHeight){t=e;break}e=e.parentNode}return t},T=function(t,e){return y(lk.fromPoint(t,e,u.getDoc()))},E=function(){var t=v();return t.collapsed?tc.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},N=function(){l=c=d=null,e.destroy()},A={bookmarkManager:null,controlSelection:null,dom:s,win:l,serializer:t,editor:u,collapse:m,setCursorLocation:i,getContent:function(t){return Lk.getContent(u,t)},setContent:r,getBookmark:function(t,e){return n.getBookmark(t,e)},moveToBookmark:function(t){return n.moveToBookmark(t)},select:h,isCollapsed:p,isForward:C,setNode:b,getNode:x,getSel:g,setRng:y,getRng:v,getStart:o,getEnd:f,getSelectedBlocks:w,normalize:_,selectorChanged:S,getScrollContainer:k,scrollIntoView:function(t,e){return ik.scrollElementIntoView(u,t,e)},placeCaretAt:T,getBoundingClientRect:E,destroy:N};return n=GS(A),e=QS(A,u),A.bookmarkManager=n,A.controlSelection=e,A},Kk=Ya.isContentEditableFalse,Zk=Su,Qk=Nd,Jk=Ed,tT=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},eT=function(t,e){var n=md(t,e);return!(n||!Ya.isBr(t.getNode()))||n},nT=function(t,e,n,i){var r,o,a,s,l=t===Zu.Forwards,u=l?Jk:Qk;return!i.collapsed&&(r=Zk(i),Kk(r))?Zw(t,e,r,t===Zu.Backwards,!0):(s=Zl(i),u(o=Td(t,e.getBody(),i))?Jw(e,o.getNode(!l)):(o=n(o))?u(o)?Zw(t,e,o.getNode(!l),l,!0):u(a=n(o))&&eT(o,a)?Zw(t,e,a.getNode(!l),l,!0):s?eC(e,o.toRange(),!0):null:s?i:null)},iT=function(t,e,n,i){var r,o,a,s,l,u,c,d,f;if(f=Zk(i),r=Td(t,e.getBody(),i),o=n(e.getBody(),Iw(1),r),a=Qt(o,Lw(1)),l=ri.last(r.getClientRects()),(Jk(r)||Ad(r))&&(f=r.getNode()),(Qk(r)||Dd(r))&&(f=r.getNode(!0)),!l)return null;if(u=l.left,(s=Ww(a,u))&&Kk(s.node))return c=Math.abs(u-s.left),d=Math.abs(u-s.right),Zw(t,e,s.node,c<d,!0);if(f){var h=Ow(t,e.getBody(),Iw(1),f);if(s=Ww(Qt(h,Lw(1)),u))return eC(e,s.position.toRange(),!0);if(s=ri.last(Qt(h,Lw(0))))return eC(e,s.position.toRange(),!0)}},rT=function(t){var e=t.dom.create(t.settings.forced_root_block);return(!Ee.ie||11<=Ee.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e},oT=function(t,e,n){var i,r,o=Gd(t.getBody()),a=d(tT,o.next),s=d(tT,o.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(i=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?a(tc.fromRangeStart(n)):s(tc.fromRangeStart(n)))||(r=rT(t),1===e?t.$(i).after(r):t.$(i).before(r),t.selection.select(r,!0),t.selection.collapse())}},aT=function(t,e){var n,i=Gd(t.getBody()),r=d(tT,i.next),o=d(tT,i.prev),a=e?Zu.Forwards:Zu.Backwards,s=e?r:o,l=t.selection.getRng();return(n=nT(a,t,s,l))?n:(n=oT(t,a,l))||null},sT=function(t,e){var n,i=e?1:-1,r=e?Pw:Rw,o=t.selection.getRng();return(n=iT(i,t,r,o))?n:(n=oT(t,i,o))||null},lT=function(e,n){return function(){var t=aT(e,n);return!!t&&(e.selection.setRng(t),!0)}},uT=function(e,n){return function(){var t=sT(e,n);return!!t&&(e.selection.setRng(t),!0)}};(YS=qS||(qS={}))[YS.Br=0]="Br",YS[YS.Block=1]="Block",YS[YS.Wrap=2]="Wrap",YS[YS.Eol=3]="Eol";var cT=function(t,e){return t===Zu.Backwards?e.reverse():e},dT=function(t,e,n){return t===Zu.Forwards?e.next(n):e.prev(n)},fT=function(t,e,n,i){return Ya.isBr(i.getNode(e===Zu.Forwards))?qS.Br:!1===md(n,i)?qS.Block:qS.Wrap},hT=function(t,e,n,i){for(var r,o=Gd(n),a=i,s=[];a&&(r=dT(e,o,a));){if(Ya.isBr(r.getNode(!1)))return e===Zu.Forwards?{positions:cT(e,s).concat([r]),breakType:qS.Br,breakAt:Ot.some(r)}:{positions:cT(e,s),breakType:qS.Br,breakAt:Ot.some(r)};if(r.isVisible()){if(t(a,r)){var l=fT(n,e,a,r);return{positions:cT(e,s),breakType:l,breakAt:Ot.some(r)}}s.push(r),a=r}else a=r}return{positions:cT(e,s),breakType:qS.Eol,breakAt:Ot.none()}},pT=function(n,i,r,t){return i(r,t).breakAt.map(function(t){var e=i(r,t).positions;return n===Zu.Backwards?e.concat(t):[t].concat(e)}).getOr([])},mT=function(t,o){return te(t,function(t,r){return t.fold(function(){return Ot.some(r)},function(i){return Nu([he(i.getClientRects()),he(r.getClientRects())],function(t,e){var n=Math.abs(o-t.left);return Math.abs(o-e.left)<=n?r:i}).or(t)})},Ot.none())},gT=function(e,t){return he(t.getClientRects()).bind(function(t){return mT(e,t.left)})},vT=d(hT,C.isAbove,-1),yT=d(hT,C.isBelow,1),bT=d(pT,-1,vT),xT=d(pT,1,yT),wT=function(e){return lf.firstPositionIn(e).map(function(t){return[t].concat(yT(e,t).positions)}).getOr([])},CT=function(e){return lf.lastPositionIn(e).map(function(t){return vT(e,t).positions.concat(t)}).getOr([])},_T=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}},ST=function(n,t){return ae(t,function(t){var e=_T(pu(t.getBoundingClientRect()),-1);return[{x:e.left,y:n(e),cell:t},{x:e.right,y:n(e),cell:t}]})},kT=function(t,r,o){return te(t,function(t,i){return t.fold(function(){return Ot.some(i)},function(t){var e=Math.sqrt(Math.abs(t.x-r)+Math.abs(t.y-o)),n=Math.sqrt(Math.abs(i.x-r)+Math.abs(i.y-o));return Ot.some(n<e?i:t)})},Ot.none())},TT=function(t,e,n,i,r){var o=ul(Vr.fromDom(n),"td,th,caption").map(function(t){return t.dom()}),a=Qt(ST(t,o),function(t){return e(t,r)});return kT(a,i,r).map(function(t){return t.cell})},ET=function(t){return t.top},NT=function(t,e){return t.y>e},AT=d(TT,function(t){return t.bottom},function(t,e){return t.y<e}),DT=d(TT,ET,NT),MT=function(e,n){return he(n.getClientRects()).bind(function(t){return AT(e,t.left,t.top)}).bind(function(t){return gT(CT(t),n)})},RT=function(e,n){return pe(n.getClientRects()).bind(function(t){return DT(e,t.left,t.top)}).bind(function(t){return gT(wT(t),n)})},PT=function(t,e){t.selection.setRng(e),ik.scrollRangeIntoView(t,e)},OT=function(e,n,t){return t.breakAt.map(function(t){return e(n,t).breakAt.isSome()}).getOr(!1)},IT=function(t){return t.breakType===qS.Wrap&&0===t.positions.length},LT=function(t){return t.breakType===qS.Br&&1===t.positions.length},BT=function(t,e,n){var i=t(e,n);return IT(i)||!Ya.isBr(n.getNode())&&LT(i)?!OT(t,e,i):i.breakAt.isNone()},FT=d(BT,vT),zT=d(BT,yT),HT=function(t,e,n){var i=tc.fromRangeStart(e);return lf.positionIn(!t,n).map(function(t){return t.isEqual(i)}).getOr(!1)},jT=function(t,e,n){var i=t.selection.getRng(),r=e?1:-1;if(Jc()&&HT(e,i,n)){var o=Zw(r,t,n,!e,!0);return PT(t,o),!0}return!1},WT=function(e,n,t){return MT(n,t).orThunk(function(){return he(t.getClientRects()).bind(function(t){return mT(bT(e,tc.before(n)),t.left)})}).getOr(tc.before(n))},VT=function(e,n,t){return RT(n,t).orThunk(function(){return he(t.getClientRects()).bind(function(t){return mT(xT(e,tc.after(n)),t.left)})}).getOr(tc.after(n))},UT=function(t,e){var n=e.getNode(t);return Ya.isElement(n)&&"TABLE"===n.nodeName?Ot.some(n):Ot.none()},$T=function(n,i,r,t){var o=dy.getForcedRootBlock(i);o?i.undoManager.transact(function(){var t=Vr.fromTag(o);so(t,dy.getForcedRootBlockAttrs(i)),Ws(t,Vr.fromTag("br")),n?js(Vr.fromDom(r),t):Hs(Vr.fromDom(r),t);var e=i.dom.createRng();e.setStart(t.dom(),0),e.setEnd(t.dom(),0),PT(i,e)}):PT(i,t.toRange())},qT=function(e,n,i){var t=UT(!!n,i),r=!1===n;t.fold(function(){return PT(e,i.toRange())},function(t){return lf.positionIn(r,e.getBody()).filter(function(t){return t.isEqual(i)}).fold(function(){return PT(e,i.toRange())},function(){return $T(n,e,t,i)})})},YT=function(t,e,n,i){var r=t.selection.getRng(),o=tc.fromRangeStart(r),a=t.getBody();if(e||!FT(i,o))return!(!e||!zT(i,o))&&(s=VT(a,n,o),qT(t,e,s),!0);var s=WT(a,n,o);return qT(t,e,s),!0},GT=function(n,i){return function(){return Ot.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(e){return Ot.from(n.dom.getParent(e,"table")).map(function(t){return jT(n,i,t,e)})}).getOr(!1)}},XT=function(n,i){return function(){return Ot.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(e){return Ot.from(n.dom.getParent(e,"table")).map(function(t){return YT(n,i,t,e)})}).getOr(!1)}},KT=function(t){return Gt(t,function(t){
return mS({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:mt},t)})},ZT=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},QT=function(t,e){return ae(KT(t),function(t){return ZT(t,e)?[t]:[]})},JT=function(t,e){return ee(QT(t,e),function(t){return t.action()})},tE={match:QT,action:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,i)}},execute:JT},eE=function(t,e,n){var i=Fr.detect().os;tE.execute([{keyCode:iC.RIGHT,action:lT(t,!0)},{keyCode:iC.LEFT,action:lT(t,!1)},{keyCode:iC.UP,action:uT(t,!1)},{keyCode:iC.DOWN,action:uT(t,!0)},{keyCode:iC.RIGHT,action:GT(t,!0)},{keyCode:iC.LEFT,action:GT(t,!1)},{keyCode:iC.UP,action:XT(t,!1)},{keyCode:iC.DOWN,action:XT(t,!0)},{keyCode:iC.RIGHT,action:lv.move(t,e,!0)},{keyCode:iC.LEFT,action:lv.move(t,e,!1)},{keyCode:iC.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:lv.moveNextWord(t,e)},{keyCode:iC.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:lv.movePrevWord(t,e)}],n).each(function(){n.preventDefault()})},nE={setup:function(e,n){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&eE(e,n,t)})}},iE=function(t,e){var n=Qp.parentsAndSelf(e,t);return ne(n,xa).fold(vt(n),function(t){return n.slice(0,t)})},rE=function(t){return 1===Vo(t).length},oE=function(t,e,n,i){var r=d(m_,e),o=Gt(Qt(i,r),function(t){return t.dom()});if(0===o.length)og.deleteElement(e,t,n);else{var a=p_(n.dom(),o);e.selection.setRng(a.toRange())}},aE=function(n,i){var t=Vr.fromDom(n.getBody()),e=Vr.fromDom(n.selection.getStart()),r=Qt(iE(t,e),rE);return pe(r).map(function(t){var e=tc.fromRangeStart(n.selection.getRng());return!(!Np.willDeleteLastPositionInElement(i,e,t.dom())||g_(t)||(oE(i,n,t,r),0))}).getOr(!1)},sE={backspaceDelete:function(t,e){return!!t.selection.isCollapsed()&&aE(t,e)}},lE=function(t,e,n){tE.execute([{keyCode:iC.BACKSPACE,action:tE.action(hg.backspaceDelete,t,!1)},{keyCode:iC.DELETE,action:tE.action(hg.backspaceDelete,t,!0)},{keyCode:iC.BACKSPACE,action:tE.action(gv.backspaceDelete,t,e,!1)},{keyCode:iC.DELETE,action:tE.action(gv.backspaceDelete,t,e,!0)},{keyCode:iC.BACKSPACE,action:tE.action(sy.backspaceDelete,t,!1)},{keyCode:iC.DELETE,action:tE.action(sy.backspaceDelete,t,!0)},{keyCode:iC.BACKSPACE,action:tE.action(vm.backspaceDelete,t,!1)},{keyCode:iC.DELETE,action:tE.action(vm.backspaceDelete,t,!0)},{keyCode:iC.BACKSPACE,action:tE.action(cm.backspaceDelete,t,!1)},{keyCode:iC.DELETE,action:tE.action(cm.backspaceDelete,t,!0)},{keyCode:iC.BACKSPACE,action:tE.action(sE.backspaceDelete,t,!1)},{keyCode:iC.DELETE,action:tE.action(sE.backspaceDelete,t,!0)}],n).each(function(){n.preventDefault()})},uE=function(t,e){tE.execute([{keyCode:iC.BACKSPACE,action:tE.action(hg.paddEmptyElement,t)},{keyCode:iC.DELETE,action:tE.action(hg.paddEmptyElement,t)}],e)},cE={setup:function(e,n){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&lE(e,n,t)}),e.on("keyup",function(t){!1===t.isDefaultPrevented()&&uE(e,t)})}},dE=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},fE=function(t){return Ot.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},hE=function(t){return fE(t).fold(vt(""),function(t){return t.nodeName.toUpperCase()})},pE=function(t){return fE(t).filter(function(t){return ka(Vr.fromDom(t))}).isSome()},mE={moveToCaretPosition:function(t,e){var n,i,r,o,a=e,s=t.dom,l=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var u=dE(e.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&e.insertBefore(s.doc.createTextNode("\xa0"),e.firstChild)}if(r=s.createRng(),e.normalize(),e.hasChildNodes()){for(n=new wt(e,e);i=n.current();){if(Ya.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(l[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}a=i,i=n.next()}i||(r.setStart(a,0),r.setEnd(a,0))}else Ya.isBr(e)?e.nextSibling&&s.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));t.selection.setRng(r),s.remove(o),t.selection.scrollIntoView(e)}},getEditableRoot:function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},getParentBlock:fE,getParentBlockName:hE,isListItemParentBlock:pE},gE=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},vE=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},yE=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},bE=function(t){return yE(t)&&yE(t.parentNode)},xE=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},wE=function(t,e,n){for(var i=t[n?"firstChild":"lastChild"];i&&!Ya.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===e},CE={insert:function(t,e,n,i,r){var o=t.dom,a=t.selection.getRng();if(n!==t.getBody()){bE(n)&&(r="LI");var s=r?e(r):o.create("BR");if(wE(n,i,!0)&&wE(n,i,!1))vE(n,"LI")?o.insertAfter(s,xE(n)):o.replace(s,n);else if(wE(n,i,!0))vE(n,"LI")?(o.insertAfter(s,xE(n)),s.appendChild(o.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n);else if(wE(n,i,!1))o.insertAfter(s,xE(n));else{n=xE(n);var l=a.cloneRange();l.setStartAfter(i),l.setEndAfter(n);var u=l.extractContents();"LI"===r&&gE(u,"LI")?(s=u.firstChild,o.insertAfter(u,n)):(o.insertAfter(u,n),o.insertAfter(s,n))}o.remove(i),mE.moveToCaretPosition(t,s)}}},_E=function(t){return t&&"A"===t.nodeName&&0===vi.trim(Il.trim(t.innerText||t.textContent)).length},SE=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},kE=function(t){t.innerHTML='<br data-mce-bogus="1">'},TE=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},EE=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},NE=function(t,e,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(t.isBlock(r))return;Ya.isElement(r)&&!e[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?t.remove(r):_E(r)&&t.remove(r)}},AE=function(t,e,n){return!1===Ya.isText(e)?n:t?1===n&&e.data.charAt(n-1)===Il.ZWSP?0:n:n===e.data.length-1&&e.data.charAt(n)===Il.ZWSP?e.data.length:n},DE=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,AE(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,AE(!1,t.endContainer,t.endOffset)),e},ME=function(t){for(;Ya.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;);},RE=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},PE=function(t,e){var n=dy.getForcedRootBlock(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,dy.getForcedRootBlockAttrs(t))},OE=function(t,e,n,i,r){var o,a,s,l,u,c,d=e||"P",f=t.dom,h=RE(f,i);if(!(a=f.getParent(i,f.isBlock))||!EE(f,a)){if(c=(a=a||h)===t.getBody()||SE(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=f.create(d),PE(t,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==a;)l=l.parentNode;for(;l&&!f.isBlock(l);)l=(s=l).previousSibling;if(s&&t.schema.isValidChild(c,d.toLowerCase())){for(o=f.create(d),PE(t,o),s.parentNode.insertBefore(o,s),l=s;l&&!f.isBlock(l);)u=l.nextSibling,o.appendChild(l),l=u;n.setStart(i,r),n.setEnd(i,r)}}return i},IE=function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")},LE={insert:function(a,t){var e,s,l,o,u,n,i,r,c,d,f,h,p,m=a.dom,g=a.schema,v=g.getNonEmptyElements(),y=a.selection.getRng(),b=function(t){var e,n,i,r=l,o=g.getTextInlineElements();if(t||"TABLE"===d||"HR"===d?(e=m.create(t||h),PE(a,e)):e=u.cloneNode(!1),i=e,!1===dy.shouldKeepStyles(a))m.setAttrib(e,"style",null),m.setAttrib(e,"class",null);else do{if(o[r.nodeName]){if(Rc(r))continue;n=r.cloneNode(!1),m.setAttrib(n,"id",""),e.hasChildNodes()?n.appendChild(e.firstChild):i=n,e.appendChild(n)}}while((r=r.parentNode)&&r!==s);return kE(i),e},x=function(t){var e,n,i,r;if(r=AE(t,l,o),Ya.isText(l)&&(t?0<r:r<l.nodeValue.length))return!1;if(l.parentNode===u&&p&&!t)return!0;if(t&&Ya.isElement(l)&&l===u.firstChild)return!0;if(TE(l,"TABLE")||TE(l,"HR"))return p&&!t||!p&&t;for(e=new wt(l,u),Ya.isText(l)&&(t&&0===r?e.prev():t||r!==l.nodeValue.length||e.next());n=e.current();){if(Ya.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),v[i]&&"br"!==i))return!1}else if(Ya.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;t?e.prev():e.next()}return!0},w=function(){i=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==f?b(h):b(),dy.shouldEndContainerOnEmptyBlock(a)&&EE(m,c)&&m.isEmpty(u)?i=m.split(c,u):m.insertAfter(i,u),mE.moveToCaretPosition(a,i)};zy.normalize(m,y).each(function(t){y.setStart(t.startContainer,t.startOffset),y.setEnd(t.endContainer,t.endOffset)}),l=y.startContainer,o=y.startOffset,h=dy.getForcedRootBlock(a),n=t.shiftKey,Ya.isElement(l)&&l.hasChildNodes()&&(p=o>l.childNodes.length-1,l=l.childNodes[Math.min(o,l.childNodes.length-1)]||l,o=p&&Ya.isText(l)?l.nodeValue.length:0),(s=RE(m,l))&&((h&&!n||!h&&n)&&(l=OE(a,h,y,l,o)),u=m.getParent(l,m.isBlock),c=u?m.getParent(u.parentNode,m.isBlock):null,d=u?u.nodeName.toUpperCase():"","LI"!==(f=c?c.nodeName.toUpperCase():"")||t.ctrlKey||(c=(u=c).parentNode,d=f),/^(LI|DT|DD)$/.test(d)&&m.isEmpty(u)?CE.insert(a,b,c,u,h):h&&u===a.getBody()||(h=h||"P",Fl(u)?(i=Kl(u),m.isEmpty(u)&&kE(u),mE.moveToCaretPosition(a,i)):x()?w():x(!0)?(i=u.parentNode.insertBefore(b(),u),mE.moveToCaretPosition(a,TE(u,"HR")?i:u)):((e=DE(y).cloneRange()).setEndAfter(u),r=e.extractContents(),ME(r),i=r.firstChild,m.insertAfter(r,u),NE(m,v,i),IE(m,u),m.isEmpty(u)&&kE(u),i.normalize(),m.isEmpty(i)?(m.remove(i),w()):mE.moveToCaretPosition(a,i)),m.setAttrib(i,"id",""),a.fire("NewBlock",{newBlock:i})))}},BE=function(t,e){return mE.getParentBlock(t).filter(function(t){return 0<e.length&&To(Vr.fromDom(t),e)}).isSome()},FE={shouldInsertBr:function(t){return BE(t,dy.getBrNewLineSelector(t))},shouldBlockNewLine:function(t){return BE(t,dy.getNoNewLineSelector(t))}},zE=ym.generate([{br:[]},{block:[]},{none:[]}]),HE=function(t){return FE.shouldBlockNewLine(t)},jE=function(e){return function(t){return""===dy.getForcedRootBlock(t)===e}},WE=function(e){return function(t){return mE.isListItemParentBlock(t)===e}},VE=function(e,n){return function(t){return mE.getParentBlockName(t)===e.toUpperCase()===n}},UE=function(t){return VE("pre",t)},$E=function(){return VE("summary",!0)},qE=function(e){return function(t){return dy.shouldPutBrInPre(t)===e}},YE=function(t){return FE.shouldInsertBr(t)},GE=function(t,e){return e},XE=function(t){var e=dy.getForcedRootBlock(t),n=mE.getEditableRoot(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},KE=function(t,e){return function(n,i){return te(t,function(t,e){return t&&e(n,i)},!0)?Ot.some(e):Ot.none()}},ZE={getAction:function(t,e){return Tg.evaluateUntil([KE([HE],zE.none()),KE([$E()],zE.br()),KE([UE(!0),qE(!1),GE],zE.br()),KE([UE(!0),qE(!1)],zE.block()),KE([UE(!0),qE(!0),GE],zE.block()),KE([UE(!0),qE(!0)],zE.br()),KE([WE(!0),GE],zE.br()),KE([WE(!0)],zE.block()),KE([jE(!0),GE,XE],zE.block()),KE([jE(!0)],zE.br()),KE([YE],zE.br()),KE([jE(!1),GE],zE.br()),KE([XE],zE.block())],[t,e.shiftKey]).getOr(zE.none())}},QE={insert:function(t,e){ZE.getAction(t,e).fold(function(){Qy.insert(t,e)},function(){LE.insert(t,e)},mt)}},JE=function(t){t.typing&&(t.typing=!1,t.add())},tN=function(t,e){e.isDefaultPrevented()||(e.preventDefault(),JE(t.undoManager),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),QE.insert(t,e)}))},eN={setup:function(e){e.on("keydown",function(t){t.keyCode===iC.ENTER&&tN(e,t)})}},nN=function(n,i){var t=i.container(),e=i.offset();return Ya.isText(t)?(t.insertData(e,n),Ot.some(C(t,e+n.length))):Od(i).map(function(t){var e=Vr.fromText(n);return i.isAtEnd()?js(t,e):Hs(t,e),C(e.dom(),n.length)})},iN=d(nN,"\xa0"),rN=d(nN," "),oN=function(e,t,n){var i=Qt(Qp.parentsAndSelf(Vr.fromDom(n.container()),t),xa);return he(i).exists(function(t){return lf.navigate(e,t.dom(),n).isNone()})},aN=d(oN,!1),sN=d(oN,!0),lN="\xa0",uN=function(t){return C.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},cN=function(t,e){var n=Qt(Qp.parentsAndSelf(Vr.fromDom(e.container()),t),xa);return he(n).getOr(t)},dN=function(t,e){return uN(e)?Pd(e):Pd(e)||lf.prevPosition(cN(t,e).dom(),e).exists(Pd)},fN=function(t,e){return uN(e)?Rd(e):Rd(e)||lf.nextPosition(cN(t,e).dom(),e).exists(Rd)},hN=function(t){return qt(["pre","pre-line","pre-wrap"],t)},pN=function(t){return Od(t).bind(function(t){return dl(t,Kr)}).exists(function(t){return hN(go(t,"white-space"))})},mN=function(t,e){return aN(t,e)||sN(t,e)||Cm(t,e)||wm(t,e)},gN=function(t,e){return!pN(e)&&(mN(t,e)||dN(t,e)||fN(t,e))},vN=function(t,e){return!pN(e)&&(aN(t,e)||Cm(t,e)||dN(t,e))},yN=function(t,e){return!pN(e)&&(sN(t,e)||wm(t,e)||fN(t,e))},bN=function(t,e){return ed(t.charAt(e))},xN=function(t){var e=t.container();return Ya.isText(e)&&Nr(e.data,lN)},wN=function(t,e,n){var i=C(e,0);return bN(n,0)&&!vN(t,i)?" "+n.slice(1):n},CN=function(t){return Gt(t.split(""),function(t,e,n){return ed(t)&&0<e&&e<n.length-1&&id(n[e-1])&&id(n[e+1])?" ":t}).join("")},_N=function(t,e,n){var i=C(e,n.length);return bN(n,n.length-1)&&!yN(t,i)?n.slice(0,-1)+" ":n},SN=function(r,t){return Ot.some(t).filter(xN).bind(function(t){var e=t.container(),n=e.nodeValue,i=wN(r,e,CN(_N(r,e,n)));return n!==i?(t.container().nodeValue=i,Ot.some(t)):Ot.none()})},kN=function(e){var t=Vr.fromDom(e.getBody());e.selection.isCollapsed()&&SN(t,C.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},TN=function(t,e){return gN(t,e)?iN(e):rN(e)},EN=function(e){return function(t){return t.fold(function(t){return lf.prevPosition(e.dom(),tc.before(t))},function(t){return lf.firstPositionIn(t)},function(t){return lf.lastPositionIn(t)},function(t){return lf.nextPosition(e.dom(),tc.after(t))})}},NN=function(e,n){return function(t){return gN(e,t)?iN(n):rN(n)}},AN=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},DN=function(t){var e=tc.fromRangeStart(t.selection.getRng()),n=Vr.fromDom(t.getBody());if(t.selection.isCollapsed()){var i=d(kp.isInlineTarget,t),r=tc.fromRangeStart(t.selection.getRng());return Yg.readLocation(i,t.getBody(),r).bind(EN(n)).bind(NN(n,e)).fold(function(){return TN(n,e).map(AN(t)).getOr(!1)},AN(t))}return!1},MN=function(t,e){tE.execute([{keyCode:iC.SPACEBAR,action:tE.action(DN,t)}],e).each(function(){e.preventDefault()})},RN={setup:function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&MN(e,t)})}},PN=function(t){return hl(Vr.fromDom(t.getBody()),"*[data-mce-caret]").fold(vt(null),function(t){return t.dom()})},ON=function(t){t.selection.setRng(t.selection.getRng())},IN=function(t,e){e.hasAttribute("data-mce-caret")&&(Kl(e),ON(t),t.selection.scrollIntoView(e))},LN=function(t,e){var n=PN(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void IN(t,n)):void(jl(n)&&(IN(t,n),t.undoManager.add()))},BN={setup:function(t){t.on("keyup compositionstart",d(LN,t))}},FN=function(e){e.on("input",function(t){!1===t.isComposing&&kN(e)})},zN={setup:function(t){var e=lv.setupSelectedState(t);BN.setup(t),nE.setup(t,e),cE.setup(t,e),eN.setup(t),RN.setup(t),FN(t)}},HN=function(t){return Ya.isElement(t)&&_a(Vr.fromDom(t))},jN=function(t){var e=t.selection.getRng(),n=C.fromRangeStart(e),i=C.fromRangeEnd(e);if(C.isElementPosition(n)){var r=n.container();HN(r)&&lf.firstPositionIn(r).each(function(t){return e.setStart(t.container(),t.offset())})}C.isElementPosition(i)&&(r=n.container(),HN(r)&&lf.lastPositionIn(r).each(function(t){return e.setEnd(t.container(),t.offset())})),t.selection.setRng(Lh.normalize(e))},WN=function(e){e.on("click",function(t){3<=t.detail&&jN(e)})},VN=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},UN=function(t){t.parser.addNodeFilter("details",function(t){Xt(t,function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")})}),t.serializer.addNodeFilter("details",function(t){Xt(t,function(t){var e=t.attr("data-mce-open");t.attr("open",Bt(e)?e:null),t.attr("data-mce-open",null)})})},$N=function(t){VN(t),UN(t)},qN=Ms.DOM,YN=function(t,e){var n=Vr.fromDom(t.getDoc().head),i=Vr.fromTag("style");ao(i,"type","text/css"),Ws(i,Vr.fromText(e)),Ws(n,i)},GN=function(s){var t=U(s.settings,s.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,e){for(var n,i,r,o=t.length,a=s.dom;o--;)if(i=(n=t[o]).attr(e),r="data-mce-"+e,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===e?((i=a.serializeStyle(a.parseStyle(i),n.name)).length||(i=null),n.attr(r,i),n.attr(e,i)):"tabindex"===e?(n.attr(r,i),n.attr(e,null)):n.attr(r,s.convertURL(i,e,n.name))}}),t.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)0!==(n=(e=t[i]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var e,n=t.length,i=s.schema.getNonEmptyElements();n--;)(e=t[n]).isEmpty(i)&&0===e.getAll("br").length&&(e.append(new NS("br",1)).shortEnded=!0)}),t},XN=function(e){e.settings.auto_focus&&Oe.setEditorTimeout(e,function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()},100)},KN=function(t){t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),XN(t)},ZN=function(t){return t.inline?qN.styleSheetLoader:t.dom.styleSheetLoader},QN={initContentBody:function(e,t){var n,i,r=e.settings,o=e.getElement(),a=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),t||r.content_editable||(a.open(),a.write(e.iframeHTML),a.close()),r.content_editable&&(e.on("remove",function(){var t=this.getBody();qN.removeClass(t,"mce-content-body"),qN.removeClass(t,"mce-edit-focus"),qN.setAttrib(t,"contentEditable",null)}),qN.addClass(o,"mce-content-body"),e.contentDocument=a=r.content_document||document,e.contentWindow=r.content_window||window,e.bodyElement=o,r.content_document=r.content_window=null,r.root_name=o.nodeName.toLowerCase()),(n=e.getBody()).disabled=!0,e.readonly=r.readonly,e.readonly||(e.inline&&"static"===qN.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=e.getParam("content_editable_state",!0)),n.disabled=!1,e.editorUpload=F(e),e.schema=Ct(r),e.dom=Ms(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:r.content_editable,schema:e.schema,contentCssCors:dy.shouldUseContentCssCors(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=GN(e),e.serializer=q(r,e),e.selection=Xk(e.dom,e.getWin(),e.serializer,e),e.annotator=c(e),e.formatter=V(e),e.undoManager=j(e),e._nodeChangeDispatcher=new z(e),e._selectionOverrides=uC(e),$N(e),WN(e),zN.setup(e),Ux.setup(e),e.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(a.body.spellcheck=!1,qN.setAttrib(n,"spellcheck","false")),e.quirks=G(e),e.fire("PostRender"),r.directionality&&(n.dir=r.directionality),r.nowrap&&(n.style.whiteSpace="nowrap"),r.protect&&e.on("BeforeSetContent",function(e){vi.each(r.protect,function(t){e.content=e.content.replace(t,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),0<e.contentStyles.length&&(i="",vi.each(e.contentStyles,function(t){i+=t+"\r\n"}),e.dom.addStyle(i)),ZN(e).loadAll(e.contentCSS,function(){KN(e)},function(){KN(e)}),r.content_style&&YN(e,r.content_style)}},JN=Ms.DOM,tA=function(t,e){if(document.domain!==window.location.hostname&&Ee.ie&&Ee.ie<12){var n=Fx.uuid("mce");t[n]=function(){QN.initContentBody(t)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return JN.setAttrib(e,"src",i),!0}return!1},eA=function(t){var e="number"==typeof t?t+"px":t;return e||""},nA=function(t,e,n,i){var r=Vr.fromTag("iframe");return so(r,i),so(r,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),mo(r,{width:"100%",height:eA(n),display:"block"}),r},iA=function(t){var e,n,i;return i=dy.getDocType(t)+"<html><head>",dy.getDocumentBaseUrl(t)!==t.documentBaseUrl&&(i+='<base href="'+t.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=dy.getBodyId(t),n=dy.getBodyClass(t),dy.getContentSecurityPolicy(t)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+dy.getContentSecurityPolicy(t)+'" />'),i+='</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'},rA=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),i=nA(t.id,n,e.height,dy.getIframeAttrs(t)).dom();i.onload=function(){i.onload=null,t.fire("load")};var r=tA(t,i);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=i,t.iframeHTML=iA(t),JN.add(e.iframeContainer,i),r},oA={init:function(t,e){var n=rA(t,e);e.editorContainer&&(JN.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=JN.isHidden(e.editorContainer)),t.getElement().style.display="none",JN.setAttrib(t.id,"aria-hidden","true"),n||QN.initContentBody(t)}},aA=Ms.DOM,sA=function(e,n,t){var i,r,o=kx.get(t);if(i=kx.urls[t]||e.documentBaseUrl.replace(/\/$/,""),t=vi.trim(t),o&&-1===vi.inArray(n,t)){if(vi.each(kx.dependencies(t),function(t){sA(e,n,t)}),e.plugins[t])return;r=new o(e,i,e.$),(e.plugins[t]=r).init&&(r.init(e,i),n.push(t))}},lA=function(t){return t.replace(/^\-/,"")},uA=function(e){var n=[];vi.each(e.settings.plugins.split(/[ ,]/),function(t){sA(e,n,lA(t))})},cA=function(t){var e,n=t.settings.theme;Bt(n)?(t.settings.theme=lA(n),e=Tx.get(n),t.theme=new e(t,Tx.urls[n]),t.theme.init&&t.theme.init(t,Tx.urls[n]||t.documentBaseUrl.replace(/\/$/,""),t.$)):t.theme={}},dA=function(t){var e,n,i,r,o,a=t.settings,s=t.getElement();return e=a.width||aA.getStyle(s,"width")||"100%",n=a.height||aA.getStyle(s,"height")||s.offsetHeight,i=a.min_height||100,(r=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),r.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=t.theme.renderUI({targetNode:s,width:e,height:n,deltaWidth:a.delta_width,deltaHeight:a.delta_height}),a.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""))<i&&(n=i),o.height=n,o},fA=function(t){var e,n=t.getElement();return(e=t.settings.theme(t,n)).editorContainer.nodeType&&(e.editorContainer.id=e.editorContainer.id||t.id+"_parent"),e.iframeContainer&&e.iframeContainer.nodeType&&(e.iframeContainer.id=e.iframeContainer.id||t.id+"_iframecontainer"),e.height=e.iframeHeight?e.iframeHeight:n.offsetHeight,e},hA=function(t){return{editorContainer:t,iframeContainer:t}},pA=function(t){var e=aA.create("div");return aA.insertAfter(e,t),hA(e)},mA=function(t){var e=t.getElement();return t.inline?hA(null):pA(e)},gA=function(t){var e=t.settings,n=t.getElement();return t.orgDisplay=n.style.display,Bt(e.theme)?dA(t):Wt(e.theme)?fA(t):mA(t)},vA={init:function(e){var t,n=e.settings,i=e.getElement();return e.rtl=n.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||aA.getAttrib(i,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),cA(e),uA(e),t=gA(e),e.editorContainer=t.editorContainer?t.editorContainer:null,n.content_css&&vi.each(vi.explode(n.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),n.content_editable?QN.initContentBody(e):oA.init(e,t)}},yA=Ms.DOM,bA=function(t){return"-"===t.charAt(0)},xA=function(t,e){var n=e.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=e.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!e.editorManager.i18n.data[n.language]&&t.add(n.language_url)},wA=function(t,e,n,i){var r=e.settings,o=r.theme;if(Bt(o)){if(!bA(o)&&!Tx.urls.hasOwnProperty(o)){var a=r.theme_url;a?Tx.load(o,e.documentBaseURI.toAbsolute(a)):Tx.load(o,"themes/"+o+"/theme"+n+".js")}t.loadQueue(function(){Tx.waitFor(o,i)})}else i()},CA=function(n,i){vi.isArray(n.plugins)&&(n.plugins=n.plugins.join(" ")),vi.each(n.external_plugins,function(t,e){kx.load(e,t),n.plugins+=" "+e}),vi.each(n.plugins.split(/[ ,]/),function(t){if((t=vi.trim(t))&&!kx.urls[t])if(bA(t)){t=t.substr(1,t.length);var e=kx.dependencies(t);vi.each(e,function(t){var e={prefix:"plugins/",resource:t,suffix:"/plugin"+i+".js"};t=kx.createUrl(e,t),kx.load(t.resource,t)})}else kx.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+i+".js"})})},_A=function(e,t){var n=Ls.ScriptLoader;wA(n,e,t,function(){xA(n,e),CA(e.settings,t),n.loadQueue(function(){e.removed||vA.init(e)},e,function(t){Sx.pluginLoadError(e,t[0]),e.removed||vA.init(e)})})},SA={render:function(e){var t=e.settings,n=e.id,i=function(){yA.unbind(window,"ready",i),e.render()};if(qe.Event.domLoaded){if(e.getElement()&&Ee.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var r=e.getElement().form||yA.getParent(n,"form");r&&(e.formElement=r,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(yA.insertAfter(yA.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},yA.bind(r,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!t.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)})),e.windowManager=D(e),e.notificationManager=N(e),"xml"===t.encoding&&e.on("GetContent",function(t){t.save&&(t.content=yA.encode(t.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),_A(e,e.suffix)}}else yA.bind(window,"ready",i)}},kA={add:function(t,e,n){var i=t.sidebars?t.sidebars:[];i.push({name:e,settings:n}),t.sidebars=i}},TA=vi.each,EA=vi.trim,NA="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),AA={ftp:21,http:80,https:443,mailto:25},DA=function(i,t){var e,n,r=this;if(i=EA(i),e=(t=r.settings=t||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(i)||/^\s*#/.test(i))r.source=i;else{var o=0===i.indexOf("//");0!==i.indexOf("/")||o||(i=(e&&e.protocol||"http")+"://mce_host"+i),/^[\w\-]*:?\/\//.test(i)||(n=t.base_uri?t.base_uri.path:new DA(document.location.href).directory,""==t.base_uri.protocol?i="//mce_host"+r.toAbsPath(n,i):(i=/([^#?]*)([#?]?.*)/.exec(i),i=(e&&e.protocol||"http")+"://mce_host"+r.toAbsPath(n,i[1])+i[2])),i=i.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(i),TA(NA,function(t,e){var n=i[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[t]=n}),e&&(r.protocol||(r.protocol=e.protocol),r.userInfo||(r.userInfo=e.userInfo),r.port||"mce_host"!==r.host||(r.port=e.port),r.host&&"mce_host"!==r.host||(r.host=e.host),r.source=""),o&&(r.protocol="")}};DA.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var e,n=this;if("./"===t)return t;if("mce_host"!==(t=new DA(t,{base_uri:n})).host&&n.host!==t.host&&t.host||n.port!==t.port||n.protocol!==t.protocol&&""!==t.protocol)return t.getURI();var i=n.getURI(),r=t.getURI();return i===r||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===r?i:(e=n.toRelPath(n.path,t.path),t.query&&(e+="?"+t.query),t.anchor&&(e+="#"+t.anchor),e)},toAbsolute:function(t,e){return(t=new DA(t,{base_uri:this})).getURI(e&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=AA[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,r,o=0,a="";if(t=(t=t.substring(0,t.lastIndexOf("/"))).split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;i<r;i++)if(i>=n.length||t[i]!==n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=t.length||t[i]!==n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!==o-1?"/"+n[i]:n[i];return a},toAbsPath:function(t,e){var n,i,r,o=0,a=[];for(i=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),TA(t,function(t){t&&a.push(t)}),t=a,n=e.length-1,a=[];0<=n;n--)0!==e[n].length&&"."!==e[n]&&(".."!==e[n]?0<o?o--:a.push(e[n]):o++);return 0!==(r=(n=t.length-o)<=0?a.reverse().join("/"):t.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(t){var e,n=this;return n.source&&!t||(e="",t||(n.protocol?e+=n.protocol+"://":e+="//",n.userInfo&&(e+=n.userInfo+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port)),n.path&&(e+=n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),n.source=e),n.source}},DA.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}},DA.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e};var MA="html",RA=function(t,e){var n=dy.getForcedRootBlock(t),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(i,"")},PA=function(t,e,n){var i;if(e.format=e.format?e.format:MA,e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)i=vi.trim(bC.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)i=Il.trim(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);i=RA(t,t.serializer.serialize(n,e))}return"text"===e.format||Aa(Vr.fromDom(n))?e.content=i:e.content=vi.trim(i),e.no_events||t.fire("GetContent",e),e.content},OA=function(e,n){return void 0===n&&(n={}),Ot.from(e.getBody()).fold(vt("tree"===n.format?new NS("body",11):""),function(t){return PA(e,n,t)})},IA=function(t,e){e(t),t.firstChild&&IA(t.firstChild,e),t.next&&IA(t.next,e)},LA=function(t,n,e){var i={},r={},o=[];for(var a in e.firstChild&&IA(e.firstChild,function(e){Xt(t,function(t){t.name===e.name&&(i[t.name]?i[t.name].nodes.push(e):i[t.name]={filter:t,nodes:[e]})}),Xt(n,function(t){"string"==typeof e.attr(t.name)&&(r[t.name]?r[t.name].nodes.push(e):r[t.name]={filter:t,nodes:[e]})})}),i)i.hasOwnProperty(a)&&o.push(i[a]);for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o},BA=function(t,e,n){var i=LA(t,e,n);Xt(i,function(e){Xt(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},FA="html",zA=function(t){return t instanceof NS},HA=function(i){sx.hasFocus(i)&&lf.firstPositionIn(i.getBody()).each(function(t){var e=t.getNode(),n=Ya.isTable(e)?lf.firstPositionIn(e).getOr(t):t;i.selection.setRng(n.toRange())})},jA=function(t,e){t.dom.setHTML(t.getBody(),e),HA(t)},WA=function(t,e,n,i){var r,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>"),(r=dy.getForcedRootBlock(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=t.dom.createHTML(r,t.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),jA(t,n),t.fire("SetContent",i)):("raw"!==i.format&&(n=S({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,
insert:!0}))),i.content=Aa(Vr.fromDom(e))?n:vi.trim(n),jA(t,i.content),i.no_events||t.fire("SetContent",i)),i.content},VA=function(t,e,n,i){BA(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var r=S({validate:t.validate},t.schema).serialize(n);return i.content=Aa(Vr.fromDom(e))?r:vi.trim(r),jA(t,i.content),i.no_events||t.fire("SetContent",i),n},UA=function(e,n,i){return void 0===i&&(i={}),i.format=i.format?i.format:FA,i.set=!0,i.content=zA(n)?"":n,zA(n)||i.no_events||(e.fire("BeforeSetContent",i),n=i.content),Ot.from(e.getBody()).fold(vt(n),function(t){return zA(n)?VA(e,t,n,i):WA(e,t,n,i)})},$A=Ms.DOM,qA=function(t){$A.setStyle(t.id,"display",t.orgDisplay)},YA=function(t){return Ot.from(t).each(function(t){return t.destroy()})},GA=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},XA=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),$A.unbind(e,"submit reset",t.formEventDelegate))},KA=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,i=t.getBody(),r=t.getElement();i&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&r&&$A.remove(r.nextSibling),!t.inline&&i&&qA(t),Ab.fireRemove(t),t.editorManager.remove(t),$A.remove(t.getContainer()),YA(e),YA(n),t.destroy()}},ZA=function(t,e){var n=t.selection,i=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),YA(n),YA(i)),XA(t),GA(t),t.destroyed=!0):t.remove())},QA=Ms.DOM,JA=vi.extend,tD=vi.each,eD=vi.resolve,nD=Ee.ie,iD=function(t,e,n){var i=this,r=i.documentBaseUrl=n.documentBaseURL,o=n.baseURI;e=pp(i,t,r,n.defaultSettings,e),i.settings=e,v.language=e.language||"en",v.languageLoad=e.language_load,v.baseURL=n.baseURL,i.id=t,i.setDirty(!1),i.plugins={},i.documentBaseURI=new DA(e.document_base_url,{base_uri:o}),i.baseURI=o,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new T(i),i.loadedCSS={},i.editorCommands=new k(i),i.suffix=n.suffix,i.editorManager=n,i.inline=e.inline,i.buttons={},i.menuItems={},e.cache_suffix&&(Ee.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),!1===e.override_viewport&&(Ee.overrideViewPort=!1),n.fire("SetupEditor",{editor:i}),i.execCallback("setup",i),i.$=Bi.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})};iD.prototype={render:function(){SA.render(this)},focus:function(t){sx.focus(this,t)},hasFocus:function(){return sx.hasFocus(this)},execCallback:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r=this,o=r.settings[t];if(o)return r.callbackLookup&&(i=r.callbackLookup[t])&&(o=i.func,i=i.scope),"string"==typeof o&&(i=(i=o.replace(/\.\w+$/,""))?eD(i):0,o=eD(o),r.callbackLookup=r.callbackLookup||{},r.callbackLookup[t]={func:o,scope:i}),o.apply(i||r,Array.prototype.slice.call(arguments,1))},translate:function(t){if(t&&vi.is(t,"string")){var n=this.settings.language||"en",i=this.editorManager.i18n;t=i.data[n+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,e){return i.data[n+"."+e]||"{#"+e+"}"})}return this.editorManager.translate(t)},getLang:function(t,e){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(e!==undefined?e:"{#"+t+"}")},getParam:function(t,e,n){return bp(this,t,e,n)},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.stateSelector&&"undefined"==typeof e.active&&(e.active=!1),e.text||e.icon||(e.icon=t),e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addSidebar:function(t,e){return kA.add(this,t,e)},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({id:Fx.uuid("mcet"),predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(QA.show(t.getContainer()),QA.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,e=t.getDoc();t.hidden||(nD&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(QA.hide(t.getContainer()),QA.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var e,n=this,i=n.getElement();return n.removed?"":i?((t=t||{}).load=!0,e=n.setContent(i.value!==undefined?i.value:i.innerHTML,t),t.element=i,t.no_events||n.fire("LoadContent",t),t.element=i=null,e):void 0},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(t=t||{}).save=!0,t.element=r,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"===t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(!t.is_removing&&i.inline||(r.innerHTML=e),(n=QA.getParent(i.id,"form"))&&tD(n.elements,function(t){if(t.name===i.id)return t.value=e,!1})),t.element=r=null,!1!==t.set_dirty&&i.setDirty(!1),e},setContent:function(t,e){return UA(this,t,e)},getContent:function(t){return OA(this,t)},insertContent:function(t,e){e&&(t=JA({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},setMode:function(t){Pb(this,t)},getContainer:function(){var t=this;return t.container||(t.container=QA.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=QA.get(this.id)),this.targetElm},getWin:function(){var t,e=this;return e.contentWindow||(t=e.iframeElement)&&(e.contentWindow=t.contentWindow),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin())&&(e.contentDocument=t.document),e.contentDocument},getBody:function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},convertURL:function(t,e,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,r.remove_script_host)},addVisual:function(t){var n,i=this,r=i.settings,o=i.dom;t=t||i.getBody(),i.hasVisual===undefined&&(i.hasVisual=r.visual),tD(o.select("table,a",t),function(t){var e;switch(t.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",void((e=o.getAttrib(t,"border"))&&"0"!==e||!i.hasVisual?o.removeClass(t,n):o.addClass(t,n));case"A":return void(o.getAttrib(t,"href")||(e=o.getAttrib(t,"name")||t.id,n=r.visual_anchor_class||"mce-item-anchor",e&&i.hasVisual?o.addClass(t,n):o.removeClass(t,n)))}}),i.fire("VisualAid",{element:t,hasVisual:i.hasVisual})},remove:function(){KA(this)},destroy:function(t){ZA(this,t)},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},JA(iD.prototype,Wb);var rD,oD,aD,sD={isEditorUIElement:function(t){return-1!==t.className.toString().indexOf("mce-")}},lD=function(t){return"nodechange"===t.type&&t.selectionChange},uD=function(t,e){var n=function(){e.throttle()};Ms.DOM.bind(document,"mouseup",n),t.on("remove",function(){Ms.DOM.unbind(document,"mouseup",n)})},cD=function(t){t.on("focusout",function(){fb.store(t)})},dD=function(t,e){t.on("mouseup touchend",function(){e.throttle()})},fD=function(e,t){Fr.detect().browser.isIE()?cD(e):dD(e,t),e.on("keyup nodechange",function(t){lD(t)||fb.store(e)})},hD={register:function(t){var e=Xs(function(){fb.store(t)},0);t.inline&&uD(t,e),t.on("init",function(){fD(t,e)}),t.on("remove",function(){e.cancel()})}},pD=Ms.DOM,mD=function(t){return sD.isEditorUIElement(t)},gD=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==pD.getParent(t,function(t){return mD(t)||!!n&&e.dom.is(t,n)})},vD=function(){try{return document.activeElement}catch(t){return document.body}},yD=function(i,t){var e=t.editor;hD.register(e),e.on("focusin",function(){var t=this,e=i.focusedEditor;e!==t&&(e&&e.fire("blur",{focusedEditor:t}),i.setActive(t),(i.focusedEditor=t).fire("focus",{blurredEditor:e}),t.focus(!0))}),e.on("focusout",function(){var e=this;Oe.setEditorTimeout(e,function(){var t=i.focusedEditor;gD(e,vD())||t!==e||(e.fire("blur",{focusedEditor:null}),i.focusedEditor=null)})}),rD||(rD=function(t){var e,n=i.activeEditor;e=t.target,n&&e.ownerDocument===document&&(e===document.body||gD(n,e)||i.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),i.focusedEditor=null))},pD.bind(document,"focusin",rD))},bD=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(pD.unbind(document,"focusin",rD),rD=null)},xD={setup:function(t){t.on("AddEditor",d(yD,t)),t.on("RemoveEditor",d(bD,t))},isEditorUIElement:mD,isUIElement:gD},wD={},CD="en",_D={setCode:function(t){t&&(CD=t,this.rtl=!!this.data[t]&&"rtl"===this.data[t]._dir)},getCode:function(){return CD},rtl:!1,add:function(t,e){var n=wD[t];for(var i in n||(wD[t]=n={}),e)n[i]=e[i];this.setCode(t)},translate:function(t){var e=wD[CD]||{},n=function(t){return vi.is(t,"function")?Object.prototype.toString.call(t):i(t)?"":""+t},i=function(t){return""===t||null===t||vi.is(t,"undefined")},r=function(t){return t=n(t),vi.hasOwn(e,t)?n(e[t]):t};if(i(t))return"";if(vi.is(t,"object")&&vi.hasOwn(t,"raw"))return n(t.raw);if(vi.is(t,"array")){var o=t.slice(1);t=r(t[0]).replace(/\{([0-9]+)\}/g,function(t,e){return vi.hasOwn(o,e)?n(o[e]):t})}return r(t).replace(/{context:\w+}$/,"")},data:wD},SD=Ms.DOM,kD=vi.explode,TD=vi.each,ED=vi.extend,ND=0,AD=!1,DD=[],MD=[],RD=function(t){return"length"!==t},PD=function(e){TD(aD.get(),function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})},OD=function(t){t!==AD&&(t?Bi(window).on("resize scroll",PD):Bi(window).off("resize scroll",PD),AD=t)},ID=function(e){var t=MD;delete DD[e.id];for(var n=0;n<DD.length;n++)if(DD[n]===e){DD.splice(n,1);break}return MD=Qt(MD,function(t){return e!==t}),aD.activeEditor===e&&(aD.activeEditor=0<MD.length?MD[0]:null),aD.focusedEditor===e&&(aD.focusedEditor=null),t.length!==MD.length},LD=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(ID(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t};ED(aD={defaultSettings:{},$:Bi,majorVersion:"4",minorVersion:"9.0",releaseDate:"2018-11-27",editors:DD,i18n:_D,activeEditor:null,settings:{},setup:function(){var t,e,n,i,r=this,o="";if(e=DA.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,o=n.suffix;else{for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var l=(i=a[s].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==l.indexOf(".min")&&(o=".min"),t=i.substring(0,i.lastIndexOf("/"));break}}!t&&document.currentScript&&(-1!==(i=document.currentScript.src).indexOf(".min")&&(o=".min"),t=i.substring(0,i.lastIndexOf("/")))}r.baseURL=new DA(e).toAbsolute(t),r.documentBaseURL=e,r.baseURI=new DA(r.baseURL),r.suffix=o,xD.setup(r)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&(this.baseURL=new DA(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new DA(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n);var i=(this.defaultSettings=t).plugin_base_urls;for(var r in i)v.PluginManager.urls[r]=i[r]},init:function(i){var n,r,s=this;r=vi.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var e=function(t,e){return t.inline&&e.tagName.toLowerCase()in r},l=function(t){var e=t.id;return e||(e=(e=t.name)&&!SD.get(e)?t.name:SD.uniqueId(),t.setAttribute("id",e)),e},t=function(t){var e=i[t];if(e)return e.apply(s,Array.prototype.slice.call(arguments,2))},o=function(t,e){return e.constructor===RegExp?e.test(t.className):SD.hasClass(t,e)},u=function(e){var t,n=[];if(Ee.ie&&Ee.ie<11)return Sx.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return TD(e.types,function(t){n=n.concat(SD.select(t.selector))}),n;if(e.selector)return SD.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":0<(t=e.elements||"").length&&TD(kD(t),function(e){var t;(t=SD.get(e))?n.push(t):TD(document.forms,function(t){TD(t.elements,function(t){t.name===e&&(e="mce_editor_"+ND++,SD.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":TD(SD.select("textarea"),function(t){e.editor_deselector&&o(t,e.editor_deselector)||e.editor_selector&&!o(t,e.editor_selector)||n.push(t)})}return n},c=function(t){n=t},d=function(){var r,o=0,a=[],n=function(t,e,n){var i=new iD(t,e,s);a.push(i),i.on("init",function(){++o===r.length&&c(a)}),i.targetElm=i.targetElm||n,i.render()};SD.unbind(window,"ready",d),t("onpageload"),r=Bi.unique(u(i)),i.types?TD(i.types,function(e){vi.each(r,function(t){return!SD.is(t,e.selector)||(n(l(t),ED({},i,e),t),!1)})}):(vi.each(r,function(t){LD(s.get(t.id))}),0===(r=vi.grep(r,function(t){return!s.get(t.id)})).length?c([]):TD(r,function(t){e(i,t)?Sx.initError("Could not initialize inline editor on invalid inline target element",t):n(l(t),i,t)}))};return s.settings=i,SD.bind(window,"ready",d),new Ae(function(e){n?e(n):c=function(t){e(t)}})},get:function(e){return 0===arguments.length?MD.slice(0):Bt(e)?ee(MD,function(t){return t.id===e}).getOr(null):Vt(e)&&MD[e]?MD[e]:null},add:function(t){var e=this;return DD[t.id]===t||(null===e.get(t.id)&&(RD(t.id)&&(DD[t.id]=t),DD.push(t),MD.push(t)),OD(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),oD||(oD=function(){e.fire("BeforeUnload")},SD.bind(window,"beforeunload",oD))),t},createEditor:function(t,e){return this.add(new iD(t,e,this))},remove:function(t){var e,n,i=this;if(t){if(!Bt(t))return n=t,Ht(i.get(n.id))?null:(ID(n)&&i.fire("RemoveEditor",{editor:n}),0===MD.length&&SD.unbind(window,"beforeunload",oD),n.remove(),OD(0<MD.length),n);TD(SD.select(t),function(t){(n=i.get(t.id))&&i.remove(n)})}else for(e=MD.length-1;0<=e;e--)i.remove(MD[e])},execCommand:function(t,e,n){var i=this,r=i.get(n);switch(t){case"mceAddEditor":return i.get(n)||new iD(n,i.settings,i).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():i.execCommand("mceAddEditor",0,n),!0}return!!i.activeEditor&&i.activeEditor.execCommand(t,e,n)},triggerSave:function(){TD(MD,function(t){t.save()})},addI18n:function(t,e){_D.add(t,e)},translate:function(t){return _D.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},Nb),aD.setup();var BD,FD=aD;(BD=X||(X={})).compareRanges=Ey.isEq,BD.getCaretRangeFromPoint=lk.fromPoint,BD.getSelectedNode=Su,BD.getNode=ku;var zD,HD,jD=X,WD=Math.min,VD=Math.max,UD=Math.round,$D=function(t,e,n){var i,r,o,a,s,l;return i=e.x,r=e.y,o=t.w,a=t.h,s=e.w,l=e.h,"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=s),"c"===n[0]&&(r+=UD(l/2)),"c"===n[1]&&(i+=UD(s/2)),"b"===n[3]&&(r-=a),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=UD(a/2)),"c"===n[4]&&(i-=UD(o/2)),KD(i,r,o,a)},qD=function(t,e,n,i){var r,o;for(o=0;o<i.length;o++)if((r=$D(t,e,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},YD=function(t,e,n){return KD(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},GD=function(t,e){var n,i,r,o;return n=VD(t.x,e.x),i=VD(t.y,e.y),r=WD(t.x+t.w,e.x+e.w),o=WD(t.y+t.h,e.y+e.h),r-n<0||o-i<0?null:KD(n,i,r-n,o-i)},XD=function(t,e,n){var i,r,o,a,s,l,u,c,d,f;return s=t.x,l=t.y,u=t.x+t.w,c=t.y+t.h,d=e.x+e.w,f=e.y+e.h,i=VD(0,e.x-s),r=VD(0,e.y-l),o=VD(0,u-d),a=VD(0,c-f),s+=i,l+=r,n&&(u+=i,c+=r,s-=o,l-=a),KD(s,l,(u-=o)-s,(c-=a)-l)},KD=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},ZD=function(t){return KD(t.left,t.top,t.width,t.height)},QD={inflate:YD,relativePosition:$D,findBestRelativePosition:qD,intersect:GD,clamp:XD,create:KD,fromClientRect:ZD},JD={},tM={add:function(t,e){JD[t.toLowerCase()]=e},has:function(t){return!!JD[t.toLowerCase()]},get:function(t){var e=t.toLowerCase(),n=JD.hasOwnProperty(e)?JD[e]:null;if(null===n)throw new Error("Could not find module for type: "+t);return n},create:function(t,e){var n;if("string"==typeof t?(e=e||{}).type=t:t=(e=t).type,t=t.toLowerCase(),!(n=JD[t]))throw new Error("Could not find control by type: "+t);return(n=new n(e)).type=t,n}},eM=vi.each,nM=vi.extend,iM=function(){};iM.extend=zD=function(i){var t,e,n,r=this,o=r.prototype,a=function(){var t,e,n,i=this;if(!HD&&(i.init&&i.init.apply(i,arguments),e=i.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(i,arguments)},s=function(){return this},l=function(i,r){return function(){var t,e=this,n=e._super;return e._super=o[i],t=r.apply(e,arguments),e._super=n,t}};for(e in HD=!0,t=new r,HD=!1,i.Mixins&&(eM(i.Mixins,function(t){for(var e in t)"init"!==e&&(i[e]=t[e])}),o.Mixins&&(i.Mixins=o.Mixins.concat(i.Mixins))),i.Methods&&eM(i.Methods.split(","),function(t){i[t]=s}),i.Properties&&eM(i.Properties.split(","),function(t){var n="_"+t;i[t]=function(t){var e=this;return t!==undefined?(e[n]=t,e):e[n]}}),i.Statics&&eM(i.Statics,function(t,e){a[e]=t}),i.Defaults&&o.Defaults&&(i.Defaults=nM({},o.Defaults,i.Defaults)),i)"function"==typeof(n=i[e])&&o[e]?t[e]=l(e,n):t[e]=n;return a.prototype=t,(a.constructor=a).extend=zD,a};var rM=Math.min,oM=Math.max,aM=Math.round,sM=function(t){var n={},s=0,l=0,u=0,e=function(t,e,n){var i,r,o,a;return r=i=0,(o=rM(t/=255,rM(e/=255,n/=255)))===(a=oM(t,oM(e,n)))?{h:0,s:0,v:100*(r=o)}:(i=(a-o)/a,{h:aM(60*((t===o?3:n===o?1:5)-(t===o?e-n:n===o?t-e:n-t)/((r=a)-o))),s:aM(100*i),v:aM(100*r)})},i=function(t,e,n){var i,r,o,a;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,n=parseInt(n,10)/100,e=oM(0,rM(e,1)),n=oM(0,rM(n,1)),0!==e){switch(i=t/60,o=(r=n*e)*(1-Math.abs(i%2-1)),a=n-r,Math.floor(i)){case 0:s=r,l=o,u=0;break;case 1:s=o,l=r,u=0;break;case 2:s=0,l=r,u=o;break;case 3:s=0,l=o,u=r;break;case 4:s=o,l=0,u=r;break;case 5:s=r,l=0,u=o;break;default:s=l=u=0}s=aM(255*(s+a)),l=aM(255*(l+a)),u=aM(255*(u+a))}else s=l=u=aM(255*n)},r=function(){var t=function(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t};return"#"+t(s)+t(l)+t(u)},o=function(){return{r:s,g:l,b:u}},a=function(){return e(s,l,u)},c=function(t){var e;return"object"==typeof t?"r"in t?(s=t.r,l=t.g,u=t.b):"v"in t&&i(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(s=parseInt(e[1],10),l=parseInt(e[2],10),u=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(s=parseInt(e[1],16),l=parseInt(e[2],16),u=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(s=parseInt(e[1]+e[1],16),l=parseInt(e[2]+e[2],16),u=parseInt(e[3]+e[3],16)),s=s<0?0:255<s?255:s,l=l<0?0:255<l?255:l,u=u<0?0:255<u?255:u,n};return t&&c(t),n.toRgb=o,n.toHsv=a,n.toHex=r,n.parse=c,n},lM=function(t,n){var i,r,e,o;if(n=n||'"',null===t)return"null";if("string"==(e=typeof t))return r="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,e){return'"'===n&&"'"===t?t:(i=r.indexOf(e))+1?"\\"+r.charAt(i+1):(t=e.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t)})+n;if("object"!==e)return""+t;if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(0<i?",":"")+lM(t[i],n);return r+"]"}for(o in r="{",t)t.hasOwnProperty(o)&&(r+="function"!=typeof t[o]?(1<r.length?","+n:n)+o+n+":"+lM(t[o],n):"");return r+"}"},uM={serialize:lM,parse:function(t){try{return JSON.parse(t)}catch(e){}}},cM={callbacks:{},count:0,send:function(e){var n=this,i=Ms.DOM,r=e.count!==undefined?e.count:n.count,o="tinymce_jsonp_"+r;n.callbacks[r]=function(t){i.remove(o),delete n.callbacks[r],e.callback(t)},i.add(i.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),n.count++}},dM={send:function(t){var e,n=0,i=function(){!t.async||4===e.readyState||1e4<n++?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,1e4<n?"TIMED_OUT":"GENERAL",e,t),e=null):setTimeout(i,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",dM.fire("beforeInitialize",{settings:t}),e=M()){if(e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&vi.each(t.requestheaders,function(t){e.setRequestHeader(t.key,t.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=dM.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return i();setTimeout(i,10)}}};vi.extend(dM,Nb);var fM=vi.extend,hM=function(t){this.settings=fM({},t),this.count=0};hM.sendRPC=function(t){return(new hM).send(t)},hM.prototype={send:function(n){var i=n.error,r=n.success;(n=fM(this.settings,n)).success=function(t,e){void 0===(t=uM.parse(t))&&(t={error:"JSON Parse error."}),t.error?i.call(n.error_scope||n.scope,t.error,e):r.call(n.success_scope||n.scope,t.result)},n.error=function(t,e){i&&i.call(n.error_scope||n.scope,t,e)},n.data=uM.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",dM.send(n)}};var pM,mM=function(){return n={},i=[],t={getItem:function(t){var e=n[t];return e||null},setItem:function(t,e){i.push(t),n[t]=String(e)},key:function(t){return i[t]},removeItem:function(e){i=i.filter(function(t){return t===e}),delete n[e]},clear:function(){i=[],n={}},length:0},Object.defineProperty(t,"length",{get:function(){return i.length},configurable:!1,enumerable:!1}),t;var n,i,t};try{pM=window.localStorage}catch(wM){pM=mM()}var gM,vM=FD,yM={geom:{Rect:QD},util:{Promise:Ae,Delay:Oe,Tools:vi,VK:iC,URI:DA,Class:iM,EventDispatcher:_b,Observable:Nb,I18n:_D,XHR:dM,JSON:uM,JSONRequest:hM,JSONP:cM,LocalStorage:pM,Color:sM},dom:{EventUtils:qe,Sizzle:Kn,DomQuery:Bi,TreeWalker:wt,DOMUtils:Ms,ScriptLoader:Ls,RangeUtils:jD,Serializer:q,ControlSelection:QS,BookmarkManager:GS,Selection:Xk,Event:qe.Event},html:{Styles:_t,Entities:ds,Node:NS,Schema:Ct,SaxParser:gC,DomParser:U,Writer:_,Serializer:S},ui:{Factory:tM},Env:Ee,AddOnManager:v,Annotator:c,Formatter:V,UndoManager:j,EditorCommands:k,WindowManager:D,NotificationManager:N,EditorObservable:Wb,Shortcuts:T,Editor:iD,FocusManager:sD,EditorManager:FD,DOM:Ms.DOM,ScriptLoader:Ls.ScriptLoader,PluginManager:v.PluginManager,ThemeManager:v.ThemeManager,trim:vi.trim,isArray:vi.isArray,is:vi.is,toArray:vi.toArray,makeMap:vi.makeMap,each:vi.each,map:vi.map,grep:vi.grep,inArray:vi.inArray,extend:vi.extend,create:vi.create,walk:vi.walk,createNS:vi.createNS,resolve:vi.resolve,explode:vi.explode,_addCacheSuffix:vi._addCacheSuffix,isOpera:Ee.opera,isWebKit:Ee.webkit,isIE:Ee.ie,isGecko:Ee.gecko,isMac:Ee.mac},bM=vM=vi.extend(vM,yM),xM=function(t){if("object"==typeof module)try{module.exports=t}catch(e){}};gM=bM,window.tinymce=gM,window.tinyMCE=gM,xM(bM)}(),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var t;t=function(){if(0<$("#search_school").length)return $("#search_school").keyup(function(t){if(13===t.keyCode)return window.location.href=window.location.pathname+"?search="+escape($(t.target).val())})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){var e,t;e=function(t,e){return t.wysihtml5({toolbar:{image:!1,link:!1,html:e},parser:function(t){return t}})},t=function(){if(0<$("textarea.wysihtml5").length)return 0<$(".tab-pane:not(.active)").length&&($(".tab-pane:not(.active) textarea.wysihtml5").each(function(){return $(this).addClass("wait_to_be_active")}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(){var t;if(t=$(this).attr("aria-controls"))return $("#"+t+" textarea.wysihtml5").each(function(){var t;if((t=$(this)).hasClass("wait_to_be_active"))return t.removeClass("wait_to_be_active"),e(t,t.hasClass("allow_html"))})})),$("textarea.wysihtml5").each(function(){if(!$(this).hasClass("wait_to_be_active"))return e($(this),$(this).hasClass("allow_html"))})},$(document).ready(t),$(document).on("page:load",t)}.call(this),$(function(){0<$("textarea.tinymce").length&&tinyMCE.init({selector:"textarea.tinymce",height:500,theme:"modern",valid_elements:"*[*]",plugins:"link lists textcolor colorpicker code",toolbar1:"formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright  | numlist bullist outdent indent | code"})}),function(){var t;t=function(){return $("*[data-role=activerecord_sortable]").each(function(){return $(this).activerecord_sortable()})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){}.call(this),function(){var t,e,n;t=function(){if(0<$("#job-apply-other-urls").length)return $("#job-apply-other-urls i.fa").click(function(){var t,e;if($(this).hasClass("fa-plus-circle"))return(e=$('<div style="margin-top: 10px">')).append($('<input type="text" class="form-control" name="job_apply[other_urls][]" id="job_apply_other_urls_" >')),t=$('<i class="fa fa-minus-circle" aria-hidden="true" ></i>'),e.append(t),$("#job-apply-other-urls").append(e),t.click(function(){return e.remove()})})},$(document).ready(t),$(document).on("page:load",t),n=function(){if(0<$("#job_offer_apply .file-size-validation").length)return $("#job_offer_apply .file-size-validation").on("change",function(){var t;if($("#job_offer_apply .apply_button.submit-file input").prop("disabled",!1),$("#job_offer_apply .apply_button.submit-file .alert-msg").html(""),(t=$(this).data("file-size"))&&this.files&&0<this.files.length&&this.files[0]&&this.files[0].size&&this.files[0].size>t)return $("#job_offer_apply .apply_button.submit-file input").prop("disabled",!0),$("#job_offer_apply .apply_button.submit-file .alert-msg").html("Resume size is too big")})},$(document).ready(n),$(document).on("page:load",n),e=function(){if(0<$("#job_offer_apply .li-bp-connect").length)return $("#job_offer_apply .li-bp-connect").click(function(){if(!$(this).hasClass("done"))return IN.User.authorize(function(){return IN.API.Raw("/people/~:(id,headline,formatted-name,public-profile-url,positions,email-address,phone-numbers)?format=json").result(function(t){var e;if($("#job_offer_apply .li-bp-connect").addClass("done"),t.formattedName&&$("#job-full-name input").val(t.formattedName),t.emailAddress&&$("#job-email input").val(t.emailAddress),t.publicProfileUrl&&$("#job-linkedin-url input").val(t.publicProfileUrl),t.positions&&t.positions.values&&0<t.positions.values.length&&((e=t.positions.values[0]).title&&$("#job-current-title input").val(e.title),e.company&&e.company.name))return $("#job-current-company input").val(e.company.name)}).error(function(t){return console.log(t)})})})},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var t;t=function(){return $("*[data-role=activerecord_sortable]").each(function(){return $(this).activerecord_sortable()})},$(document).ready(t),$(document).on("page:load",t)}.call(this),function(){$(document).ready(function(){return cheet("v e n i c o d i v i c i",function(){return window.open("http://www.techrepublic.com/article/more-women-developers-hell-yes-says-holberton-school/","_blank").focus()})})}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){var t,e,n;t=function(){return $("[data-toggle=popover]").popover()},$(document).ready(t),$(document).on("page:load",t),n=function(){if(0<$("#projectTabs").length){$.each(["html","css","js","disqus","social"],function(t,e){return $("#button_to_"+e+"_tab").click(function(t){return t.preventDefault(),window.location="#projectsTitle",$('#projectTabs a[href="#'+e+'"]').tab("show")})});try{if($('a[data-toggle="tab"]').on("shown.bs.tab",function(t){return localStorage.setItem("lastShownProjectTab",$(t.target).attr("href"))}),localStorage.getItem("lastShownProjectTab"))return $('#projectTabs a[href="'+localStorage.getItem("lastShownProjectTab")+'"]').tab("show")}catch(t){t}}},$(document).ready(n),$(document).on("page:load",n),e=function(){if(0<$(".disabling").length)return $("form.edit_student_application").submit(function(t){if(!$("form.edit_student_application").hasClass("already_attempted"))return t.preventDefault(),$(".disabling").addClass("disabled"),$(".disabling").val("Checking\u2026 Please wait\u2026"),$("form.edit_student_application").addClass("already_attempted"),setTimeout(function(){return $(".disabling").click()},100)})},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(t){"use strict";function e(t){var e,n=t?t.keyCode:event.keyCode;if(!c[n])for(e in c[n]=!0,s)s[e].keydown(n)}function n(t){var e=t?t.keyCode:event.keyCode;c[e]=!1}function i(){var t;for(t in c)c[t]=!1}function r(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&(t["e"+e+n]=n,t[e+n]=function(){t["e"+e+n](window.event)},t.attachEvent("on"+e,t[e+n]))}var o,a,s={},l={backspace:8,tab:9,enter:13,"return":13,shift:16,"\u21e7":16,control:17,ctrl:17,"\u2303":17,alt:18,option:18,"\u2325":18,pause:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,L:37,"\u2190":37,up:38,U:38,"\u2191":38,right:39,R:39,"\u2192":39,down:40,D:40,"\u2193":40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"\u2318":91,command:91,kp_0:96,kp_1:97,kp_2:98,kp_3:99,kp_4:100,kp_5:101,kp_6:102,kp_7:103,kp_8:104,kp_9:105,kp_multiply:106,kp_plus:107,kp_minus:109,kp_decimal:110,kp_divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,equal:187,"=":187,comma:188,",":188,minus:189,"-":189,period:190,".":190},u=function(){},c={};(a=function(t,e,n,i){var r;for(this.str=t,this.next=e||u,this.fail=n||u,this.done=i||u,this.seq=t.split(" "),this.keys=[],r=0;r<this.seq.length;++r)this.keys.push(l[this.seq[r]]);this.idx=0}).prototype.keydown=function(t){var e=this.idx;return t!==this.keys[e]?void(0<e&&(this.reset(),this.fail(this.str),o.__fail(this.str))):(this.next(this.str,this.seq[e],e,this.seq),o.__next(this.str,this.seq[e],e,this.seq),void(++this.idx===this.keys.length&&(this.done(this.str),o.__done(this.str),this.reset())))},a.prototype.reset=function(){this.idx=0},(o=function(t,e){var n,i,r;"function"==typeof e?r=e:null!=e&&(n=e.next,i=e.fail,r=e.done),s[t]=new a(t,n,i,r)}).disable=function(t){delete s[t]},r(window,"keydown",e),r(window,"keyup",n),r(window,"blur",i),r(window,"focus",i),o.__next=u,o.next=function(t){o.__next=null===t?u:t},o.__fail=u,o.fail=function(t){o.__fail=null===t?u:t},o.__done=u,o.done=function(t){o.__done=null===t?u:t},o.reset=function(t){var e=s[t];return e instanceof a?void e.reset():void console.warn("cheet: Unknown sequence: "+t)},t.cheet=o,"function"==typeof define&&define.amd?define([],function(){return o}):"undefined"!=typeof module&&null!==module&&(module.exports=o)}(this),function(){
var t,e;t=function(){var t,e;return e=$(".website_review_form .score"),t=0,$(".website_review_form .input-slider").each(function(){return t+=parseInt($(this).val())}),$('.website_review_form input[type="checkbox"]').each(function(){if($(this).is(":checked"))return t+=parseInt($(this).data("point"))}),e.html(t)},e=function(){if(0<$(".website_review_form").length)return $(".website_review_form .input-slider").each(function(){return $(this).slider().on("change",function(){return t()})}),$('.website_review_form input[type="checkbox"]').change(function(){return t()}),t(),$(".website_review_form_copy").submit(function(){return $(".website_review_form input").clone().appendTo(".website_review_form_copy"),!0})},$(document).ready(e),$(document).on("page:load",e)}.call(this);